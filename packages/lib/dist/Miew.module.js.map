{"version":3,"file":"Miew.module.js","sources":["../../../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../../node_modules/spin.js/spin.js","../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../src/Timer.js","../../src/gfx/Stats.js","../../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../../../../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../../../../node_modules/@babel/runtime/helpers/esm/construct.js","../../../../node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../../src/utils/EventDispatcher.js","../../src/utils/logger.js","../../src/utils.js","../../src/utils/JobHandle.js","../../src/settings.js","../../src/options.js","../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../src/chem/Atom.js","../../src/chem/Element.js","../../src/chem/Bond.js","../../src/chem/Residue.js","../../src/chem/ResidueType.js","../../src/chem/Chain.js","../../src/chem/StructuralElement.js","../../src/chem/Helix.js","../../../../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../../../../node_modules/@babel/runtime/helpers/esm/get.js","../../src/chem/Strand.js","../../src/chem/Sheet.js","../../src/chem/SGroup.js","../../src/utils/SelectionParser.js","../../src/chem/selectors/selectArgs.js","../../src/chem/selectors/selectorsBase.js","../../src/chem/selectors/selectOps.js","../../src/chem/selectors.js","../../src/chem/BiologicalUnit.js","../../src/chem/Assembly.js","../../src/chem/Component.js","../../src/chem/AtomPairs.js","../../src/chem/AutoBond.js","../../src/chem/AromaticLoopsMarker.js","../../src/chem/VoxelWorld.js","../../src/chem/HBondInfo.js","../../src/chem/SecondaryStructureMap.js","../../src/chem/Complex.js","../../src/chem/Volume.js","../../src/chem/Molecule.js","../../src/chem.js","../../src/gfx/CSS2DObject.js","../../src/gfx/RCGroup.js","../../src/gfx/gfxutils.js","../../src/Visual.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../src/utils/EntityList.js","../../src/utils/makeContextDependent.js","../../src/gfx/geometries/SphereCollisionGeo.js","../../src/gfx/geometries/InstancedSpheresGeometry.js","../../src/gfx/geometries/ChunkedObjectsGeometry.js","../../src/gfx/geometries/SimpleSpheresGeometry.js","../../src/gfx/geometries/Simple2CCylindersGeometry.js","../../src/gfx/geometries/CylinderBufferGeometry.js","../../src/gfx/geometries/Instanced2CCylindersGeometry.js","../../src/gfx/geometries/ExtrudedObjectsGeometry.js","../../src/gfx/geometries/ThickLinesGeometry.js","../../src/gfx/geometries/LinesGeometry.js","../../src/gfx/geometries/CylinderCollisionGeo.js","../../src/gfx/geometries/ChunkedLinesGeometry.js","../../src/gfx/geometries/TwoColorLinesGeometry.js","../../src/gfx/geometries/CrossGeometry.js","../../src/gfx/geometries/IsoSurfaceGeometry.js","../../src/gfx/geometries/IsoSurfaceMarchCube.js","../../src/gfx/geometries/IsoSurface.js","../../src/gfx/geometries/VolumeSurfaceGeometry.js","../../src/gfx/geometries/QuickSurfGeometry.js","../../src/gfx/geometries/ContactSurface.js","../../src/gfx/geometries/ContactSurfaceGeometry.js","../../src/gfx/geometries/IsoSurfaceAtomColored.js","../../src/gfx/geometries/IsosurfaceBuildNormals.js","../../src/gfx/geometries/IsoSurfaceGeo.js","../../src/gfx/geometries/SSIsosurfaceGeometry.js","../../src/gfx/geometries/LabelsGeometry.js","../../src/gfx/geometries/geometries.js","../../src/gfx/capabilities.js","../../src/gfx/noiseTexture.js","../../src/gfx/shaders/UberMaterial.js","../../src/gfx/meshes/UberObject.js","../../src/gfx/meshes/ZSpriteMesh.js","../../src/gfx/meshes/ZClippedMesh.js","../../src/gfx/meshes/TextMesh.js","../../src/gfx/meshes/SimpleMesh.js","../../src/gfx/meshes/ThickLineMesh.js","../../src/gfx/meshes/InstancedMesh.js","../../src/gfx/meshes/meshes.js","../../src/gfx/meshes/MeshCreator.js","../../src/gfx/meshes/TransformGroup.js","../../src/gfx/modes/groups/ChemGroup.js","../../src/gfx/modes/groups/AtomsGroup.js","../../src/gfx/modes/groups/AtomsSphereGroup.js","../../src/gfx/modes/groups/AtomsSurfaceGroup.js","../../src/gfx/modes/groups/AtomsSASSESGroupStub.js","../../src/gfx/modes/groups/AtomsTextGroup.js","../../src/gfx/modes/groups/AromaticGroup.js","../../src/gfx/modes/groups/AromaticTorusGroup.js","../../src/gfx/modes/groups/AromaticLinesGroup.js","../../src/gfx/modes/groups/ResiduesGroup.js","../../src/gfx/modes/groups/NucleicItemGroup.js","../../src/gfx/modes/groups/NucleicCylindersGroup.js","../../src/gfx/modes/groups/NucleicSpheresGroup.js","../../vendor/js/Smooth.js","../../src/gfx/modes/groups/CartoonHelper.js","../../src/gfx/modes/groups/ResiduesSubseqGroup.js","../../src/gfx/modes/groups/ResiduesTraceGroup.js","../../src/gfx/modes/groups/BondsGroup.js","../../src/gfx/modes/groups/BondsCylinderGroup.js","../../src/gfx/modes/groups/BondsLinesGroup.js","../../src/gfx/modes/groups/groups.js","../../src/gfx/modes/processors/AtomsProcessor.js","../../src/gfx/modes/processors/OrphanAtomsProcessor.js","../../src/gfx/modes/processors/ResiduesProcessor.js","../../src/gfx/modes/processors/NucleicProcessor.js","../../src/gfx/modes/processors/SubseqsProcessor.js","../../src/gfx/modes/processors/BondsProcessor.js","../../src/gfx/modes/processors/AromaticProcessor.js","../../src/gfx/modes/processors/processors.js","../../src/gfx/modes/groups/GroupsFactory.js","../../src/gfx/modes/Mode.js","../../src/gfx/modes/LinesMode.js","../../src/gfx/modes/LicoriceMode.js","../../src/gfx/modes/BallsAndSticksMode.js","../../src/gfx/modes/VanDerWaalsMode.js","../../src/gfx/modes/TraceMode.js","../../src/gfx/modes/TubeMode.js","../../src/gfx/modes/CartoonMode.js","../../src/gfx/modes/SurfaceMode.js","../../src/gfx/modes/QuickSurfaceMode.js","../../src/gfx/modes/IsoSurfaceMode.js","../../src/gfx/modes/IsoSurfaceSASMode.js","../../src/gfx/modes/IsoSurfaceSESMode.js","../../src/gfx/modes/ContactSurfaceMode.js","../../src/gfx/modes/TextMode.js","../../src/gfx/modes.js","../../src/gfx/palettes/Palette.js","../../src/gfx/palettes/cpkPalette.js","../../src/gfx/palettes/jmolPalette.js","../../src/gfx/palettes/vmdPalette.js","../../src/gfx/palettes.js","../../src/gfx/colorers/Colorer.js","../../src/gfx/colorers/ElementColorer.js","../../src/gfx/colorers/ResidueTypeColorer.js","../../src/gfx/colorers/SequenceColorer.js","../../src/gfx/colorers/ChainColorer.js","../../src/gfx/colorers/SecondaryStructureColorer.js","../../src/gfx/colorers/UniformColorer.js","../../src/gfx/colorers/ConditionalColorer.js","../../src/gfx/colorers/ConformationColorer.js","../../src/gfx/colorers/TemperatureColorer.js","../../src/gfx/colorers/OccupancyColorer.js","../../src/gfx/colorers/HydrophobicityColorer.js","../../src/gfx/colorers/MoleculeColorer.js","../../src/gfx/colorers/CarbonColorer.js","../../src/gfx/colorers.js","../../src/gfx/materials.js","../../src/gfx/meshutils.js","../../src/gfx/Representation.js","../../src/ComplexVisualEdit.js","../../src/ComplexVisual.js","../../src/gfx/shaders/VolumeMaterial.js","../../src/gfx/VolumeMesh.js","../../src/gfx/VolumeBounds.js","../../src/gfx/VolumeFarPlane.js","../../src/VolumeVisual.js","../../src/io/loaders/LoaderList.js","../../src/io/loaders/Loader.js","../../src/io/loaders/FileLoader.js","../../src/io/loaders/XHRLoader.js","../../src/io/loaders/ImmediateLoader.js","../../src/io/loaders.js","../../src/io/parsers/ParserList.js","../../src/io/parsers/Parser.js","../../src/io/parsers/pdb/Remark290.js","../../src/io/parsers/pdb/Remark350.js","../../src/io/parsers/PDBStream.js","../../src/io/parsers/PDBParser.js","../../src/io/parsers/CMLParser.js","../../vendor/js/mmtf.js","../../src/io/parsers/MMTFParser.js","../../src/io/parsers/ParsingError.js","../../src/io/parsers/readCIF.js","../../src/io/parsers/CIFParser.js","../../src/io/parsers/VolumeModel.js","../../src/io/parsers/CCP4Parser.js","../../src/io/parsers/XYZParser.js","../../src/io/parsers/PubChemParser.js","../../src/io/parsers/SDFStream.js","../../src/io/parsers/SDFParser.js","../../src/io/parsers/DSN6Parser.js","../../src/io/parsers/GROReader.js","../../src/io/parsers/GROParser.js","../../src/io/parsers/MOL2Parser.js","../../src/io/parsers.js","../../src/io/exporters/ExporterList.js","../../src/io/exporters/Exporter.js","../../src/io/exporters/PDBResult.js","../../src/io/exporters/PDBExporter.js","../../src/io/exporters/fbx/FBXModel.js","../../src/io/exporters/fbx/FBXGeometry.js","../../src/io/exporters/fbx/FBX1CGeometry.js","../../src/io/exporters/fbx/FBX2CCylinder.js","../../src/io/exporters/fbx/FBXInfoExtractor.js","../../src/io/exporters/fbx/FBXResult.js","../../src/io/exporters/FBXExporter.js","../../src/io/exporters.js","../../src/io/io.js","../../src/gfx/CSS2DRenderer.js","../../src/ui/ObjectControls.js","../../src/ui/Picker.js","../../src/gfx/Axes.js","../../src/gfx/FrameInfo.js","../../src/gfx/objects/SceneObject.js","../../src/gfx/objects/LinesObj.js","../../src/gfx/shaders/OutlineMaterial.js","../../src/gfx/shaders/FXAAMaterial.js","../../src/gfx/shaders/AOMaterial.js","../../src/gfx/shaders/AOHorBlurMaterial.js","../../src/gfx/shaders/AOVertBlurWithBlendMaterial.js","../../src/gfx/shaders/AnaglyphMaterial.js","../../src/gfx/ViewInterpolator.js","../../src/utils/Cookies.js","../../src/gfx/vr/createWebVRButton.js","../../src/gfx/vr/WebVRPoC.js","../../src/Miew.js","../../src/utils/MiewCLIParser.js","../../src/utils/MiewCLIHelp.js","../../src/Miew-cli.js"],"sourcesContent":["export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar defaults = {\r\n    lines: 12,\r\n    length: 7,\r\n    width: 5,\r\n    radius: 10,\r\n    scale: 1.0,\r\n    corners: 1,\r\n    color: '#000',\r\n    fadeColor: 'transparent',\r\n    animation: 'spinner-line-fade-default',\r\n    rotate: 0,\r\n    direction: 1,\r\n    speed: 1,\r\n    zIndex: 2e9,\r\n    className: 'spinner',\r\n    top: '50%',\r\n    left: '50%',\r\n    shadow: '0 0 1px transparent',\r\n    position: 'absolute',\r\n};\r\nvar Spinner = /** @class */ (function () {\r\n    function Spinner(opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        this.opts = __assign(__assign({}, defaults), opts);\r\n    }\r\n    /**\r\n     * Adds the spinner to the given target element. If this instance is already\r\n     * spinning, it is automatically removed from its previous target by calling\r\n     * stop() internally.\r\n     */\r\n    Spinner.prototype.spin = function (target) {\r\n        this.stop();\r\n        this.el = document.createElement('div');\r\n        this.el.className = this.opts.className;\r\n        this.el.setAttribute('role', 'progressbar');\r\n        css(this.el, {\r\n            position: this.opts.position,\r\n            width: 0,\r\n            zIndex: this.opts.zIndex,\r\n            left: this.opts.left,\r\n            top: this.opts.top,\r\n            transform: \"scale(\" + this.opts.scale + \")\",\r\n        });\r\n        if (target) {\r\n            target.insertBefore(this.el, target.firstChild || null);\r\n        }\r\n        drawLines(this.el, this.opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops and removes the Spinner.\r\n     * Stopped spinners may be reused by calling spin() again.\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        if (this.el) {\r\n            if (typeof requestAnimationFrame !== 'undefined') {\r\n                cancelAnimationFrame(this.animateId);\r\n            }\r\n            else {\r\n                clearTimeout(this.animateId);\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n            this.el = undefined;\r\n        }\r\n        return this;\r\n    };\r\n    return Spinner;\r\n}());\r\nexport { Spinner };\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, props) {\r\n    for (var prop in props) {\r\n        el.style[prop] = props[prop];\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Returns the line color from the given string or array.\r\n */\r\nfunction getColor(color, idx) {\r\n    return typeof color == 'string' ? color : color[idx % color.length];\r\n}\r\n/**\r\n * Internal method that draws the individual lines.\r\n */\r\nfunction drawLines(el, opts) {\r\n    var borderRadius = (Math.round(opts.corners * opts.width * 500) / 1000) + 'px';\r\n    var shadow = 'none';\r\n    if (opts.shadow === true) {\r\n        shadow = '0 2px 4px #000'; // default shadow\r\n    }\r\n    else if (typeof opts.shadow === 'string') {\r\n        shadow = opts.shadow;\r\n    }\r\n    var shadows = parseBoxShadow(shadow);\r\n    for (var i = 0; i < opts.lines; i++) {\r\n        var degrees = ~~(360 / opts.lines * i + opts.rotate);\r\n        var backgroundLine = css(document.createElement('div'), {\r\n            position: 'absolute',\r\n            top: -opts.width / 2 + \"px\",\r\n            width: (opts.length + opts.width) + 'px',\r\n            height: opts.width + 'px',\r\n            background: getColor(opts.fadeColor, i),\r\n            borderRadius: borderRadius,\r\n            transformOrigin: 'left',\r\n            transform: \"rotate(\" + degrees + \"deg) translateX(\" + opts.radius + \"px)\",\r\n        });\r\n        var delay = i * opts.direction / opts.lines / opts.speed;\r\n        delay -= 1 / opts.speed; // so initial animation state will include trail\r\n        var line = css(document.createElement('div'), {\r\n            width: '100%',\r\n            height: '100%',\r\n            background: getColor(opts.color, i),\r\n            borderRadius: borderRadius,\r\n            boxShadow: normalizeShadow(shadows, degrees),\r\n            animation: 1 / opts.speed + \"s linear \" + delay + \"s infinite \" + opts.animation,\r\n        });\r\n        backgroundLine.appendChild(line);\r\n        el.appendChild(backgroundLine);\r\n    }\r\n}\r\nfunction parseBoxShadow(boxShadow) {\r\n    var regex = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/;\r\n    var shadows = [];\r\n    for (var _i = 0, _a = boxShadow.split(','); _i < _a.length; _i++) {\r\n        var shadow = _a[_i];\r\n        var matches = shadow.match(regex);\r\n        if (matches === null) {\r\n            continue; // invalid syntax\r\n        }\r\n        var x = +matches[2];\r\n        var y = +matches[5];\r\n        var xUnits = matches[4];\r\n        var yUnits = matches[7];\r\n        if (x === 0 && !xUnits) {\r\n            xUnits = yUnits;\r\n        }\r\n        if (y === 0 && !yUnits) {\r\n            yUnits = xUnits;\r\n        }\r\n        if (xUnits !== yUnits) {\r\n            continue; // units must match to use as coordinates\r\n        }\r\n        shadows.push({\r\n            prefix: matches[1] || '',\r\n            x: x,\r\n            y: y,\r\n            xUnits: xUnits,\r\n            yUnits: yUnits,\r\n            end: matches[8],\r\n        });\r\n    }\r\n    return shadows;\r\n}\r\n/**\r\n * Modify box-shadow x/y offsets to counteract rotation\r\n */\r\nfunction normalizeShadow(shadows, degrees) {\r\n    var normalized = [];\r\n    for (var _i = 0, shadows_1 = shadows; _i < shadows_1.length; _i++) {\r\n        var shadow = shadows_1[_i];\r\n        var xy = convertOffset(shadow.x, shadow.y, degrees);\r\n        normalized.push(shadow.prefix + xy[0] + shadow.xUnits + ' ' + xy[1] + shadow.yUnits + shadow.end);\r\n    }\r\n    return normalized.join(', ');\r\n}\r\nfunction convertOffset(x, y, degrees) {\r\n    var radians = degrees * Math.PI / 180;\r\n    var sin = Math.sin(radians);\r\n    var cos = Math.cos(radians);\r\n    return [\r\n        Math.round((x * cos + y * sin) * 1000) / 1000,\r\n        Math.round((-x * sin + y * cos) * 1000) / 1000,\r\n    ];\r\n}\r\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","// ----------------------------------------------------------------------------\n// Timer\n\nexport default class Timer {\n  constructor() {\n    this.startTime = 0\n    this.oldTime = 0\n    this.elapsedTime = 0\n    this.running = false\n  }\n\n  start() {\n    this.startTime = Timer.now()\n    this.oldTime = this.startTime\n    this.running = true\n  }\n\n  stop() {\n    this.getElapsedTime()\n    this.running = false\n  }\n\n  getElapsedTime() {\n    this.update()\n    return this.elapsedTime\n  }\n\n  update() {\n    let delta = 0\n    if (this.running) {\n      const newTime = Timer.now()\n      delta = 0.001 * (newTime - this.oldTime)\n      this.oldTime = newTime\n      this.elapsedTime += delta\n    }\n\n    return delta\n  }\n}\n\nTimer.now = (function () {\n  const p = typeof window !== 'undefined' && window.performance\n  return p && p.now ? p.now.bind(p) : Date.now\n})()\n","import Timer from '../Timer'\n\nconst { now } = Timer\n\nfunction createElement(tag, id, css) {\n  const element = document.createElement(tag)\n  element.id = id\n  element.style.cssText = css\n  return element\n}\n\nclass Stats {\n  constructor() {\n    this.domElement = createElement('div', 'stats', 'padding:8px')\n    this._text = createElement(\n      'p',\n      'fps',\n      'margin:0;color:silver;font-size:large'\n    )\n    this.domElement.appendChild(this._text)\n\n    this._startTime = now()\n    this._prevTime = this._startTime\n\n    this._deltas = new Array(20)\n    this._index = 0\n    this._total = 0.0\n    this._count = 0\n  }\n\n  end() {\n    const time = now()\n    const delta = time - this._startTime\n\n    if (this._count < this._deltas.length) {\n      this._count++\n    } else {\n      this._total -= this._deltas[this._index]\n    }\n    this._total += delta\n    this._deltas[this._index] = delta\n    this._index = (this._index + 1) % this._deltas.length\n\n    this.ms = this._total / this._count\n    this.fps = 1000 / this.ms\n\n    if (time > this._prevTime + 1000) {\n      this._text.textContent = this.fps.toPrecision(2)\n      this._prevTime = time\n    }\n\n    return time\n  }\n\n  update() {\n    this._startTime = this.end()\n  }\n\n  show(on) {\n    if (on === undefined) {\n      on = true\n    }\n    this.domElement.style.display = on ? 'block' : 'none'\n  }\n}\n\nexport default Stats\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  Object.defineProperty(subClass, \"prototype\", {\n    value: Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    }),\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","/**\n * This class introduces the simplest event system.\n */\n\nimport _ from 'lodash'\n\nfunction isUndefOrEqual(param, value) {\n  return !param || param === value\n}\n\n/**\n * Creates empty dispatcher.\n *\n * @exports EventDispatcher\n * @constructor\n */\nfunction EventDispatcher() {\n  this._handlers = {}\n}\n\n/**\n * Binds callback on specific event type. Optional `context` parameter\n * could be used as 'this' for the `callback`.\n * @param {string}   type       Event name.\n * @param {function} callback   Callback function.\n * @param {Object}   [context] 'This' object for the callback.\n */\nEventDispatcher.prototype.addEventListener = function (\n  type,\n  callback,\n  context\n) {\n  let handlers = this._handlers[type]\n\n  if (!handlers) {\n    this._handlers[type] = []\n    handlers = this._handlers[type]\n  }\n\n  const params = [callback, context]\n  function _checkPar(par) {\n    return par[0] === params[0] && par[1] === params[1]\n  }\n\n  if (_.find(handlers, _checkPar) === undefined) {\n    handlers.push(params)\n  }\n}\n\n/**\n * Removes a previously-bound callback function from an object.\n * If no `context` is specified, all versions of the `callback` with different\n * contexts will be removed.\n * If no `callback` is specified, all callbacks of the `type` will be removed.\n * If no `type` is specified, callbacks for all events will be removed.\n * @param {?string}  [type]      Event type.\n * @param {function} [callback]  Callback function.\n * @param {Object}   [context]  'This' object for the callback.\n */\nEventDispatcher.prototype.removeEventListener = function (\n  type,\n  callback,\n  context\n) {\n  const self = this\n  _.forEach(self._handlers, (handler, ev) => {\n    _.remove(\n      handler,\n      (values) =>\n        isUndefOrEqual(type, ev) &&\n        isUndefOrEqual(callback, values[0]) &&\n        isUndefOrEqual(context, values[1] || self)\n    )\n  })\n\n  this._handlers = _.omitBy(self._handlers, (handler) => handler.length === 0)\n}\n\n/**\n * Makes all the callbacks for the specific `event` to trigger.\n * @param {Object} event      Event.\n * @param {string} event.type Type of the event.\n */\nEventDispatcher.prototype.dispatchEvent = function (event) {\n  const self = this\n\n  _.forEach(this._handlers[event.type], (callback) => {\n    const context = callback[1] || self\n    callback[0].apply(context, [event])\n  })\n}\n\nexport default EventDispatcher\n","/**\n * This module contains class for logging.\n * Returns an instance of a logger that have already been created.\n * Allows users to log messages for five different levels,\n * enable console output and catch signal on each message.\n */\nimport _ from 'lodash'\nimport EventDispatcher from './EventDispatcher'\n\nconst priorities = {\n  debug: 0,\n  info: 1,\n  report: 2,\n  warn: 3,\n  error: 4\n}\n\n/**\n * Create new Logger.\n *\n * @exports Logger\n * @extends EventDispatcher\n * @constructor\n */\nfunction Logger() {\n  EventDispatcher.call(this)\n  /** Boolean flag that toggles output to browser console.\n   * @type {boolean}\n   */\n  this.console = false\n  this._priority = priorities.warn\n}\n\nLogger.prototype = Object.create(EventDispatcher.prototype)\nLogger.prototype.constructor = Logger\n\n/**\n * Create new clean instance of the logger.\n * @returns {Logger}\n */\nLogger.prototype.instantiate = function () {\n  return new Logger()\n}\n\nfunction verify(number) {\n  if (!_.isNumber(number)) {\n    throw new Error('Wrong log level specified!')\n  }\n  return number\n}\n\n/**\n * @property {string} current threshold for signals and console output.\n * @name Logger#level\n */\nObject.defineProperty(Logger.prototype, 'level', {\n  get() {\n    return _.findKey(priorities, (value) => value === this._priority)\n  },\n  set(level) {\n    this._priority = verify(priorities[level])\n  }\n})\n\n/**\n * Returns the list of all possible level values.\n * @returns {Array}\n */\nLogger.prototype.levels = function () {\n  return Object.keys(priorities)\n}\n\n/**\n * Add new message with specified level.\n * @param {string} level - level of the message, must be one of the\n * {'debug' | 'info' | 'report' | 'warn' | 'error'}\n * @param {string} message\n */\nLogger.prototype.message = function (level, message) {\n  const priority = verify(priorities[level])\n  this._message(priority, message)\n}\n\n/**\n * Shortcut for message('debug', ...);\n * @param message\n */\nLogger.prototype.debug = function (message) {\n  this._message(priorities.debug, message)\n}\n\n/**\n * Shortcut for message('info', ...);\n * @param message\n */\nLogger.prototype.info = function (message) {\n  this._message(priorities.info, message)\n}\n\n/**\n * Shortcut for message('report', ...);\n * @param message\n */\nLogger.prototype.report = function (message) {\n  this._message(priorities.report, message)\n}\n\n/**\n * Shortcut for message('warn', ...);\n * @param message\n */\nLogger.prototype.warn = function (message) {\n  this._message(priorities.warn, message)\n}\n\n/**\n * Shortcut for message('error', ...);\n * @param message\n */\nLogger.prototype.error = function (message) {\n  this._message(priorities.error, message)\n}\n\n/**\n * Add new message with specified priority.\n * @param {number} priority - priority of the message\n * @param {string} message\n * @private\n */\nLogger.prototype._message = function (priority, message) {\n  if (priority < this._priority) {\n    return\n  }\n  const level = _.findKey(priorities, (value) => value === priority)\n  message = String(message)\n  if (this.console) {\n    const output = `miew:${level}: ${message}`\n    if (level === 'error') {\n      console.error(output) // NOSONAR\n    } else if (level === 'warn') {\n      console.warn(output) // NOSONAR\n    } else {\n      console.log(output) // NOSONAR\n    }\n  }\n  this.dispatchEvent({ type: 'message', level, message })\n}\n\nexport default new Logger()\n","import _ from 'lodash'\nimport logger from './utils/logger'\n\nconst browserType = {\n  DEFAULT: 0,\n  SAFARI: 1\n}\n// ----------------------------------------------------------------------------\n// Query string\n\n/**\n * Escape only dangerous chars in a query string component, use a plus instead of a space.\n *\n * [RFC 3986](https://tools.ietf.org/html/rfc3986) allows the following chars in the query (see 3.4):\n *\n *       A-Z a-z 0-9 - _ . ~ ! $ & ' ( ) * + , ; = : @ / ?\n *\n * For query string elements we need to escape ampersand, equal sign, and plus,\n * but encodeURIComponent() function encodes anything except for the following:\n *\n *       A-Z a-z 0-9 - _ . ~ ! ' ( ) *\n *\n * @param {string} text - key or value to encode\n * @param {string} excludeExp - regexp for symbols to exclude from encoding\n * @returns {string} encoded string\n */\nfunction encodeQueryComponent(text, excludeExp) {\n  const encode = (code) => String.fromCharCode(parseInt(code.substr(1), 16))\n  return encodeURIComponent(text)\n    .replace(excludeExp, encode)\n    .replace(/%20/g, '+')\n}\n\n/**\n * Unescape dangerous chars in a query string component.\n *\n * @param {string} text - encoded key or value\n * @returns {string} decoded string\n * @see {@link encodeQueryComponent}\n */\nfunction decodeQueryComponent(text) {\n  return decodeURIComponent(text.replace(/\\+/g, ' '))\n}\n\n/**\n * Parse URL and extract an array of parameters.\n * @param {string?} url - URL or query string to parse\n * @returns {Array} array of (key, value) pairs.\n */\nfunction getUrlParameters(url) {\n  url = url || window.location.search\n\n  const query = url.substring(url.indexOf('?') + 1)\n  const search = /([^&=]+)=?([^&]*)/g\n  const result = []\n  let match\n\n  while ((match = search.exec(query)) !== null) {\n    // eslint-disable-line no-cond-assign\n    result.push([\n      decodeQueryComponent(match[1]),\n      decodeQueryComponent(match[2])\n    ])\n  }\n\n  return result\n}\n\n/**\n * Parse URL and extract an array of parameters as a hash.\n * @param {string?} url - URL or query string to parse\n * @returns {Object}\n */\nfunction getUrlParametersAsDict(url) {\n  const result = {}\n  const a = getUrlParameters(url)\n  for (let i = 0; i < a.length; ++i) {\n    const [key, value] = a[i]\n    result[key] = value\n  }\n  return result\n}\n\nfunction resolveURL(str) {\n  if (typeof URL !== 'undefined') {\n    try {\n      if (typeof window !== 'undefined') {\n        return new URL(str, window.location).href\n      }\n      return new URL(str).href\n    } catch (error) {\n      // IE 11 has a URL object with no constructor available so just try a different approach instead\n    }\n  }\n  if (typeof document !== 'undefined') {\n    const anchor = document.createElement('a')\n    anchor.href = str\n    return anchor.href\n  }\n  return str\n}\n\n/**\n * Generates regular expression object that includes all symbols\n * listed in the argument\n * @param symbolStr {string} - String containing characters list.\n * @returns {RegExp} - Regular expression.\n */\nfunction generateRegExp(symbolStr) {\n  const symbolList = []\n\n  for (let i = 0, n = symbolStr.length; i < n; ++i) {\n    symbolList[symbolList.length] = symbolStr[i].charCodeAt(0).toString(16)\n  }\n\n  const listStr = symbolList.join('|')\n\n  return new RegExp(`%(?:${listStr})`, 'gi')\n}\n\n// ----------------------------------------------------------------------------\n// Create HTML element\n\nfunction createElement(tag, attrs, content) {\n  const element = document.createElement(tag)\n  let i\n  let n\n  if (attrs) {\n    const keys = Object.keys(attrs)\n    for (i = 0, n = keys.length; i < n; ++i) {\n      const key = keys[i]\n      element.setAttribute(key, attrs[key])\n    }\n  }\n  if (content) {\n    if (!(content instanceof Array)) {\n      content = [content]\n    }\n    for (i = 0, n = content.length; i < n; ++i) {\n      const child = content[i]\n      if (typeof child === 'string') {\n        element.appendChild(document.createTextNode(child))\n      } else if (child instanceof HTMLElement) {\n        element.appendChild(child)\n      }\n    }\n  }\n  return element\n}\n\n// ----------------------------------------------------------------------------\n// Easy inheritance\n\n/**\n * Derive the class from the base.\n * @param cls {function} - Class (constructor) to derive.\n * @param base {function} - Class (constructor) to derive from.\n * @param members {object=} - Optional instance members to add.\n * @param statics {object=} - Optional static class members to add.\n * @returns {function} Original class.\n */\nfunction deriveClass(cls, base, members, statics) {\n  cls.prototype = _.assign(\n    Object.create(base.prototype),\n    { constructor: cls },\n    members\n  )\n  if (statics) {\n    _.assign(cls, statics)\n  }\n  return cls\n}\n\n// ----------------------------------------------------------------------------\n// Deep prototyping\n\nfunction deriveDeep(obj, needZeroOwnProperties) {\n  let res = obj\n  let i\n  let n\n  if (obj instanceof Array) {\n    res = new Array(obj.length)\n    for (i = 0, n = obj.length; i < n; ++i) {\n      res[i] = deriveDeep(obj[i])\n    }\n  } else if (obj instanceof Object) {\n    res = Object.create(obj)\n    const keys = Object.keys(obj)\n    for (i = 0, n = keys.length; i < n; ++i) {\n      const key = keys[i]\n      const value = obj[key]\n      const copy = deriveDeep(value)\n      if (copy !== value) {\n        res[key] = copy\n      }\n    }\n    if (needZeroOwnProperties && Object.keys(res).length > 0) {\n      res = Object.create(res)\n    }\n  }\n  return res\n}\n\n// ----------------------------------------------------------------------------\n// Colors\n\nfunction hexColor(color) {\n  const hex = `0000000${color.toString(16)}`.substr(-6)\n  return `#${hex}`\n}\n\n// ----------------------------------------------------------------------------\n// Debug tracing\n\nfunction DebugTracer(namespace) {\n  let enabled = false\n\n  this.enable = function (on) {\n    enabled = on\n  }\n\n  let indent = 0\n  const methods = Object.keys(namespace)\n\n  function wrap(method_, name_) {\n    return function (...args) {\n      const spaces = DebugTracer.spaces.substr(0, indent * 2)\n      if (enabled) {\n        logger.debug(`${spaces + name_} {`)\n      }\n      indent++\n      const result = method_.apply(this, args) // eslint-disable-line no-invalid-this\n      indent--\n      if (enabled) {\n        logger.debug(`${spaces}} // ${name_}`)\n      }\n      return result\n    }\n  }\n\n  for (let i = 0, n = methods.length; i < n; ++i) {\n    const name = methods[i]\n    const method = namespace[name]\n    if (method instanceof Function && name !== 'constructor') {\n      namespace[name] = wrap(method, name)\n    }\n  }\n}\n\nDebugTracer.spaces =\n  '                                                                                          '\n\nclass OutOfMemoryError extends Error {\n  constructor(message) {\n    super()\n    this.name = 'OutOfMemoryError'\n    this.message = message\n  }\n}\n\nfunction allocateTyped(TypedArrayName, size) {\n  let result = null\n  try {\n    result = new TypedArrayName(size)\n  } catch (e) {\n    if (e instanceof RangeError) {\n      throw new OutOfMemoryError(e.message)\n    } else {\n      throw e\n    }\n  }\n  return result\n}\n\n// ----------------------------------------------------------------------------\n// Float array conversion\n\nfunction bytesToBase64(/** ArrayBuffer */ buffer) {\n  const bytes = new Uint8Array(buffer)\n  let binary = ''\n  for (let i = 0; i < bytes.byteLength; i++) {\n    binary += String.fromCharCode(bytes[i])\n  }\n  return window.btoa(binary)\n}\n\nfunction bytesFromBase64(/** string */ str) {\n  const binary = window.atob(str)\n  const bytes = new Uint8Array(binary.length)\n  for (let i = 0; i < bytes.length; ++i) {\n    bytes[i] = binary[i].charCodeAt(0)\n  }\n  return bytes.buffer\n}\n\nfunction arrayToBase64(/** number[] */ array, /** function */ TypedArrayClass) {\n  return bytesToBase64(new TypedArrayClass(array).buffer)\n}\n\nfunction arrayFromBase64(/** string */ str, /** function */ TypedArrayClass) {\n  return Array.prototype.slice.call(new TypedArrayClass(bytesFromBase64(str)))\n}\n\n// NOTE: this is 1-level comparison\nfunction compareOptionsWithDefaults(opts, defOpts) {\n  const optsStr = []\n  if (defOpts && opts) {\n    const keys = Object.keys(opts)\n    for (let p = 0; p < keys.length; ++p) {\n      const key = keys[p]\n      const value = opts[key]\n      // TODO add processing for tree structure\n      if (\n        !(value instanceof Object) &&\n        typeof defOpts[key] !== 'undefined' &&\n        defOpts[key] !== value\n      ) {\n        optsStr.push(`${key}:${value}`)\n      }\n    }\n    if (optsStr.length > 0) {\n      return `!${optsStr.join()}`\n    }\n  }\n  return ''\n}\n\nfunction isAlmostPlainObject(o) {\n  if (_.isPlainObject(o)) {\n    return true\n  }\n  const proto = o && Object.getPrototypeOf(o)\n  return (\n    !!proto &&\n    !proto.hasOwnProperty('constructor') &&\n    isAlmostPlainObject(proto)\n  )\n}\n\n/**\n * Build an object that contains properties (and subproperties) of `src` different from those\n * in `dst`. Objects are parsed recursively, other values (including arrays) are compared for\n * equality using `_.isEqual()`.\n * @param {!object} src - a new object to compare, may contain changed or new properties\n * @param {!object} dst - an old reference object\n */\nfunction objectsDiff(src, dst) {\n  const diff = {}\n  _.forIn(src, (srcValue, key) => {\n    const dstValue = dst[key]\n    if (isAlmostPlainObject(srcValue) && isAlmostPlainObject(dstValue)) {\n      const deepDiff = objectsDiff(srcValue, dstValue)\n      if (!_.isEmpty(deepDiff)) {\n        diff[key] = deepDiff\n      }\n    } else if (!_.isEqual(srcValue, dstValue)) {\n      diff[key] = srcValue\n    }\n  })\n  return diff\n}\n\nfunction forInRecursive(object, callback) {\n  function iterateThrough(obj, prefix) {\n    _.forIn(obj, (value, key) => {\n      const newPref = prefix + (prefix.length > 0 ? '.' : '')\n      if (value instanceof Object) {\n        iterateThrough(value, newPref + key)\n      } else if (value !== undefined) {\n        callback(value, newPref + key)\n      }\n    })\n  }\n  iterateThrough(object, '')\n}\n\nfunction enquoteString(value) {\n  if (_.isString(value)) {\n    return `\"${value.replace(/\"/g, '\\\\\"')}\"`\n  }\n  return value\n}\n\nfunction unquoteString(value) {\n  if (!_.isString(value)) {\n    return value\n  }\n  if (value[0] === '\"' && value[value.length - 1] === '\"') {\n    value = value.slice(1, value.length - 1)\n    return value.replace(/\\\\\"/g, '\"')\n  }\n  if (value[0] === \"'\" && value[value.length - 1] === \"'\") {\n    value = value.slice(1, value.length - 1)\n    return value.replace(/\\\\'/g, \"'\")\n  }\n  throw new SyntaxError(\"Incorrect string format, can't unqute it\")\n}\n\nfunction getFileExtension(fileName) {\n  return fileName.slice(Math.max(0, fileName.lastIndexOf('.')) || Infinity)\n}\n\nfunction splitFileName(fileName) {\n  const ext = getFileExtension(fileName)\n  const name = fileName.slice(0, fileName.length - ext.length)\n  return [name, ext]\n}\n\nfunction dataUrlToBlob(url) {\n  const parts = url.split(/[:;,]/)\n  const partsCount = parts.length\n  if (partsCount >= 3 && parts[partsCount - 2] === 'base64') {\n    return new Blob([bytesFromBase64(parts[partsCount - 1])])\n  }\n  return null\n}\n\nfunction getBrowser() {\n  if (\n    navigator.vendor &&\n    navigator.vendor.indexOf('Apple') > -1 &&\n    navigator.userAgent &&\n    navigator.userAgent.indexOf('CriOS') === -1 &&\n    navigator.userAgent.indexOf('FxiOS') === -1\n  ) {\n    return browserType.SAFARI\n  }\n  return browserType.DEFAULT\n}\n\nfunction shotOpen(url) {\n  if (typeof window !== 'undefined') {\n    window\n      .open()\n      .document.write(`<body style=\"margin:0\"><img src=\"${url}\" /></body>`)\n  }\n}\n\nfunction shotDownload(dataUrl, filename) {\n  if (!dataUrl || dataUrl.substr(0, 5) !== 'data:') {\n    return\n  }\n  if (!filename) {\n    filename = ['screenshot-', +new Date(), '.png'].join('')\n  }\n  if (\n    typeof window !== 'undefined' &&\n    window.navigator &&\n    window.navigator.msSaveBlob\n  ) {\n    window.navigator.msSaveBlob(dataUrlToBlob(dataUrl), filename)\n  } else if (typeof document !== 'undefined') {\n    const link = document.createElement('a')\n    link.download = filename\n    link.innerHTML = 'download'\n    link.href = window.URL.createObjectURL(dataUrlToBlob(dataUrl))\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }\n}\n\nfunction download(data, filename, type) {\n  const blobData = new Blob([data])\n\n  if (!filename) {\n    filename = ['data', +new Date()].join('')\n  }\n\n  if (!type) {\n    filename += blobData.type || '.bin'\n  } else {\n    filename += `.${type}`\n  }\n\n  if (\n    typeof window !== 'undefined' &&\n    window.navigator &&\n    window.navigator.msSaveBlob\n  ) {\n    window.navigator.msSaveBlob(blobData, filename)\n  } else if (typeof document !== 'undefined') {\n    const link = document.createElement('a')\n    link.download = filename\n    link.innerHTML = 'download'\n    link.href = window.URL.createObjectURL(blobData)\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }\n}\n\nfunction copySubArrays(src, dst, indices, itemSize) {\n  for (let i = 0, n = indices.length; i < n; ++i) {\n    for (let j = 0; j < itemSize; ++j) {\n      dst[i * itemSize + j] = src[indices[i] * itemSize + j]\n    }\n  }\n}\n\nfunction shallowCloneNode(node) {\n  const newNode = node.cloneNode(true)\n  newNode.worldPos = node.worldPos\n  // .style property is readonly, so \"newNode.style = node.style;\" won't work (and we don't need it, right?)\n  return newNode\n}\n\nconst unquotedStringRE = /^[a-zA-Z0-9_]*$/\nconst enquoteHelper = ['\"', '', '\"']\n\n// verify and correct if needed selctor identifier\nfunction correctSelectorIdentifier(value) {\n  if (unquotedStringRE.test(value)) {\n    return value\n  }\n  // quote incorrect identifier\n  enquoteHelper[1] = value\n  return enquoteHelper.join('')\n}\n\n/**\n * Concatenates two TypedArray. Doesn't check null refs o type equality\n * Attention! It must be use very rarely because requires memory reallocation every time. Use MergeTypedArraysUnsafe to\n * unite array of subarrays.\n * @param{TypedArray} first  - destination array\n * @param{TypedArray} second - source array\n * @returns{TypedArray} resulting concatenated array\n */\nfunction concatTypedArraysUnsafe(first, second) {\n  const result = new first.constructor(first.length + second.length)\n  result.set(first)\n  result.set(second, first.length)\n  return result\n}\n\n/**\n * Merges array of TypedArray into TypedArray. Doesn't check null refs o type equality\n * @param{array} array  - source array of subarrays\n * @returns{TypedArray} resulting merged array\n */\nfunction mergeTypedArraysUnsafe(array) {\n  if (array.length <= 0) {\n    return null\n  }\n  // count the size\n  const size = array.reduce((acc, cur) => acc + cur.length, 0)\n  // create combined array\n  const result = new array[0].constructor(size)\n  for (let i = 0, start = 0; i < array.length; i++) {\n    const count = array[i].length\n    result.set(array[i], start)\n    start += count\n  }\n  return result\n}\n\n// ----------------------------------------------------------------------------\n// Exports\n\nexport default {\n  browserType,\n  encodeQueryComponent,\n  decodeQueryComponent,\n  getUrlParameters,\n  getUrlParametersAsDict,\n  resolveURL,\n  generateRegExp,\n  createElement,\n  deriveClass,\n  deriveDeep,\n  hexColor,\n  DebugTracer,\n  OutOfMemoryError,\n  allocateTyped,\n  bytesFromBase64,\n  bytesToBase64,\n  arrayFromBase64,\n  arrayToBase64,\n  compareOptionsWithDefaults,\n  objectsDiff,\n  forInRecursive,\n  enquoteString,\n  unquoteString,\n  getBrowser,\n  shotOpen,\n  shotDownload,\n  copySubArrays,\n  shallowCloneNode,\n  correctSelectorIdentifier,\n  getFileExtension,\n  splitFileName,\n  download,\n  concatTypedArraysUnsafe,\n  mergeTypedArraysUnsafe\n}\n","import EventDispatcher from './EventDispatcher'\n\nexport default class JobHandle extends EventDispatcher {\n  constructor() {\n    super()\n    this._shouldCancel = false\n  }\n\n  cancel() {\n    this._shouldCancel = true\n    this.dispatchEvent({ type: 'cancel' })\n  }\n\n  shouldCancel() {\n    return this._shouldCancel\n  }\n\n  // slaves use this to notify master about their events\n  // master routes these notifications to a single event slot\n  notify(event) {\n    this.dispatchEvent({ type: 'notification', slaveEvent: event })\n  }\n}\n","import _ from 'lodash'\nimport utils from './utils'\nimport EventDispatcher from './utils/EventDispatcher'\n\nconst VERSION = 0\n\n// ----------------------------------------------------------------------------\n// DEFAULT SETTINGS\n// ----------------------------------------------------------------------------\n\n/**\n * Polygonal complexity settings.\n *\n * @typedef PolyComplexity\n * @property {number} poor\n * @property {number} low\n * @property {number} medium\n * @property {number} high\n * @property {number} ultra\n */\n\n/**\n * @alias SettingsObject\n * @namespace\n */\nconst defaults = {\n  /**\n   * Default options for all available modes.\n   * Use {@link Mode.id} as a dictionary key to access mode options.\n   *\n   * Usually you don't need to override these settings. You may specify mode options as a parameter during\n   * {@link Mode} construction.\n   *\n   * @memberof SettingsObject#\n   * @type {Object.<string, object>}\n   *\n   * @property {LinesModeOptions} LN - Lines mode options.\n   * @property {LicoriceModeOptions} LC - Licorice mode options.\n   * @property {BallsAndSticksModeOptions} BS - Balls and Sticks mode options.\n   * @property {VanDerWaalsModeOptions} VW - Van der Waals mode options.\n   * @property {TraceModeOptions} TR - Trace mode options.\n   * @property {TubeModeOptions} TU - Tube mode options.\n   * @property {CartoonModeOptions} CA - Cartoon mode options.\n   * @property {QuickSurfaceModeOptions} QS - Contact Surface mode options.\n   * @property {IsoSurfaceSASModeOptions} SA - Solvent Accessible Surface mode options.\n   * @property {IsoSurfaceSESModeOptions} SE - Solvent Excluded Surface mode options.\n   * @property {ContactSurfaceModeOptions} CS - Contact Surface mode options.\n   * @property {TextModeOptions} TX - Text mode options.\n   * @property {VolumeDensityModeOptions} VD - Volume Density mode options.\n   */\n  modes: {\n    // ----------------------------------------------------------------------------\n    // BALLS AND STICKS\n    // ----------------------------------------------------------------------------\n\n    /**\n     * Balls and Sticks mode options.\n     *\n     * @typedef BallsAndSticksModeOptions\n     *\n     * @property {number} atom - Sphere radius as a fraction of Van der Waals atom radius.\n     * @property {number} bond - Cylinder radius in angstroms.\n     * @property {number} space - Fraction of the space around one cylinder. Zero means that cylinder fills all\n     *   available space.\n     * @property {boolean} multibond - Toggles rendering of multiple ordered bonds.\n     * @property {number} aromrad - Minor radius of a torus for aromatic loops.\n     * @property {boolean} showarom - Toggles rendering of aromatic loops.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    BS: {\n      atom: 0.23,\n      bond: 0.15,\n      space: 0.5,\n      multibond: true,\n      aromrad: 0.1,\n      showarom: true,\n      polyComplexity: {\n        poor: 3,\n        low: 4,\n        medium: 6,\n        high: 12,\n        ultra: 32\n      }\n    },\n\n    // ----------------------------------------------------------------------------\n    // VAN DER WAALS\n    // ----------------------------------------------------------------------------\n\n    /**\n     * Van der Waals mode options.\n     *\n     * @typedef VanDerWaalsModeOptions\n     *\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    VW: {\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 8,\n        high: 16,\n        ultra: 32\n      }\n    },\n\n    // ----------------------------------------------------------------------------\n    // LINES\n    // ----------------------------------------------------------------------------\n\n    /**\n     * Lines mode options.\n     *\n     * @typedef LinesModeOptions\n     *\n     * @property {boolean} multibond - Flag, that toggles rendering of multiple ordered bonds.\n     * @property {boolean} showarom - Flag, that toggles rendering of aromatic loops.\n     * @property {number} offsarom - Offset between bonds and aromatic cycle.\n     * @property {number} chunkarom - Number of pieces in a-loop arc, corresponding to atom.\n     * @property {number} atom - Collision radius for atoms picking.\n     * @property {number} lineWidth - Line width in pixels (not used in thin lines).\n     */\n    LN: {\n      multibond: true,\n      showarom: true,\n      offsarom: 0.2,\n      chunkarom: 10,\n      atom: 0.23,\n      lineWidth: 2\n    },\n\n    // ----------------------------------------------------------------------------\n    // LICORICE\n    // ----------------------------------------------------------------------------\n\n    /**\n     * Licorice mode options.\n     *\n     * @typedef LicoriceModeOptions\n     *\n     * @property {number} bond - Bond cylinder radius.\n     * @property {number} space - Fraction of the space around one cylinder. Zero means that cylinder fills all\n     *   available space.\n     * @property {boolean} multibond - Flag, that toggles rendering of multiple ordered bonds.\n     * @property {number} aromrad - Minor radius of a torus for aromatic loops.\n     * @property {boolean} showarom - Flag, that toggles rendering of aromatic loops.\n     * @property {PolyComplexity} polyComplexity - Poly complexity values for render modes.\n     */\n    LC: {\n      bond: 0.2,\n      space: 0.0,\n      multibond: true,\n      aromrad: 0.1,\n      showarom: true,\n      polyComplexity: {\n        poor: 3,\n        low: 4,\n        medium: 6,\n        high: 12,\n        ultra: 32\n      }\n    },\n\n    // ----------------------------------------------------------------------------\n    // SURFACE SAS\n    // ----------------------------------------------------------------------------\n\n    /**\n     * Solvent Accessible Surface mode options.\n     *\n     * @typedef IsoSurfaceSASModeOptions\n     *\n     * @property {boolean} zClip - Flag, that toggles z-clipping.\n     * @property {number} probeRadius - Radius of the probe.\n     * @property {string} subset - Only parts of surface close to selected atoms will be visible.\n     *   Empty string means whole surface is visible.\n     * @property {boolean} wireframe - Flag that specifies whether or not surface rendered in wireframe mode.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    SA: {\n      zClip: false,\n      probeRadius: 1.5,\n      subset: '',\n      wireframe: false,\n      polyComplexity: {\n        poor: 6,\n        low: 8,\n        medium: 16,\n        high: 30,\n        ultra: 60\n      }\n    },\n\n    // ----------------------------------------------------------------------------\n    // SURFACE SES\n    // ----------------------------------------------------------------------------\n\n    /**\n     * Solvent Excluded Surface mode options.\n     *\n     * @typedef IsoSurfaceSESModeOptions\n     *\n     * @property {boolean} zClip - Flag, that toggles z-clipping.\n     * @property {number} probeRadius - Radius of the probe.\n     * @property {string} subset - Only parts of surface close to selected atoms will be visible.\n     *   Empty string means whole surface is visible.\n     * @property {boolean} wireframe - Flag that specifies whether or not surface rendered in wireframe mode.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    SE: {\n      zClip: false,\n      probeRadius: 1.5,\n      subset: '',\n      wireframe: false,\n      polyComplexity: {\n        poor: 6,\n        low: 8,\n        medium: 16,\n        high: 30,\n        ultra: 60\n      }\n    },\n\n    // ----------------------------------------------------------------------------\n    // QUICK SURFACE\n    // ----------------------------------------------------------------------------\n\n    /**\n     * Quick Surface mode options.\n     *\n     * @typedef QuickSurfaceModeOptions\n     *\n     * @property {number} isoValue - Isovalue of the surface to extract.\n     * @property {number} scale - Radius scale for the surface being built.\n     * @property {boolean} zClip - Flag, that toggles z-clipping.\n     * @property {string} subset - Only parts of surface close to selected atoms will be visible.\n     *   Empty string means whole surface is visible.\n     * @property {boolean} wireframe - Flag that specifies whether or not surface rendered in wireframe mode.\n     * @property {PolyComplexity} gaussLim - Gauss lim for coloring the bigger the value, the smoother our colors are.\n     * @property {PolyComplexity} gridSpacing - Poly complexity values for render modes. In this case the value\n     *   corresponds to the grid density.\n     */\n    QS: {\n      isoValue: 0.5,\n      gaussLim: {\n        poor: 1.5,\n        low: 2.0,\n        medium: 2.5,\n        high: 3.0,\n        ultra: 4.0\n      },\n      scale: 1.0,\n      wireframe: false,\n      gridSpacing: {\n        poor: 2,\n        low: 1.5,\n        medium: 1,\n        high: 0.5,\n        ultra: 0.25\n      },\n      subset: '',\n      zClip: false\n    },\n\n    // ----------------------------------------------------------------------------\n    // CONTACT SURFACE\n    // ----------------------------------------------------------------------------\n\n    /**\n     * Contact Surface mode options.\n     *\n     * @typedef ContactSurfaceModeOptions\n     *\n     * @property {number} isoValue - Isovalue of the surface to extract.\n     * @property {number} probeRadius - Probe radius.\n     * @property {number} probePositions\n     * @property {boolean} zClip - Flag, that toggles z-clipping.\n     * @property {string} subset - Only parts of surface close to selected atoms will be visible.\n     *   Empty string means whole surface is visible.\n     * @property {boolean} wireframe - Flag that specifies whether or not surface rendered in wireframe mode.\n     * @property {PolyComplexity} polyComplexity - Radius scale for the surface being built.\n     *   Poly complexity values for render modes. In this case the value corresponds to the grid density.\n     */\n    CS: {\n      probeRadius: 1.4,\n      isoValue: 1.5,\n      wireframe: false,\n      probePositions: 30,\n      polyComplexity: {\n        poor: 0.5,\n        low: 1.0,\n        medium: 1.5,\n        high: 1.75,\n        ultra: 2.0\n      },\n      subset: '',\n      zClip: false\n    },\n\n    // ----------------------------------------------------------------------------\n    // TRACE\n    // ----------------------------------------------------------------------------\n\n    /**\n     * Trace mode options.\n     *\n     * @typedef TraceModeOptions\n     *\n     * @property {number} radius - Cylinder radius.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    TR: {\n      radius: 0.3,\n      polyComplexity: {\n        poor: 12,\n        low: 16,\n        medium: 32,\n        high: 64,\n        ultra: 64\n      }\n    },\n\n    // ----------------------------------------------------------------------------\n    // TUBE\n    // ----------------------------------------------------------------------------\n\n    /**\n     * Tube mode options.\n     *\n     * @typedef TubeModeOptions\n     *\n     * @property {number} radius - Cylinder radius.\n     * @property {number} tension - Tension for interpolation.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     * @property {number} heightSegmentsRatio - Poly complexity multiplier for height segments.\n     */\n    TU: {\n      radius: 0.3,\n      heightSegmentsRatio: 1.5,\n      tension: -0.7,\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 10,\n        high: 18,\n        ultra: 34\n      }\n    },\n\n    // ----------------------------------------------------------------------------\n    // CARTOON\n    // ----------------------------------------------------------------------------\n\n    /**\n     * Cartoon mode options.\n     *\n     * @typedef CartoonModeOptions\n     *\n     * @property {number} radius - Standard tube radius.\n     * @property {number} depth - Height of the secondary structure ribbon.\n     * @property {number} tension - Tension for interpolation.\n     * @proprety {object} ss - Secondary structure parameters.\n     * @proprety {object} ss.helix - Options for helices render.\n     * @proprety {number} ss.helix.width - Width of the secondary structure ribbon.\n     * @proprety {number} ss.helix.arrow - Secondary structure's arrow width.\n     * @proprety {object} ss.strand - Options for strands render.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     * polyComplexity must be even for producing symmetric arrows.\n     * @property {number} heightSegmentsRatio - Poly complexity multiplier for height segments.\n     */\n    CA: {\n      radius: 0.3,\n      depth: 0.25,\n      ss: {\n        helix: {\n          width: 1.0,\n          arrow: 2.0\n        },\n        strand: {\n          width: 1.0,\n          arrow: 2.0\n        }\n      },\n      heightSegmentsRatio: 1.5,\n      tension: -0.7,\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 10,\n        high: 18,\n        ultra: 34\n      }\n    },\n\n    // ----------------------------------------------------------------------------\n    // TEXT\n    // ----------------------------------------------------------------------------\n\n    /**\n     * Text mode options.\n     *\n     * @typedef TextModeOptions\n     *\n     * @property {string} template - Format string for building output text.\n     * @property {string} horizontalAlign - Text alignment ('left', 'right', 'center').\n     * @property {string} verticalAlign - Vertical text box alignment ('top', 'bottom', 'middle').\n     * @property {number} dx - Text offset x in angstroms.\n     * @property {number} dy - Text offset y in angstroms.\n     * @property {number} dz - Text offset z in angstroms.\n     * @property {string} fg - Color rule for foreground.\n     * @property {string} bg - Color rule for background.\n     * @property {boolean} showBg - Flag, that toggles background rendering.\n     *\n     */\n    TX: {\n      template: '{{Chain}}.{{Residue}}{{Sequence}}.{{Name}}',\n      horizontalAlign: 'center',\n      verticalAlign: 'middle',\n      dx: 0,\n      dy: 0,\n      dz: 1,\n      fg: 'none',\n      bg: '0x202020',\n      showBg: true\n    },\n\n    // ----------------------------------------------------------------------------\n    // VOLUME DENSITY\n    // ----------------------------------------------------------------------------\n\n    /**\n     * Volume density mode options.\n     *\n     * @typedef VolumeDensityModeOptions\n     *\n     * @property {number} kSigma - Noise threshold coefficient.\n     * @property {boolean} frame - flag, that turns on box frame painting.\n     * @property {boolean} isoMode - flag, that turns on IsoSurface mode instead of Volume Rendering.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    VD: {\n      kSigma: 1.0,\n      kSigmaMed: 2.0,\n      kSigmaMax: 4.0,\n      frame: true,\n      isoMode: false,\n      polyComplexity: {\n        poor: 2,\n        low: 3,\n        medium: 4,\n        high: 8,\n        ultra: 10\n      }\n    }\n  },\n\n  /**\n   * Default options for all available colorers.\n   * Use {@link Colorer.id} as a dictionary key to access colorer options.\n   *\n   * Usually you don't need to override these settings. You may specify colorer options as a parameter during\n   * {@link Colorer} construction.\n   *\n   * Not all colorers have options.\n   *\n   * @memberof SettingsObject#\n   * @type {Object.<string, object>}\n   *\n   * @property {ElementColorerOptions} EL - Element colorer options.\n   * @property {SequenceColorerOptions} SQ - Sequence colorer options.\n   * @property {MoleculeColorerOptions} MO - Molecule colorer options.\n   * @property {UniformColorerOptions} UN - Uniform colorer options.\n   * @property {ConditionalColorerOptions} CO - Conditional colorer options.\n   * @property {TemperatureColorerOptions} TM - Temperature colorer options.\n   * @property {OccupancyColorerOptions} OC - Occupancy colorer options.\n   * @property {HydrophobicityColorerOptions} HY - Hydrophobicity colorer options.\n   */\n  colorers: {\n    /**\n     * Element colorer options.\n     *\n     * @typedef ElementColorerOptions\n     *\n     * @property {number} carbon - Carbon color or -1 to use default.\n     */\n    EL: {\n      carbon: -1\n    },\n\n    /**\n     * Uniform colorer options.\n     *\n     * @typedef UniformColorerOptions\n     *\n     * @property {number} color - Single color to paint with.\n     */\n    UN: {\n      color: 0xffffff\n    },\n\n    /**\n     * Conditional colorer options.\n     *\n     * @typedef ConditionalColorerOptions\n     *\n     * @property {string} subset - Selector string.\n     * @property {number} color - Color of selected atoms.\n     * @property {number} baseColor - Color of other atoms.\n     */\n    CO: {\n      subset: 'charged',\n      color: 0xff0000,\n      baseColor: 0xffffff\n    },\n\n    /**\n     * Carbon colorer options.\n     *\n     * @typedef CarbonColorerOptions\n     *\n     * @property {number} color - Single color to paint carbons\n     * @property {number} factor - Color factor for not carbon atoms.\n     */\n    CB: {\n      color: 0x909090,\n      factor: 0.6\n    },\n\n    /**\n     * Sequence colorer options.\n     *\n     * @typedef SequenceColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     */\n    SQ: {\n      gradient: 'rainbow'\n    },\n\n    /**\n     * Temperature colorer options.\n     *\n     * @typedef TemperatureColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     * @property {number} min - Minimal temperature.\n     * @property {number} max - Maximal temperature.\n     */\n    TM: {\n      gradient: 'temp',\n      min: 5,\n      max: 40\n    },\n\n    /**\n     * Occupancy colorer options.\n     *\n     * @typedef OccupancyColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     */\n    OC: {\n      gradient: 'reds'\n    },\n\n    /**\n     * Hydrophobicity colorer options.\n     *\n     * @typedef HydrophobicityColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     */\n    HY: {\n      gradient: 'blue-red'\n    },\n\n    /**\n     * Molecule colorer options.\n     *\n     * @typedef MoleculeColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     */\n    MO: {\n      gradient: 'rainbow'\n    }\n  },\n\n  /*\n   * Use antialiasing in WebGL.\n   * @type {boolean}\n   */\n  antialias: true,\n\n  /*\n   * Camera field of view in degrees.\n   * @type {number}\n   */\n  camFov: 45.0,\n\n  /*\n   * Camera near plane distance.\n   * @type {number}\n   */\n  camNear: 0.5,\n\n  /*\n   * Camera far plane distance.\n   * @type {number}\n   */\n  camFar: 100.0,\n\n  camDistance: 2.5,\n\n  radiusToFit: 1.0,\n\n  /**\n   * @type {number}\n   * @instance\n   */\n  fogNearFactor: 0.5, // [0, 1]\n\n  /**\n   * @type {number}\n   * @instance\n   */\n  fogFarFactor: 1, // [0, 1]\n  fogAlpha: 1.0,\n  fogColor: 0x000000,\n  fogColorEnable: false,\n\n  /**\n   * Palette used for molecule coloring.\n   * @type {string}\n   */\n  palette: 'JM',\n\n  /*\n   * Geometry resolution.\n   * @type {string}\n   */\n  resolution: 'medium',\n\n  autoResolution: false /* true */,\n\n  autoPreset: true,\n\n  preset: 'default', // TODO: remove 'preset' from settings, implement autodetection\n\n  presets: {\n    // Default\n    default: [\n      {\n        mode: 'BS',\n        colorer: 'EL',\n        selector: 'all',\n        material: 'SF'\n      }\n    ],\n\n    empty: [],\n\n    // Wireframe\n    wire: [\n      {\n        mode: 'LN',\n        colorer: 'EL',\n        selector: 'all',\n        material: 'SF'\n      }\n    ],\n\n    // Small molecules\n    small: [\n      {\n        mode: 'BS',\n        colorer: 'EL',\n        selector: 'all',\n        material: 'SF'\n      }\n    ],\n\n    // Proteins, nucleic acids etc.\n    macro: [\n      {\n        mode: 'CA',\n        colorer: 'SS',\n        selector: 'not hetatm',\n        material: 'SF'\n      },\n      {\n        mode: 'BS',\n        colorer: 'EL',\n        selector: 'hetatm and not water',\n        material: 'SF'\n      }\n    ]\n  },\n\n  objects: {\n    line: {\n      color: 0xffffffff,\n      dashSize: 0.3,\n      gapSize: 0.05\n    }\n  },\n\n  // ----------------------------------------------------------------------------\n\n  bg: {\n    color: 0x202020,\n    transparent: false\n  },\n\n  draft: {\n    clipPlane: false,\n    clipPlaneFactor: 0.5,\n    clipPlaneSpeed: 0.00003\n  },\n\n  /*\n   * Separate group for plugins.\n   * Each plugin handles its field by itself.\n   */\n  plugins: {},\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  axes: true,\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  fog: true,\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  fps: true,\n\n  /**\n   * Switch using of z-sprites for sphere and cylinder geometry\n   * @type {boolean}\n   * @instance\n   */\n  zSprites: true,\n\n  isoSurfaceFakeOpacity: true,\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  suspendRender: true,\n\n  nowater: false,\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  autobuild: true,\n\n  /**\n   * Anti-aliasing.\n   * @type {boolean}\n   * @instance\n   */\n  fxaa: true,\n  /**\n   * Outline depths\n   * @type {boolean}\n   * @instance\n   */\n  outline: {\n    on: false,\n    color: 0x000000,\n    threshold: 0.1,\n    thickness: 1\n  },\n\n  /**\n   * Ambient Occlusion special effect.\n   * @type {boolean}\n   * @instance\n   */\n  ao: false,\n\n  /**\n   * Shadows options.\n   *\n   * @property {boolean} shadowMap - enable/disable.\n   * @property {string} basic/percentage-closer filtering/non-uniform randomizing pcf.\n   * @property {number} radius for percentage-closer filtering.\n   */\n  shadow: {\n    on: false,\n    type: 'random' /* basic, pcf, random */,\n    radius: 1.0\n  },\n\n  /**\n   * Auto-rotation with constant speed.\n   * @type {number}\n   * @instance\n   */\n  autoRotation: 0.0,\n\n  /**\n   * Set maximum fps for animation.\n   * @type {number}\n   * @instance\n   */\n  maxfps: 30,\n\n  /**\n   * Set fbx output precision.\n   * @type {number}\n   * @instance\n   */\n  fbxprec: 4,\n\n  /**\n   * Auto-rotation axis.\n   *\n   * - true:  complex auto-rotation is about vertical axis\n   * - false: rotation axis is defined by last user rotation\n   *\n   * @type {boolean}\n   * @instance\n   */\n  autoRotationAxisFixed: true,\n\n  /**\n   * Enable zooming with mouse wheel or pinch gesture.\n   * @type {boolean}\n   * @instance\n   */\n  zooming: true,\n\n  /**\n   * Enable picking atoms & residues with left mouse button or touch.\n   * @type {boolean}\n   * @instance\n   */\n  picking: true,\n\n  /**\n   * Set picking mode ('atom', 'residue', 'chain', 'molecule').\n   * @type {string}\n   * @instance\n   */\n  pick: 'atom',\n\n  /**\n   * Make \"component\" and \"fragment\" editing modes available.\n   * @type {boolean}\n   * @instance\n   */\n  editing: false,\n\n  /**\n   * Detect aromatic loops.\n   * @type {boolean}\n   * @instance\n   */\n  aromatic: false,\n\n  /**\n   * Load only one biological unit from all those described in PDB file.\n   * @type {boolean}\n   * @instance\n   */\n  singleUnit: true,\n\n  /**\n   * Set stereo mode ('NONE', 'SIMPLE', 'DISTORTED', 'ANAGLYPH', 'WEBVR').\n   * @type {string}\n   * @instance\n   */\n  stereo: 'NONE',\n\n  /**\n   * Enable smooth transition between views\n   * @type {boolean}\n   * @instance\n   */\n  interpolateViews: true,\n\n  /**\n   * Set transparency mode ('standard', 'prepass').\n   * @type {string}\n   * @instance\n   */\n  transparency: 'prepass',\n\n  /**\n   * Mouse translation speed.\n   * @type {number}\n   * @instance\n   */\n  translationSpeed: 2,\n\n  debug: {\n    example: 3.5,\n    text: 'hello!',\n    good: true,\n    ssaoKernelRadius: 0.7,\n    ssaoFactor: 0.7,\n    stereoBarrel: 0.25\n  },\n  use: {\n    multiFile: false\n  }\n}\n\n// ----------------------------------------------------------------------------\n// SETTINGS CLASS\n// ----------------------------------------------------------------------------\n\nfunction Settings() {\n  EventDispatcher.call(this)\n\n  this.old = null\n  this.now = {}\n  this._changed = {}\n\n  this.reset()\n}\n\nutils.deriveClass(Settings, EventDispatcher, {\n  defaults,\n\n  set(path, value) {\n    if (_.isString(path)) {\n      const oldValue = _.get(this.now, path)\n      if (oldValue !== value) {\n        _.set(this.now, path, value)\n        this._notifyChange(path, value)\n      }\n    } else {\n      const diff = utils.objectsDiff(path, this.now)\n      if (!_.isEmpty(diff)) {\n        _.merge(this.now, diff)\n        this._notifyChanges(diff)\n      }\n    }\n  },\n\n  get(path, defaultValue) {\n    return _.get(this.now, path, defaultValue)\n  },\n\n  reset() {\n    const diff = utils.objectsDiff(defaults, this.now)\n    this.now = _.cloneDeep(defaults)\n    this.old = null\n    this._notifyChanges(diff)\n    this._changed = {}\n  },\n\n  checkpoint() {\n    this.old = _.cloneDeep(this.now)\n    this._changed = {}\n  },\n\n  _notifyChange(path, value) {\n    this._changed[path] = true\n    this.dispatchEvent({ type: `change:${path}`, value })\n  },\n\n  _notifyChanges(diff) {\n    utils.forInRecursive(diff, (deepValue, deepPath) => {\n      this._notifyChange(deepPath, deepValue)\n    })\n  },\n\n  changed() {\n    if (!this.old) {\n      return []\n    }\n    const { old, now } = this\n    const keys = _.filter(\n      Object.keys(this._changed),\n      (key) => _.get(old, key) !== _.get(now, key)\n    )\n    return keys\n  },\n\n  applyDiffs(diffs) {\n    if (diffs.hasOwnProperty('VERSION') && diffs.VERSION !== VERSION) {\n      throw new Error('Settings version does not match!')\n    }\n    // VERSION shouldn't be presented inside settings structure\n    delete diffs.VERSION\n    this.reset()\n    this.set(diffs)\n  },\n\n  getDiffs(versioned) {\n    const diffs = utils.objectsDiff(this.now, defaults)\n    if (versioned) {\n      diffs.VERSION = VERSION\n    }\n    return diffs\n  },\n\n  setPluginOpts(plugin, opts) {\n    defaults.plugins[plugin] = _.cloneDeep(opts)\n    this.now.plugins[plugin] = _.cloneDeep(opts)\n  }\n})\n\nexport default new Settings()\n","import _ from 'lodash'\nimport settings from './settings'\nimport utils from './utils'\nimport logger from './utils/logger'\n\nlet repIndex = 0\n\nfunction asBoolean(value) {\n  return !(\n    !value ||\n    value === '0' ||\n    (_.isString(value) && value.toLowerCase() === 'false')\n  )\n}\n\nconst adapters = {\n  string: String,\n  number: Number,\n  boolean: asBoolean\n}\n\n// Level 1 assignment symbol\nconst cL1Ass = '='\n\nconst cOptsSep = '!'\n// Level 2 (options) assignment symbol\nconst cL2Ass = ':'\n// Level 2 (options) separator symbol\nconst cLSep = ','\n\nconst cCommonIgnoreSymbols = '$;@/?'\n/**\n * We may (and should) leave as is for better readability:\n *\n *        $ , ; : @ / ?\n */\n/**\n * Generate regular expression for symbols excluded for first level encryption\n */\nfunction getLevel1ExcludedExpr() {\n  const cLevel1Ignores = ':,'\n  return utils.generateRegExp(cCommonIgnoreSymbols + cLevel1Ignores)\n}\n\n/**\n * Generate regular expression for symbols excluded for first level encryption\n * (options, etc, ..)\n */\nfunction getLevel2ExcludedExpr() {\n  const cLevel2Ignores = ' '\n  return utils.generateRegExp(cCommonIgnoreSymbols + cLevel2Ignores)\n}\n\nconst cL1ExclExpr = getLevel1ExcludedExpr()\nfunction encodeQueryComponentL1(value) {\n  return utils.encodeQueryComponent(value, cL1ExclExpr)\n}\n\nconst cL2ExclExpr = getLevel2ExcludedExpr()\nfunction encodeQueryComponentL2(value) {\n  return utils.encodeQueryComponent(value, cL2ExclExpr)\n}\n\nfunction ensureRepList(opts) {\n  let { reps } = opts\n  if (!reps) {\n    const { presets } = settings.now\n    let preset = opts.preset || settings.now.preset\n    reps = presets[preset]\n    if (!reps) {\n      logger.warn(`Unknown preset \"${preset}\"`)\n      ;[preset] = Object.keys(presets)\n      reps = presets[preset] // fall back to any preset\n    }\n    opts.preset = preset\n    opts.reps = utils.deriveDeep(reps, true)\n  }\n}\n\nfunction ensureRepAssign(opts, prop, value) {\n  ensureRepList(opts)\n  const rep = opts.reps[repIndex]\n  // prop specified twice therefore start new rep by cloning the current\n  if (rep.hasOwnProperty(prop)) {\n    repIndex = opts.reps.length\n    opts.reps[repIndex] = utils.deriveDeep(rep, true)\n  }\n  if (value !== undefined) {\n    opts.reps[repIndex][prop] = value\n  }\n}\n\nfunction addObject(opts, params, options) {\n  if (opts._objects === undefined) {\n    opts._objects = []\n  }\n\n  const [type, newOpts] = options\n  const newObj = {\n    type,\n    params\n  }\n\n  if (newOpts !== undefined) {\n    newObj.opts = newOpts\n  }\n\n  opts._objects[opts._objects.length] = newObj\n}\n\nfunction parseParams(str, params) {\n  const sep = str.indexOf(',')\n  if (sep >= 0) {\n    params.push(str.substr(sep + 1).split(','))\n    return str.substr(0, sep)\n  }\n  // keep this untouched if no params were extracted\n  return str\n}\n\nfunction extractArgs(input, defaultsDict, params) {\n  if (input) {\n    const bang = input.indexOf(cOptsSep)\n    const inputVal = parseParams(\n      input.substr(0, bang >= 0 ? bang : undefined),\n      params\n    )\n    if (bang >= 0) {\n      const args = input.substr(bang + 1).split(cLSep)\n      input = inputVal\n      if (defaultsDict) {\n        const defaults = defaultsDict[input]\n        const opts = utils.deriveDeep(defaults, true)\n        args.forEach((arg) => {\n          const pair = arg.split(cL2Ass, 2)\n          const key = decodeURIComponent(pair[0])\n          const value = decodeURIComponent(pair[1])\n          const adapter = adapters[typeof _.get(defaults, key)]\n          if (adapter) {\n            _.set(opts, key, adapter(value))\n          } else {\n            logger.warn(`Unknown argument \"${key}\" for option \"${input}\"`)\n          }\n        })\n        if (Object.keys(opts).length > 0) {\n          input = [input, opts]\n        }\n      }\n    } else {\n      input = inputVal\n    }\n  }\n  return input\n}\n\nconst actions = {\n  l: 'load',\n  load: String,\n  t: 'type',\n  type: String,\n  v: 'view',\n  view: String,\n  u: 'unit',\n  unit: Number,\n  menu: asBoolean,\n\n  // Commands\n\n  o: 'object',\n  object(value, opts) {\n    const params = []\n    let options = extractArgs(value, settings.defaults.objects, params)\n    if (!Array.isArray(options)) {\n      options = [options]\n    }\n    addObject(opts, params[0], options)\n  },\n\n  p: 'preset',\n  preset(value, opts) {\n    opts.preset = value\n    opts.reps = null\n    ensureRepList(opts)\n  },\n\n  r: 'rep',\n  rep(value, opts) {\n    ensureRepList(opts)\n    repIndex = Number(value)\n    // clamp the index to one greater than the last\n    repIndex =\n      repIndex <= opts.reps.length\n        ? repIndex < 0\n          ? 0\n          : repIndex\n        : opts.reps.length\n    // create a new rep if it is adjacent to the existing ones\n    if (repIndex === opts.reps.length) {\n      // if there is no rep to derive from, derive from the first rep of the default\n      opts.reps[repIndex] =\n        repIndex > 0\n          ? utils.deriveDeep(opts.reps[repIndex - 1], true)\n          : utils.deriveDeep(settings.defaults.presets.default[0], true)\n    }\n  },\n\n  s: 'select',\n  select(value, opts) {\n    ensureRepAssign(opts, 'selector', value)\n  },\n\n  m: 'mode',\n  mode(value, opts) {\n    ensureRepAssign(opts, 'mode', extractArgs(value, settings.defaults.modes))\n  },\n\n  c: 'color',\n  color(value, opts) {\n    ensureRepAssign(\n      opts,\n      'colorer',\n      extractArgs(value, settings.defaults.colorers)\n    )\n  },\n\n  mt: 'material',\n  material(value, opts) {\n    ensureRepAssign(\n      opts,\n      'material',\n      extractArgs(value, settings.defaults.materials)\n    )\n  },\n\n  dup(value, opts) {\n    ensureRepList(opts)\n    const { reps } = opts\n    const rep = reps[repIndex]\n    repIndex = reps.length\n    reps[repIndex] = utils.deriveDeep(rep, true)\n  },\n\n  // Settings shortcuts\n\n  ar: 'autoResolution'\n}\n\nfunction _fromArray(entries) {\n  repIndex = 0\n\n  const opts = {}\n  for (let i = 0, n = entries.length; i < n; ++i) {\n    const /** string[] */ entry = entries[i]\n    let /** string? */ key = entry[0]\n    const /** string? */ value = entry[1]\n    let /** function|string? */ action = actions[key]\n\n    // unwind shortcuts and aliases\n    while (_.isString(action)) {\n      key = action\n      action = actions[key]\n    }\n\n    // either set a property or use specialized parser\n    if (!action) {\n      const adapter = adapters[typeof _.get(settings.defaults, key)]\n      if (adapter) {\n        _.set(opts, `settings.${key}`, adapter(value))\n      } else {\n        logger.warn(`Unknown option \"${key}\"`)\n      }\n    } else if (typeof action === 'function' && actions.hasOwnProperty(key)) {\n      const result = action(value, opts)\n      if (result !== undefined) {\n        opts[key] = result\n      }\n    }\n  }\n\n  return opts\n}\n\nfunction fromAttr(attr) {\n  return _fromArray(utils.getUrlParameters(`?${attr || ''}`))\n}\n\nfunction fromURL(url) {\n  return _fromArray(utils.getUrlParameters(url))\n}\n\nfunction _processOptsForURL(opts) {\n  const str = []\n  let i = 0\n  utils.forInRecursive(opts, (value, key) => {\n    str[i++] =\n      encodeQueryComponentL2(key) + cL2Ass + encodeQueryComponentL2(value)\n  })\n  return str.join(cLSep)\n}\n\nfunction _processArgsForURL(args) {\n  if (!_.isArray(args)) {\n    return args\n  }\n  if (args.length < 2) {\n    return args[0]\n  }\n  return `${args[0]}${cOptsSep}${_processOptsForURL(args[1])}`\n}\n\nfunction _processObjForURL(objOpts) {\n  if (!objOpts || !objOpts.type) {\n    return undefined\n  }\n  let res = objOpts.type\n  if (_.isArray(objOpts.params) && objOpts.params.length > 0) {\n    res += `,${objOpts.params.join(',')}`\n  }\n  if (objOpts.opts) {\n    res += cOptsSep + _processOptsForURL(objOpts.opts)\n  }\n  return res\n}\n\nfunction toURL(opts) {\n  const stringList = []\n  let idx = 0\n\n  function checkAndAdd(prefix, value) {\n    if (value !== null && value !== undefined) {\n      stringList[idx++] =\n        encodeQueryComponentL1(prefix) + cL1Ass + encodeQueryComponentL1(value)\n    }\n  }\n\n  function addReps(repList) {\n    if (!repList) {\n      return\n    }\n    for (let i = 0, n = repList.length; i < n; ++i) {\n      if (_.isEmpty(repList[i])) {\n        continue\n      }\n      checkAndAdd('r', i)\n      checkAndAdd('s', repList[i].selector)\n      checkAndAdd('m', _processArgsForURL(repList[i].mode))\n      checkAndAdd('c', _processArgsForURL(repList[i].colorer))\n      checkAndAdd('mt', _processArgsForURL(repList[i].material))\n    }\n  }\n\n  function addObjects(objList) {\n    if (!objList) {\n      return\n    }\n    for (let i = 0, n = objList.length; i < n; ++i) {\n      checkAndAdd('o', _processObjForURL(objList[i]))\n    }\n  }\n\n  checkAndAdd('l', opts.load)\n  checkAndAdd('u', opts.unit)\n  checkAndAdd('p', opts.preset)\n  addReps(opts.reps)\n  addObjects(opts._objects)\n\n  checkAndAdd('v', opts.view)\n\n  utils.forInRecursive(opts.settings, (value, key) => {\n    // I heard these lines in the whispers of the Gods\n    // Handle preset setting in reps\n    if (key === 'preset') {\n      return\n    }\n    checkAndAdd(key, value)\n  })\n\n  let url = ''\n  if (typeof window !== 'undefined') {\n    const { location } = window\n    url = `${location.protocol}//${location.host}${location.pathname}`\n  }\n  if (stringList.length > 0) {\n    url += `?${stringList.join('&')}`\n  }\n\n  return url\n}\n\nfunction _processOptsForScript(opts) {\n  const str = []\n  let i = 0\n  utils.forInRecursive(opts, (value, key) => {\n    str[i++] = `${key}=${utils.enquoteString(value)}`\n  })\n  return str.join(' ')\n}\n\nfunction _processArgsForScript(args) {\n  if (!_.isArray(args)) {\n    return args\n  }\n  if (args.length < 2) {\n    return args[0]\n  }\n  return `${args[0]} ${_processOptsForScript(args[1])}`\n}\n\nfunction _processObjForScript(objOpts) {\n  if (!objOpts || !objOpts.type) {\n    return undefined\n  }\n  let res = objOpts.type\n  if (_.isArray(objOpts.params) && objOpts.params.length > 0) {\n    res += ` ${objOpts.params.map(utils.enquoteString).join(' ')}`\n  }\n  if (objOpts.opts) {\n    res += ` ${_processOptsForScript(objOpts.opts)}`\n  }\n  return res\n}\n\nfunction _processRepsForScript(rep, index) {\n  const repString = []\n  let strIdx = 0\n  function localAdd(prefix, value) {\n    if (value !== null && value !== undefined) {\n      repString[strIdx++] = prefix + value\n    }\n  }\n  if (_.isEmpty(rep)) {\n    return null\n  }\n  localAdd('', index)\n  localAdd('s=', utils.enquoteString(rep.selector))\n  localAdd('m=', _processArgsForScript(rep.mode))\n  localAdd('c=', _processArgsForScript(rep.colorer))\n  localAdd('mt=', _processArgsForScript(rep.material))\n  return repString.join(' ')\n}\n\nfunction toScript(opts) {\n  const commandsList = []\n  let idx = 0\n  function checkAndAdd(command, value, saveQuotes) {\n    if (value !== null && value !== undefined) {\n      const quote = typeof value === 'string' && saveQuotes ? '\"' : ''\n      commandsList[idx++] = `${command} ${quote}${value}${quote}`.trim()\n    }\n  }\n\n  function addReps(repList) {\n    if (!repList) {\n      return\n    }\n\n    for (let i = 0, n = repList.length; i < n; ++i) {\n      checkAndAdd('rep', _processRepsForScript(repList[i], i))\n    }\n  }\n\n  function addObjects(objList) {\n    if (!objList) {\n      return\n    }\n    for (let i = 0, n = objList.length; i < n; ++i) {\n      checkAndAdd('', _processObjForScript(objList[i]))\n    }\n  }\n\n  checkAndAdd('set', 'autobuild false')\n  checkAndAdd('load', opts.load, true)\n  checkAndAdd('unit', opts.unit)\n  checkAndAdd('preset', opts.preset)\n  addReps(opts.reps)\n  addObjects(opts._objects)\n\n  utils.forInRecursive(opts.settings, (value, key) => {\n    // I heard these lines in the whispers of the Gods\n    // Handle preset setting in reps\n    if (key === 'preset') {\n      return\n    }\n    checkAndAdd(`set ${key}`, value, true)\n  })\n  checkAndAdd('view', opts.view)\n  checkAndAdd('set', 'autobuild true')\n  return commandsList.join('\\n')\n}\n\nexport default {\n  fromURL,\n  fromAttr,\n  adapters,\n  toURL,\n  toScript\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/**\n * Atom measurements.\n *\n * @param {Residue} residue    - (required) Residue containing the atom\n * @param {string} name        - (required) Name, unique in the residue\n * @param {Element} type       - (required) Chemical element reference\n * @param {THREE.Vector3} position - Registered coordinates\n *\n * @param {number} role        - Role of atom inside monomer: Lead and wing are particularity interesting\n * @param {boolean} het        - Non-standard residue indicator\n *\n * @param {number} serial      - Serial number, unique in the model\n * @param {string} location    - Alternative location indicator (usually space or A-Z)\n * @param {number} occupancy   - Occupancy percentage, from 0 to 1\n * @param {number} temperature - Temperature\n * @param {number} charge      - Charge\n *\n * @exports Atom\n * @constructor\n */\n\nclass Atom {\n  constructor(\n    residue,\n    name,\n    type,\n    position,\n    role,\n    het,\n    serial,\n    location,\n    occupancy,\n    temperature,\n    charge\n  ) {\n    this.index = -1\n    this.residue = residue\n    this.name = name\n    this.element = type\n    this.position = position\n    this.role = role\n    this.mask = 1 | 0\n\n    this.het = het\n\n    this.serial = serial\n    this.location = (location || ' ').charCodeAt(0)\n    this.occupancy = occupancy || 1\n    this.temperature = temperature\n    this.charge = charge\n    this.hydrogenCount = -1 // explicitly invalid\n    this.radicalCount = 0\n    this.valence = -1 // explicitly invalid\n\n    this.bonds = []\n\n    this.flags = 0x0000\n    if (type.name === 'H') {\n      this.flags |= Atom.Flags.HYDROGEN\n    } else if (type.name === 'C') {\n      this.flags |= Atom.Flags.CARBON\n    }\n  }\n\n  isHet() {\n    return this.het\n  }\n\n  isHydrogen() {\n    return this.element.number === 1\n  }\n\n  getVisualName() {\n    const { name } = this\n    if (name.length > 0) {\n      return name\n    }\n    return this.element.name.trim()\n  }\n\n  forEachBond(process) {\n    const { bonds } = this\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      process(bonds[i])\n    }\n  }\n\n  getFullName() {\n    let name = ''\n    if (this.residue !== null) {\n      if (this.residue._chain !== null) {\n        name += `${this.residue._chain.getName()}.`\n      }\n      name += `${this.residue._sequence}.`\n    }\n    name += this.name\n    return name\n  }\n\n  /**\n   * Enumeration of atom flag values.\n   *\n   * @enum {number}\n   * @readonly\n   */\n  static Flags = {\n    CARBON: 0x0001,\n    // OXYGEN: 0x0002,\n    // NITROGEN: 0x0004,\n    HYDROGEN: 0x0008,\n    /** Non-polar hydrogen (it is also a HYDROGEN) */\n    NONPOLARH: 0x1008\n  }\n}\n\nexport default Atom\n","class Element {\n  constructor(number, name, fullName, weight, radius, radiusBonding, hValency) {\n    this.number = number\n    this.name = name\n    this.fullName = fullName\n    this.weight = weight\n    this.radius = radius\n    this.radiusBonding = radiusBonding\n    this.hydrogenValency = hValency\n  }\n\n  static Constants = {\n    /* eslint-disable no-magic-numbers */\n    U1: 1,\n    Lead: 2,\n    U2: 3,\n    Wing: 4,\n    U18: 18\n    /* eslint-enable no-magic-numbers */\n  }\n\n  static Role = {\n    /* eslint-disable no-magic-numbers */\n    N: Element.Constants.U1,\n    CA: Element.Constants.Lead,\n    C: Element.Constants.U2,\n    O: Element.Constants.Wing,\n    SG: Element.Constants.U18\n    /* eslint-enable no-magic-numbers */\n  }\n\n  // DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\n  static ByAtomicNumber = [\n    /* eslint-disable no-magic-numbers */\n    null,\n    new Element(1, 'H', 'Hydrogen', 1.008, 1.2, 0.23, [1]),\n    new Element(2, 'HE', 'Helium', 4.003, 1.4, 0.93, [0]),\n    new Element(3, 'LI', 'Lithium', 6.941, 1.82, 0.68, [1]),\n    new Element(4, 'BE', 'Beryllium', 9.012, 1.7, 0.35, [2]),\n    new Element(5, 'B', 'Boron', 10.81, 2.08, 0.83, [3]),\n    new Element(6, 'C', 'Carbon', 12.011, 1.95, 0.68, [4]),\n    new Element(7, 'N', 'Nitrogen', 14.007, 1.85, 0.68, [3, 5]),\n    new Element(8, 'O', 'Oxygen', 15.999, 1.7, 0.68, [2, 4]),\n    new Element(9, 'F', 'Fluorine', 18.998, 1.73, 0.64, [1]),\n    new Element(10, 'NE', 'Neon', 20.18, 1.54, 1.12, [0]),\n    new Element(11, 'NA', 'Sodium', 22.99, 2.27, 0.97, [1]),\n    new Element(12, 'MG', 'Magnesium', 24.305, 1.73, 1.1, [2]),\n    new Element(13, 'AL', 'Aluminum', 26.981, 2.05, 1.35, [3]),\n    new Element(14, 'SI', 'Silicon', 28.086, 2.1, 1.2, [4]),\n    new Element(15, 'P', 'Phosphorus', 30.974, 2.08, 0.75, [3, 5]),\n    new Element(16, 'S', 'Sulfur', 32.07, 2, 1.02, [2, 4, 6]),\n    new Element(17, 'CL', 'Chlorine', 35.453, 1.97, 0.99, [1, 3, 5, 7]),\n    new Element(18, 'AR', 'Argon', 39.948, 1.88, 1.57, [0]),\n    new Element(19, 'K', 'Potassium', 39.1, 2.75, 1.33, [1]),\n    new Element(20, 'CA', 'Calcium', 40.08, 1.973, 0.99, [2]),\n    new Element(21, 'SC', 'Scandium', 44.956, 1.7, 1.44, [0]),\n    new Element(22, 'TI', 'Titanium', 47.88, 1.7, 1.47, [0]),\n    new Element(23, 'V', 'Vanadium', 50.941, 1.7, 1.33, [0]),\n    new Element(24, 'CR', 'Chromium', 52, 1.7, 1.35, [0]),\n    new Element(25, 'MN', 'Manganese', 54.938, 1.7, 1.35, [0]),\n    new Element(26, 'FE', 'Iron', 55.847, 1.7, 1.34, [0]),\n    new Element(27, 'CO', 'Cobalt', 58.93, 1.7, 1.33, [0]),\n    new Element(28, 'NI', 'Nickel', 58.69, 1.63, 1.5, [0]),\n    new Element(29, 'CU', 'Copper', 63.55, 1.4, 1.52, [0]),\n    new Element(30, 'ZN', 'Zinc', 65.39, 1.39, 1.45, [0]),\n    new Element(31, 'GA', 'Gallium', 69.72, 1.87, 1.22, [3]),\n    new Element(32, 'GE', 'Germanium', 72.61, 1.7, 1.17, [4]),\n    new Element(33, 'AS', 'Arsenic', 74.92, 1.85, 1.21, [3, 5]),\n    new Element(34, 'SE', 'Selenium', 78.96, 1.9, 1.22, [2, 4, 6]),\n    new Element(35, 'BR', 'Bromine', 79.9, 2.1, 1.21, [1, 3, 5, 7]),\n    new Element(36, 'KR', 'Krypton', 83.8, 2.02, 1.91, [0]),\n    new Element(37, 'RB', 'Rubidium', 85.47, 1.7, 1.47, [1]),\n    new Element(38, 'SR', 'Strontium', 87.62, 1.7, 1.12, [2]),\n    new Element(39, 'Y', 'Yttrium', 88.91, 1.7, 1.78, [0]),\n    new Element(40, 'ZR', 'Zirconium', 91.22, 1.7, 1.56, [0]),\n    new Element(41, 'NB', 'Niobium', 92.91, 1.7, 1.48, [0]),\n    new Element(42, 'MO', 'Molybdenum', 95.94, 1.7, 1.47, [0]),\n    new Element(43, 'TC', 'Technetium', 98.91, 1.7, 1.35, [0]),\n    new Element(44, 'RU', 'Ruthenium', 101.07, 1.7, 1.4, [0]),\n    new Element(45, 'RH', 'Rhodium', 102.91, 1.7, 1.45, [0]),\n    new Element(46, 'PD', 'Palladium', 106.42, 1.63, 1.5, [0]),\n    new Element(47, 'AG', 'Silver', 107.87, 1.72, 1.59, [0]),\n    new Element(48, 'CD', 'Cadmium', 112.41, 1.58, 1.69, [0]),\n    new Element(49, 'IN', 'Indium', 114.82, 1.93, 1.63, [3]),\n    new Element(50, 'SN', 'Tin', 118.71, 2.17, 1.46, [2, 4]),\n    new Element(51, 'SB', 'Antimony', 121.75, 2.2, 1.46, [3, 5]),\n    new Element(52, 'TE', 'Tellurium', 127.6, 2.06, 1.47, [2, 4, 6]),\n    new Element(53, 'I', 'Iodine', 126.91, 2.15, 1.4, [1, 3, 5, 7]),\n    new Element(54, 'XE', 'Xenon', 131.29, 2.16, 1.98, [0]),\n    new Element(55, 'CS', 'Cesium', 132.91, 1.7, 1.67, [1]),\n    new Element(56, 'BA', 'Barium', 137.33, 1.7, 1.34, [2]),\n    new Element(57, 'LA', 'Lanthanum', 138.91, 1.7, 1.87, [0]),\n    new Element(58, 'CE', 'Cerium', 140.12, 1.7, 1.83, [0]),\n    new Element(59, 'PR', 'Praseodymium', 140.91, 1.7, 1.82, [0]),\n    new Element(60, 'ND', 'Neodymium', 144.24, 1.7, 1.81, [0]),\n    new Element(61, 'PM', 'Promethium', 144.9, 1.7, 1.8, [0]),\n    new Element(62, 'SM', 'Samarium', 150.36, 1.7, 1.8, [0]),\n    new Element(63, 'EU', 'Europium', 151.96, 1.7, 1.99, [0]),\n    new Element(64, 'GD', 'Gadolinium', 157.25, 1.7, 1.79, [0]),\n    new Element(65, 'TB', 'Terbium', 158.93, 1.7, 1.76, [0]),\n    new Element(66, 'DY', 'Dysprosium', 162.5, 1.7, 1.75, [0]),\n    new Element(67, 'HO', 'Holmium', 164.93, 1.7, 1.74, [0]),\n    new Element(68, 'ER', 'Erbium', 167.26, 1.7, 1.73, [0]),\n    new Element(69, 'TM', 'Thulium', 168.93, 1.7, 1.72, [0]),\n    new Element(70, 'YB', 'Ytterbium', 173.04, 1.7, 1.94, [0]),\n    new Element(71, 'LU', 'Lutetium', 174.97, 1.7, 1.72, [0]),\n    new Element(72, 'HF', 'Hafnium', 178.49, 1.7, 1.57, [0]),\n    new Element(73, 'TA', 'Tantalum', 180.95, 1.7, 1.43, [0]),\n    new Element(74, 'W', 'Tungsten', 183.85, 1.7, 1.37, [0]),\n    new Element(75, 'RE', 'Rhenium', 186.21, 1.7, 1.35, [0]),\n    new Element(76, 'OS', 'Osmium', 190.2, 1.7, 1.37, [0]),\n    new Element(77, 'IR', 'Iridium', 192.22, 1.7, 1.32, [0]),\n    new Element(78, 'PT', 'Platinum', 195.08, 1.72, 1.5, [0]),\n    new Element(79, 'AU', 'Gold', 196.97, 1.66, 1.5, [0]),\n    new Element(80, 'HG', 'Mercury', 200.59, 1.55, 1.7, [0]),\n    new Element(81, 'TL', 'Thallium', 204.38, 1.96, 1.55, [1, 3]),\n    new Element(82, 'PB', 'Lead', 207.2, 2.02, 1.54, [2, 4]),\n    new Element(83, 'BI', 'Bismuth', 208.98, 1.7, 1.54, [3, 5]),\n    new Element(84, 'PO', 'Polonium', 210, 1.7, 1.68, [2, 4, 6]),\n    new Element(85, 'AT', 'Astatine', 210, 1.7, 1.7, [1, 3, 5, 7]),\n    new Element(86, 'RN', 'Radon', 222, 1.7, 2.4, [0]),\n    new Element(87, 'FR', 'Francium', 223, 1.7, 2, [1]),\n    new Element(88, 'RA', 'Radium', 226.03, 1.7, 1.9, [2]),\n    new Element(89, 'AC', 'Actinium', 227.03, 1.7, 1.88, [0]),\n    new Element(90, 'TH', 'Thorium', 232.04, 1.7, 1.79, [0]),\n    new Element(91, 'PA', 'Protactinium', 231.04, 1.7, 1.61, [0]),\n    new Element(92, 'U', 'Uranium', 238.03, 1.86, 1.58, [0]),\n    new Element(93, 'NP', 'Neptunium', 237.05, 1.7, 1.55, [0]),\n    new Element(94, 'PU', 'Plutonium', 239.1, 1.7, 1.53, [0]),\n    new Element(95, 'AM', 'Americium', 243.1, 1.7, 1.51, [0]),\n    new Element(96, 'CM', 'Curium', 247.1, 1.7, 1.5, [0]),\n    new Element(97, 'BK', 'Berkelium', 247.1, 1.7, 1.5, [0]),\n    new Element(98, 'CF', 'Californium', 252.1, 1.7, 1.5, [0]),\n    new Element(99, 'ES', 'Einsteinium', 252.1, 1.7, 1.5, [0]),\n    new Element(100, 'FM', 'Fermium', 257.1, 1.7, 1.5, [0]),\n    new Element(101, 'MD', 'Mendelevium', 256.1, 1.7, 1.5, [0]),\n    new Element(102, 'NO', 'Nobelium', 259.1, 1.7, 1.5, [0]),\n    new Element(103, 'LR', 'Lawrencium', 260.1, 1.7, 1.5, [0]),\n    new Element(104, 'RF', 'Rutherfordium', 261, 1.7, 1.6, [0]),\n    new Element(105, 'DB', 'Dubnium', 262, 1.7, 1.6, [0]),\n    new Element(106, 'SG', 'Seaborgium', 263, 1.7, 1.6, [0]),\n    new Element(107, 'BH', 'Bohrium', 262, 1.7, 1.6, [0]),\n    new Element(108, 'HS', 'Hassium', 265, 1.7, 1.6, [0]),\n    new Element(109, 'MT', 'Meitnerium', 268, 1.7, 1.6, [0])\n    /* eslint-enable no-magic-numbers */\n  ]\n\n  // DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\n  static ByName = {\n    // Duplicate atomic numbers (isotopes)\n    /* eslint-disable no-magic-numbers */\n    D: new Element(1, 'D', 'Deuterium', 2.014, 1.2, 0.23, [1]),\n    T: new Element(1, 'T', 'Tritium', 3.016, 1.2, 0.23, [1])\n    /* eslint-enable no-magic-numbers */\n\n    // All regular elements will be added later, automatically\n  }\n}\n\n;(function () {\n  const byAtomicNumber = Element.ByAtomicNumber\n  const byName = Element.ByName\n  for (let i = 0, n = byAtomicNumber.length; i < n; ++i) {\n    const element = byAtomicNumber[i]\n    if (element) {\n      byName[element.name] = element\n    }\n  }\n})()\n\n// find atom type by chemical element (or create if missing)\nElement.getByName = function (element) {\n  let type = Element.ByName[element]\n  if (!type) {\n    type = Element.ByName[element] = new Element(\n      0,\n      element,\n      'Unknown',\n      0,\n      1.0,\n      0.01,\n      [0]\n    )\n  }\n  return type\n}\n\nexport default Element\n","const cBondTypes = {\n  /** Was generated manually */\n  UNKNOWN: 0,\n  /** Simple covalent bond */\n  COVALENT: 1,\n  /** Aromatic bond */\n  AROMATIC: 2\n}\n\nfunction getAtomPos(atom) {\n  return atom.position\n}\n\n/**\n * Bond between atoms.\n *\n * @param {Atom} left     - The first atom.\n * @param {Atom} right    - The second atom.\n * @param {number} order - Order of current bond.\n * @param {number} type - Bond type.\n * @param {boolean} fixed - Indicator of a pre-specified connection (in contrast with guessed one).\n *\n * @exports Bond\n * @constructor\n */\nclass Bond {\n  constructor(left, right, order, type, fixed) {\n    this._left = left\n    this._right = right\n    this._fixed = fixed\n    this._index = -1\n    if (left > right) {\n      throw new Error('In a bond atom indices must be in increasing order')\n    }\n    this._order = order\n    this._type = type\n  }\n\n  getLeft() {\n    return this._left\n  }\n\n  getRight() {\n    return this._right\n  }\n\n  getOrder() {\n    return this._order\n  }\n\n  calcLength() {\n    return this._left.position.distanceTo(this._right.position)\n  }\n\n  _forEachNeighbour(currAtom, process) {\n    const { bonds } = currAtom\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      process(bonds[i]._left !== currAtom ? bonds[i]._left : bonds[i]._right)\n    }\n  }\n\n  forEachLevelOne(process) {\n    const left = this._left\n    const right = this._right\n    this._forEachNeighbour(left, (atom) => {\n      if (atom === right) {\n        return\n      }\n      process(atom)\n    })\n    this._forEachNeighbour(right, (atom) => {\n      if (atom === left) {\n        return\n      }\n      process(atom)\n    })\n  }\n\n  forEachLevelTwo(process) {\n    // TODO refactor this piece of an art?\n    const left = this._left\n    const right = this._right\n    const self = this\n    self._forEachNeighbour(left, (atom) => {\n      if (atom === right) {\n        return\n      }\n      self._forEachNeighbour(atom, (l2Atom) => {\n        if (l2Atom === left) {\n          return\n        }\n        process(l2Atom)\n      })\n    })\n    self._forEachNeighbour(right, (atom) => {\n      if (atom === left) {\n        return\n      }\n      self._forEachNeighbour(atom, (l2Atom) => {\n        if (l2Atom === right) {\n          return\n        }\n        process(l2Atom)\n      })\n    })\n  }\n\n  _fixDir(refPoint, currDir, posGetter) {\n    // count atoms to the right and to the left of the current plane\n    let rightCount = 0\n    let leftCount = 0\n    const tmpVec = refPoint.clone()\n    function checkDir(atom) {\n      tmpVec.copy(posGetter(atom))\n      tmpVec.sub(refPoint)\n      const dotProd = currDir.dot(tmpVec)\n      if (dotProd > 0) {\n        ++rightCount\n      } else {\n        ++leftCount\n      }\n    }\n    function checkCarbon(atom) {\n      if (atom.element.name === 'C') {\n        checkDir(atom)\n      }\n    }\n    // count all atoms to the left and right of our plane, start from level 1 and carbons\n    const stages = [\n      [this.forEachLevelOne, checkCarbon],\n      [this.forEachLevelOne, checkDir],\n      [this.forEachLevelTwo, checkCarbon],\n      [this.forEachLevelTwo, checkDir]\n    ]\n\n    for (let stageId = 0; stageId < stages.length; ++stageId) {\n      stages[stageId][0].call(this, stages[stageId][1])\n      if (leftCount > rightCount) {\n        return currDir.multiplyScalar(-1)\n      }\n      if (leftCount < rightCount) {\n        return currDir\n      }\n    }\n    return currDir\n  }\n\n  calcNormalDir(posGetter) {\n    const left = this._left\n    const right = this._right\n    let first = left\n    let second = right\n    posGetter = posGetter === undefined ? getAtomPos : posGetter\n    if (left.bonds.length > right.bonds.length) {\n      first = right\n      second = left\n    }\n    let third = first\n    let maxNeibs = 0\n    const { bonds } = second\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      let another = bonds[i]._left\n      if (bonds[i]._left === second) {\n        another = bonds[i]._right\n      }\n      if (another.bonds.length > maxNeibs && another !== first) {\n        third = another\n        maxNeibs = another.bonds.length\n      }\n    }\n    const secondPos = posGetter(second)\n    const firstV = posGetter(first).clone().sub(secondPos)\n    const secondV = posGetter(third).clone().sub(secondPos)\n    secondV.crossVectors(firstV, secondV)\n    if (secondV.lengthSq() < 0.0001) {\n      secondV.set(0, 1, 0)\n    }\n    firstV.normalize()\n    secondV.normalize()\n    firstV.crossVectors(secondV, firstV)\n    if (firstV.lengthSq() < 0.0001) {\n      firstV.set(0, 1, 0)\n    }\n    firstV.normalize()\n    return this._fixDir(secondPos, firstV, posGetter)\n  }\n\n  static BondType = cBondTypes\n}\n\nBond.prototype.BondType = cBondTypes\n\nexport default Bond\n","import * as THREE from 'three'\nimport Atom from './Atom'\nimport Element from './Element'\n\nconst cNucleicControlNames = [\"C3'\", 'C3*', 'P', 'H5T', 'H3T']\nconst cNucleicWing1Names = ['OP1', 'O1P']\nconst cNucleicWing2Names = ['OP2', 'O2P']\n\nconst cCylinderSource = [\"C3'\", 'C3*', 'C1', \"C1'\", 'C1*', 'P']\nconst cCylinderTarget = [\n  {\n    types: ['A', 'DA', 'G', 'DG'],\n    atoms: ['N1']\n  },\n  {\n    types: ['C', 'DC'],\n    atoms: ['N3']\n  },\n  {\n    types: ['T', 'DT', 'U', 'DU'],\n    atoms: ['O4']\n  }\n]\n\n/**\n * Residue instance.\n *\n * @param {Chain} chain      - Chain this residue belongs to.\n * @param {ResidueType} type - Generic residue instance type.\n * @param {number} sequence  - Sequence ID.\n * @param {string} icode     - One character insertion code (usually space or A-Z).\n *\n * @exports Residue\n * @constructor\n */\nclass Residue {\n  constructor(chain, type, sequence, icode) {\n    this._chain = chain\n    this._component = null\n    this._type = type\n    this._sequence = sequence\n    this._icode = icode\n    this._mask = 1 | 0\n    this._index = -1\n\n    this._atoms = []\n    this._secondary = null\n    this._firstAtom = null\n    this._leadAtom = null\n    this._wingAtom = null\n    this._lastAtom = null\n    this._controlPoint = null\n    this._midPoint = null\n    this._wingVector = null\n    this._cylinders = null\n    this._isValid = true\n    this._het = false\n    this._molecule = null\n    this.temperature = null\n    this.occupancy = null\n  }\n\n  // Getters and setters\n  getChain() {\n    return this._chain\n  }\n\n  getMolecule() {\n    return this._molecule\n  }\n\n  getType() {\n    return this._type\n  }\n\n  getSequence() {\n    return this._sequence\n  }\n\n  getSecondary() {\n    return this._secondary\n  }\n\n  getICode() {\n    return this._icode\n  }\n\n  // Other methods\n\n  addAtom(\n    name,\n    type,\n    xyz,\n    role,\n    het,\n    serial,\n    altLoc,\n    occupancy,\n    tempFactor,\n    charge\n  ) {\n    const atom = new Atom(\n      this,\n      name,\n      type,\n      xyz,\n      role,\n      het,\n      serial,\n      altLoc,\n      occupancy,\n      tempFactor,\n      charge\n    )\n    const complex = this._chain.getComplex()\n    complex.addAtom(atom)\n    this._atoms.push(atom)\n    this._het = this._het || het\n    return atom\n  }\n\n  getAtomCount() {\n    return this._atoms.length\n  }\n\n  forEachAtom(process) {\n    const atoms = this._atoms\n    for (let i = 0, n = atoms.length; i < n; ++i) {\n      if (process(atoms[i])) {\n        break\n      }\n    }\n  }\n\n  _findAtomByName(name) {\n    let res = null\n    this.forEachAtom((atom) => {\n      if (atom.name === name) {\n        res = atom\n        return true\n      }\n      return false\n    })\n    return res\n  }\n\n  _findFirstAtomInList(names) {\n    let res = null\n    for (let i = 0; i < names.length; ++i) {\n      res = this._findAtomByName(names[i])\n      if (res !== null) {\n        return res\n      }\n    }\n    return res\n  }\n\n  collectMask() {\n    let mask = 0xffffffff\n    const atoms = this._atoms\n    for (let i = 0, n = atoms.length; i < n; ++i) {\n      mask &= atoms[i].mask\n    }\n    this._mask = mask\n  }\n\n  getCylinderTargetList() {\n    const type = this._type._name\n    for (let i = 0, n = cCylinderTarget.length; i < n; ++i) {\n      for (let j = 0, m = cCylinderTarget[i].types.length; j < m; ++j) {\n        if (type === cCylinderTarget[i].types[j]) {\n          return cCylinderTarget[i].atoms\n        }\n      }\n    }\n    return null\n  }\n\n  _detectLeadWing(dst, next, getAtomPosition) {\n    const leadAtom = this._findFirstAtomInList(cNucleicControlNames)\n    let wingStart = this._findFirstAtomInList(cNucleicWing1Names)\n    let wingEnd = this._findFirstAtomInList(cNucleicWing2Names)\n\n    if (wingStart === null && next !== null) {\n      wingStart = next._findFirstAtomInList(cNucleicWing1Names)\n    }\n\n    if (wingEnd === null && next !== null) {\n      wingEnd = next._findFirstAtomInList(cNucleicWing2Names)\n    }\n\n    if (leadAtom === null || wingStart === null || wingEnd === null) {\n      return\n    }\n\n    dst._leadAtom = leadAtom\n    dst._controlPoint = getAtomPosition(leadAtom)\n    dst._wingVector = getAtomPosition(wingEnd)\n      .clone()\n      .sub(getAtomPosition(wingStart))\n    dst._isValid = true\n\n    const cylSource = this._findFirstAtomInList(cCylinderSource)\n    const targetList = this.getCylinderTargetList()\n    const cylTarget =\n      targetList !== null ? this._findFirstAtomInList(targetList) : null\n    if (cylSource === null || cylTarget === null) {\n      return\n    }\n    dst._cylinders = [getAtomPosition(cylSource), getAtomPosition(cylTarget)]\n  }\n\n  calcWing(prevLeadPos, currLeadPos, prevWingPos, prevWing) {\n    const vectorA = currLeadPos.clone().sub(prevLeadPos)\n    const vectorB = prevLeadPos.clone().sub(prevWingPos)\n    vectorB.crossVectors(vectorA, vectorB)\n    vectorB.crossVectors(vectorA, vectorB).normalize()\n    if (prevWing !== null && prevWing.length() > 0.0001) {\n      const needToNegate =\n        vectorB.length() > 0.0001 &&\n        Math.abs(prevWing.angleTo(vectorB)) > Math.PI / 2\n      if (needToNegate) {\n        vectorB.negate()\n      }\n    }\n    return vectorB\n  }\n\n  _innerFinalize(prevRes, prev, nextRes, dst, chainAsNucleic, getAtomPosition) {\n    const bFirstInChain = prev === null\n\n    const lp = getAtomPosition(this._leadAtom)\n    const currLeadPos = new THREE.Vector3(lp.x, lp.y, lp.z)\n    if (chainAsNucleic) {\n      this._detectLeadWing(dst, nextRes, getAtomPosition)\n      return\n    }\n\n    if (bFirstInChain) {\n      // for first one in chain\n      dst._midPoint = getAtomPosition(this._firstAtom).clone()\n    } else {\n      const prevLeadPos = prev._controlPoint // lead point of previous monomer\n      dst._midPoint = prevLeadPos.clone().lerp(currLeadPos, 0.5)\n      dst._wingVector = this.calcWing(\n        prevLeadPos,\n        currLeadPos,\n        getAtomPosition(prevRes._wingAtom),\n        prev._wingVector\n      )\n    }\n    dst._controlPoint = currLeadPos\n  }\n\n  _finalize2(prev, next, asNucleic) {\n    // Should be called AFTER first finalize\n    this._innerFinalize(\n      prev,\n      prev,\n      next,\n      this,\n      asNucleic,\n      (atom) => atom.position\n    )\n  }\n\n  isConnected(anotherResidue) {\n    if (this._chain !== anotherResidue._chain) {\n      return false\n    }\n    if (this === anotherResidue) {\n      return true\n    }\n    let res = false\n    this.forEachAtom((atom) => {\n      const { bonds } = atom\n      for (let i = 0, n = bonds.length; i < n; ++i) {\n        const bond = bonds[i]\n        if (\n          bond._left.residue === anotherResidue ||\n          bond._right.residue === anotherResidue\n        ) {\n          res = true\n          return true\n        }\n      }\n      return false\n    })\n    return res\n  }\n\n  _finalize() {\n    const self = this\n    ;[this._firstAtom] = this._atoms\n    this._lastAtom = this._atoms[this._atoms.length - 1]\n\n    this._leadAtom = null\n    this._wingAtom = null\n\n    let tempCount = 0\n    let temperature = 0 // average temperature\n    let occupCount = 0\n    let occupancy = 0 // average occupancy\n    this.forEachAtom((a) => {\n      if (self._leadAtom === null) {\n        if (a.role === Element.Constants.Lead) {\n          self._leadAtom = a\n        }\n      }\n      if (self._wingAtom === null) {\n        if (a.role === Element.Constants.Wing) {\n          self._wingAtom = a\n        }\n      }\n      if (a.temperature) {\n        temperature += a.temperature\n        tempCount++\n      }\n      if (a.occupancy) {\n        occupancy += a.occupancy\n        occupCount++\n      }\n      return self._leadAtom !== null && self._wingAtom !== null\n    })\n\n    if (tempCount > 0) {\n      this.temperature = temperature / tempCount\n    }\n    if (occupCount > 0) {\n      this.occupancy = occupancy / occupCount\n    }\n\n    // Still try to make monomer look valid\n    if (this._leadAtom === null || this._wingAtom === null) {\n      this._isValid = false\n    }\n    if (this._leadAtom === null) {\n      this._leadAtom = this._firstAtom\n    }\n    if (this._wingAtom === null) {\n      this._wingAtom = this._lastAtom\n    }\n  }\n}\n\nexport default Residue\n","/**\n * Residue type.\n *\n * Predefined acid or created with HET, HETNAM, etc.\n *\n * @param {string} name            - Short name, either standard (ALA, MET, etc.) or non-standard one.\n * @param {string} fullName        - Full residue name.\n * @param {string} letterCode      - 1-letter symbol.\n *\n * @exports ResidueType\n * @constructor\n */\nclass ResidueType {\n  constructor(name, fullName, letterCode) {\n    this._name = name\n    this._fullName = fullName\n    this.letterCode = letterCode\n    this.flags = 0x0000\n  }\n\n  getName() {\n    return this._name\n  }\n\n  // DO NOT EDIT MANUALLY! Autogenerated from residue_types.csv by residue_types.py.\n  static StandardTypes = {\n    /* eslint-disable no-magic-numbers */\n    ALA: new ResidueType('ALA', 'Alanine', 'A'),\n    ARG: new ResidueType('ARG', 'Arginine', 'R'),\n    ASN: new ResidueType('ASN', 'Asparagine', 'N'),\n    ASP: new ResidueType('ASP', 'Aspartic Acid', 'D'),\n    CYS: new ResidueType('CYS', 'Cysteine', 'C'),\n    GLN: new ResidueType('GLN', 'Glutamine', 'Q'),\n    GLU: new ResidueType('GLU', 'Glutamic Acid', 'E'),\n    GLY: new ResidueType('GLY', 'Glycine', 'G'),\n    HIS: new ResidueType('HIS', 'Histidine', 'H'),\n    ILE: new ResidueType('ILE', 'Isoleucine', 'I'),\n    LEU: new ResidueType('LEU', 'Leucine', 'L'),\n    LYS: new ResidueType('LYS', 'Lysine', 'K'),\n    MET: new ResidueType('MET', 'Methionine', 'M'),\n    PHE: new ResidueType('PHE', 'Phenylalanine', 'F'),\n    PRO: new ResidueType('PRO', 'Proline', 'P'),\n    PYL: new ResidueType('PYL', 'Pyrrolysine', 'O'),\n    SEC: new ResidueType('SEC', 'Selenocysteine', 'U'),\n    SER: new ResidueType('SER', 'Serine', 'S'),\n    THR: new ResidueType('THR', 'Threonine', 'T'),\n    TRP: new ResidueType('TRP', 'Tryptophan', 'W'),\n    TYR: new ResidueType('TYR', 'Tyrosine', 'Y'),\n    VAL: new ResidueType('VAL', 'Valine', 'V'),\n    A: new ResidueType('A', 'Adenine', 'A'),\n    C: new ResidueType('C', 'Cytosine', 'C'),\n    G: new ResidueType('G', 'Guanine', 'G'),\n    I: new ResidueType('I', 'Inosine', 'I'),\n    T: new ResidueType('T', 'Thymine', 'T'),\n    U: new ResidueType('U', 'Uracil', 'U'),\n    DA: new ResidueType('DA', 'Adenine', 'A'),\n    DC: new ResidueType('DC', 'Cytosine', 'C'),\n    DG: new ResidueType('DG', 'Guanine', 'G'),\n    DI: new ResidueType('DI', 'Inosine', 'I'),\n    DT: new ResidueType('DT', 'Thymine', 'T'),\n    DU: new ResidueType('DU', 'Uracil', 'U'),\n    '+A': new ResidueType('+A', 'Adenine', 'A'),\n    '+C': new ResidueType('+C', 'Cytosine', 'C'),\n    '+G': new ResidueType('+G', 'Guanine', 'G'),\n    '+I': new ResidueType('+I', 'Inosine', 'I'),\n    '+T': new ResidueType('+T', 'Thymine', 'T'),\n    '+U': new ResidueType('+U', 'Uracil', 'U'),\n    WAT: new ResidueType('WAT', 'Water', ''),\n    H2O: new ResidueType('H2O', 'Water', ''),\n    HOH: new ResidueType('HOH', 'Water', ''),\n    DOD: new ResidueType('DOD', 'Water', ''),\n    UNK: new ResidueType('UNK', 'Unknown', ''),\n    UNL: new ResidueType('UNL', 'Unknown Ligand', '')\n    /* eslint-enable no-magic-numbers */\n  }\n\n  /**\n   * Enumeration of residue flag values.\n   *\n   * @enum {number}\n   * @readonly\n   */\n  static Flags = {\n    // Amino acids\n    /** Amino acid residue */\n    PROTEIN: 0x0001,\n    /** Basic amino acid residue */\n    BASIC: 0x0002,\n    /** Acidic amino acid residue */\n    ACIDIC: 0x0004,\n    /** Polar uncharged side chain amino acid residue */\n    POLAR: 0x0008,\n    /** Non-polar hydrophobic side chain amino acid residue */\n    NONPOLAR: 0x0010,\n    /** Aromatic amino acid residue */\n    AROMATIC: 0x0020,\n\n    // Nucleic acids\n\n    /** Nucleic residue */\n    NUCLEIC: 0x0100,\n    /** Purine nucleic residue */\n    PURINE: 0x0200,\n    /** Pyrimidine nucleic residue */\n    PYRIMIDINE: 0x0400,\n    /** DNA */\n    DNA: 0x0800,\n    /** RNA */\n    RNA: 0x1000,\n\n    /** Water */\n    WATER: 0x10000\n  }\n}\n\n// Flag combinations\nfunction _addFlag(flag, list) {\n  for (let i = 0, n = list.length; i < n; ++i) {\n    const res = ResidueType.StandardTypes[list[i]]\n    if (res) {\n      res.flags |= flag\n    }\n  }\n}\n\nconst { Flags } = ResidueType\n_addFlag(Flags.WATER, ['WAT', 'H2O', 'HOH', 'DOD'])\n\n_addFlag(Flags.PROTEIN, [\n  'ALA',\n  'ARG',\n  'ASN',\n  'ASP',\n  'CYS',\n  'GLY',\n  'GLU',\n  'GLN',\n  'HIS',\n  'ILE',\n  'LEU',\n  'LYS',\n  'MET',\n  'PHE',\n  'PRO',\n  'PYL',\n  'SEC',\n  'SER',\n  'THR',\n  'TRP',\n  'TYR',\n  'VAL'\n])\n_addFlag(Flags.BASIC, ['ARG', 'HIS', 'LYS'])\n_addFlag(Flags.ACIDIC, ['ASP', 'GLU'])\n_addFlag(Flags.POLAR, ['ASN', 'CYS', 'GLN', 'SER', 'THR', 'TYR'])\n_addFlag(Flags.NONPOLAR, [\n  'ALA',\n  'ILE',\n  'LEU',\n  'MET',\n  'PHE',\n  'PRO',\n  'TRP',\n  'VAL',\n  'GLY'\n])\n_addFlag(Flags.AROMATIC, ['PHE', 'TRP', 'TYR'])\n\n_addFlag(Flags.NUCLEIC, [\n  'A',\n  'G',\n  'I',\n  'DA',\n  'DG',\n  'DI',\n  '+A',\n  '+G',\n  '+I',\n  'C',\n  'T',\n  'U',\n  'DC',\n  'DT',\n  'DU',\n  '+C',\n  '+T',\n  '+U'\n])\n_addFlag(Flags.PURINE, ['A', 'G', 'I', 'DA', 'DG', 'DI', '+A', '+G', '+I'])\n_addFlag(Flags.PYRIMIDINE, ['C', 'T', 'U', 'DC', 'DT', 'DU', '+C', '+T', '+U'])\n_addFlag(Flags.DNA, ['DA', 'DG', 'DI', 'DC', 'DT', 'DU'])\n_addFlag(Flags.RNA, ['A', 'G', 'I', 'C', 'T', 'U'])\n// Table of kdHydrophobicity\nconst hydro = {\n  ILE: 4.5,\n  VAL: 4.2,\n  LEU: 3.8,\n  PHE: 2.8,\n  CYS: 2.5,\n  MET: 1.9,\n  ALA: 1.8,\n  GLY: -0.4,\n  THR: -0.7,\n  SER: -0.8,\n  TRP: -0.9,\n  TYR: -1.3,\n  PRO: -1.6,\n  HIS: -3.2,\n  GLU: -3.5,\n  GLN: -3.5,\n  ASP: -3.5,\n  ASN: -3.5,\n  LYS: -3.9,\n  ARG: -4.5\n}\n\nfunction _addParam(param, list) {\n  const keys = Object.keys(list)\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const key = keys[i]\n    const value = list[key]\n    ResidueType.StandardTypes[key][param] = value\n  }\n}\n\n_addParam('hydrophobicity', hydro)\n\nexport default ResidueType\n","import * as THREE from 'three'\nimport Residue from './Residue'\nimport ResidueType from './ResidueType'\n\n/**\n * Residues in chain are either amino acid either nucleic acid (and water)\n * There might be some modified/mutated residues, which type could not be determined by their name (nucleic or amino); In this\n * case firstly program definites the chain type (by well-known residues) and then definites modified/mutated residues\n */\nconst ChainType = {\n  UNKNOWN: 0,\n  PROTEIN: 1,\n  NUCLEIC: 2\n}\n\n/**\n * Residue chain.\n *\n * @param {Complex} complex - Molecular complex this chain belongs to.\n * @param {string} name - One character identifier (usually space, A-Z, 0-9, or a-z).\n *\n * @exports Chain\n * @constructor\n */\nclass Chain {\n  constructor(complex, name) {\n    this._complex = complex\n    this._name = name\n    this._mask = 1 | 0\n    this._index = -1\n    this._residues = []\n\n    this.minSequence = Number.POSITIVE_INFINITY\n    this.maxSequence = Number.NEGATIVE_INFINITY\n  }\n\n  getComplex() {\n    return this._complex\n  }\n\n  getName() {\n    return this._name\n  }\n\n  getResidues() {\n    return this._residues\n  }\n\n  _determineType() {\n    const residues = this._residues\n\n    const { PROTEIN, NUCLEIC } = ResidueType.Flags\n\n    this.type = ChainType.UNKNOWN\n\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      const { flags } = residues[i]._type\n\n      if ((flags & NUCLEIC) !== 0) {\n        this.type = ChainType.NUCLEIC\n        break\n      } else if ((flags & PROTEIN) !== 0) {\n        this.type = ChainType.PROTEIN\n        break\n      }\n    }\n  }\n\n  /**\n   * Finds thre residue with specified sequence number and inserion code\n   * @param {Number} seqNum sequence number\n   * @param {string} iCode insertion code\n   * @returns {*} Residue or null if not found\n   */\n  findResidue(seqNum, iCode) {\n    const residues = this._residues\n\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      const res = residues[i]\n      if (res._sequence === seqNum && res._icode === iCode) {\n        return [res, i]\n      }\n    }\n\n    return null\n  }\n\n  _finalize() {\n    this._determineType()\n\n    const residues = this._residues\n\n    let prev = null\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      const next = i + 1 < n ? residues[i + 1] : null\n      const curr = residues[i]\n      // TODO: skip invalid residues\n      // eslint-disable-next-line no-constant-condition\n      if (1 /* curr._isValid */) {\n        curr._finalize2(prev, next, this.type === ChainType.NUCLEIC)\n        prev = curr\n      }\n    }\n\n    // fix very first wing\n    if (residues.length > 1 && residues[1]._wingVector) {\n      const p = residues[1]._wingVector\n      residues[0]._wingVector = new THREE.Vector3(p.x, p.y, p.z)\n    } else if (residues.length > 0) {\n      residues[0]._wingVector = new THREE.Vector3(1, 0, 0)\n    }\n  }\n\n  updateToFrame(frameData) {\n    const residues = this._residues\n    let prev = null\n    let prevData = null\n    const frameRes = frameData._residues\n    const n = residues.length\n    function getAtomPos(atom) {\n      return frameData.getAtomPos(atom.index)\n    }\n\n    for (let i = 0; i < n; ++i) {\n      const curr = residues[i]\n      const currData = frameRes[curr._index]\n      const nextRes = i + 1 < n ? residues[i + 1] : null\n      curr._innerFinalize(\n        prev,\n        prevData,\n        nextRes,\n        currData,\n        this.type === ChainType.NUCLEIC,\n        getAtomPos\n      )\n      prev = curr\n      prevData = currData\n    }\n\n    frameRes[residues[0]._index]._wingVector =\n      n > 1\n        ? frameRes[residues[1]._index]._wingVector\n        : new THREE.Vector3(1, 0, 0)\n  }\n\n  /**\n   * Create a new residue.\n   *\n   * @param {string} name - Residue name.\n   * @param {number} sequence - Residue sequence number.\n   * @param {string} iCode - Insertion code.\n   * @returns {Residue} - Newly created residue instance.\n   */\n  addResidue(name, sequence, iCode) {\n    let type = this._complex.getResidueType(name)\n    if (type === null) {\n      type = this._complex.addResidueType(name)\n    }\n    const residue = new Residue(this, type, sequence, iCode)\n    this._complex.addResidue(residue)\n    this._residues.push(residue)\n\n    if (type.flags & (ResidueType.Flags.NUCLEIC | ResidueType.Flags.PROTEIN)) {\n      if (this.maxSequence < sequence) {\n        this.maxSequence = sequence\n      }\n      if (this.minSequence > sequence) {\n        this.minSequence = sequence\n      }\n    }\n\n    return residue\n  }\n\n  getResidueCount() {\n    return this._residues.length\n  }\n\n  forEachResidue(process) {\n    const residues = this._residues\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      process(residues[i])\n    }\n  }\n\n  collectMask() {\n    let mask = 0xffffffff\n    const residues = this._residues\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      mask &= residues[i]._mask\n    }\n    this._mask = mask\n  }\n}\n\nexport default Chain\n","import Residue from './Residue'\n\n/** An element of protein secondary structure. */\nclass StructuralElement {\n  /**\n   * Create a secondary structural element of the specified type.\n   *\n   * @param {StructuralElement.Type} type Secondary structure type.\n   * @param {Residue} init Initial residue.\n   * @param {Residue} term Terminal residue.\n   */\n  constructor(type, init, term) {\n    /**\n     * Secondary structure type.\n     * @type {StructuralElement.Type}\n     */\n    this.type = type\n    /**\n     * Generic secondary structure type.\n     * @type {StructuralElement.Generic}\n     */\n    this.generic = StructuralElement.genericByType[this.type] || 'loop'\n    /**\n     * Initial residue.\n     * @type Residue\n     */\n    this.init = init\n    /**\n     * Terminal residue.\n     * @type Residue\n     */\n    this.term = term\n  }\n\n  /**\n   * An internal method for making a final pass over the complex to set all required references.\n   *\n   * **NOTE:** I'm sorry. It's a legacy code waiting for refactoring.\n   * Just copying it as-is right now and hoping for the best.\n   *\n   * @param {object} serialAtomMap A dictionary of atoms\n   * @param {object} residueHash A dictionary of hashed residues to check.\n   * @param {Complex} complex The molecular complex this element belongs to.\n   */\n  _finalize(serialAtomMap, residueHash, complex) {\n    if (this.init instanceof Residue && this.term instanceof Residue) {\n      return\n    }\n\n    // Link all intermediate residues to this structural element\n    const start = complex.splitUnifiedSerial(this.init)\n    const end = complex.splitUnifiedSerial(this.term)\n    for (let chainId = start.chain; chainId <= end.chain; chainId++) {\n      for (let serialId = start.serial; serialId <= end.serial; serialId++) {\n        for (let { iCode } = start; iCode <= end.iCode; iCode++) {\n          const hashCode = complex.getUnifiedSerial(chainId, serialId, iCode)\n          if (residueHash[hashCode]) {\n            residueHash[hashCode]._secondary = this\n          }\n        }\n      }\n    }\n\n    // Replace unfined serials by objects\n    this.init = residueHash[this.init]\n    this.term = residueHash[this.term]\n  }\n}\n\n/**\n * Specific type of a secondary structural element.\n * @enum {string}\n * @see StructuralElement.Generic\n */\nStructuralElement.Type = {\n  /** A strand of a [beta-sheet](https://en.wikipedia.org/wiki/Beta_sheet). */\n  STRAND: 'E',\n  /** An isolated beta-bridge (too small for a beta-sheet). */\n  BRIDGE: 'B',\n\n  /** A [3/10 helix](https://en.wikipedia.org/wiki/310_helix) (hydrogen bonding is 3 residues apart). */\n  HELIX_310: 'G',\n  /** An [alpha-helix](https://en.wikipedia.org/wiki/Alpha_helix) (hydrogen bonding is 4 residues apart). */\n  HELIX_ALPHA: 'H',\n  /** A [pi-helix](https://en.wikipedia.org/wiki/Pi_helix) (hydrogen bonding is 5 residues apart). */\n  HELIX_PI: 'I',\n  /** A generic helix of unspecified bonding distance. */\n  HELIX: 'X',\n\n  /** An isolated 3/10-like helical turn. */\n  TURN_310: '3',\n  /** An isolated alpha-like helical turn. */\n  TURN_ALPHA: '4',\n  /** An isolated pi-like helical turn. */\n  TURN_PI: '5',\n  /** An isolated helical [turn](https://en.wikipedia.org/wiki/Turn_(biochemistry)) of unspecified bonding distance. */\n  TURN: 'T',\n\n  /** A bend (a region of high curvature). */\n  BEND: 'S',\n  /** Just a protein section with no particular conformation. */\n  COIL: 'C'\n}\n\n/**\n * Generic type of a secondary structural element.\n * @enum {string}\n * @see StructuralElement.Type\n */\nStructuralElement.Generic = {\n  /** A strand of a sheet. */\n  STRAND: 'strand',\n  /** A helix. */\n  HELIX: 'helix',\n  /** Just a protein section with no particular conformation. */\n  LOOP: 'loop'\n}\n\nconst StructuralElementType = StructuralElement.Type\nconst StructuralElementGeneric = StructuralElement.Generic\n\n/**\n * A mapping from specific types to generic ones.\n * @type {Object<StructuralElement.Type, StructuralElement.Generic>}\n */\nStructuralElement.genericByType = {\n  [StructuralElementType.STRAND]: StructuralElementGeneric.STRAND,\n  [StructuralElementType.HELIX_310]: StructuralElementGeneric.HELIX,\n  [StructuralElementType.HELIX_ALPHA]: StructuralElementGeneric.HELIX,\n  [StructuralElementType.HELIX_PI]: StructuralElementGeneric.HELIX,\n  [StructuralElementType.HELIX]: StructuralElementGeneric.HELIX\n}\n\nexport default StructuralElement\n","import StructuralElement from './StructuralElement'\n\nconst StructuralElementType = StructuralElement.Type\n\nexport const typeByPDBHelixClass = {\n  1: StructuralElementType.HELIX_ALPHA,\n  3: StructuralElementType.HELIX_PI,\n  5: StructuralElementType.HELIX_310\n}\n\n/**\n * Helical secondary structure of a protein.\n * @extends StructuralElement\n */\nclass Helix extends StructuralElement {\n  /**\n   * Create a helix.\n   *\n   * @param {number} helixClass A helix class according to the\n   *   [PDB Format](http://www.wwpdb.org/documentation/file-format-content/format33/sect5.html#HELIX).\n   * @param {Residue} init Initial residue.\n   * @param {Residue} term Terminal residue.\n   * @param {number} serial Serial number of the helix (see PDB Format).\n   * @param {string} name Helix identifier (see PDB Format).\n   * @param {string} comment Comment about this helix (see PDB Format).\n   * @param {number} length Length of this helix, in residues (see PDB Format).\n   */\n  constructor(helixClass, init, term, serial, name, comment, length) {\n    super(\n      typeByPDBHelixClass[helixClass] || StructuralElement.Type.HELIX,\n      init,\n      term\n    )\n\n    /**\n     * Serial number of the helix (see PDB Format).\n     * @type {number}\n     */\n    this.serial = serial\n    /**\n     * Helix identifier (see PDB Format).\n     * @type {string}\n     */\n    this.name = name\n    /**\n     * Comment about this helix (see PDB Format).\n     * @type {string}\n     */\n    this.comment = comment\n    /**\n     * Length of this helix, in residues (see PDB Format).\n     * @type {number}\n     */\n    this.length = length\n  }\n}\n\nexport default Helix\n","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","import StructuralElement from './StructuralElement'\n\n/**\n * A single strand of a sheet in a protein secondary structure.\n * @extends StructuralElement\n */\nclass Strand extends StructuralElement {\n  /**\n   * Create a strand.\n   *\n   * @param {Sheet} sheet Parent sheet this strand belongs to.\n   * @param {Residue} init Initial residue.\n   * @param {Residue} term Terminal residue.\n   * @param {number} sense Sense of strand with respect to previous strand in the sheet.\n   *   - 0 if the first strand,\n   *   - 1 if parallel, and\n   *   - -1 if anti-parallel.\n   * @param {Atom} atomCur Atom in current strand (see PDB Format).\n   * @param {Atom} atomPrev Atom in previous strand (see PDB Format).\n   */\n  constructor(sheet, init, term, sense, atomCur, atomPrev) {\n    super(StructuralElement.Type.STRAND, init, term)\n\n    /**\n     * Parent sheet this strand belongs to.\n     * @type {Sheet}\n     */\n    this.sheet = sheet\n    /**\n     * Sense of strand with respect to previous strand in the sheet.\n     * - 0 if the first strand,\n     * - 1 if parallel, and\n     * - -1 if anti-parallel.\n     * @type {number}\n     */\n    this.sense = sense\n    /**\n     * Atom in current strand (see PDB Format).\n     * @type {Atom}\n     */\n    this.atomCur = atomCur\n    /**\n     * Atom in previous strand (see PDB Format).\n     * @type {Atom}\n     */\n    this.atomPrev = atomPrev\n  }\n\n  /**\n   * An internal method for making a final pass over the complex to set all required references.\n   *\n   * **NOTE:** I'm sorry. It's a legacy code waiting for refactoring.\n   * Just copying it as-is right now and hoping for the best.\n   *\n   * @param {object} serialAtomMap A dictionary of atoms\n   * @param {object} residueHash A dictionary of hashed residues to check.\n   * @param {Complex} complex The molecular complex this element belongs to.\n   *\n   * @override\n   */\n  _finalize(serialAtomMap, residueHash, complex) {\n    super._finalize(serialAtomMap, residueHash, complex)\n\n    let as = this.atomCur\n    if (as !== null && !Number.isNaN(as)) {\n      this.atomCur = serialAtomMap[as]\n    }\n    as = this.atomPrev\n    if (as !== null && !Number.isNaN(as)) {\n      this.atomPrev = serialAtomMap[as]\n    }\n  }\n}\n\nexport default Strand\n","import Strand from './Strand'\n\n/**\n * Sheet secondary structure of a protein.\n *\n * @param {string} name -\n * @param {number} width -\n *\n * @exports Sheet\n * @constructor\n */\nclass Sheet {\n  constructor(name, width) {\n    this._name = name\n    this._width = width\n\n    this._strands = []\n  }\n\n  // Getters and setters\n  getName() {\n    return this._name\n  }\n\n  getWidth() {\n    return this._width\n  }\n\n  addStrand(strand) {\n    this._strands.push(strand)\n    this._width = this._strands.length\n  }\n\n  addEmptyStrand() {\n    this._strands.push(new Strand(null, null, null, null, null, null))\n  }\n\n  _finalize(serialAtomMap, residueHash, complex) {\n    const s = this._strands\n    for (let i = 0, n = s.length; i < n; ++i) {\n      s[i]._finalize(serialAtomMap, residueHash, complex)\n    }\n    if (!this._width) {\n      this._width = s.length\n    }\n    if (s.length !== this._width) {\n      throw new Error(`Sheet ${this._name} is inconsistent.`)\n    }\n  }\n}\n\nexport default Sheet\n","import * as THREE from 'three'\n\n/**\n * Atom measurements.\n *\n * @param {string} id              - SGroup id\n * @param {string} name            - Name of the group\n * @param {THREE.Vector3} position - Registered coordinates\n * @param {array} atoms            - Atoms group consists of\n * @param {object} saveNode        - XML node from file for saving\n *\n * @exports SGroup\n * @constructor\n */\nclass SGroup {\n  constructor(id, name, position, atoms, saveNode) {\n    this._id = id\n    this._name = name\n    this._position = position || new THREE.Vector3()\n    this._atoms = atoms || []\n    this._charge = 0 // default group charge\n    this._repeat = 1 // how many times group repeated: always > 0\n    this._center = null\n    this.xmlNodeRef = saveNode || null\n  }\n\n  /**\n   * Get atom full name.\n   * @returns {string} Atom full name.\n   */\n  getName() {\n    return this._name\n  }\n\n  getPosition() {\n    return this._position\n  }\n\n  getCentralPoint() {\n    return this._center\n  }\n\n  _rebuildSGroupOnAtomChange() {\n    const nLimon = 100000000\n    if (this._center === null) {\n      return // nothing to do if we are not relative\n    }\n\n    const bLow = new THREE.Vector3(nLimon, nLimon, nLimon)\n    const bHight = new THREE.Vector3(-nLimon, -nLimon, -nLimon)\n    for (let j = 0, n = this._atoms.length; j < n; j++) {\n      const aPos = this._atoms[j].position\n      bLow.set(\n        Math.min(bLow.x, aPos.x),\n        Math.min(bLow.y, aPos.y),\n        Math.min(bLow.z, aPos.z)\n      )\n      bHight.set(\n        Math.max(bHight.x, aPos.x),\n        Math.max(bHight.y, aPos.y),\n        Math.max(bHight.z, aPos.z)\n      )\n    }\n    this._center.addVectors(bLow, bHight)\n    this._center.multiplyScalar(0.5)\n  }\n}\n\nexport default SGroup\n","/* eslint-disable */\n// DO NOT EDIT! Automatically generated from .jison\n/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function () {\n  var o = function (k, v, o, l) {\n      for (o = o || {}, l = k.length; l--; o[k[l]] = v);\n      return o\n    },\n    $V0 = [1, 4],\n    $V1 = [1, 5],\n    $V2 = [1, 6],\n    $V3 = [1, 7],\n    $V4 = [1, 8],\n    $V5 = [1, 9],\n    $V6 = [1, 11],\n    $V7 = [1, 12],\n    $V8 = [5, 7, 8, 11],\n    $V9 = [1, 17],\n    $Va = [1, 22],\n    $Vb = [1, 20],\n    $Vc = [1, 21],\n    $Vd = [5, 7, 8, 11, 19]\n  var parser = {\n    trace: function trace() {},\n    yy: {},\n    symbols_: {\n      error: 2,\n      Program: 3,\n      Expression: 4,\n      EOF: 5,\n      Selector: 6,\n      OR: 7,\n      AND: 8,\n      NOT: 9,\n      '(': 10,\n      ')': 11,\n      SELECTOR: 12,\n      NAMED_SELECTOR: 13,\n      SELECTOR_RANGED: 14,\n      RangeList: 15,\n      SELECTOR_NAMED: 16,\n      NameList: 17,\n      Range: 18,\n      ',': 19,\n      NUMBER: 20,\n      ':': 21,\n      Name: 22,\n      IDENTIFIER: 23,\n      STRING: 24,\n      $accept: 0,\n      $end: 1\n    },\n    terminals_: {\n      2: 'error',\n      5: 'EOF',\n      7: 'OR',\n      8: 'AND',\n      9: 'NOT',\n      10: '(',\n      11: ')',\n      12: 'SELECTOR',\n      13: 'NAMED_SELECTOR',\n      14: 'SELECTOR_RANGED',\n      16: 'SELECTOR_NAMED',\n      19: ',',\n      20: 'NUMBER',\n      21: ':',\n      23: 'IDENTIFIER',\n      24: 'STRING'\n    },\n    productions_: [\n      0,\n      [3, 2],\n      [4, 1],\n      [4, 3],\n      [4, 3],\n      [4, 2],\n      [4, 3],\n      [6, 1],\n      [6, 1],\n      [6, 2],\n      [6, 2],\n      [15, 1],\n      [15, 3],\n      [18, 1],\n      [18, 3],\n      [17, 1],\n      [17, 3],\n      [22, 1],\n      [22, 1],\n      [22, 1]\n    ],\n    performAction: function anonymous(\n      yytext,\n      yyleng,\n      yylineno,\n      yy,\n      yystate /* action[1] */,\n      $$ /* vstack */,\n      _$ /* lstack */\n    ) {\n      /* this == yyval */\n\n      var $0 = $$.length - 1\n      switch (yystate) {\n        case 1:\n          return $$[$0 - 1]\n          break\n        case 3:\n          this.$ = yy.keyword('or')($$[$0 - 2], $$[$0])\n          break\n        case 4:\n          this.$ = yy.keyword('and')($$[$0 - 2], $$[$0])\n          break\n        case 5:\n          this.$ = yy.keyword('not')($$[$0])\n          break\n        case 6:\n          this.$ = $$[$0 - 1]\n          break\n        case 7:\n          this.$ = yy.keyword($$[$0])()\n          break\n        case 8:\n          this.$ = yy.GetSelector($$[$0].toLowerCase().slice(1, $$[$0].length))\n          break\n        case 9:\n        case 10:\n          this.$ = yy.keyword($$[$0 - 1])($$[$0])\n          break\n        case 11:\n          this.$ = new yy.RangeList($$[$0])\n          break\n        case 12:\n        case 16:\n          this.$ = $$[$0 - 2].append($$[$0])\n          break\n        case 13:\n          this.$ = new yy.Range(Number($$[$0]))\n          break\n        case 14:\n          this.$ = new yy.Range(Number($$[$0 - 2]), Number($$[$0]))\n          break\n        case 15:\n          this.$ = new yy.ValueList($$[$0])\n          break\n      }\n    },\n    table: [\n      { 3: 1, 4: 2, 6: 3, 9: $V0, 10: $V1, 12: $V2, 13: $V3, 14: $V4, 16: $V5 },\n      { 1: [3] },\n      { 5: [1, 10], 7: $V6, 8: $V7 },\n      o($V8, [2, 2]),\n      { 4: 13, 6: 3, 9: $V0, 10: $V1, 12: $V2, 13: $V3, 14: $V4, 16: $V5 },\n      { 4: 14, 6: 3, 9: $V0, 10: $V1, 12: $V2, 13: $V3, 14: $V4, 16: $V5 },\n      o($V8, [2, 7]),\n      o($V8, [2, 8]),\n      { 15: 15, 18: 16, 20: $V9 },\n      { 17: 18, 20: $Va, 22: 19, 23: $Vb, 24: $Vc },\n      { 1: [2, 1] },\n      { 4: 23, 6: 3, 9: $V0, 10: $V1, 12: $V2, 13: $V3, 14: $V4, 16: $V5 },\n      { 4: 24, 6: 3, 9: $V0, 10: $V1, 12: $V2, 13: $V3, 14: $V4, 16: $V5 },\n      o($V8, [2, 5]),\n      { 7: $V6, 8: $V7, 11: [1, 25] },\n      o($V8, [2, 9], { 19: [1, 26] }),\n      o($Vd, [2, 11]),\n      o($Vd, [2, 13], { 21: [1, 27] }),\n      o($V8, [2, 10], { 19: [1, 28] }),\n      o($Vd, [2, 15]),\n      o($Vd, [2, 17]),\n      o($Vd, [2, 18]),\n      o($Vd, [2, 19]),\n      o([5, 7, 11], [2, 3], { 8: $V7 }),\n      o($V8, [2, 4]),\n      o($V8, [2, 6]),\n      { 18: 29, 20: $V9 },\n      { 20: [1, 30] },\n      { 20: $Va, 22: 31, 23: $Vb, 24: $Vc },\n      o($Vd, [2, 12]),\n      o($Vd, [2, 14]),\n      o($Vd, [2, 16])\n    ],\n    defaultActions: { 10: [2, 1] },\n    parseError: function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str)\n      } else {\n        var error = new Error(str)\n        error.hash = hash\n        throw error\n      }\n    },\n    parse: function parse(input) {\n      var self = this,\n        stack = [0],\n        tstack = [],\n        vstack = [null],\n        lstack = [],\n        table = this.table,\n        yytext = '',\n        yylineno = 0,\n        yyleng = 0,\n        recovering = 0,\n        TERROR = 2,\n        EOF = 1\n      var args = lstack.slice.call(arguments, 1)\n      var lexer = Object.create(this.lexer)\n      var sharedState = { yy: {} }\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k]\n        }\n      }\n      lexer.setInput(input, sharedState.yy)\n      sharedState.yy.lexer = lexer\n      sharedState.yy.parser = this\n      if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {}\n      }\n      var yyloc = lexer.yylloc\n      lstack.push(yyloc)\n      var ranges = lexer.options && lexer.options.ranges\n      if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n\n        vstack.length = vstack.length - n\n        lstack.length = lstack.length - n\n      }\n      function lex() {\n        var token\n        token = tstack.pop() || lexer.lex() || EOF\n        if (typeof token !== 'number') {\n          if (token instanceof Array) {\n            tstack = token\n            token = tstack.pop()\n          }\n          token = self.symbols_[token] || token\n        }\n        return token\n      }\n      var symbol,\n        preErrorSymbol,\n        state,\n        action,\n        a,\n        r,\n        yyval = {},\n        p,\n        len,\n        newState,\n        expected\n      while (true) {\n        state = stack[stack.length - 1]\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state]\n        } else {\n          if (symbol === null || typeof symbol == 'undefined') {\n            symbol = lex()\n          }\n          action = table[state] && table[state][symbol]\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n          var errStr = ''\n          expected = []\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push(\"'\" + this.terminals_[p] + \"'\")\n            }\n          }\n          if (lexer.showPosition) {\n            errStr =\n              'Parse error on line ' +\n              (yylineno + 1) +\n              ':\\n' +\n              lexer.showPosition() +\n              '\\nExpecting ' +\n              expected.join(', ') +\n              \", got '\" +\n              (this.terminals_[symbol] || symbol) +\n              \"'\"\n          } else {\n            errStr =\n              'Parse error on line ' +\n              (yylineno + 1) +\n              ': Unexpected ' +\n              (symbol == EOF\n                ? 'end of input'\n                : \"'\" + (this.terminals_[symbol] || symbol) + \"'\")\n          }\n          this.parseError(errStr, {\n            text: lexer.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer.yylineno,\n            loc: yyloc,\n            expected: expected\n          })\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error(\n            'Parse Error: multiple actions possible at state: ' +\n              state +\n              ', token: ' +\n              symbol\n          )\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol)\n            vstack.push(lexer.yytext)\n            lstack.push(lexer.yylloc)\n            stack.push(action[1])\n            symbol = null\n            if (!preErrorSymbol) {\n              yyleng = lexer.yyleng\n              yytext = lexer.yytext\n              yylineno = lexer.yylineno\n              yyloc = lexer.yylloc\n              if (recovering > 0) {\n                recovering--\n              }\n            } else {\n              symbol = preErrorSymbol\n              preErrorSymbol = null\n            }\n            break\n          case 2:\n            len = this.productions_[action[1]][1]\n            yyval.$ = vstack[vstack.length - len]\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            }\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ]\n            }\n            r = this.performAction.apply(\n              yyval,\n              [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n              ].concat(args)\n            )\n            if (typeof r !== 'undefined') {\n              return r\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2)\n              vstack = vstack.slice(0, -1 * len)\n              lstack = lstack.slice(0, -1 * len)\n            }\n            stack.push(this.productions_[action[1]][0])\n            vstack.push(yyval.$)\n            lstack.push(yyval._$)\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]]\n            stack.push(newState)\n            break\n          case 3:\n            return true\n        }\n      }\n      return true\n    }\n  }\n\n  /* generated by jison-lex 0.3.4 */\n  var lexer = (function () {\n    var lexer = {\n      EOF: 1,\n\n      parseError: function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash)\n        } else {\n          throw new Error(str)\n        }\n      },\n\n      // resets the lexer, sets new input\n      setInput: function (input, yy) {\n        this.yy = yy || this.yy || {}\n        this._input = input\n        this._more = this._backtrack = this.done = false\n        this.yylineno = this.yyleng = 0\n        this.yytext = this.matched = this.match = ''\n        this.conditionStack = ['INITIAL']\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        }\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0]\n        }\n        this.offset = 0\n        return this\n      },\n\n      // consumes and returns one char from the input\n      input: function () {\n        var ch = this._input[0]\n        this.yytext += ch\n        this.yyleng++\n        this.offset++\n        this.match += ch\n        this.matched += ch\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g)\n        if (lines) {\n          this.yylineno++\n          this.yylloc.last_line++\n        } else {\n          this.yylloc.last_column++\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++\n        }\n\n        this._input = this._input.slice(1)\n        return ch\n      },\n\n      // unshifts one char (or a string) into the input\n      unput: function (ch) {\n        var len = ch.length\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g)\n\n        this._input = ch + this._input\n        this.yytext = this.yytext.substr(0, this.yytext.length - len)\n        //this.yyleng -= len;\n        this.offset -= len\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g)\n        this.match = this.match.substr(0, this.match.length - 1)\n        this.matched = this.matched.substr(0, this.matched.length - 1)\n\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1\n        }\n        var r = this.yylloc.range\n\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines\n            ? (lines.length === oldLines.length\n                ? this.yylloc.first_column\n                : 0) +\n              oldLines[oldLines.length - lines.length].length -\n              lines[0].length\n            : this.yylloc.first_column - len\n        }\n\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len]\n        }\n        this.yyleng = this.yytext.length\n        return this\n      },\n\n      // When called from action, caches matched text and appends it on next action\n      more: function () {\n        this._more = true\n        return this\n      },\n\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: function () {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true\n        } else {\n          return this.parseError(\n            'Lexical error on line ' +\n              (this.yylineno + 1) +\n              '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' +\n              this.showPosition(),\n            {\n              text: '',\n              token: null,\n              line: this.yylineno\n            }\n          )\n        }\n        return this\n      },\n\n      // retain first n characters of the match\n      less: function (n) {\n        this.unput(this.match.slice(n))\n      },\n\n      // displays already matched input, i.e. for error messages\n      pastInput: function () {\n        var past = this.matched.substr(\n          0,\n          this.matched.length - this.match.length\n        )\n        return (\n          (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, '')\n        )\n      },\n\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: function () {\n        var next = this.match\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length)\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(\n          /\\n/g,\n          ''\n        )\n      },\n\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: function () {\n        var pre = this.pastInput()\n        var c = new Array(pre.length + 1).join('-')\n        return pre + this.upcomingInput() + '\\n' + c + '^'\n      },\n\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: function (match, indexed_rule) {\n        var token, lines, backup\n\n        if (this.options.backtrack_lexer) {\n          // save context\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          }\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0)\n          }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g)\n        if (lines) {\n          this.yylineno += lines.length\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines\n            ? lines[lines.length - 1].length -\n              lines[lines.length - 1].match(/\\r?\\n?/)[0].length\n            : this.yylloc.last_column + match[0].length\n        }\n        this.yytext += match[0]\n        this.match += match[0]\n        this.matches = match\n        this.yyleng = this.yytext.length\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, (this.offset += this.yyleng)]\n        }\n        this._more = false\n        this._backtrack = false\n        this._input = this._input.slice(match[0].length)\n        this.matched += match[0]\n        token = this.performAction.call(\n          this,\n          this.yy,\n          this,\n          indexed_rule,\n          this.conditionStack[this.conditionStack.length - 1]\n        )\n        if (this.done && this._input) {\n          this.done = false\n        }\n        if (token) {\n          return token\n        } else if (this._backtrack) {\n          // recover context\n          for (var k in backup) {\n            this[k] = backup[k]\n          }\n          return false // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false\n      },\n\n      // return next match in input\n      next: function () {\n        if (this.done) {\n          return this.EOF\n        }\n        if (!this._input) {\n          this.done = true\n        }\n\n        var token, match, tempMatch, index\n        if (!this._more) {\n          this.yytext = ''\n          this.match = ''\n        }\n        var rules = this._currentRules()\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]])\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch\n            index = i\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i])\n              if (token !== false) {\n                return token\n              } else if (this._backtrack) {\n                match = false\n                continue // rule action called reject() implying a rule MISmatch.\n              } else {\n                // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                return false\n              }\n            } else if (!this.options.flex) {\n              break\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index])\n          if (token !== false) {\n            return token\n          }\n          // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n          return false\n        }\n        if (this._input === '') {\n          return this.EOF\n        } else {\n          return this.parseError(\n            'Lexical error on line ' +\n              (this.yylineno + 1) +\n              '. Unrecognized text.\\n' +\n              this.showPosition(),\n            {\n              text: '',\n              token: null,\n              line: this.yylineno\n            }\n          )\n        }\n      },\n\n      // return next match that has a token\n      lex: function lex() {\n        var r = this.next()\n        if (r) {\n          return r\n        } else {\n          return this.lex()\n        }\n      },\n\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: function begin(condition) {\n        this.conditionStack.push(condition)\n      },\n\n      // pop the previously active lexer condition state off the condition stack\n      popState: function popState() {\n        var n = this.conditionStack.length - 1\n        if (n > 0) {\n          return this.conditionStack.pop()\n        } else {\n          return this.conditionStack[0]\n        }\n      },\n\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: function _currentRules() {\n        if (\n          this.conditionStack.length &&\n          this.conditionStack[this.conditionStack.length - 1]\n        ) {\n          return this.conditions[\n            this.conditionStack[this.conditionStack.length - 1]\n          ].rules\n        } else {\n          return this.conditions['INITIAL'].rules\n        }\n      },\n\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0)\n        if (n >= 0) {\n          return this.conditionStack[n]\n        } else {\n          return 'INITIAL'\n        }\n      },\n\n      // alias for begin(condition)\n      pushState: function pushState(condition) {\n        this.begin(condition)\n      },\n\n      // return the number of states currently on the stack\n      stateStackSize: function stateStackSize() {\n        return this.conditionStack.length\n      },\n      options: { 'case-insensitive': true },\n      performAction: function anonymous(\n        yy,\n        yy_,\n        $avoiding_name_collisions,\n        YY_START\n      ) {\n        var YYSTATE = YY_START\n        switch ($avoiding_name_collisions) {\n          case 0 /* skip whitespace */:\n            break\n          case 1:\n            return 20\n            break\n          case 2:\n            return 7\n            break\n          case 3:\n            return 8\n            break\n          case 4:\n            return 9\n            break\n          case 5:\n            return 12\n            break\n          case 6:\n            return 16\n            break\n          case 7:\n            return 14\n            break\n          case 8:\n            return 10\n            break\n          case 9:\n            return 11\n            break\n          case 10:\n            return 19\n            break\n          case 11:\n            return 21\n            break\n          case 12:\n            return '<='\n            break\n          case 13:\n            return '>='\n            break\n          case 14:\n            return '<'\n            break\n          case 15:\n            return '>'\n            break\n          case 16:\n            yy_.yytext = yy_.yytext.substr(1, yy_.yyleng - 2)\n            return 24\n            break\n          case 17:\n            return 13\n            break\n          case 18:\n            return 23\n            break\n          case 19:\n            return 5\n            break\n          case 20:\n            return 'INVALID'\n            break\n        }\n      },\n      rules: [\n        /^(?:\\s+)/i,\n        /^(?:(-?(?:[1-9][0-9]+|[0-9]))\\b)/i,\n        /^(?:OR\\b)/i,\n        /^(?:AND\\b)/i,\n        /^(?:NOT\\b)/i,\n        /^(?:((ALL|NONE|HETATM|PROTEIN|BASIC|ACIDIC|CHARGED|POLAR|NONPOLAR|AROMATIC|NUCLEIC|PURINE|PYRIMIDINE|WATER|POLARH|NONPOLARH))\\b)/i,\n        /^(?:((NAME|ELEM|TYPE|RESIDUE|ICODE|CHAIN|ALTLOC))\\b)/i,\n        /^(?:((SERIAL|SEQUENCE|RESIDX))\\b)/i,\n        /^(?:\\()/i,\n        /^(?:\\))/i,\n        /^(?:,)/i,\n        /^(?::)/i,\n        /^(?:<=)/i,\n        /^(?:>=)/i,\n        /^(?:<)/i,\n        /^(?:>)/i,\n        /^(?:((?:\"(?:\\\\.|[^\\\\\"])*\"|'(?:\\\\.|[^\\\\'])*')))/i,\n        /^(?:(@[_A-Z0-9]+))/i,\n        /^(?:([_A-Z0-9]+))/i,\n        /^(?:$)/i,\n        /^(?:.)/i\n      ],\n      conditions: {\n        INITIAL: {\n          rules: [\n            0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,\n            19, 20\n          ],\n          inclusive: true\n        }\n      }\n    }\n    return lexer\n  })()\n  parser.lexer = lexer\n  function Parser() {\n    this.yy = {}\n  }\n  Parser.prototype = parser\n  parser.Parser = Parser\n  return new Parser()\n})()\n\nmodule.exports = { parser: parser }\n","import utils from '../../utils'\n\n// ----------------------------------------------------------------------------\nclass Range {\n  constructor(min, max) {\n    this.min = min\n    this.max = typeof max === 'undefined' ? min : max\n  }\n\n  includes(value) {\n    return this.min <= value && value <= this.max\n  }\n\n  toString() {\n    const { min, max } = this\n    return min === max ? String(min) : [min, max].join(':')\n  }\n\n  toJSON() {\n    return [this.min, this.max]\n  }\n}\n\n// ////////////////////////////////////////////////////////////////////////////\n\nclass List {\n  constructor(arg) {\n    if (arg instanceof this.constructor) {\n      return arg\n    }\n    if (arg instanceof Array) {\n      this._values = arg.slice(0)\n    } else if (arg) {\n      this._values = [arg]\n    } else {\n      this._values = []\n    }\n  }\n\n  append(value) {\n    const values = this._values\n    values[values.length] = value\n    return this\n  }\n\n  remove(value) {\n    const values = this._values\n    const index = values.indexOf(value)\n    if (index >= 0) {\n      values.splice(index, 1)\n    }\n    return this\n  }\n\n  toString() {\n    return this._values.join(',')\n  }\n\n  toJSON() {\n    const values = this._values\n    const result = []\n    for (let i = 0, n = values.length; i < n; ++i) {\n      const value = values[i]\n      result[i] = value.toJSON ? value.toJSON() : value\n    }\n    return result\n  }\n}\n\n// ----------------------------------------------------------------------------\n\nclass RangeList extends List {\n  includes(value) {\n    const list = this._values\n    for (let i = 0, n = list.length; i < n; ++i) {\n      if (list[i].includes(value)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\n// ----------------------------------------------------------------------------\n\nconst valuesArray = []\n\nclass ValueList extends List {\n  constructor(arg, upperOnly) {\n    const list = super(arg)\n    if (upperOnly) {\n      this.upperOnly = true\n      const values = list._values\n      for (let i = 0, n = values.length; i < n; ++i) {\n        const value = values[i]\n        if (typeof value === 'string') {\n          values[i] = value.toUpperCase()\n        }\n      }\n    } else {\n      this.upperOnly = false\n    }\n    return list\n  }\n\n  includes(value) {\n    // we do not convert to upper case here for perfomance reasons\n    // if list is upper case only, value must be converted before it is sent up to  here\n    return this._values.indexOf(value) !== -1\n  }\n\n  toString() {\n    // Quote values that are not correct identifiers\n    const values = this._values\n    valuesArray.length = 0\n    for (let i = 0, n = values.length; i < n; ++i) {\n      valuesArray[i] = utils.correctSelectorIdentifier(String(values[i]))\n    }\n    return valuesArray.join(',')\n  }\n\n  _validate(value) {\n    return this.upperOnly && typeof value === 'string'\n      ? value.toUpperCase()\n      : value\n  }\n\n  append(value) {\n    super.append(this._validate(value))\n    return this\n  }\n\n  remove(value) {\n    super.remove(this._validate(value))\n    return this\n  }\n}\n\nexport { Range, List, RangeList, ValueList }\n","import { RangeList, ValueList } from './selectArgs'\n\n/** Base class for atom selectors. */\nclass Selector {\n  toString() {\n    return this.keyword\n  }\n\n  toJSON() {\n    return [this.name]\n  }\n}\n\nSelector.prototype.name = 'Error'\nSelector.prototype.keyword = 'error'\n\n/** Base class for list-based atom selectors. */\nclass ListSelector extends Selector {\n  constructor(list) {\n    super()\n    this.list = list\n  }\n\n  toString() {\n    return `${this.keyword} ${this.list}`\n  }\n\n  toJSON() {\n    return [this.name, this.list.toJSON()]\n  }\n}\n\nclass RangeListSelector extends ListSelector {\n  constructor(arg) {\n    super(new RangeList(arg))\n  }\n}\n\nclass ValueListSelector extends ListSelector {\n  constructor(arg, caseSensitive) {\n    super(new ValueList(arg, !caseSensitive))\n  }\n}\n\nclass NoneSelector extends Selector {\n  includesAtom(_atom) {\n    return false\n  }\n}\n\nNoneSelector.prototype.name = 'None'\nNoneSelector.prototype.keyword = 'none'\n\nclass AllSelector extends Selector {\n  includesAtom(_atom) {\n    return true\n  }\n}\n\nAllSelector.prototype.name = 'All'\nAllSelector.prototype.keyword = 'all'\n\nexport {\n  Selector,\n  ListSelector,\n  RangeListSelector,\n  ValueListSelector,\n  NoneSelector,\n  AllSelector\n}\n","import { Selector, NoneSelector } from './selectorsBase'\n\n// ----------------------------------------------------------------------------\n// Operators\n// ----------------------------------------------------------------------------\nconst none = new NoneSelector()\n\nclass PrefixOperator extends Selector {\n  constructor(rhs) {\n    super()\n    this.rhs = rhs || none\n  }\n\n  toString() {\n    const rhs =\n      this.rhs.priority && this.rhs.priority > this.priority\n        ? `(${this.rhs})`\n        : this.rhs\n    return `${this.keyword} ${rhs}`\n  }\n\n  toJSON() {\n    return [this.name, this.rhs.toJSON()]\n  }\n}\n\nPrefixOperator.prototype.priority = 1\n\nclass InfixOperator extends Selector {\n  constructor(lhs, rhs) {\n    super()\n    this.lhs = lhs || none\n    this.rhs = rhs || none\n  }\n\n  toString() {\n    const lhs =\n      this.lhs.priority && this.lhs.priority > this.priority\n        ? `(${this.lhs})`\n        : this.lhs\n    const rhs =\n      this.rhs.priority && this.rhs.priority > this.priority\n        ? `(${this.rhs})`\n        : this.rhs\n    return `${lhs} ${this.keyword} ${rhs}`\n  }\n\n  toJSON() {\n    return [this.name, this.lhs.toJSON(), this.rhs.toJSON()]\n  }\n}\n\nInfixOperator.prototype.priority = 1000\n\nexport { PrefixOperator, InfixOperator }\n","import Atom from './Atom'\nimport ResidueType from './ResidueType'\nimport { parser } from '../utils/SelectionParser'\nimport { Range, RangeList, ValueList } from './selectors/selectArgs'\nimport { PrefixOperator, InfixOperator } from './selectors/selectOps'\nimport {\n  Selector,\n  RangeListSelector,\n  ValueListSelector,\n  NoneSelector,\n  AllSelector\n} from './selectors/selectorsBase'\n\nconst keywords = {}\n\n// ----------------------------------------------------------------------------\n// Named selectors\n// ----------------------------------------------------------------------------\n\nfunction defineSelector(name, SelectorClass) {\n  const keyword = name.toLowerCase()\n  SelectorClass.prototype.keyword = keyword\n  SelectorClass.prototype.name = name\n\n  const factory = (...args) => new SelectorClass(...args)\n  factory.SelectorClass = SelectorClass\n  keywords[keyword] = factory\n\n  return SelectorClass\n}\n\ndefineSelector(\n  'Serial',\n  class SerialSelector extends RangeListSelector {\n    includesAtom(atom) {\n      return this.list.includes(atom.serial)\n    }\n  }\n)\n\ndefineSelector(\n  'Name',\n  class NameSelector extends ValueListSelector {\n    includesAtom(atom) {\n      return this.list.includes(atom.name)\n    }\n  }\n)\n\ndefineSelector(\n  'AltLoc',\n  class AltLocSelector extends ValueListSelector {\n    includesAtom(atom) {\n      return this.list.includes(String.fromCharCode(atom.location))\n    }\n  }\n)\n\ndefineSelector(\n  'Elem',\n  class ElemSelector extends ValueListSelector {\n    includesAtom(atom) {\n      return this.list.includes(atom.element.name)\n    }\n  }\n)\n\ndefineSelector(\n  'Residue',\n  class ResidueSelector extends ValueListSelector {\n    includesAtom(atom) {\n      return this.list.includes(atom.residue._type._name)\n    }\n  }\n)\n\ndefineSelector(\n  'Sequence',\n  class SequenceSelector extends RangeListSelector {\n    includesAtom(atom) {\n      return this.list.includes(atom.residue._sequence)\n    }\n  }\n)\n\ndefineSelector(\n  'ICode',\n  class ICodeSelector extends ValueListSelector {\n    constructor(arg) {\n      super(arg, true)\n    }\n\n    includesAtom(atom) {\n      return this.list.includes(atom.residue._icode)\n    }\n  }\n)\n\ndefineSelector(\n  'ResIdx',\n  class ResIdxSelector extends RangeListSelector {\n    includesAtom(atom) {\n      return this.list.includes(atom.residue._index)\n    }\n  }\n)\n\ndefineSelector(\n  'Chain',\n  class ChainSelector extends ValueListSelector {\n    constructor(arg) {\n      super(arg, true)\n    }\n\n    includesAtom(atom) {\n      return this.list.includes(atom.residue._chain._name)\n    }\n  }\n)\n\ndefineSelector(\n  'Hetatm',\n  class HetatmSelector extends Selector {\n    includesAtom(atom) {\n      return atom.het\n    }\n  }\n)\n\ndefineSelector(\n  'PolarH',\n  class PolarHSelector extends Selector {\n    includesAtom(atom) {\n      return (atom.flags & Atom.Flags.NONPOLARH) === Atom.Flags.HYDROGEN\n    }\n  }\n)\n\ndefineSelector(\n  'NonPolarH',\n  class NonPolarHSelector extends Selector {\n    includesAtom(atom) {\n      return (atom.flags & Atom.Flags.NONPOLARH) === Atom.Flags.NONPOLARH\n    }\n  }\n)\n\ndefineSelector('All', AllSelector)\n\ndefineSelector('None', NoneSelector)\n\nconst NULL_SELECTOR = keywords.none()\n\n// ----------------------------------------------------------------------------\n// Named operators\n// ----------------------------------------------------------------------------\n\nfunction defineOperator(name, priority, OperatorClass) {\n  OperatorClass.prototype.priority = priority\n  return defineSelector(name, OperatorClass)\n}\ndefineOperator(\n  'Not',\n  1,\n  class NotOperator extends PrefixOperator {\n    includesAtom(atom) {\n      return !this.rhs.includesAtom(atom)\n    }\n  }\n)\n\ndefineOperator(\n  'And',\n  2,\n  class AndOperator extends InfixOperator {\n    includesAtom(atom) {\n      return this.lhs.includesAtom(atom) && this.rhs.includesAtom(atom)\n    }\n  }\n)\n\ndefineOperator(\n  'Or',\n  3,\n  class OrOperator extends InfixOperator {\n    includesAtom(atom) {\n      return this.lhs.includesAtom(atom) || this.rhs.includesAtom(atom)\n    }\n  }\n)\n\n// ----------------------------------------------------------------------------\n// Flag selectors\n// ----------------------------------------------------------------------------\n\nfunction byResidueTypeFlag(flag, name) {\n  return defineSelector(\n    name,\n    class extends Selector {\n      includesAtom(atom) {\n        return (atom.residue._type.flags & flag) !== 0\n      }\n    }\n  )\n}\n\nbyResidueTypeFlag(ResidueType.Flags.PROTEIN, 'Protein')\nbyResidueTypeFlag(ResidueType.Flags.BASIC, 'Basic')\nbyResidueTypeFlag(ResidueType.Flags.ACIDIC, 'Acidic')\nbyResidueTypeFlag(ResidueType.Flags.BASIC | ResidueType.Flags.ACIDIC, 'Charged')\nbyResidueTypeFlag(ResidueType.Flags.POLAR, 'Polar')\nbyResidueTypeFlag(ResidueType.Flags.NONPOLAR, 'NonPolar')\nbyResidueTypeFlag(ResidueType.Flags.AROMATIC, 'Aromatic')\nbyResidueTypeFlag(ResidueType.Flags.NUCLEIC, 'Nucleic')\nbyResidueTypeFlag(ResidueType.Flags.PURINE, 'Purine')\nbyResidueTypeFlag(ResidueType.Flags.PYRIMIDINE, 'Pyrimidine')\nbyResidueTypeFlag(ResidueType.Flags.WATER, 'Water')\n\n// ----------------------------------------------------------------------------\nconst selectors = Object.create(keywords)\n\nselectors.Selector = Selector\nselectors.RangeListSelector = RangeListSelector\nselectors.ValueListSelector = ValueListSelector\nselectors.Range = Range\nselectors.RangeList = RangeList\nselectors.ValueList = ValueList\nselectors.PrefixOperator = PrefixOperator\nselectors.InfixOperator = InfixOperator\nselectors.Context = Object.create({})\n\nselectors.GetSelector = function (key) {\n  if (!selectors.Context.hasOwnProperty(key)) {\n    const exc = { message: `selector ${key} is not registered` }\n    throw exc\n  }\n  return selectors.Context[key] || NULL_SELECTOR\n}\n\nselectors.ClearContext = function () {\n  Object.keys(selectors.Context).forEach((k) => {\n    delete selectors.Context[k]\n  })\n}\n\nselectors.keyword = function (key) {\n  return keywords[key.toLowerCase()] || keywords.none\n}\n\nselectors.parse = function (str) {\n  const res = {}\n  try {\n    res.selector = parser.parse(str)\n  } catch (e) {\n    res.selector = NULL_SELECTOR\n    res.error = e.message\n  }\n  return res\n}\n\nparser.yy = selectors\nparser.yy.parseError = parser.parseError // workaround for incorrect JISON parser generator for AMD module\n\nexport default selectors\n","import * as THREE from 'three'\nimport selectors from './selectors'\n\n/**\n * Basic biological unit class.\n *\n * @exports BiologicalUnit\n * @constructor\n */\nclass BiologicalUnit {\n  constructor(complex) {\n    this._complex = complex\n    this._selector = selectors.keyword('All')()\n    this._boundaries = {\n      boundingBox: new THREE.Box3(),\n      boundingSphere: new THREE.Sphere()\n    }\n  }\n\n  computeBoundaries() {\n    const atoms = this._complex._atoms\n    const n = atoms.length\n    const selector = this._selector\n\n    const { boundingBox } = this._boundaries\n    boundingBox.makeEmpty()\n    if (n === 1) {\n      boundingBox.expandByPoint(atoms[0].position)\n      const bbc = new THREE.Vector3()\n      boundingBox.getCenter(bbc)\n      const s = 2 * atoms[0].element.radius\n      boundingBox.setFromCenterAndSize(bbc, new THREE.Vector3(s, s, s))\n    } else {\n      for (let i = 0; i < n; ++i) {\n        if (selector.includesAtom(atoms[i])) {\n          boundingBox.expandByPoint(atoms[i].position)\n        }\n      }\n    }\n\n    // Build bounding sphere\n    let radiusSquared = 0.0\n    const center = new THREE.Vector3()\n    boundingBox.getCenter(center)\n    if (n === 1) {\n      this._boundaries.boundingSphere.set(center, atoms[0].element.radius)\n    } else {\n      for (let i = 0; i < n; ++i) {\n        if (!selector.includesAtom(atoms[i])) {\n          continue\n        }\n        const pos = atoms[i].position\n        const lengthSquared = center.distanceToSquared(pos)\n        if (radiusSquared < lengthSquared) {\n          radiusSquared = lengthSquared\n        }\n      }\n      this._boundaries.boundingSphere.set(center, Math.sqrt(radiusSquared))\n    }\n  }\n\n  getTransforms() {\n    return []\n  }\n\n  getSelector() {\n    return this._selector\n  }\n\n  getBoundaries() {\n    return this._boundaries\n  }\n\n  finalize() {}\n}\n\nexport default BiologicalUnit\n","import * as THREE from 'three'\nimport selectors from './selectors'\nimport BiologicalUnit from './BiologicalUnit'\n\n/**\n * Biological assembly.\n *\n * @exports Assembly\n * @constructor\n */\n\nclass Assembly extends BiologicalUnit {\n  constructor(complex) {\n    super(complex)\n    this.chains = []\n    this.matrices = []\n  }\n\n  computeBoundaries() {\n    super.computeBoundaries()\n    // fix up the boundaries\n    const { matrices } = this\n    const oldCenter = this._boundaries.boundingSphere.center\n    const oldRad = this._boundaries.boundingSphere.radius\n    const boundingBox = (this._boundaries.boundingBox = new THREE.Box3())\n    boundingBox.makeEmpty()\n    for (let i = 0, n = matrices.length; i < n; ++i) {\n      boundingBox.expandByPoint(oldCenter.clone().applyMatrix4(matrices[i]))\n    }\n\n    const newRad = boundingBox.max.distanceTo(boundingBox.min) / 2 + oldRad\n    const center = new THREE.Vector3()\n    boundingBox.getCenter(center)\n    this._boundaries.boundingSphere = new THREE.Sphere().set(center, newRad)\n    boundingBox.max.addScalar(oldRad)\n    boundingBox.min.subScalar(oldRad)\n  }\n\n  /**\n   * Mark a chain as belonging to this biological assembly.\n   * @param {string} chain - chain identifier, usually a single letter\n   */\n  addChain(chain) {\n    this.chains[this.chains.length] = chain\n  }\n\n  /**\n   * Add a transformation matrix.\n   * @param {THREE.Matrix4} matrix - transformation matrix\n   */\n  addMatrix(matrix) {\n    this.matrices[this.matrices.length] = matrix\n  }\n\n  getTransforms() {\n    return this.matrices\n  }\n\n  finalize() {\n    if (this.chains.length > 0) {\n      this._selector = selectors.keyword('Chain')(this.chains)\n    } else {\n      this._selector = selectors.keyword('None')()\n    }\n  }\n}\n\nexport default Assembly\n","/**\n * This class represents connected component as a part of a complex.\n * WARNING! The whole component entity is build under the assumption that residues\n * are placed in the chains and complex in ascending order of indices\n *\n * @param {Complex} complex - Molecular complex this chain belongs to.\n *\n * @exports Component\n * @constructor\n */\nclass Component {\n  constructor(complex) {\n    this._complex = complex\n    this._index = -1\n    this._residueIndices = []\n    this._cycles = []\n    this._subDivs = []\n    this._residueCount = 0\n  }\n\n  getResidues() {\n    return this._complex._residues\n  }\n\n  getResidueCount() {\n    return this._residueCount\n  }\n\n  forEachResidue(process) {\n    const residues = this._complex._residues\n    const resIdc = this._residueIndices\n    for (let idIdc = 0, idCount = resIdc.length; idIdc < idCount; ++idIdc) {\n      for (\n        let idx = resIdc[idIdc].start, last = resIdc[idIdc].end;\n        idx <= last;\n        ++idx\n      ) {\n        process(residues[idx])\n      }\n    }\n  }\n\n  setSubDivs(subDivs) {\n    this._subDivs = subDivs\n    let curr = 0\n    const resIdc = []\n    let resCnt = 0\n    for (let i = 0, n = subDivs.length; i < n; ++i) {\n      if (i === n - 1 || subDivs[i].end + 1 !== subDivs[i + 1].start) {\n        const { start } = subDivs[curr]\n        const { end } = subDivs[i]\n        resIdc[resIdc.length] = {\n          start,\n          end\n        }\n        resCnt += end - start + 1\n        curr = i + 1\n      }\n    }\n\n    this._residueIndices = resIdc\n    this._residueCount = resCnt\n  }\n\n  getComplex() {\n    return this._complex\n  }\n\n  forEachBond(process) {\n    const bonds = this._complex._bonds\n\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      const bond = bonds[i]\n      if (bond._left.residue._component === this) {\n        process(bond)\n      }\n    }\n  }\n\n  update() {\n    this.forEachCycle((cycle) => {\n      cycle.update()\n    })\n  }\n\n  forEachAtom(process) {\n    this.forEachResidue((residue) => {\n      residue.forEachAtom(process)\n    })\n  }\n\n  addCycle(cycle) {\n    this._cycles.push(cycle)\n  }\n\n  forEachCycle(process) {\n    const cycles = this._cycles\n    for (let i = 0, n = cycles.length; i < n; ++i) {\n      process(cycles[i])\n    }\n  }\n\n  markResidues() {\n    const self = this\n    self.forEachResidue((residue) => {\n      residue._component = self\n    })\n  }\n\n  _forEachSubChain(mask, process) {\n    const residues = this._complex._residues\n    const subs = this._subDivs\n    for (let i = 0, n = subs.length; i < n; ++i) {\n      for (let idx = subs[i].start, last = subs[i].end; idx <= last; ++idx) {\n        const currRes = residues[idx]\n        if (mask & currRes._mask && currRes._isValid) {\n          let end = idx + 1\n          for (; end <= last; ++end) {\n            const endRes = residues[end]\n            if (!(mask & endRes._mask && endRes._isValid)) {\n              break\n            }\n          }\n          process(i, idx, end - 1)\n          idx = end\n        }\n      }\n    }\n  }\n\n  getMaskedSequences(mask) {\n    const subs = []\n    let idx = 0\n    this._forEachSubChain(mask, (_subIdx, start, end) => {\n      subs[idx++] = { start, end }\n    })\n\n    return subs\n  }\n\n  getMaskedSubdivSequences(mask) {\n    const subs = []\n    let currIdx = -1\n    let lastSubIdx = -1\n    const subDivs = this._subDivs\n\n    this._forEachSubChain(mask, (subIdx, start, end) => {\n      if (lastSubIdx !== subIdx) {\n        ++currIdx\n        subs[currIdx] = {\n          arr: [],\n          boundaries: subDivs[subIdx]\n        }\n        lastSubIdx = subIdx\n      }\n      subs[currIdx].arr[subs[currIdx].arr.length] = { start, end }\n    })\n\n    return subs\n  }\n}\n\nexport default Component\n","import utils from '../utils'\n\nconst cMaxPairsForHashCode = 32\nconst cHashTableSize = 1024 * 1024\nconst cNumbersPerPair = 4\nconst cMaxNeighbours = 14\nconst cInvalidVal = -1\n// 89237 is a large simple number, can be used for pseudo random hash code create\nconst cBigPrime = 89237\n\nclass AtomPairs {\n  constructor(maxPairsEstimate) {\n    this.numPairs = 0\n    this.numMaxPairs = maxPairsEstimate\n    this.intBuffer = utils.allocateTyped(\n      Int32Array,\n      maxPairsEstimate * cNumbersPerPair\n    )\n    for (let i = 0; i < maxPairsEstimate * cNumbersPerPair; i++) {\n      this.intBuffer[i] = cInvalidVal\n    }\n    this.hashBuffer = utils.allocateTyped(\n      Int32Array,\n      cHashTableSize * cMaxPairsForHashCode\n    )\n    for (let i = 0; i < cHashTableSize * cMaxPairsForHashCode; i++) {\n      this.hashBuffer[i] = cInvalidVal\n    }\n  }\n\n  /**\n   * Destroy all pairs memory\n   */\n  destroy() {\n    this.intBuffer = null\n    this.hashBuffer = null\n  }\n\n  /**\n   * Add pair of atoms to collection\n   * @param {number} indexA - Index of the 1st vertex.\n   * @param {number} indexB - Index of the 2nd vertex.\n   */\n  addPair(indexA, indexB) {\n    const ia = indexA < indexB ? indexA : indexB\n    const ib = indexA > indexB ? indexA : indexB\n    const codeToAdd = ia + (ib << cMaxNeighbours)\n\n    const hashCode = (ia + ib * cBigPrime) & (cHashTableSize - 1)\n    let j = hashCode * cMaxPairsForHashCode\n    let apI = 0\n    for (; apI < cMaxPairsForHashCode; apI++) {\n      const code = this.hashBuffer[j + apI]\n      if (code === cInvalidVal) {\n        break\n      }\n      if (code === codeToAdd) {\n        return false\n      }\n    }\n    // add this new hash code\n    if (apI >= cMaxPairsForHashCode) {\n      throw new Error('addPair: increase cMaxPairsForHashCode')\n    }\n    this.hashBuffer[j + apI] = codeToAdd\n\n    // actually add\n    if (this.numPairs >= this.numMaxPairs) {\n      throw new Error('addPair: increase num pairs')\n    }\n    j = this.numPairs * cNumbersPerPair\n    this.intBuffer[j] = ia\n    this.intBuffer[j + 1] = ib\n    this.intBuffer[j + 2] = codeToAdd\n    this.numPairs++\n    return true\n  }\n}\n\nexport default AtomPairs\n","import AtomPairs from './AtomPairs'\nimport Bond from './Bond'\n\nconst cProfileBondBuilder = false\nconst cEstBondsMultiplier = 4\nconst cSpaceCode = 32\nconst cBondTolerance = 0.45\nconst cVMDTolerance = 0.6\nconst cBondRadInJMOL = true\nconst cEpsilon = 0.001\n\n/**\n * Get radius used for building bonds.\n *\n * @param {Atom} atom - Atom object.\n * @returns {number} special value for bonding radius for this atom\n */\nfunction _getBondingRadius(atom) {\n  const { element } = atom\n  if (element) {\n    return element.radiusBonding\n  }\n  throw new Error('_getBondingRadius: Logic error.')\n}\n\nfunction _isAtomEligible(atom) {\n  // build for all non-hetatm and for hetatm without bonds\n  return !atom.isHet() || (atom.bonds && atom.bonds.length === 0)\n}\n\n/**\n * Bond between atoms.\n *\n * @param {Complex} complex molecular complex\n\n * @exports AutoBond\n * @constructor\n */\nclass AutoBond {\n  constructor(complex) {\n    this._complex = complex\n    this._maxRad = 1.8\n    const bBox = this._complex.getDefaultBoundaries().boundingBox\n    this._vBoxMin = bBox.min.clone()\n    this._vBoxMax = bBox.max.clone()\n\n    this._pairCollection = null\n  }\n\n  /**\n   * Add existing pairs of connectors (from pdb file after its reading)\n   * @returns {number} 0\n   */\n  _addExistingPairs() {\n    const atoms = this._complex.getAtoms()\n    const numAtoms = atoms.length\n    let aInd = 0\n    const collection = this._pairCollection\n\n    for (; aInd < numAtoms; aInd++) {\n      const { bonds } = atoms[aInd]\n      const numBondsForAtom = bonds.length\n      for (let bInd = 0; bInd < numBondsForAtom; bInd++) {\n        const bond = bonds[bInd]\n        const indTo = bond._left.index\n        if (indTo === aInd) {\n          collection.addPair(aInd, bond._right.index)\n        }\n      } // for (b) all bonds in atom\n    } // for (a)\n    return 0\n  }\n\n  _findPairs() {\n    const vw = this._complex.getVoxelWorld()\n    if (vw === null) {\n      return\n    }\n\n    const atoms = this._complex._atoms\n    const atomsNum = atoms.length\n    const self = this\n\n    let rA\n    let isHydrogenA\n    let posA\n    let locationA\n    let atomA\n\n    const processAtom = function (atomB) {\n      if (isHydrogenA && atomB.isHydrogen()) {\n        return\n      }\n\n      const locationB = atomB.location\n      if (\n        locationA !== cSpaceCode &&\n        locationB !== cSpaceCode &&\n        locationA !== locationB\n      ) {\n        return\n      }\n\n      const dist2 = posA.distanceToSquared(atomB.position)\n      const rB = atomB.element.radiusBonding\n      const maxAcceptable = cBondRadInJMOL\n        ? rA + rB + cBondTolerance\n        : cVMDTolerance * (rA + rB)\n\n      if (dist2 > maxAcceptable * maxAcceptable) {\n        return\n      }\n\n      if (dist2 < cEpsilon) {\n        return\n      }\n\n      self._pairCollection.addPair(atomA.index, atomB.index)\n    }\n\n    for (let i = 0; i < atomsNum; ++i) {\n      atomA = atoms[i]\n      if (!_isAtomEligible(atomA)) {\n        continue\n      }\n\n      rA = atomA.element.radiusBonding\n      isHydrogenA = atomA.isHydrogen()\n      posA = atomA.position\n      locationA = atomA.location\n\n      vw.forEachAtomWithinRadius(\n        posA,\n        2 * this._maxRad + cBondTolerance,\n        processAtom\n      )\n    }\n  }\n\n  _addPairs() {\n    const atoms = this._complex._atoms\n\n    for (let i = 0, k = 0; i < this._pairCollection.numPairs; i++, k += 4) {\n      const iA = this._pairCollection.intBuffer[k]\n      const iB = this._pairCollection.intBuffer[k + 1]\n      this._addPair(atoms[iA], atoms[iB])\n    }\n  }\n\n  _addPair(atomA, atomB) {\n    const bondsA = atomA.bonds\n    const indexA = atomA.index\n    const indexB = atomB.index\n    for (let j = 0, numBonds = bondsA.length; j < numBonds; ++j) {\n      const bond = bondsA[j]\n      if (bond._left.index === indexB || bond._right.index === indexB) {\n        return\n      }\n    }\n    const left = indexA < indexB ? atomA : atomB\n    const right = indexA < indexB ? atomB : atomA\n    const newBond = this._complex.addBond(\n      left,\n      right,\n      0,\n      Bond.BondType.UNKNOWN,\n      false\n    )\n    bondsA.push(newBond)\n    atomB.bonds.push(newBond)\n  }\n\n  build() {\n    if (cProfileBondBuilder) {\n      console.time('Bonds Builder')\n    }\n    this._buildInner()\n\n    if (cProfileBondBuilder) {\n      console.timeEnd('Bonds Builder')\n    }\n  }\n\n  _buildInner() {\n    const atoms = this._complex._atoms\n    if (atoms.length < 2) {\n      return\n    }\n    if (atoms[0].index < 0) {\n      throw new Error('AutoBond: Atoms in complex were not indexed.')\n    }\n\n    this._calcBoundingBox()\n    this._pairCollection = new AtomPairs(atoms.length * cEstBondsMultiplier)\n    this._addExistingPairs()\n    this._findPairs()\n    this._addPairs()\n  }\n\n  _calcBoundingBox() {\n    const atoms = this._complex._atoms\n    const nAtoms = atoms.length\n    let maxRad = _getBondingRadius(atoms[0])\n    for (let i = 1; i < nAtoms; ++i) {\n      maxRad = Math.max(maxRad, _getBondingRadius(atoms[i]))\n    }\n    this._vBoxMax.addScalar(maxRad)\n    this._vBoxMin.addScalar(-maxRad)\n    this._maxRad = maxRad * 1.2\n  }\n\n  destroy() {\n    if (this._pairCollection) {\n      this._pairCollection.destroy()\n    }\n  }\n}\n\nexport default AutoBond\n","import * as THREE from 'three'\nimport Bond from './Bond'\nimport Element from './Element'\n\nconst cCrossThresh = 0.1\nconst cAromaticType = Bond.BondType.AROMATIC\nconst cAromaticAtoms = [\n  Element.ByName.C.number,\n  Element.ByName.N.number\n  // Element.ByName.O.number,\n  // Element.ByName.S.number,\n]\n\n/** Conditions for bonds:\n *   - Cross product with each subsequent bond to add is collinear and point to the same direction\n *   - Each pair of a adjacent bonds belong to not more than one cycle\n *   - If there is more than one candidates we try them in ascending order of angle values\n */\n\nconst _coDirVectors = (function () {\n  const v1Tmp = new THREE.Vector3()\n  const v2Tmp = new THREE.Vector3()\n  const cp = new THREE.Vector3()\n  return function (v1, v2) {\n    v1Tmp.copy(v1).normalize()\n    v2Tmp.copy(v2).normalize()\n    cp.crossVectors(v1Tmp, v2Tmp)\n    if (cp.length() > cCrossThresh) {\n      return false\n    }\n    // zero vector in out terms must be collinear to any\n    return v1Tmp.dot(v2Tmp) >= 0\n  }\n})()\n\nfunction _insertAscending(arr, val) {\n  let idx = 0\n  while (idx < arr.length && arr[idx] < val) {\n    ++idx\n  }\n  arr.splice(idx, 0, val)\n}\n\nfunction _anotherAtom(bond, currAtom) {\n  return bond._left === currAtom ? bond._right : bond._left\n}\n\nfunction _cosBetween(v1, v2) {\n  const theta = v1.dot(v2) / Math.sqrt(v1.lengthSq() * v2.lengthSq())\n  return THREE.MathUtils.clamp(theta, -1, 1)\n}\n\nfunction _markAromatic(bond) {\n  bond._type = cAromaticType\n}\n\nclass Cycle {\n  constructor(atomsList) {\n    this.atoms = atomsList\n    this.update()\n  }\n\n  update() {\n    const { atoms } = this\n    const center = new THREE.Vector3()\n    const nA = atoms.length\n    for (let j = 0; j < nA; ++j) {\n      center.add(atoms[j].position)\n    }\n    center.multiplyScalar(1.0 / nA)\n    this.center = center\n    this.radius = center.distanceTo(\n      atoms[0].position.clone().lerp(atoms[1].position, 0.5)\n    )\n  }\n\n  forEachBond(process) {\n    const { atoms } = this\n    const nA = atoms.length\n    let currAtom = atoms[0]\n    let nextAtom\n\n    function checkBond(bond) {\n      if (bond._left === nextAtom || bond._right === nextAtom) {\n        process(bond)\n      }\n    }\n\n    for (let i = 0; i < nA; ++i) {\n      nextAtom = atoms[(i + 1) % nA]\n      currAtom.forEachBond(checkBond)\n      currAtom = nextAtom\n    }\n  }\n}\n\nfunction _isAromatic(bond) {\n  return bond._type === cAromaticType\n}\n\nfunction _isPossibleAromatic(bond) {\n  if (bond.type === cAromaticType) {\n    return true\n  }\n  const rightIdx = cAromaticAtoms.indexOf(bond._right.element.number)\n  const leftIdx = cAromaticAtoms.indexOf(bond._left.element.number)\n  return rightIdx !== -1 && leftIdx !== -1\n}\n\nfunction _checkCycleSimple(cycle) {\n  return cycle.length > 3\n}\n\nfunction _checkCycleComplex(cycle) {\n  console.assert(cycle.length > 2)\n  return true\n}\n\nclass AromaticLoopsMarker {\n  constructor(complex) {\n    this._complex = complex\n    const bondsData = new Array(complex._bonds.length)\n    const bondMarks = new Array(complex._bonds.length)\n    for (let i = 0, n = bondsData.length; i < n; ++i) {\n      bondsData[i] = []\n      bondMarks[i] = false\n    }\n    this._bondsData = bondsData\n    this._bondMarks = bondMarks\n    this._resetCycles()\n  }\n\n  _resetCycles() {\n    this._cycles = []\n    this._currIdx = -1\n  }\n\n  _haveSameCycle(bondsData, bond1, bond2) {\n    const arr1 = bondsData[bond1._index]\n    const arr2 = bondsData[bond2._index]\n    const n1 = arr1.length\n    const n2 = arr2.length\n    let i1 = 0\n    let i2 = 0\n    while (i1 < n1 && i2 < n2) {\n      if (arr1[i1] === arr2[i2]) {\n        return true\n      }\n      if (arr1[i1] > arr2[i2]) {\n        ++i2\n      } else {\n        ++i1\n      }\n    }\n    return false\n  }\n\n  _tryBond(prevBond, currRight, currDir) {\n    const bondsOrder = []\n    const bondsData = this._bondsData\n    const currLeft = _anotherAtom(prevBond, currRight)\n    const currVec = currRight.position.clone().sub(currLeft.position)\n    const startAtomRef = this._currStart\n    const self = this\n    const bondMarks = this._bondMarks\n    let checkAromatic = this._checkBond\n    bondMarks[prevBond._index] = true\n    checkAromatic = checkAromatic === undefined ? _isAromatic : checkAromatic\n    currRight.forEachBond((newBond) => {\n      if (\n        !checkAromatic(newBond) ||\n        newBond === prevBond ||\n        bondMarks[newBond._index] ||\n        self._haveSameCycle(bondsData, prevBond, newBond)\n      ) {\n        return\n      }\n      const anotherAtom = _anotherAtom(newBond, currRight)\n      const anotherVec = anotherAtom.position.clone().sub(currRight.position)\n      const val =\n        anotherAtom === startAtomRef\n          ? -2.0\n          : 1 - _cosBetween(currVec, anotherVec)\n      const newDir = anotherVec.cross(currVec)\n      if (!_coDirVectors(newDir, currDir)) {\n        return\n      }\n      let idx = 0\n      while (idx < bondsOrder.length && bondsOrder[idx].val < val) {\n        ++idx\n      }\n      bondsOrder.splice(idx, 0, { bond: newBond, val, dir: newDir })\n    })\n\n    for (let i = 0, n = bondsOrder.length; i < n; ++i) {\n      const { bond } = bondsOrder[i]\n      const newRight = bond._left === currRight ? bond._right : bond._left\n      if (newRight === startAtomRef) {\n        ++this._currIdx\n        this._cycles.push([currRight])\n        bondMarks[prevBond._index] = false\n        return true\n      }\n      if (this._tryBond(bond, newRight, bondsOrder[i].dir)) {\n        _insertAscending(bondsData[bond._index], this._currIdx)\n        this._cycles[this._currIdx].push(currRight)\n        bondMarks[prevBond._index] = false\n        return true\n      }\n    }\n    bondMarks[prevBond._index] = false\n    return false\n  }\n\n  _startCycle(bond) {\n    // start from left to right\n    this._currStart = bond._left\n    if (this._tryBond(bond, bond._right, new THREE.Vector3())) {\n      _insertAscending(this._bondsData[bond._index], this._currIdx)\n      this._cycles[this._currIdx].push(bond._left)\n    }\n  }\n\n  _findLoops(checkBond, checkCycle) {\n    this._checkBond = checkBond\n    const complex = this._complex\n    const self = this\n\n    complex.forEachComponent((component) => {\n      self._resetCycles()\n      component.forEachBond((bond) => {\n        if (checkBond(bond)) {\n          self._startCycle(bond)\n        }\n      })\n      const cycles = self._cycles\n      for (let i = 0, n = cycles.length; i < n; ++i) {\n        const cycle = cycles[i]\n        if (!checkCycle(cycle)) {\n          continue\n        }\n        const newCycle = new Cycle(cycle)\n        newCycle.forEachBond(_markAromatic)\n        component.addCycle(newCycle)\n      }\n    })\n  }\n\n  markCycles() {\n    this._findLoops(_isAromatic, _checkCycleSimple)\n  }\n\n  detectCycles() {\n    this._findLoops(_isPossibleAromatic, _checkCycleComplex)\n  }\n}\n\nexport default AromaticLoopsMarker\n","import * as THREE from 'three'\nimport utils from '../utils'\n\n/**\n * Calculate min & max radius of a sphere slice between zMin & zMax\n *\n * @param {Vector3} center - center of the sphere\n * @param {number} radius  - sphere radius\n * @param {number} zMin - lower bound of the slice\n * @param {number} zMax - upper bound of the slice\n */\nfunction _getSphereSliceRadiusRange(center, radius, zMin, zMax) {\n  const dzMin = zMin - center.z\n  const dzMax = zMax - center.z\n  const rzMin = Math.sqrt(Math.max(radius * radius - dzMin * dzMin, 0.0))\n  const rzMax = Math.sqrt(Math.max(radius * radius - dzMax * dzMax, 0.0))\n\n  const rMin = Math.min(rzMin, rzMax)\n  let rMax\n\n  if (zMin <= center.z && zMax >= center.z) {\n    // sphere's main diameter is inside slice\n    rMax = radius\n  } else {\n    rMax = Math.max(rzMin, rzMax)\n  }\n\n  return [rMin, rMax]\n}\n\n/**\n * Calculate min & max radius of a circle slice between yMin & yMax.\n *\n * To maintain analogy with _getSphereSliceRadiusRange we call radius what in fact is\n * half-width (along X axis) of the slice, i.e. 1D-sphere radius.\n *\n * @param {Vector3} center - center of the circle (z can be ignored)\n * @param {number} radius  - circle radius\n * @param {number} yMin - lower bound of the slice\n * @param {number} yMax - upper bound of the slice\n * @returns {Array} - array of two numbers (min & max radius, or half-width)\n */\nfunction _getCircleSliceRadiusRange(center, radius, yMin, yMax) {\n  const dyMin = yMin - center.y\n  const dyMax = yMax - center.y\n  const ryMin = Math.sqrt(Math.max(radius * radius - dyMin * dyMin, 0.0))\n  const ryMax = Math.sqrt(Math.max(radius * radius - dyMax * dyMax, 0.0))\n\n  const rMin = Math.min(ryMin, ryMax)\n  let rMax\n\n  if (yMin <= center.y && yMax >= center.y) {\n    // slice's main diameter is inside slice\n    rMax = radius\n  } else {\n    rMax = Math.max(ryMin, ryMax)\n  }\n\n  return [rMin, rMax]\n}\n\n/**\n * VoxelWorld constructor\n *\n * @param {Box3} box - bounding box of the volume to be partitioned\n * @param {Vector3} vCellSizeHint - target voxel size (actual voxel size may differ from this)\n */\nclass VoxelWorld {\n  constructor(box, vCellSizeHint) {\n    this._box = box.clone()\n    const size = new THREE.Vector3()\n    box.getSize(size)\n    this._count = size\n      .clone()\n      .divide(vCellSizeHint)\n      .floor()\n      .max(new THREE.Vector3(1, 1, 1))\n    this._last = this._count.clone().subScalar(1)\n    this._cellSize = size.clone().divide(this._count)\n    this._cellInnerR =\n      0.5 *\n      Math.min(Math.min(this._cellSize.x, this._cellSize.y), this._cellSize.z)\n    this._cellOuterR = 0.5 * Math.sqrt(this._cellSize.dot(this._cellSize))\n\n    // array of voxels, each element contains index of first atom in voxel\n    const numVoxels = this._count.x * this._count.y * this._count.z\n    this._voxels = utils.allocateTyped(Int32Array, numVoxels)\n    for (let i = 0; i < numVoxels; ++i) {\n      this._voxels[i] = -1\n    }\n\n    // array of atoms that stores multiple single-linked lists\n    // two elements for each atom: Atom ref, index of next atom (in this array\n    this._atoms = []\n  }\n\n  /**\n   * Add all atoms from a complex to voxel world\n   *\n   * @param {Complex} complex - complex\n   */\n  addAtoms(complex) {\n    const self = this\n\n    let idx = this._atoms.length\n\n    // resize array of atoms\n    this._atoms.length += 2 * complex.getAtomCount()\n\n    complex.forEachAtom((atom) => {\n      // find which voxel contains this atom\n      const voxelIdx = self._findVoxel(atom.position)\n\n      // push current atom to the head of voxel's atom list\n      self._atoms[idx] = atom\n      self._atoms[idx + 1] = self._voxels[voxelIdx]\n      self._voxels[voxelIdx] = idx\n\n      idx += 2\n    })\n  }\n\n  /**\n   * Get voxel that contains specified 3D point (we use clamp at the edges)\n   *\n   * @param {Vector3} point - a point in 3D\n   * @returns {number} - index of voxel\n   */\n  static _zero = new THREE.Vector3(0, 0, 0)\n\n  static _voxel = new THREE.Vector3()\n\n  _findVoxel(point) {\n    const zero = VoxelWorld._zero\n    const voxel = VoxelWorld._voxel\n    voxel\n      .copy(point)\n      .sub(this._box.min)\n      .divide(this._cellSize)\n      .floor()\n      .clamp(zero, this._last)\n    return voxel.x + this._count.x * (voxel.y + this._count.y * voxel.z)\n  }\n\n  /**\n   * Call a function for each atom in voxel\n   *\n   * @param {number} voxel - index of voxel\n   * @param {function(Atom)} process - function to call\n   */\n  _forEachAtomInVoxel(voxel, process) {\n    for (let i = this._voxels[voxel]; i >= 0; i = this._atoms[i + 1]) {\n      process(this._atoms[i])\n    }\n  }\n\n  /**\n   * Call a function for each voxel that is touched by given sphere. Callback also takes flag\n   * isInside specifying whether voxel lies inside the sphere entirely.\n   *\n   * @param {Vector3} center - center of the sphere\n   * @param {number} radius  - sphere radius\n   * @param {function(number,bool)} process - function to call that takes voxel index and boolean isInside\n   */\n\n  static _xRange = new THREE.Vector2()\n\n  static _yRange = new THREE.Vector2()\n\n  static _zRange = new THREE.Vector2()\n\n  _forEachVoxelWithinRadius(center, radius, process) {\n    const xRange = VoxelWorld._xRange\n    const yRange = VoxelWorld._yRange\n    const zRange = VoxelWorld._zRange\n\n    // switch to a faster method unless cell size is much smaller than sphere radius\n    if (radius / this._cellInnerR < 10) {\n      this._forEachVoxelWithinRadiusSimple(center, radius, process)\n      return\n    }\n\n    let rRangeXY\n    let rRangeX\n    let xVal\n    let yVal\n    let zVal\n    let isInsideX\n    let isInsideY\n    let isInsideZ\n\n    zRange.set(center.z - radius, center.z + radius)\n    zRange\n      .subScalar(this._box.min.z)\n      .divideScalar(this._cellSize.z)\n      .floor()\n      .clampScalar(0, this._count.z - 1)\n\n    for (let z = zRange.x; z <= zRange.y; ++z) {\n      zVal = [\n        this._box.min.z + z * this._cellSize.z,\n        this._box.min.z + (z + 1) * this._cellSize.z\n      ]\n\n      isInsideZ = center.z - radius <= zVal[0] && zVal[1] <= center.z + radius\n\n      rRangeXY = _getSphereSliceRadiusRange(center, radius, zVal[0], zVal[1])\n\n      yRange.set(center.y - rRangeXY[1], center.y + rRangeXY[1])\n      yRange\n        .subScalar(this._box.min.y)\n        .divideScalar(this._cellSize.y)\n        .floor()\n        .clampScalar(0, this._count.y - 1)\n\n      for (let y = yRange.x; y <= yRange.y; ++y) {\n        yVal = [\n          this._box.min.y + y * this._cellSize.y,\n          this._box.min.y + (y + 1) * this._cellSize.y\n        ]\n\n        isInsideY =\n          center.y - rRangeXY[0] <= yVal[0] && yVal[1] <= center.y + rRangeXY[0]\n\n        rRangeX = _getCircleSliceRadiusRange(\n          center,\n          rRangeXY[1],\n          yVal[0],\n          yVal[1]\n        )\n\n        xRange.set(center.x - rRangeX[1], center.x + rRangeX[1])\n        xRange\n          .subScalar(this._box.min.x)\n          .divideScalar(this._cellSize.x)\n          .floor()\n          .clampScalar(0, this._count.x - 1)\n\n        for (let { x } = xRange; x <= xRange.y; ++x) {\n          xVal = [\n            this._box.min.x + x * this._cellSize.x,\n            this._box.min.x + (x + 1) * this._cellSize.x\n          ]\n          isInsideX =\n            center.x - rRangeX[0] <= xVal[0] && xVal[1] <= center.x + rRangeX[0]\n\n          process(\n            x + this._count.x * (y + this._count.y * z),\n            isInsideX && isInsideY && isInsideZ\n          )\n        }\n      }\n    }\n  }\n\n  /**\n   * Call a function for each voxel that is touched by given sphere. Callback also takes flag\n   * isInside specifying whether voxel lies inside the sphere entirely.\n   * This is a version of method that doesn't try to \"calculate\" what voxels fall inside radius\n   * but instead just checks all voxels inside sphere's bounding box. This should be faster\n   * unless cell size is much smaller than sphere radius.\n   *\n   * @param {Vector3} center - center of the sphere\n   * @param {number} radius  - sphere radius\n   * @param {function(number,bool)} process - function to call that takes voxel index and boolean isInside\n   */\n\n  static _vCenter = new THREE.Vector3()\n\n  _forEachVoxelWithinRadiusSimple(center, radius, process) {\n    const xRange = VoxelWorld._xRange\n    const yRange = VoxelWorld._yRange\n    const zRange = VoxelWorld._zRange\n    const vCenter = VoxelWorld._vCenter\n\n    const distTouch2 = (radius + this._cellOuterR) * (radius + this._cellOuterR)\n    let distInside2 = -1.0\n    if (radius > this._cellOuterR) {\n      distInside2 = (radius - this._cellOuterR) * (radius - this._cellOuterR)\n    }\n\n    // calculate bounding box for the sphere\n    xRange.set(center.x - radius, center.x + radius)\n    xRange.subScalar(this._box.min.x).divideScalar(this._cellSize.x).floor()\n    xRange.x = Math.min(Math.max(xRange.x, 0), this._count.x - 1)\n    xRange.y = Math.min(Math.max(xRange.y, 0), this._count.x - 1)\n\n    yRange.set(center.y - radius, center.y + radius)\n    yRange.subScalar(this._box.min.y).divideScalar(this._cellSize.y).floor()\n    yRange.x = Math.min(Math.max(yRange.x, 0), this._count.y - 1)\n    yRange.y = Math.min(Math.max(yRange.y, 0), this._count.y - 1)\n\n    zRange.set(center.z - radius, center.z + radius)\n    zRange.subScalar(this._box.min.z).divideScalar(this._cellSize.z).floor()\n    zRange.x = Math.min(Math.max(zRange.x, 0), this._count.z - 1)\n    zRange.y = Math.min(Math.max(zRange.y, 0), this._count.z - 1)\n\n    for (let z = zRange.x; z <= zRange.y; ++z) {\n      const zVal = [\n        this._box.min.z + z * this._cellSize.z,\n        this._box.min.z + (z + 1) * this._cellSize.z\n      ]\n      vCenter.z = 0.5 * (zVal[0] + zVal[1])\n\n      for (let y = yRange.x; y <= yRange.y; ++y) {\n        const yVal = [\n          this._box.min.y + y * this._cellSize.y,\n          this._box.min.y + (y + 1) * this._cellSize.y\n        ]\n        vCenter.y = 0.5 * (yVal[0] + yVal[1])\n\n        for (let { x } = xRange; x <= xRange.y; ++x) {\n          const xVal = [\n            this._box.min.x + x * this._cellSize.x,\n            this._box.min.x + (x + 1) * this._cellSize.x\n          ]\n          vCenter.x = 0.5 * (xVal[0] + xVal[1])\n\n          const d2 = center.distanceToSquared(vCenter)\n          if (d2 <= distTouch2) {\n            process(\n              x + this._count.x * (y + this._count.y * z),\n              d2 <= distInside2\n            )\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Call a function for each atom within given sphere\n   *\n   * @param {Vector3} center - center of the sphere\n   * @param {number} radius  - sphere radius\n   * @param {function(Atom)} process - function to call\n   */\n  forEachAtomWithinRadius(center, radius, process) {\n    const self = this\n    const r2 = radius * radius\n\n    self._forEachVoxelWithinRadius(center, radius, (voxel, isInside) => {\n      if (isInside) {\n        self._forEachAtomInVoxel(voxel, process)\n      } else {\n        self._forEachAtomInVoxel(voxel, (atom) => {\n          if (center.distanceToSquared(atom.position) <= r2) {\n            process(atom)\n          }\n        })\n      }\n    })\n  }\n\n  /**\n   * Call a function for each atom of given complex within given distance from group of atoms defined by mask\n   *\n   * @param {Complex} complex - complex\n   * @param {number} mask - bit mask\n   * @param {number} dist - distance\n   * @param {function(Atom)} process - function to call\n   */\n  forEachAtomWithinDistFromMasked(complex, mask, dist, process) {\n    this._forEachAtomWithinDistFromGroup(\n      (atomProc) => {\n        complex.forEachAtom((atom) => {\n          if ((atom.mask & mask) !== 0) {\n            atomProc(atom)\n          }\n        })\n      },\n      dist,\n      process\n    )\n  }\n\n  /**\n   * Call a function for each atom of given complex within given distance from group of atoms defined by selector\n   *\n   * @param {Complex} complex - complex\n   * @param {number} selector - selector\n   * @param {number} dist - distance\n   * @param {function(Atom)} process - function to call\n   */\n  forEachAtomWithinDistFromSelected(complex, selector, dist, process) {\n    this._forEachAtomWithinDistFromGroup(\n      (atomProc) => {\n        complex.forEachAtom((atom) => {\n          if (selector.includesAtom(atom)) {\n            atomProc(atom)\n          }\n        })\n      },\n      dist,\n      process\n    )\n  }\n\n  /**\n   * Call a function for each atom of given complex within given distance from group of atoms\n   *\n   * @param {function} forEachAtom - enumerator of atoms in the group\n   * @param {number} dist - distance\n   * @param {function(Atom)} process - function to call\n   */\n  _forEachAtomWithinDistFromGroup(forEachAtom, dist, process) {\n    const self = this\n    const r2 = dist * dist\n\n    const voxels = []\n    const atoms = []\n    let idx = 0\n\n    // build \"within radius\" atom list for each voxel\n    forEachAtom((atom) => {\n      self._forEachVoxelWithinRadius(atom.position, dist, (voxel, isInside) => {\n        if (isInside) {\n          // this voxel is inside circle -- no check will be required\n          voxels[voxel] = -1\n        } else if (typeof voxels[voxel] === 'undefined') {\n          // this voxel isn't covered yet -- start building list of atoms\n          atoms.push(atom)\n          atoms.push(-1)\n          voxels[voxel] = idx\n          idx += 2\n        } else if (voxels[voxel] !== -1) {\n          // this voxel has a list of atoms required for distance check -- add atom to the list\n          atoms.push(atom)\n          atoms.push(voxels[voxel])\n          voxels[voxel] = idx\n          idx += 2\n        }\n      })\n    })\n\n    let voxel\n\n    const processIfWithin = function (atom) {\n      if (typeof voxels[voxel] === 'undefined') {\n        return\n      }\n\n      idx = voxels[voxel]\n      if (idx === -1) {\n        // this voxel is fully covered\n        process(atom)\n        return\n      }\n\n      // check distance to each atom within radius from this voxel\n      for (; idx >= 0; idx = atoms[idx + 1]) {\n        if (atom.position.distanceToSquared(atoms[idx].position) < r2) {\n          process(atom)\n          break\n        }\n      }\n    }\n\n    // for each marked voxel\n    for (voxel in voxels) {\n      if (voxels.hasOwnProperty(voxel)) {\n        self._forEachAtomInVoxel(voxel, processIfWithin)\n      }\n    }\n  }\n}\n\nexport default VoxelWorld\n","import ResidueType from './ResidueType'\nimport PairCollection from './AtomPairs'\n\nconst MINIMAL_DISTANCE = 0.5\nconst MIN_HBOND_ENERGY = -9.9\nconst MAX_HBOND_ENERGY = -0.5\nconst COUPLING_CONSTANT = -27.888 // = -332 * 0.42 * 0.2\nconst MAX_COUPLING_DISTANCE = 5.0 // how far is the closest atom of a potential partner residue from CA atom\nconst MAX_RESIDUES_THRESHOLD = 1000\n\nexport default class HBondInfo {\n  constructor(complex) {\n    this._complex = complex\n    this._hbonds = [] // array of bond info for each residue\n    if (this._complex._residues.length > MAX_RESIDUES_THRESHOLD) {\n      this._buildVW() // optimized version using voxel grid\n    } else {\n      this._build() // test all pairs of residues\n    }\n  }\n\n  isBond(from, to) {\n    if (this._hbonds[from]) {\n      const [acc0, acc1] = this._hbonds[from].acceptor\n      if (acc0 && acc0.residue === to && acc0.energy < MAX_HBOND_ENERGY) {\n        return true\n      }\n      if (acc1 && acc1.residue === to && acc1.energy < MAX_HBOND_ENERGY) {\n        return true\n      }\n    }\n    return false\n  }\n\n  _build() {\n    const self = this\n\n    for (let i = 0; i < this._complex._residues.length - 1; ++i) {\n      const ri = this._complex._residues[i]\n      if ((ri.getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n        continue\n      }\n\n      // get predecessor in chain\n      let preri = null\n      if (\n        i > 0 &&\n        this._complex._residues[i - 1].getType().flags &\n          ResidueType.Flags.PROTEIN &&\n        ri._sequence === this._complex._residues[i - 1]._sequence + 1\n      ) {\n        preri = this._complex._residues[i - 1]\n      }\n\n      for (let j = i + 1; j < this._complex._residues.length; ++j) {\n        const rj = this._complex._residues[j]\n        if ((rj.getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n          continue\n        }\n\n        // get predecessor in chain\n        let prerj = null\n        if (\n          this._complex._residues[j - 1].getType().flags &\n            ResidueType.Flags.PROTEIN &&\n          rj._sequence === this._complex._residues[j - 1]._sequence + 1\n        ) {\n          prerj = this._complex._residues[j - 1]\n        }\n\n        self._calcHBondEnergy(preri, ri, rj)\n        if (j !== i + 1) {\n          self._calcHBondEnergy(prerj, rj, ri)\n        }\n      }\n    }\n  }\n\n  _buildVW() {\n    const self = this\n    const residues = this._complex._residues\n    let ri\n    let preri\n\n    const vw = this._complex.getVoxelWorld()\n    if (vw === null) {\n      return\n    }\n\n    const pairs = new PairCollection(\n      (this._complex._residues.length * this._complex._residues.length) / 2\n    )\n\n    function processAtom(atom) {\n      const rj = atom.residue\n\n      if (rj._index === ri._index) {\n        return\n      }\n\n      if ((rj.getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n        return\n      }\n\n      if (!pairs.addPair(ri._index, rj._index)) {\n        // we've seen this pair\n        return\n      }\n\n      // get predecessor in chain\n      let prerj = rj._index > 0 ? residues[rj._index - 1] : null\n      if (\n        prerj &&\n        ((prerj.getType().flags & ResidueType.Flags.PROTEIN) === 0 ||\n          rj._sequence !== prerj._sequence + 1)\n      ) {\n        prerj = null\n      }\n\n      self._calcHBondEnergy(preri, ri, rj)\n      if (rj._index !== ri._index + 1) {\n        self._calcHBondEnergy(prerj, rj, ri)\n      }\n    }\n\n    for (let i = 0; i < residues.length - 1; ++i) {\n      ri = residues[i]\n      if ((ri.getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n        continue\n      }\n\n      // get predecessor in chain\n      preri = i > 0 ? residues[i - 1] : null\n      if (\n        preri &&\n        ((preri.getType().flags & ResidueType.Flags.PROTEIN) === 0 ||\n          ri._sequence !== preri._sequence + 1)\n      ) {\n        preri = null\n      }\n\n      vw.forEachAtomWithinRadius(\n        this._residueGetCAlpha(ri),\n        MAX_COUPLING_DISTANCE,\n        processAtom\n      )\n    }\n  }\n\n  _residueGetCAlpha(res) {\n    for (let i = 0; i < res._atoms.length; ++i) {\n      const { name } = res._atoms[i]\n      if (name === 'CA' || name === 'C1') {\n        return res._atoms[i].position\n      }\n    }\n\n    return null\n  }\n\n  _residueGetCO(res) {\n    let c = null\n    let o = null\n\n    res.forEachAtom((a) => {\n      if (a.name === 'C') {\n        c = a.position\n      } else if (a.name === 'O') {\n        o = a.position\n      }\n    })\n\n    return [c, o]\n  }\n\n  // TODO Support hydrogen defined in complex\n  _residueGetNH(prev, res) {\n    const [c, o] = this._residueGetCO(prev)\n\n    let n\n    res.forEachAtom((a) => {\n      if (a.name === 'N') {\n        n = a.position\n      }\n    })\n\n    if (c && o && n) {\n      // calculate hydrogen position\n      const h = c.clone()\n      h.sub(o)\n      h.multiplyScalar(1.0 / h.length())\n      h.add(n)\n\n      return [n, h]\n    }\n\n    return [null, null]\n  }\n\n  _calcHBondEnergy(predonor, donor, acceptor) {\n    let result = 0\n\n    if (predonor === null) {\n      return result\n    }\n\n    if (donor.getType().getName() !== 'PRO') {\n      const [n, h] = this._residueGetNH(predonor, donor)\n      const [c, o] = this._residueGetCO(acceptor)\n\n      if (n === null || h === null || c === null || o === null) {\n        return result\n      }\n\n      const distanceHO = h.distanceTo(o)\n      const distanceHC = h.distanceTo(c)\n      const distanceNC = n.distanceTo(c)\n      const distanceNO = n.distanceTo(o)\n\n      if (\n        distanceHO < MINIMAL_DISTANCE ||\n        distanceHC < MINIMAL_DISTANCE ||\n        distanceNC < MINIMAL_DISTANCE ||\n        distanceNO < MINIMAL_DISTANCE\n      ) {\n        result = MIN_HBOND_ENERGY\n      } else {\n        result =\n          COUPLING_CONSTANT / distanceHO -\n          COUPLING_CONSTANT / distanceHC +\n          COUPLING_CONSTANT / distanceNC -\n          COUPLING_CONSTANT / distanceNO\n      }\n\n      // DSSP compatibility mode:\n      result = Math.round(result * 1000) / 1000\n\n      if (result < MIN_HBOND_ENERGY) {\n        result = MIN_HBOND_ENERGY\n      }\n    }\n\n    // update donor\n    if (typeof this._hbonds[donor._index] === 'undefined') {\n      this._hbonds[donor._index] = {\n        donor: [],\n        acceptor: []\n      }\n    }\n    const donorInfo = this._hbonds[donor._index]\n\n    if (donorInfo.acceptor.length < 2) {\n      donorInfo.acceptor.push({\n        residue: acceptor._index,\n        energy: result\n      })\n    }\n\n    if (donorInfo.acceptor.length > 1) {\n      if (result < donorInfo.acceptor[0].energy) {\n        donorInfo.acceptor[1].residue = donorInfo.acceptor[0].residue\n        donorInfo.acceptor[1].energy = donorInfo.acceptor[0].energy\n        donorInfo.acceptor[0].residue = acceptor._index\n        donorInfo.acceptor[0].energy = result\n      } else if (result < donorInfo.acceptor[1].energy) {\n        donorInfo.acceptor[1].residue = acceptor._index\n        donorInfo.acceptor[1].energy = result\n      }\n    }\n\n    // update acceptor\n    if (typeof this._hbonds[acceptor._index] === 'undefined') {\n      this._hbonds[acceptor._index] = {\n        donor: [],\n        acceptor: []\n      }\n    }\n    const accInfo = this._hbonds[acceptor._index]\n\n    if (accInfo.donor.length < 2) {\n      accInfo.donor.push({\n        residue: donor._index,\n        energy: result\n      })\n    }\n\n    if (accInfo.donor.length > 1) {\n      if (result < accInfo.donor[0].energy) {\n        accInfo.donor[1].residue = accInfo.donor[0].residue\n        accInfo.donor[1].energy = accInfo.donor[0].energy\n        accInfo.donor[0].residue = donor._index\n        accInfo.donor[0].energy = result\n      } else if (result < accInfo.donor[1].energy) {\n        accInfo.donor[1].residue = donor._index\n        accInfo.donor[1].energy = result\n      }\n    }\n\n    return result\n  }\n}\n","import HBondInfo from './HBondInfo'\nimport ResidueType from './ResidueType'\n\nconst BridgeType = Object.freeze({\n  NO_BRIDGE: 0,\n  PARALLEL: 1,\n  ANTI_PARALLEL: 2\n})\n\nconst HelixFlag = Object.freeze({\n  START: 1,\n  MIDDLE: 2,\n  END: 3,\n  START_AND_END: 4\n})\n\nconst StructureType = Object.freeze({\n  STRAND: 'E',\n  BRIDGE: 'B',\n  HELIX_310: 'G',\n  HELIX_ALPHA: 'H',\n  HELIX_PI: 'I',\n  TURN: 'T',\n  BEND: 'S',\n  LOOP: ' '\n})\n\nexport default class SecondaryStructureMap {\n  constructor(complex) {\n    this._complex = complex\n    this._build()\n  }\n\n  _build() {\n    const self = this\n    this._hbonds = new HBondInfo(this._complex)\n    this._ss = [] // DSSP map by residue\n\n    // auxilliary data\n    this._sheet = []\n    this._betaPartners = []\n    this._bend = []\n    for (let i = 0; i < this._complex.getResidues().length; ++i) {\n      this._betaPartners[i] = []\n    }\n    this._helixFlags = []\n    this._helixFlags[3] = []\n    this._helixFlags[4] = []\n    this._helixFlags[5] = []\n\n    // calculate peptide chain lengths\n    this._chainLengths = []\n    for (let i = 0; i < this._complex._chains.length; ++i) {\n      const chain = this._complex._chains[i].getResidues()\n      let len = 0\n      for (; len < chain.length; ++len) {\n        if ((chain[len].getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n          break\n        }\n      }\n      this._chainLengths[i] = len\n    }\n\n    this._buildBetaSheets()\n\n    for (let i = 0; i < this._complex._chains.length; ++i) {\n      self._buildAlphaHelices(\n        this._complex._chains[i].getResidues(),\n        this._chainLengths[i],\n        false\n      )\n    }\n  }\n\n  _buildAlphaHelices(inResidues, chainLength, inPreferPiHelices) {\n    // Helix and Turn\n    for (let stride = 3; stride <= 5; ++stride) {\n      if (inResidues.length < stride) {\n        break\n      }\n\n      for (let i = 0; i + stride < chainLength; ++i) {\n        if (\n          this._hbonds.isBond(\n            inResidues[i + stride]._index,\n            inResidues[i]._index\n          )\n          /* && NoChainBreak(res[i], res[i + stride]) */\n        ) {\n          this._helixFlags[stride][inResidues[i + stride]._index] =\n            HelixFlag.END\n          for (let j = i + 1; j < i + stride; ++j) {\n            if (\n              typeof this._helixFlags[stride][inResidues[j]._index] ===\n              'undefined'\n            ) {\n              this._helixFlags[stride][inResidues[j]._index] = HelixFlag.MIDDLE\n            }\n          }\n\n          if (\n            this._helixFlags[stride][inResidues[i]._index] === HelixFlag.END\n          ) {\n            this._helixFlags[stride][inResidues[i]._index] =\n              HelixFlag.START_AND_END\n          } else {\n            this._helixFlags[stride][inResidues[i]._index] = HelixFlag.START\n          }\n        }\n      }\n    }\n\n    for (let i = 2; i < chainLength - 2; ++i) {\n      const kappa = this._kappa(\n        inResidues[i - 2],\n        inResidues[i],\n        inResidues[i + 2]\n      )\n      this._bend[inResidues[i]._index] = kappa !== 360 && kappa > 70\n    }\n\n    for (let i = 1; i + 4 < chainLength; ++i) {\n      if (\n        this._isHelixStart(inResidues[i]._index, 4) &&\n        this._isHelixStart(inResidues[i - 1]._index, 4)\n      ) {\n        for (let j = i; j <= i + 3; ++j) {\n          this._ss[inResidues[j]._index] = StructureType.HELIX_ALPHA\n        }\n      }\n    }\n\n    for (let i = 1; i + 3 < chainLength; ++i) {\n      if (\n        this._isHelixStart(inResidues[i]._index, 3) &&\n        this._isHelixStart(inResidues[i - 1]._index, 3)\n      ) {\n        let empty = true\n        for (let j = i; empty && j <= i + 2; ++j) {\n          empty =\n            typeof this._ss[inResidues[j]._index] === 'undefined' ||\n            this._ss[inResidues[j]._index] === StructureType.HELIX_310\n        }\n        if (empty) {\n          for (let j = i; j <= i + 2; ++j) {\n            this._ss[inResidues[j]._index] = StructureType.HELIX_310\n          }\n        }\n      }\n    }\n\n    for (let i = 1; i + 5 < chainLength; ++i) {\n      if (\n        this._isHelixStart(inResidues[i]._index, 5) &&\n        this._isHelixStart(inResidues[i - 1]._index, 5)\n      ) {\n        let empty = true\n        for (let j = i; empty && j <= i + 4; ++j) {\n          empty =\n            typeof this._ss[inResidues[j]._index] === 'undefined' ||\n            this._ss[inResidues[j]._index] === StructureType.HELIX_PI ||\n            (inPreferPiHelices &&\n              this._ss[inResidues[j]._index] === StructureType.HELIX_ALPHA)\n        }\n        if (empty) {\n          for (let j = i; j <= i + 4; ++j) {\n            this._ss[inResidues[j]._index] = StructureType.HELIX_PI\n          }\n        }\n      }\n    }\n\n    for (let i = 1; i + 1 < chainLength; ++i) {\n      if (typeof this._ss[inResidues[i]._index] === 'undefined') {\n        let isTurn = false\n        for (let stride = 3; stride <= 5 && !isTurn; ++stride) {\n          for (let k = 1; k < stride && !isTurn; ++k) {\n            isTurn =\n              i >= k && this._isHelixStart(inResidues[i - k]._index, stride)\n          }\n        }\n\n        if (isTurn) {\n          this._ss[inResidues[i]._index] = StructureType.TURN\n        } else if (this._bend[inResidues[i]._index]) {\n          this._ss[inResidues[i]._index] = StructureType.BEND\n        }\n      }\n    }\n  }\n\n  _residueGetCAlpha(res) {\n    for (let i = 0; i < res._atoms.length; ++i) {\n      const { name } = res._atoms[i]\n      if (name === 'CA' || name === 'C1') {\n        return res._atoms[i].position\n      }\n    }\n\n    return null\n  }\n\n  _cosinusAngle(p1, p2, p3, p4) {\n    const v12 = p1.clone().sub(p2)\n    const v34 = p3.clone().sub(p4)\n\n    let result = 0\n\n    const x = v12.dot(v12) * v34.dot(v34)\n    if (x > 0) {\n      result = v12.dot(v34) / Math.sqrt(x)\n    }\n\n    return result\n  }\n\n  _kappa(prevPrev, res, nextNext) {\n    const curCA = this._residueGetCAlpha(res)\n    const ppCA = this._residueGetCAlpha(prevPrev)\n    const nnCA = this._residueGetCAlpha(nextNext)\n    if (curCA === null || ppCA === null || nnCA === null) {\n      return 180\n    }\n\n    const ckap = this._cosinusAngle(curCA, ppCA, nnCA, curCA)\n    const skap = Math.sqrt(1 - ckap * ckap)\n    return (Math.atan2(skap, ckap) * 180) / Math.PI\n  }\n\n  _isHelixStart(res, stride) {\n    return (\n      this._helixFlags[stride][res] === HelixFlag.START ||\n      this._helixFlags[stride][res] === HelixFlag.START_AND_END\n    )\n  }\n\n  _buildBetaSheets() {\n    // find bridges\n    // check each chain against each other chain, and against itself\n    const bridges = []\n    for (let a = 0; a < this._complex._chains.length; ++a) {\n      const lenA = this._chainLengths[a]\n      if (lenA <= 4) {\n        continue\n      }\n\n      const chainA = this._complex._chains[a].getResidues()\n\n      for (let b = a; b < this._complex._chains.length; ++b) {\n        const lenB = this._chainLengths[b]\n        if (lenB <= 4) {\n          continue\n        }\n\n        const chainB = this._complex._chains[b].getResidues()\n\n        for (let i = 1; i + 1 < lenA; ++i) {\n          const ri = chainA[i]\n\n          let j = 1\n          if (b === a) {\n            j = i + 3 // check for self-bridges forward down the chain\n          }\n\n          for (; j + 1 < lenB; ++j) {\n            const rj = chainB[j]\n\n            const type = this._testBridge(chainA, i, chainB, j)\n            if (type === BridgeType.NO_BRIDGE) {\n              continue\n            }\n\n            // there is a bridge, try to attach it to previously found sequence\n            let found = false\n            for (const bridge of bridges) {\n              if (\n                type !== bridge.type ||\n                ri._index !== bridge.i[bridge.i.length - 1] + 1\n              ) {\n                continue\n              }\n\n              if (\n                type === BridgeType.PARALLEL &&\n                bridge.j[bridge.j.length - 1] + 1 === rj._index\n              ) {\n                bridge.i.push(ri._index)\n                bridge.j.push(rj._index)\n                found = true\n                break\n              }\n\n              if (\n                type === BridgeType.ANTI_PARALLEL &&\n                bridge.j[0] - 1 === rj._index\n              ) {\n                bridge.i.push(ri._index)\n                bridge.j.unshift(rj._index)\n                found = true\n                break\n              }\n            }\n\n            // this bridge cannot be attached anywhere, start a new sequence\n            if (!found) {\n              bridges.push({\n                type,\n                i: [ri._index],\n                chainI: ri.getChain()._index,\n                j: [rj._index],\n                chainJ: rj.getChain()._index\n              })\n            }\n          }\n        }\n      }\n    }\n\n    // extend ladders\n    bridges.sort((a, b) => {\n      if (a.chainI < b.chainI || (a.chainI === b.chainI && a.i[0] < b.i[0])) {\n        return -1\n      }\n      return 1\n    })\n\n    for (let i = 0; i < bridges.length; ++i) {\n      for (let j = i + 1; j < bridges.length; ++j) {\n        const ibi = bridges[i].i[0]\n        const iei = bridges[i].i[bridges[i].i.length - 1]\n        const jbi = bridges[i].j[0]\n        const jei = bridges[i].j[bridges[i].j.length - 1]\n        const ibj = bridges[j].i[0]\n        const iej = bridges[j].i[bridges[j].i.length - 1]\n        const jbj = bridges[j].j[0]\n        const jej = bridges[j].j[bridges[j].j.length - 1]\n\n        if (\n          bridges[i].type !== bridges[j].type ||\n          this._hasChainBreak(Math.min(ibi, ibj), Math.max(iei, iej)) ||\n          this._hasChainBreak(Math.min(jbi, jbj), Math.max(jei, jej)) ||\n          ibj - iei >= 6 ||\n          (iei >= ibj && ibi <= iej)\n        ) {\n          continue\n        }\n\n        let bulge = false\n        if (bridges[i].type === BridgeType.PARALLEL) {\n          bulge = (jbj - jei < 6 && ibj - iei < 3) || jbj - jei < 3\n        } else {\n          bulge = (jbi - jej < 6 && ibj - iei < 3) || jbi - jej < 3\n        }\n\n        if (bulge) {\n          bridges[i].i = bridges[i].i.concat(bridges[j].i)\n          if (bridges[i].type === BridgeType.PARALLEL) {\n            bridges[i].j = bridges[i].j.concat(bridges[j].j)\n          } else {\n            bridges[i].j = bridges[j].j.concat(bridges[i].j)\n          }\n          bridges.splice(j--, 1)\n        }\n      }\n    }\n\n    // Sheet\n    const ladderset = new Set()\n    for (let i = 0; i < bridges.length; ++i) {\n      ladderset.add(bridges[i])\n    }\n\n    let sheet = 1\n    let ladder = 0\n    while (ladderset.size > 0) {\n      let bridge = ladderset.values().next().value\n      ladderset.delete(bridge)\n\n      const sheetset = new Set()\n      sheetset.add(bridge)\n\n      let toMove\n      do {\n        toMove = new Set()\n        for (const a of sheetset.values()) {\n          for (const b of ladderset.values()) {\n            if (this._areBridgesLinked(a, b)) {\n              toMove.add(b)\n            }\n          }\n        }\n        for (bridge of toMove.values()) {\n          sheetset.add(bridge)\n          ladderset.delete(bridge)\n        }\n      } while (toMove.size > 0)\n\n      for (bridge of sheetset.values()) {\n        bridge.ladder = ladder\n        bridge.sheet = sheet\n        bridge.link = sheetset\n        ++ladder\n      }\n\n      ++sheet\n    }\n\n    for (let i = 0; i < bridges.length; ++i) {\n      const bridge = bridges[i]\n\n      // find out if any of the i and j set members already have\n      // a bridge assigned, if so, we're assigning bridge 2\n\n      let betai = 0\n      let betaj = 0\n\n      for (let l = 0; l < bridge.i.length; ++l) {\n        if (this._betaPartners[bridge.i[l]][0]) {\n          betai = 1\n          break\n        }\n      }\n\n      for (let l = 0; l < bridge.j.length; ++l) {\n        if (this._betaPartners[bridge.j[l]][0]) {\n          betaj = 1\n          break\n        }\n      }\n\n      let ss = StructureType.BRIDGE\n      if (bridge.i.length > 1) {\n        ss = StructureType.STRAND\n      }\n\n      if (bridge.type === BridgeType.PARALLEL) {\n        let j = 0\n        for (let k = 0; k < bridge.i.length; ++k) {\n          this._betaPartners[bridge.i[k]][betai] = {\n            residue: bridge.j[j++],\n            ladder: bridge.ladder,\n            parallel: true\n          }\n        }\n\n        j = 0\n        for (let k = 0; k < bridge.j.length; ++k) {\n          this._betaPartners[bridge.j[k]][betaj] = {\n            residue: bridge.i[j++],\n            ladder: bridge.ladder,\n            parallel: true\n          }\n        }\n      } else {\n        let j = bridge.j.length - 1\n        for (let k = 0; k < bridge.i.length; ++k) {\n          this._betaPartners[bridge.i[k]][betai] = {\n            residue: bridge.j[j--],\n            ladder: bridge.ladder,\n            parallel: false\n          }\n        }\n\n        j = bridge.i.length - 1\n        for (let k = 0; k < bridge.j.length; ++k) {\n          this._betaPartners[bridge.j[k]][betaj] = {\n            residue: bridge.i[j--],\n            ladder: bridge.ladder,\n            parallel: false\n          }\n        }\n      }\n\n      for (let k = bridge.i[0]; k <= bridge.i[bridge.i.length - 1]; ++k) {\n        if (this._ss[k] !== StructureType.STRAND) {\n          this._ss[k] = ss\n          this._sheet[k] = bridge.sheet\n        }\n      }\n\n      for (let k = bridge.j[0]; k <= bridge.j[bridge.j.length - 1]; ++k) {\n        if (this._ss[k] !== StructureType.STRAND) {\n          this._ss[k] = ss\n          this._sheet[k] = bridge.sheet\n        }\n      }\n    }\n  }\n\n  _testBridge(chainA, from, chainB, to) {\n    let result = BridgeType.NO_BRIDGE\n\n    const a = chainA[from - 1]._index\n    const b = chainA[from]._index\n    const c = chainA[from + 1]._index\n    const d = chainB[to - 1]._index\n    const e = chainB[to]._index\n    const f = chainB[to + 1]._index\n\n    const isBond = this._hbonds.isBond.bind(this._hbonds)\n    if ((isBond(c, e) && isBond(e, a)) || (isBond(f, b) && isBond(b, d))) {\n      result = BridgeType.PARALLEL\n    } else if (\n      (isBond(c, d) && isBond(f, a)) ||\n      (isBond(e, b) && isBond(b, e))\n    ) {\n      result = BridgeType.ANTI_PARALLEL\n    }\n    return result\n  }\n\n  // return true if any of the residues in bridge a is identical to any of the residues in bridge b\n  _areBridgesLinked(a, b) {\n    const ai = new Set(a.i)\n    const aj = new Set(a.j)\n\n    for (const i of b.i) {\n      if (ai.has(i) || aj.has(i)) {\n        return true\n      }\n    }\n\n    for (const i of b.j) {\n      if (ai.has(i) || aj.has(i)) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  _hasChainBreak(from, to) {\n    for (let i = from + 1; i <= to; ++i) {\n      if (\n        this._complex._residues[i]._sequence !==\n        this._complex._residues[i - 1]._sequence + 1\n      ) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nSecondaryStructureMap.StructureType = StructureType\n","import * as THREE from 'three'\nimport logger from '../utils/logger'\nimport Atom from './Atom'\nimport Chain from './Chain'\nimport Helix from './Helix'\nimport Strand from './Strand'\nimport Sheet from './Sheet'\nimport Component from './Component'\nimport ResidueType from './ResidueType'\nimport Bond from './Bond'\nimport AutoBond from './AutoBond'\nimport AromaticLoopsMarker from './AromaticLoopsMarker'\nimport BiologicalUnit from './BiologicalUnit'\nimport selectors from './selectors'\nimport VoxelWorld from './VoxelWorld'\nimport SecondaryStructureMap from './SecondaryStructureMap'\nimport StructuralElement from './StructuralElement'\n\nconst VOXEL_SIZE = 5.0\n\nconst { StructureType } = SecondaryStructureMap\nconst StructuralElementType = StructuralElement.Type\n\n// see http://www.wwpdb.org/documentation/file-format-content/format33/sect5.html#HELIX\nconst helixClassMap = {\n  [StructureType.HELIX_ALPHA]: 1,\n  [StructureType.HELIX_PI]: 3,\n  [StructureType.HELIX_310]: 5\n}\n\nconst loopMap = {\n  [StructureType.BRIDGE]: StructuralElementType.BRIDGE,\n  [StructureType.TURN]: StructuralElementType.TURN,\n  [StructureType.BEND]: StructuralElementType.BEND,\n  [StructureType.LOOP]: StructuralElementType.COIL\n}\n\n/**\n * The entire complex of the molecules under study.\n *\n * @exports Complex\n * @constructor\n */\nclass Complex {\n  constructor() {\n    this._chains = []\n    this._components = []\n    this._helices = []\n    this._sheets = []\n    this.structures = []\n\n    this._residueTypes = Object.create(ResidueType.StandardTypes)\n    this._atoms = []\n    this._residues = []\n    this._bonds = []\n    this._sgroups = []\n    this._molecules = []\n    this._maskNeedsUpdate = false\n\n    this.metadata = {}\n\n    this.symmetry = []\n    this.units = [new BiologicalUnit(this)]\n    this._currentUnit = 0 // default biological unit is the asymmetric unit\n  }\n\n  addAtom(atom) {\n    const index = this._atoms.length\n    this._atoms.push(atom)\n    return index\n  }\n\n  addSheet(sheet) {\n    const index = this._sheets.length\n    this._sheets.push(sheet)\n    return index\n  }\n\n  addHelix(helix) {\n    const index = this._helices.length\n    this._helices.push(helix)\n    return index\n  }\n\n  getAtoms() {\n    return this._atoms\n  }\n\n  getBonds() {\n    return this._bonds\n  }\n\n  getAtomCount() {\n    return this._atoms.length\n  }\n\n  addResidue(residue) {\n    const index = this._residues.length\n    this._residues.push(residue)\n    return index\n  }\n\n  updateToFrame(frameData) {\n    this.forEachChain((chain) => {\n      chain.updateToFrame(frameData)\n    })\n  }\n\n  addResidueType(resName) {\n    const rt = (this._residueTypes[resName] = new ResidueType(\n      resName,\n      'Unknown',\n      ''\n    ))\n    return rt\n  }\n\n  getResidueCount() {\n    return this._residues.length\n  }\n\n  getResidues() {\n    return this._residues\n  }\n\n  getSGroupCount() {\n    return this._sgroups.length\n  }\n\n  getSGroups() {\n    return this._sgroups\n  }\n\n  /*\n     Extract atom by its fullname: #chainName#.#residueId#.#atomName#\n     */\n  getAtomByFullname(fullName) {\n    const parts = fullName.split('.')\n    if (parts.length !== 3) {\n      return null\n    }\n\n    const chainName = parts[0]\n    const resId = parseInt(parts[1], 10)\n    if (Number.isNaN(resId)) {\n      return null\n    }\n    const atomName = parts[2].toUpperCase()\n\n    let currAtom = null\n    this.forEachChain((chain) => {\n      if (currAtom) {\n        return\n      }\n      if (chain._name.localeCompare(chainName) === 0) {\n        chain.forEachResidue((residue) => {\n          if (currAtom) {\n            return\n          }\n          if (residue._sequence === resId) {\n            residue.forEachAtom((atom) => {\n              if (currAtom) {\n                return\n              }\n              if (atomName.localeCompare(atom.name) === 0) {\n                currAtom = atom\n              }\n            })\n          }\n        })\n      }\n    })\n\n    return currAtom\n  }\n\n  /**\n   * Create a new chain.\n   *\n   * @param {string} name - Chain name.\n   * @returns {Chain} - Newly created chain.\n   */\n  addChain(name) {\n    const result = new Chain(this, name)\n    this._chains.push(result)\n    return result\n  }\n\n  getChain(name) {\n    for (let i = 0, n = this._chains.length; i < n; ++i) {\n      const chain = this._chains[i]\n      if (chain.getName() === name) {\n        return chain\n      }\n    }\n    return null\n  }\n\n  getChainCount() {\n    return this._chains.length\n  }\n\n  getMolecules() {\n    return this._molecules\n  }\n\n  getMoleculeCount() {\n    return this._molecules.length\n  }\n\n  forEachAtom(process) {\n    const atoms = this._atoms\n    for (let i = 0, n = atoms.length; i < n; ++i) {\n      process(atoms[i])\n    }\n  }\n\n  forEachBond(process) {\n    const bonds = this._bonds\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      process(bonds[i])\n    }\n  }\n\n  forEachResidue(process) {\n    const residues = this._residues\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      process(residues[i])\n    }\n  }\n\n  forEachChain(process) {\n    const chains = this._chains\n    for (let i = 0, n = chains.length; i < n; ++i) {\n      process(chains[i])\n    }\n  }\n\n  forEachMolecule(process) {\n    const molecules = this._molecules\n    const n = molecules.length\n    for (let i = 0; i < n; ++i) {\n      process(molecules[i])\n    }\n  }\n\n  forEachSGroup(process) {\n    const groups = this._sgroups\n    for (let i = 0, n = groups.length; i < n; ++i) {\n      process(groups[i])\n    }\n  }\n\n  forEachComponent(process) {\n    const components = this._components\n    for (let i = 0, n = components.length; i < n; ++i) {\n      process(components[i])\n    }\n  }\n\n  forEachVisibleComponent(process) {\n    const components = this._components\n    for (let i = 0, n = components.length; i < n; ++i) {\n      process(components[i])\n    }\n  }\n\n  addBond(left, right, order, type, fixed) {\n    const bond = new Bond(left, right, order, type, fixed)\n    this._bonds.push(bond)\n    return bond\n  }\n\n  getBondCount() {\n    return this._bonds.length\n  }\n\n  getResidueType(name) {\n    return this._residueTypes[name] || null\n  }\n\n  getUnifiedSerial(chain, serial, iCode) {\n    /* eslint-disable no-magic-numbers */\n    const maxSerial = 65536\n    const chainShift = maxSerial * 256\n    /* eslint-enable no-magic-numbers */\n    return serial + iCode * maxSerial + chain * chainShift\n  }\n\n  splitUnifiedSerial(uniSerial) {\n    /* eslint-disable no-magic-numbers */\n    const maxSerial = 65536\n    const chainShift = maxSerial * 256\n    /* eslint-enable no-magic-numbers */\n    const chainId = Math.floor(uniSerial / chainShift)\n    const remnant = uniSerial - chainId * chainShift\n    const insCode = Math.floor(remnant / maxSerial)\n    const ser = remnant - insCode * maxSerial\n    return { chain: chainId, serial: ser, iCode: insCode }\n  }\n\n  _fillCmpEdit() {\n    const self = this\n    const components = this._components\n\n    function addComp() {\n      const comp = new Component(self)\n      comp._index = components.length\n      components[comp._index] = comp\n      return comp\n    }\n\n    this.forEachChain((chain) => {\n      const residues = chain._residues\n      const resCount = residues.length\n      if (resCount < 1) {\n        return\n      }\n      let comp = addComp()\n      let currStart = residues[0]._index\n\n      for (let i = 0; i < resCount; ++i) {\n        const currRes = residues[i]\n        currRes._component = comp\n\n        const nextRes = i === resCount - 1 ? null : residues[i + 1]\n        if (\n          !nextRes ||\n          !currRes.isConnected(nextRes) ||\n          currRes._index !== nextRes._index - 1\n        ) {\n          // the last condition is broken and incorrect\n          // the refactoring of the Component is required in order to fix this issue\n          comp.setSubDivs([\n            {\n              start: currStart,\n              end: currRes._index\n            }\n          ])\n          if (nextRes) {\n            currStart = nextRes._index\n            comp = addComp()\n          }\n        }\n      }\n    })\n  }\n\n  // This function was added in the moment of despair\n  // It was the dark times for miew\n  _fillCmpNoedit() {\n    const comp = new Component(this)\n    comp._index = 0\n\n    const residues = this._residues\n    const resCount = residues.length\n    if (resCount === 0) {\n      return\n    }\n\n    const currSubDivs = []\n    let currStart = 0\n    for (let i = 0; i < resCount; ++i) {\n      const currRes = residues[i]\n      currRes._component = comp\n\n      const nextRes = i === resCount - 1 ? null : residues[i + 1]\n      if (!nextRes || !currRes.isConnected(nextRes)) {\n        // wrap up this interval\n        currSubDivs[currSubDivs.length] = {\n          start: currStart,\n          end: i\n        }\n        if (nextRes) {\n          currStart = i + 1\n        }\n      }\n    }\n\n    comp.setSubDivs(currSubDivs)\n    this._components[comp._index] = comp\n  }\n\n  /**\n   * Fill components information.\n   * @param {boolean} enableEditing - Restructure Complex to enable per-component editing.\n   */\n  _fillComponents(enableEditing) {\n    if (enableEditing) {\n      this._fillCmpEdit()\n    } else {\n      this._fillCmpNoedit()\n    }\n  }\n\n  getCurrentUnit() {\n    return this._currentUnit\n  }\n\n  getDefaultBoundaries() {\n    return this.units[0].getBoundaries()\n  }\n\n  getBoundaries() {\n    return this.units[this._currentUnit].getBoundaries()\n  }\n\n  getTransforms() {\n    return this.units[this._currentUnit].getTransforms()\n  }\n\n  getSelector() {\n    return this.units[this._currentUnit].getSelector()\n  }\n\n  resetCurrentUnit() {\n    this._currentUnit = 0\n    this.setCurrentUnit(1)\n  }\n\n  setCurrentUnit(newUnit) {\n    if (\n      newUnit !== null &&\n      newUnit !== undefined &&\n      newUnit !== this._currentUnit &&\n      newUnit >= 0 &&\n      newUnit < this.units.length\n    ) {\n      this._currentUnit = newUnit\n      return true\n    }\n    return false\n  }\n\n  _computeBounds() {\n    const { units } = this\n    for (let i = 0, n = units.length; i < n; ++i) {\n      units[i].computeBoundaries()\n    }\n  }\n\n  onAtomPositionChanged() {\n    this.forEachChain((a) => {\n      a._finalize()\n    })\n    this.forEachComponent((c) => {\n      c.update()\n    })\n    // Update bounding sphere and box\n    this._computeBounds()\n    this._finalizeBonds()\n    this.forEachSGroup((s) => {\n      s._rebuildSGroupOnAtomChange()\n    })\n  }\n\n  update() {\n    if (this._maskNeedsUpdate) {\n      this.updateStructuresMask()\n      this._maskNeedsUpdate = false\n    }\n  }\n\n  _finalizeBonds() {\n    const bonds = this.getBonds()\n    const n = bonds.length\n    for (let i = 0; i < n; ++i) {\n      bonds[i]._index = i\n    }\n  }\n\n  /**\n   * Finalizes complex's inner data(i.e. after parsing).\n   * @param {objects} opts - Build bonds automatically.\n   * @param {boolean} opts.needAutoBonding     - Build bonds automatically.\n   * @param {boolean} opts.detectAromaticLoops - Find/mark aromatic loops.\n   * @param {boolean} opts.enableEditing       - Restructure Complex to enable per-component editing.\n   * @param {Array<Atom>} [opts.serialAtomMap] - Array of atoms ordered by their serials.\n   */\n  finalize(opts) {\n    opts = opts || {}\n    // Put bonds into atoms\n    const bonds = this._bonds\n    let i\n    let n\n    // remove invalid bonds\n    for (i = bonds.length - 1; i >= 0; i--) {\n      const bond = bonds[i]\n      if (bond._left === null || bond._right === null) {\n        bonds.splice(i, 1)\n      } else {\n        bond._left.bonds.push(bond)\n        bond._right.bonds.push(bond)\n      }\n    }\n\n    const residues = this._residues\n    for (i = 0, n = residues.length; i < n; ++i) {\n      residues[i]._finalize()\n    }\n\n    this.forEachChain((a) => {\n      a._finalize()\n    })\n\n    // WARNING! this MUST be done BEFORE computeBounds is called\n    const { units } = this\n    for (i = 0, n = units.length; i < n; ++i) {\n      units[i].finalize()\n    }\n    // try setting first biomolecule by defaults\n    this.setCurrentUnit(1)\n\n    const residueHash = {}\n    for (i = 0, n = residues.length; i < n; ++i) {\n      const res = residues[i]\n      // This code is extremely dangerous for non-PDB formats\n      residueHash[\n        this.getUnifiedSerial(\n          res.getChain().getName().charCodeAt(0),\n          res.getSequence(),\n          res.getICode().charCodeAt(0)\n        )\n      ] = res\n    }\n\n    const { structures } = this\n    for (i = 0, n = structures.length; i < n; ++i) {\n      structures[i]._finalize(opts.serialAtomMap, residueHash, this)\n    }\n\n    const helices = this._helices\n    for (i = 0, n = helices.length; i < n; ++i) {\n      helices[i]._finalize(opts.serialAtomMap, residueHash, this)\n    }\n\n    const sheets = this._sheets\n    for (i = 0, n = sheets.length; i < n; ++i) {\n      sheets[i]._finalize(opts.serialAtomMap, residueHash, this)\n    }\n\n    // Update bounding sphere and box\n    this._computeBounds()\n\n    const atoms = this._atoms\n    for (i = 0, n = atoms.length; i < n; ++i) {\n      const currAtom = atoms[i]\n      currAtom.index = i\n    }\n\n    if (opts.needAutoBonding) {\n      const autoConnector = new AutoBond(this)\n      autoConnector.build()\n      autoConnector.destroy()\n    }\n\n    const chains = this._chains\n    for (i = 0, n = chains.length; i < n; ++i) {\n      chains[i]._index = i\n    }\n\n    for (i = 0, n = residues.length; i < n; ++i) {\n      residues[i]._index = i\n    }\n\n    // mark non-polar hydrogens\n    for (i = 0, n = atoms.length; i < n; ++i) {\n      const atom = atoms[i]\n      if (atom.flags & Atom.Flags.HYDROGEN && atom.bonds.length === 1) {\n        const bond = atom.bonds[0]\n        const other = (bond._left !== atom && bond._left) || bond._right\n        if (other.flags & Atom.Flags.CARBON) {\n          atom.flags |= Atom.Flags.NONPOLARH\n        }\n      }\n    }\n\n    this._finalizeBonds()\n    this._fillComponents(opts.enableEditing)\n\n    const marker = new AromaticLoopsMarker(this)\n    marker.markCycles()\n    if (opts.detectAromaticLoops) {\n      // TODO remove this condition clause, it is for debug purposes only!\n      marker.detectCycles() // TODO add conditional detection\n    }\n\n    this._finalizeMolecules()\n  }\n\n  _finalizeMolecules() {\n    // add reference to molecule into residue\n    for (let i = 0; i < this._molecules.length; i++) {\n      const molecule = this._molecules[i]\n      const count = molecule.residues.length\n      for (let j = 0; j < count; j++) {\n        const residue = molecule.residues[j]\n        residue._molecule = molecule\n      }\n    }\n  }\n\n  updateStructuresMask() {\n    const updater = (structure) => structure.collectMask()\n    this.forEachResidue(updater)\n    this.forEachChain(updater)\n    this.forEachMolecule(updater)\n  }\n\n  countAtomsByMask(mask) {\n    let count = 0\n\n    this.forEachAtom((atom) => {\n      if ((atom.mask & mask) !== 0) {\n        count++\n      }\n    })\n\n    return count\n  }\n\n  getNumAtomsBySelector(selector) {\n    let count = 0\n\n    this.forEachAtom((atom) => {\n      if (selector.includesAtom(atom)) {\n        count++\n      }\n    })\n\n    return count\n  }\n\n  resetAtomMask(mask) {\n    this.forEachAtom((atom) => {\n      atom.mask = mask\n    })\n  }\n\n  markAtoms(selector, mask) {\n    const setMask = mask\n    const clearMask = ~setMask\n    let count = 0\n    const totalSelector = selectors.keyword('And')(selector, this.getSelector())\n\n    this.forEachAtom((atom) => {\n      if (totalSelector.includesAtom(atom)) {\n        atom.mask |= setMask\n        count++\n      } else {\n        atom.mask &= clearMask\n      }\n    })\n    this._maskNeedsUpdate = true\n\n    return count\n  }\n\n  markAtomsAdditionally(selector, mask) {\n    const setMask = mask\n    let count = 0\n\n    this.forEachAtom((atom) => {\n      if (selector.includesAtom(atom) && (atom.mask & mask) !== mask) {\n        atom.mask |= setMask\n        count++\n      }\n    })\n\n    return count\n  }\n\n  clearAtomBits(mask) {\n    const clearMask = ~mask\n    this.forEachAtom((atom) => {\n      atom.mask &= clearMask\n    })\n    const reseter = (a) => {\n      a._mask &= clearMask\n    }\n    this.forEachAtom(reseter)\n    this.forEachResidue(reseter)\n    this.forEachChain(reseter)\n    this.forEachMolecule(reseter)\n  }\n\n  getAtomNames() {\n    if (this.hasOwnProperty('_atomNames')) {\n      return this._atomNames\n    }\n\n    const dict = {}\n    this.forEachAtom((atom) => {\n      dict[atom.name] = 1\n    })\n    this._atomNames = Object.keys(dict)\n\n    return this._atomNames\n  }\n\n  getElements() {\n    if (this.hasOwnProperty('_elements')) {\n      return this._elements\n    }\n\n    const dict = {}\n    this.forEachAtom((atom) => {\n      dict[atom.element.name] = 1\n    })\n    this._elements = Object.keys(dict)\n\n    return this._elements\n  }\n\n  getResidueNames() {\n    if (this.hasOwnProperty('_residueNames')) {\n      return this._residueNames\n    }\n\n    const dict = {}\n    this.forEachResidue((res) => {\n      dict[res._type._name] = 1\n    })\n    this._residueNames = Object.keys(dict)\n\n    return this._residueNames\n  }\n\n  getChainNames() {\n    if (this.hasOwnProperty('_chainNames')) {\n      return this._chainNames\n    }\n\n    const dict = {}\n    this.forEachChain((chain) => {\n      dict[chain._name] = 1\n    })\n    this._chainNames = Object.keys(dict)\n\n    return this._chainNames\n  }\n\n  getAltLocNames() {\n    if (this.hasOwnProperty('_altlocNames')) {\n      return this._altlocNames\n    }\n\n    const dict = {}\n    this.forEachAtom((atom) => {\n      dict[String.fromCharCode(atom.location)] = 1\n    })\n    this._altlocNames = Object.keys(dict)\n\n    return this._altlocNames\n  }\n\n  getVoxelWorld() {\n    if (!this.hasOwnProperty('_voxelWorld')) {\n      try {\n        this._voxelWorld = new VoxelWorld(\n          this.getDefaultBoundaries().boundingBox,\n          new THREE.Vector3(VOXEL_SIZE, VOXEL_SIZE, VOXEL_SIZE)\n        )\n        this._voxelWorld.addAtoms(this)\n      } catch (e) {\n        logger.warn('Unable to create voxel world')\n        this._voxelWorld = null\n      }\n    }\n\n    return this._voxelWorld\n  }\n\n  /**\n   * Simple function to make unified routine procedure without code duplication.\n   * @param {Array} srcArray   - Source chemical structure array (will be part of resulting chemical structure array).\n   * @param {Array} dstArray   - Resulting chemical structure array.\n   * @param {number} param     - Parameter for processor.\n   * @param {function} functor - Processor for every element in array.\n   */\n  addElement(srcArray, dstArray, param, functor) {\n    const { length } = srcArray\n    for (let i = 0; i < length; ++i) {\n      const elem = srcArray[i]\n      functor(elem, param)\n      dstArray.push(elem)\n    }\n  }\n\n  // this function joins multiple complexes into one (this)\n  // atom, bond, ... objects are reused -- so input complexes are no longer valid\n  joinComplexes(complexes) {\n    // clear target complex\n    this._chains = []\n    this._components = []\n    this._helices = []\n    this._sheets = []\n    this.structures = []\n    this._atoms = []\n    this._residues = []\n    this._bonds = []\n    this._sgroups = []\n\n    const self = this\n    let atomBias = 0\n    let bondBias = 0\n    let residueBias = 0\n    let chainBias = 0\n    let componentBias = 0\n\n    function processAtom(atom, bias) {\n      atom.serial += bias\n      atom.index += bias\n    }\n\n    function processBond(bond, bias) {\n      bond._index += bias\n    }\n\n    function processResidue(residue, bias) {\n      residue._index += bias\n    }\n\n    function processChain(chain, bias) {\n      chain._complex = self\n      chain._index += bias\n    }\n\n    function processComponent(component, bias) {\n      component._complex = self\n      component._index += bias\n    }\n\n    /**\n     * Simple function to do nothing.\n     */\n    function doNothing() {}\n\n    for (let i = 0; i < complexes.length; ++i) {\n      const c = complexes[i]\n      this.addElement(c._atoms, this._atoms, atomBias, processAtom)\n      this.addElement(c._bonds, this._bonds, bondBias, processBond)\n      this.addElement(c._residues, this._residues, residueBias, processResidue)\n      this.addElement(c._chains, this._chains, chainBias, processChain)\n      this.addElement(c._sheets, this._sheets, 0, doNothing)\n      this.addElement(c._helices, this._helices, 0, doNothing)\n      this.addElement(c._sgroups, this._sgroups, 0, doNothing)\n      this.addElement(\n        c._components,\n        this._components,\n        componentBias,\n        processComponent\n      )\n      this.addElement(c.structures, this.structures, 0, doNothing)\n      // merge residue types\n      for (const rt in c._residueTypes) {\n        if (c._residueTypes.hasOwnProperty(rt)) {\n          this._residueTypes[rt] = c._residueTypes[rt]\n        }\n      }\n\n      atomBias += c._atoms.length\n      bondBias += c._bonds.length\n      residueBias += c._residues.length\n      chainBias += c._chains.length\n      componentBias += c._components.length\n    }\n\n    this._computeBounds()\n  }\n\n  /**\n   * Replace secondary structure with calculated one.\n   *\n   * DSSP algorithm implementation is used.\n   *\n   * Kabsch W, Sander C. 1983. Dictionary of protein secondary structure: pattern recognition of hydrogen-bonded and\n   * geometrical features. Biopolymers. 22(12):2577-2637. doi:10.1002/bip.360221211.\n   */\n  dssp() {\n    const ssMap = new SecondaryStructureMap(this)\n\n    const structures = (this.structures = [])\n    const helices = (this._helices = [])\n    const sheets = (this._sheets = [])\n\n    const getSheet = (index) => {\n      let item = sheets[index]\n      if (!item) {\n        item = sheets[index] = new Sheet(String(index), 0)\n      }\n      return item\n    }\n\n    let lastCode\n    let lastSheetIndex\n    let lastHelixIndex = 0\n    let curStructure = null\n    for (let i = 0, n = this._residues.length; i < n; ++i) {\n      const curCode = ssMap._ss[i]\n      const curResidue = this._residues[i]\n      const curSheetIndex = ssMap._sheet[i]\n\n      // expand the last structure\n      if (curCode === lastCode && curSheetIndex === lastSheetIndex) {\n        curResidue._secondary = curStructure\n        if (curStructure) {\n          curStructure.term = curResidue\n        }\n        if (curStructure instanceof Helix) {\n          curStructure.length++\n        }\n        continue\n      }\n\n      // create a new structure\n      const helixClass = helixClassMap[curCode]\n      const loopType = loopMap[curCode]\n      if (curCode === StructureType.STRAND) {\n        const curSheet = getSheet(curSheetIndex)\n        curStructure = new Strand(\n          curSheet,\n          curResidue,\n          curResidue,\n          0,\n          null,\n          null\n        )\n        curSheet.addStrand(curStructure)\n      } else if (helixClass !== undefined) {\n        lastHelixIndex++\n        curStructure = new Helix(\n          helixClass,\n          curResidue,\n          curResidue,\n          lastHelixIndex,\n          String(lastHelixIndex),\n          '',\n          1\n        )\n        helices.push(curStructure)\n      } else if (loopType !== undefined) {\n        curStructure = new StructuralElement(loopType, curResidue, curResidue)\n      } else {\n        curStructure = null\n      }\n\n      if (curStructure) {\n        structures.push(curStructure)\n      }\n\n      curResidue._secondary = curStructure\n\n      lastCode = curCode\n      lastSheetIndex = curSheetIndex\n    }\n\n    this._sheets = sheets.filter((_sheet) => true) // squeeze sheets array\n  }\n}\n\nComplex.prototype.id = 'Complex'\nComplex.prototype.name = ''\n\nexport default Complex\n","import * as THREE from 'three'\nimport utils from '../utils'\n\nfunction pow2ceil(v) {\n  let p = 2\n  v = (v - 1) >> 1\n  while (v) {\n    p <<= 1\n    v >>= 1\n  }\n  return p\n}\n\n/**\n * Volume constructor\n *\n * @param {Object} type - Float32Array, Int8Array, etc...\n * @param {Object|Array} dimensions - number of data points on each axis (x, y, z)\n * @param {Box3} box - bounding box defining data place in metric space,\n *                     it's corners correspond to extreme data points\n * @param {Number} vecSize - dimension of the field data point (1 = scalar, 3 = 3D vector)\n * @param {Object} data - typed array of the same type as specified by the 1st parameter,\n *                        layout: point by point along X,\n *                                row by row along Y,\n *                                plane by plane along Z\n * @param {Number} volumeInfo - volume info values to define threshold to filter the noise\n */\n\nclass Volume {\n  constructor(type, dimensions, box, vecSize, data, volumeInfo) {\n    this._box = box.clone()\n    this._dimVec = Math.max(Math.floor(vecSize || 1), 1)\n    this._volumeInfo = volumeInfo\n\n    if (dimensions instanceof Array) {\n      ;[this._dimX, this._dimY, this._dimZ] = dimensions\n    } else {\n      this._dimX = dimensions.x\n      this._dimY = dimensions.y\n      this._dimZ = dimensions.z\n    }\n    this._dimX = Math.max(Math.floor(this._dimX), 1)\n    this._dimY = Math.max(Math.floor(this._dimY), 1)\n    this._dimZ = Math.max(Math.floor(this._dimZ), 1)\n\n    this._rowElements = this._dimVec * this._dimX\n    this._planeElements = this._rowElements * this._dimY\n    this._totalElements = this._planeElements * this._dimZ\n\n    this._data = data || utils.allocateTyped(type, this._totalElements)\n\n    // override getter/setter for vector fields\n    switch (this._dimVec) {\n      case 1:\n        break\n\n      case 2:\n        this.getValue = function (x, y, z) {\n          const idx =\n            x * this._dimVec + y * this._rowElements + z * this._planeElements\n          return [this._data[idx], this._data[idx + 1]]\n        }\n\n        this.setValue = function (x, y, z, a, b) {\n          const idx =\n            x * this._dimVec + y * this._rowElements + z * this._planeElements\n          this._data[idx] = a\n          this._data[idx + 1] = b\n        }\n\n        this.addValue = function (x, y, z, a, b) {\n          const idx =\n            x * this._dimVec + y * this._rowElements + z * this._planeElements\n          this._data[idx] += a\n          this._data[idx + 1] += b\n        }\n        break\n\n      case 3:\n        this.getValue = function (x, y, z) {\n          const idx =\n            x * this._dimVec + y * this._rowElements + z * this._planeElements\n          return [this._data[idx], this._data[idx + 1], this._data[idx + 2]]\n        }\n\n        this.setValue = function (x, y, z, a, b, c) {\n          const idx =\n            x * this._dimVec + y * this._rowElements + z * this._planeElements\n          this._data[idx] = a\n          this._data[idx + 1] = b\n          this._data[idx + 2] = c\n        }\n\n        this.addValue = function (x, y, z, a, b, c) {\n          const idx =\n            x * this._dimVec + y * this._rowElements + z * this._planeElements\n          this._data[idx] += a\n          this._data[idx + 1] += b\n          this._data[idx + 2] += c\n        }\n        break\n\n      default:\n        throw new Error('Volume: invalid vector dimension')\n    }\n  }\n\n  // default getter assumes it's a scalar field\n  getValue(x, y, z) {\n    return this._data[x + y * this._rowElements + z * this._planeElements]\n  }\n\n  // default setter assumes it's a scalar field\n  setValue(x, y, z, val) {\n    this._data[x + y * this._rowElements + z * this._planeElements] = val\n  }\n\n  // default adder assumes it's a scalar field\n  addValue(x, y, z, val) {\n    this._data[x + y * this._rowElements + z * this._planeElements] += val\n  }\n\n  getDimensions() {\n    return [this._dimX, this._dimY, this._dimZ]\n  }\n\n  getBox() {\n    return this._box\n  }\n\n  getVolumeInfo() {\n    return this._volumeInfo\n  }\n\n  getCellSize() {\n    const boxSize = new THREE.Vector3()\n    this._box.getSize(boxSize)\n    const res = new THREE.Vector3()\n    res.x = this._dimX > 1 ? boxSize.x / (this._dimX - 1) : 0\n    res.y = this._dimY > 1 ? boxSize.y / (this._dimY - 1) : 0\n    res.z = this._dimZ > 1 ? boxSize.z / (this._dimZ - 1) : 0\n    return res\n  }\n\n  computeGradient() {\n    if (this._dimVec !== 1) {\n      // gradient can only be computed for scalar fields\n      return null\n    }\n\n    // create a 3D vector field of gradients\n    const gradient = new Volume(\n      Float32Array,\n      [this._dimX, this._dimY, this._dimZ],\n      this._box,\n      3\n    )\n\n    // calculate cell side lengths\n    const vl = this.getCellSize()\n\n    // gradient axis scaling values and averaging factors, to correctly\n    // calculate the gradient for volumes with irregular cell spacing\n    const vs = new THREE.Vector3(-0.5 / vl.x, -0.5 / vl.y, -0.5 / vl.z)\n\n    // TODO Check for intended bug in VMD (min is zero)\n    function clamp(val, min, max) {\n      return Math.min(max, Math.max(min, val))\n    }\n\n    const xSize = this._dimX\n    const ySize = this._dimY\n    const zSize = this._dimZ\n    const volMap = this._data\n\n    function _voxelValue(x, y, z) {\n      return volMap[z * xSize * ySize + y * xSize + x]\n    }\n\n    for (let zi = 0; zi < zSize; ++zi) {\n      const zm = clamp(zi - 1, 0, zSize - 1)\n      const zp = clamp(zi + 1, 0, zSize - 1)\n\n      for (let yi = 0; yi < ySize; ++yi) {\n        const ym = clamp(yi - 1, 0, ySize - 1)\n        const yp = clamp(yi + 1, 0, ySize - 1)\n\n        for (let xi = 0; xi < xSize; ++xi) {\n          const xm = clamp(xi - 1, 0, xSize - 1)\n          const xp = clamp(xi + 1, 0, xSize - 1)\n\n          // Calculate the volume gradient at each grid cell.\n          // Gradients are now stored unnormalized, since we need them in pure\n          // form in order to draw field lines etc.  Shading code will now have\n          // to do renormalization for itself on-the-fly.\n\n          // XXX this gradient is only correct for orthogonal grids, since\n          // we're using the array index offsets rather to calculate the gradient\n          // rather than voxel coordinate offsets.  This will have to be\n          // re-worked for non-orthogonal datasets.\n\n          gradient.setValue(\n            xi,\n            yi,\n            zi,\n            (_voxelValue(xp, yi, zi) - _voxelValue(xm, yi, zi)) * vs.x,\n            (_voxelValue(xi, yp, zi) - _voxelValue(xi, ym, zi)) * vs.y,\n            (_voxelValue(xi, yi, zp) - _voxelValue(xi, yi, zm)) * vs.z\n          )\n        }\n      }\n    }\n\n    return gradient\n  }\n\n  normalize() {\n    const data = this._data\n\n    // get min/max\n    let min = data[0]\n    let max = data[0]\n    for (let i = 1; i < data.length; ++i) {\n      min = Math.min(min, data[i])\n      max = Math.max(max, data[i])\n    }\n\n    const d = 1.0 / (max - min)\n    if (d === 0) {\n      return\n    }\n\n    // normalize\n    for (let i = 0; i < data.length; ++i) {\n      data[i] = d * (data[i] - min)\n    }\n  }\n\n  getTiledTextureStride() {\n    return [this._dimX + 2, this._dimY + 2]\n  }\n\n  buildTiledTexture() {\n    let tilesX = Math.ceil(Math.sqrt((this._dimZ * this._dimY) / this._dimX))\n\n    let width = tilesX * (this._dimX + 2) - 1\n    width = pow2ceil(width)\n    tilesX = Math.floor(width / (this._dimX + 2))\n\n    const tilesY = Math.ceil(this._dimZ / tilesX)\n    let height = tilesY * (this._dimY + 2) - 1\n    height = pow2ceil(height)\n\n    const data = new Uint8Array(width * height)\n\n    let src\n    let dst\n    for (let tileRow = 0; tileRow < tilesY; ++tileRow) {\n      // process each pixel row of this tile row\n      for (let row = 0; row < this._dimY; ++row) {\n        src = tileRow * tilesX * this._planeElements + row * this._rowElements\n        dst = width * (tileRow * (this._dimY + 2) + row)\n        // copy a series of rows through several XY planes\n        for (let t = 0; t < tilesX; ++t) {\n          // copy one row of one XY plane\n          for (let x = 0; x < this._dimX; ++x) {\n            data[dst++] = 255.0 * this._data[src++]\n          }\n\n          // repeat last pixel of previous tile\n          data[dst++] = 255.0 * this._data[src - 1]\n\n          if (t < tilesX - 1) {\n            // skip to the same row of next XY plane\n            src += this._planeElements - this._rowElements\n            // repeat first pixel of next tile\n            data[dst++] = 255.0 * this._data[src]\n          }\n        }\n      }\n    }\n\n    // fill pixels between tile rows with copy of edge pixels\n    for (let tileRow = 0; tileRow < tilesY; ++tileRow) {\n      // copy last pixel row of this tile row to the following pixel row of the texture\n      src = width * (tileRow * (this._dimY + 2) + this._dimY - 1)\n      dst = src + width\n      for (let x = 0; x < width; ++x) {\n        data[dst++] = data[src++]\n      }\n      if (tileRow < tilesY - 1) {\n        // copy first pixel row of next tile row to the preceding pixel row of the texture\n        src = width * (tileRow + 1) * (this._dimY + 2)\n        dst = src - width\n        for (let x = 0; x < width; ++x) {\n          data[dst++] = data[src++]\n        }\n      }\n    }\n\n    const texture = new THREE.DataTexture(\n      data,\n      width,\n      height,\n      THREE.LuminanceFormat,\n      THREE.UnsignedByteType,\n      THREE.UVMapping,\n      THREE.ClampToEdgeWrapping,\n      THREE.ClampToEdgeWrapping,\n      THREE.LinearFilter,\n      THREE.LinearFilter\n    )\n    texture.needsUpdate = true\n    return texture\n  }\n\n  /* ********************************************************************************\n   *\n   * Methods that provide direct access to internal array (for better performance)\n   *\n   ******************************************************************************** */\n\n  getData() {\n    return this._data\n  }\n\n  getDirectIdx(x, y, z) {\n    return x * this._dimVec + y * this._rowElements + z * this._planeElements\n  }\n\n  getStrideX() {\n    return this._dimVec\n  }\n\n  getStrideY() {\n    return this._rowElements\n  }\n\n  getStrideZ() {\n    return this._planeElements\n  }\n}\n\nVolume.prototype.id = 'Volume'\n\nexport default Volume\n","/**\n * Residue Molecule.\n *\n * @param {Complex} complex - Molecular complex this Molecule belongs to.\n * @param {String} name - Molecule's name.\n * @param {Integer} index - Molecule's index in file.\n *\n * @exports Molecule\n * @constructor\n */\nclass Molecule {\n  constructor(complex, name, index) {\n    this.complex = complex\n    this.name = name || ''\n    this.residues = []\n    this.mask = 1 | 0\n    this.index = index || -1 // start with 1\n  }\n\n  forEachResidue(process) {\n    const { residues } = this\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      process(residues[i])\n    }\n  }\n\n  collectMask() {\n    let mask = 0xffffffff\n    const { residues } = this\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      mask &= residues[i]._mask\n    }\n    this.mask = mask\n  }\n}\n\nexport default Molecule\n","import Atom from './chem/Atom'\nimport Element from './chem/Element'\nimport Bond from './chem/Bond'\nimport Residue from './chem/Residue'\nimport ResidueType from './chem/ResidueType'\nimport Chain from './chem/Chain'\nimport Helix from './chem/Helix'\nimport Strand from './chem/Strand'\nimport Sheet from './chem/Sheet'\nimport SGroup from './chem/SGroup'\nimport Assembly from './chem/Assembly'\nimport Complex from './chem/Complex'\nimport Volume from './chem/Volume'\nimport VoxelWorld from './chem/VoxelWorld'\nimport selectors from './chem/selectors'\nimport Molecule from './chem/Molecule'\n\nexport default {\n  Atom,\n  Element,\n  Bond,\n  Residue,\n  ResidueType,\n  Chain,\n  Helix,\n  Strand,\n  Sheet,\n  SGroup,\n  Assembly,\n  Complex,\n  Volume,\n  VoxelWorld,\n  selectors,\n  Molecule\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nimport * as THREE from 'three'\n\nclass CSS2DObject extends THREE.Object3D {\n  constructor(element) {\n    super()\n    const self = this\n    this._element = element\n    this._element.style.position = 'absolute'\n    this.addEventListener('removed', () => {\n      if (self._element.parentNode !== null) {\n        self._element.parentNode.removeChild(self._element)\n      }\n    })\n  }\n\n  getElement() {\n    return this._element\n  }\n\n  /**\n   * Sets label transparency.\n   *\n   * @param {number} transp    - in [0; 1] 1 means fully transparent\n   */\n  setTransparency(transp) {\n    const el = this.getElement()\n    if (el === null) {\n      return\n    }\n    if (transp === 1.0) {\n      el.style.display = 'none'\n      return\n    }\n    el.style.display = 'inline'\n    const op = 1.0 - transp\n    const top = op.toString()\n    const op100 = op * 100\n    el.style.opacity = top\n    el.style.filter = `alpha(opacity=${op100})` // IE fallback\n  }\n\n  clone() {\n    const obj = new CSS2DObject(this._element)\n    obj.copy(this)\n    return obj\n  }\n}\n\nexport default CSS2DObject\n","import * as THREE from 'three'\n\nclass RCGroup extends THREE.Group {\n  raycast(raycaster, intersects) {\n    if (!this.visible) {\n      return\n    }\n\n    const { children } = this\n    for (let i = 0, n = children.length; i < n; ++i) {\n      children[i].raycast(raycaster, intersects)\n    }\n  }\n\n  enableSubset(mask, innerOnly) {\n    const { children } = this\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].enableSubset) {\n        children[i].enableSubset(mask, innerOnly)\n      }\n    }\n  }\n\n  disableSubset(mask, innerOnly) {\n    const { children } = this\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].disableSubset) {\n        children[i].disableSubset(mask, innerOnly)\n      }\n    }\n  }\n\n  isEmpty() {\n    return this.children.length === 0\n  }\n\n  updateToFrame(frameData) {\n    const { children } = this\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].updateToFrame) {\n        children[i].updateToFrame(frameData)\n      }\n    }\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = []\n    const { children } = this\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        Array.prototype.push.apply(\n          totalSubset,\n          children[i].getSubset(mask, innerOnly)\n        )\n      }\n    }\n    return totalSubset\n  }\n}\n\nexport default RCGroup\n","/* eslint-disable no-magic-numbers */\nimport * as THREE from 'three'\nimport logger from '../utils/logger'\nimport CSS2DObject from './CSS2DObject'\nimport RCGroup from './RCGroup'\nimport vertexScreenQuadShader from './shaders/ScreenQuad.vert'\nimport fragmentScreenQuadFromTex from './shaders/ScreenQuadFromTex.frag'\nimport fragmentScreenQuadFromTexWithDistortion from './shaders/ScreenQuadFromTexWithDistortion.frag'\n\nconst LAYERS = {\n  DEFAULT: 0,\n  VOLUME: 1,\n  TRANSPARENT: 2,\n  PREPASS_TRANSPARENT: 3,\n  VOLUME_BFPLANE: 4,\n  COLOR_FROM_POSITION: 5,\n  SHADOWMAP: 6\n}\n\nconst SELECTION_LAYERS = [\n  // These layers, that are used in the selection by ray casting\n  LAYERS.DEFAULT,\n  LAYERS.TRANSPARENT\n]\n\nTHREE.Object3D.prototype.resetTransform = function () {\n  this.position.set(0, 0, 0)\n  this.quaternion.set(0, 0, 0, 1)\n  this.scale.set(1, 1, 1)\n}\n\n// update world matrix of this object and all its ancestors\nTHREE.Object3D.prototype.updateMatrixWorldRecursive = function () {\n  if (this.parent != null) {\n    this.parent.updateMatrixWorldRecursive()\n  }\n  this.updateMatrixWorld()\n}\n// add object to parent, saving objects' world transform\nTHREE.Object3D.prototype.addSavingWorldTransform = (function () {\n  const _worldMatrixInverse = new THREE.Matrix4()\n\n  return function (object) {\n    if (object instanceof THREE.Object3D) {\n      _worldMatrixInverse.copy(this.matrixWorld).invert()\n      _worldMatrixInverse.multiply(object.matrixWorld)\n      object.matrix.copy(_worldMatrixInverse)\n      object.matrix.decompose(object.position, object.quaternion, object.scale)\n      this.add(object)\n    }\n  }\n})()\n\n// render a tiny transparent quad in the center of the screen\nTHREE.WebGLRenderer.prototype.renderDummyQuad = (function () {\n  const _material = new THREE.MeshBasicMaterial({\n    transparent: true,\n    opacity: 0.0,\n    depthWrite: false\n  })\n\n  const _scene = new THREE.Scene()\n  const _quad = new THREE.Mesh(\n    new THREE.PlaneBufferGeometry(0.01, 0.01),\n    _material\n  )\n  _scene.add(_quad)\n\n  const _camera = new THREE.OrthographicCamera(\n    -0.5,\n    0.5,\n    0.5,\n    -0.5,\n    -10000,\n    10000\n  )\n  _camera.position.z = 100\n\n  return function () {\n    this.render(_scene, _camera)\n  }\n})()\n\nTHREE.WebGLRenderer.prototype.renderScreenQuad = (function () {\n  const _scene = new THREE.Scene()\n  const _quad = new THREE.Mesh(new THREE.PlaneBufferGeometry(1.0, 1.0))\n  _scene.add(_quad)\n\n  const _camera = new THREE.OrthographicCamera(\n    -0.5,\n    0.5,\n    0.5,\n    -0.5,\n    -10000,\n    10000\n  )\n  _camera.position.z = 100\n\n  return function (material) {\n    _quad.material = material\n    this.render(_scene, _camera)\n  }\n})()\n\nTHREE.Matrix4.prototype.isIdentity = (function () {\n  const identity = new THREE.Matrix4()\n  return function () {\n    return identity.equals(this)\n  }\n})()\n\nTHREE.Matrix4.prototype.applyToPointsArray = function (array, stride, w) {\n  if (!array || !stride || stride < 3) {\n    return array\n  }\n  w = w || 0 // use point as normal by default\n  const e = this.elements\n  for (let i = 0; i < array.length; i += stride) {\n    const x = array[i]\n    const y = array[i + 1]\n    const z = array[i + 2]\n\n    const persp = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15])\n\n    array[i] = (e[0] * x + e[4] * y + e[8] * z + e[12] * w) * persp\n    array[i + 1] = (e[1] * x + e[5] * y + e[9] * z + e[13] * w) * persp\n    array[i + 2] = (e[2] * x + e[6] * y + e[10] * z + e[14] * w) * persp\n  }\n  return array\n}\n\nclass ScreenQuadMaterial extends THREE.RawShaderMaterial {\n  constructor(params) {\n    if (params.uniforms === undefined) {\n      params.uniforms = {}\n    }\n    params.uniforms.srcTex = { type: 't', value: null }\n    params.vertexShader = vertexScreenQuadShader\n    params.transparent = false\n    params.depthTest = false\n    params.depthWrite = false\n    super(params)\n  }\n}\n\nTHREE.WebGLRenderer.prototype.renderScreenQuadFromTex = (function () {\n  const _material = new ScreenQuadMaterial({\n    uniforms: { opacity: { type: 'f', value: 1.0 } },\n    fragmentShader: fragmentScreenQuadFromTex,\n    transparent: true\n  })\n\n  return function (srcTex, opacity) {\n    _material.uniforms.srcTex.value = srcTex\n    _material.transparent = opacity < 1.0\n    _material.uniforms.opacity.value = opacity\n    this.renderScreenQuad(_material)\n  }\n})()\n\nTHREE.WebGLRenderer.prototype.renderScreenQuadFromTexWithDistortion =\n  (function () {\n    const _material = new ScreenQuadMaterial({\n      uniforms: { coef: { type: 'f', value: 1.0 } },\n      fragmentShader: fragmentScreenQuadFromTexWithDistortion\n    })\n\n    return function (srcTex, coef) {\n      _material.uniforms.srcTex.value = srcTex\n      _material.uniforms.coef.value = coef\n      this.renderScreenQuad(_material)\n    }\n  })()\n\n/**\n * @param {number} angle - Field of view in degrees.\n */\nTHREE.PerspectiveCamera.prototype.setMinimalFov = function (angle) {\n  if (this.aspect >= 1.0) {\n    this.fov = angle\n  } else {\n    this.fov = THREE.MathUtils.radToDeg(\n      2 *\n        Math.atan(Math.tan(THREE.MathUtils.degToRad(angle) * 0.5) / this.aspect)\n    )\n  }\n}\n\n/**\n * @param {THREE.PerspectiveCamera} camera - Base camera for this stereo camera.\n * @param {number} angle - Field of view in degrees.\n */\nTHREE.StereoCamera.prototype.updateHalfSized = function (camera, angle) {\n  const originalAspect = camera.aspect\n  const originalFov = camera.fov\n\n  camera.aspect = originalAspect / 2.0\n  camera.setMinimalFov(angle)\n  camera.updateProjectionMatrix()\n\n  this.update(camera)\n\n  camera.aspect = originalAspect\n  camera.fov = originalFov\n  camera.updateProjectionMatrix()\n}\n\n/**\n * @param {number} radius - Radius of bounding sphere in angstroms to fit on screen.\n * @param {number} angle - Field of view in degrees.\n */\nTHREE.PerspectiveCamera.prototype.setDistanceToFit = function (radius, angle) {\n  this.position.z = radius / Math.sin(0.5 * THREE.MathUtils.degToRad(angle))\n}\n\n/**\n * @param {RCGroup} gfxObj - All objects on scene.\n * @param {THREE.PerspectiveCamera} camera - Camera used for rendering.\n * @param {number} clipPlane - Distance to clip plane.\n * @param {number} fogFarPlane - Distance to fog far plane.\n */\nTHREE.Raycaster.prototype.intersectVisibleObject = function (\n  gfxObj,\n  camera,\n  clipPlane,\n  fogFarPlane\n) {\n  const intersects = this.intersectObject(gfxObj, false)\n  if (intersects.length === 0) {\n    return null\n  }\n\n  // find point closest to camera that doesn't get clipped by camera near plane or clipPlane (if it exists)\n  const nearPlane = Math.min(camera.near, clipPlane)\n  let i\n  let p = intersects[0]\n  const v = new THREE.Vector3()\n  for (i = 0; i < intersects.length; ++i) {\n    p = intersects[i]\n    v.copy(p.point)\n    v.applyMatrix4(camera.matrixWorldInverse)\n    if (v.z <= -nearPlane) {\n      break\n    }\n  }\n  if (i === intersects.length) {\n    return null\n  }\n\n  // check that selected intersection point is not clipped by camera far plane or occluded by fog (if it exists)\n  const farPlane = Math.min(camera.far, fogFarPlane)\n  v.copy(p.point)\n  v.applyMatrix4(camera.matrixWorldInverse)\n  if (v.z <= -farPlane) {\n    return null\n  }\n  return p\n}\n\nTHREE.Matrix4.prototype.extractScale = (function () {\n  const _v = new THREE.Vector3()\n\n  return function (scale) {\n    if (scale === undefined) {\n      logger.debug(\n        'extractScale(): new is too expensive operation to do it on-the-fly'\n      )\n      scale = _v.clone()\n    }\n\n    const te = this.elements\n    scale.x = _v.set(te[0], te[1], te[2]).length()\n    scale.y = _v.set(te[4], te[5], te[6]).length()\n    scale.z = _v.set(te[8], te[9], te[10]).length()\n\n    // if determine is negative, we need to invert one scale\n    const det = this.determinant()\n    if (det < 0) {\n      scale.x = -scale.x\n    }\n    return scale\n  }\n})()\n\nfunction _calcCylinderMatrix(posBegin, posEnd, radius) {\n  const posCenter = posBegin.clone().lerp(posEnd, 0.5)\n  const matScale = new THREE.Matrix4()\n  matScale.makeScale(radius, posBegin.distanceTo(posEnd), radius)\n\n  const matRotHalf = new THREE.Matrix4()\n  matRotHalf.makeRotationX(Math.PI / 2)\n\n  const matRotLook = new THREE.Matrix4()\n  const vUp = new THREE.Vector3(0, 1, 0)\n  matRotLook.lookAt(posCenter, posEnd, vUp)\n\n  matRotLook.multiply(matRotHalf)\n  matRotLook.multiply(matScale)\n  matRotLook.setPosition(posCenter)\n  return matRotLook\n}\n\nfunction _calcChunkMatrix(eye, target, up, rad) {\n  const matScale = new THREE.Matrix4()\n  matScale.makeScale(rad.x, rad.y, 0)\n\n  const matRotLook = new THREE.Matrix4()\n  matRotLook.lookAt(eye, target, up)\n  matRotLook.multiply(matScale)\n  matRotLook.setPosition(eye)\n\n  return matRotLook\n}\n\nfunction _groupHasGeometryToRender(group) {\n  let hasGeoms = false\n  group.traverse((node) => {\n    if (node.hasOwnProperty('geometry') || node instanceof CSS2DObject) {\n      hasGeoms = true\n    }\n  })\n  return hasGeoms\n}\n\nfunction _buildDistorionMesh(widthSegments, heightSegements, coef) {\n  // solve equation r_u = r_d * (1 + k * r_d^2)\n  // for r_d using iterations\n  // takes: r_u^2\n  // returns: r_d / r_u  factor that can be used to distort point coords\n  function calcInverseBarrel(r2) {\n    const epsilon = 1e-5\n    let prevR2 = 0.0\n    let curR2 = r2\n    let dr = 1.0\n    while (Math.abs(curR2 - prevR2) > epsilon) {\n      dr = 1.0 + coef * curR2\n      prevR2 = curR2\n      curR2 = r2 / (dr * dr)\n    }\n\n    return 1.0 / dr\n  }\n\n  const geo = new THREE.PlaneBufferGeometry(\n    2.0,\n    2.0,\n    widthSegments,\n    heightSegements\n  )\n\n  const pos = geo.getAttribute('position')\n  for (let i = 0; i < pos.count; ++i) {\n    const x = pos.array[3 * i]\n    const y = pos.array[3 * i + 1]\n    const c = calcInverseBarrel(x * x + y * y)\n    pos.setXY(i, c * x, c * y)\n  }\n\n  return geo\n}\n\nTHREE.BufferAttribute.prototype.copyAtList = function (attribute, indexList) {\n  console.assert(\n    this.itemSize === attribute.itemSize,\n    'DEBUG: BufferAttribute.copyAtList buffers have different item size.'\n  )\n  const { itemSize } = this\n  for (let i = 0, n = indexList.length; i < n; ++i) {\n    for (let j = 0; j < itemSize; ++j) {\n      this.array[i * itemSize + j] =\n        attribute.array[indexList[i] * itemSize + j]\n    }\n  }\n  return this\n}\n\nfunction fillArray(array, value, startIndex, endIndex) {\n  startIndex = typeof startIndex !== 'undefined' ? startIndex : 0\n  endIndex = typeof endIndex !== 'undefined' ? endIndex : array.length\n  for (let i = startIndex; i < endIndex; ++i) {\n    array[i] = value\n  }\n}\n\n/** @param {THREE.Object3D} object - Parent object. */\nfunction removeChildren(object) {\n  const { children } = object\n  for (let i = 0, n = children.length; i < n; ++i) {\n    const child = children[i]\n    child.parent = null\n    child.dispatchEvent({ type: 'removed' })\n  }\n  object.children = []\n}\n\nfunction clearTree(object) {\n  object.traverse((obj) => {\n    if (\n      obj instanceof THREE.Mesh ||\n      obj instanceof THREE.LineSegments ||\n      obj instanceof THREE.Line\n    ) {\n      obj.geometry.dispose()\n    }\n  })\n  removeChildren(object)\n}\n\nfunction destroyObject(object) {\n  clearTree(object)\n  if (object.parent) {\n    object.parent.remove(object)\n  } else {\n    object.dispatchEvent({ type: 'removed' })\n  }\n}\n\nfunction belongToSelectLayers(object) {\n  for (let i = 0; i < SELECTION_LAYERS.length; i++) {\n    if (((object.layers.mask >> SELECTION_LAYERS[i]) & 1) === 1) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction processObjRenderOrder(root, idMaterial) {\n  // set renderOrder to 0 for Backdrop and to 1 in other cases to render Backdrop earlier all other materials\n  const renderOrder = +(idMaterial !== 'BA')\n  root.traverse((object) => {\n    if (object.isGroup) {\n      object.renderOrder = renderOrder\n    }\n  })\n}\n\nfunction applySelectionMaterial(geo) {\n  geo.traverse((node) => {\n    if ('material' in node) {\n      node.material = node.material.clone(true)\n      // using z-offset to magically fix selection rendering artifact (on z-sprites)\n      node.material.setValues({\n        depthFunc: THREE.LessEqualDepth,\n        overrideColor: true,\n        fog: false,\n        lights: false,\n        shadowmap: false\n      })\n      node.material.setUberOptions({\n        fixedColor: new THREE.Color(0xffff00),\n        zOffset: -1e-6\n      })\n    }\n  })\n}\n\nfunction getMiddlePoint(point1, point2, optionalTarget) {\n  const result = optionalTarget || new THREE.Vector3()\n\n  result.set(0, 0, 0)\n  result.addScaledVector(point1, 0.5)\n  result.addScaledVector(point2, 0.5)\n\n  return result\n}\n\n// Monkey-patch for \"InstancedBufferGeometry.instanceCount becomes undefined after copy()\"\n// https://github.com/mrdoob/three.js/issues/22151\nconst _oldInstancedBufferGeometryCopy =\n  THREE.InstancedBufferGeometry.prototype.copy\n\nTHREE.InstancedBufferGeometry.prototype.copy = function (source) {\n  _oldInstancedBufferGeometryCopy.call(this, source)\n  if (this.instanceCount === undefined) {\n    this.instanceCount = Infinity\n  }\n}\n\nexport default {\n  calcCylinderMatrix: _calcCylinderMatrix,\n  calcChunkMatrix: _calcChunkMatrix,\n  groupHasGeometryToRender: _groupHasGeometryToRender,\n  buildDistorionMesh: _buildDistorionMesh,\n  RCGroup,\n  fillArray,\n  clearTree,\n  destroyObject,\n  belongToSelectLayers,\n  processObjRenderOrder,\n  applySelectionMaterial,\n  getMiddlePoint,\n  LAYERS\n}\n","import * as THREE from 'three'\nimport gfxutils from './gfx/gfxutils'\n\nconst _defaultBoundaries = {\n  boundingBox: new THREE.Box3(\n    new THREE.Vector3(-1, -1, -1),\n    new THREE.Vector3(1, 1, 1)\n  ),\n  boundingSphere: new THREE.Sphere(new THREE.Vector3(0, 0, 0), 1)\n}\n\nclass Visual extends gfxutils.RCGroup {\n  constructor(name, dataSource) {\n    super(name, dataSource)\n    this.name = name\n    this._dataSource = dataSource\n  }\n\n  release() {\n    if (this.parent) {\n      this.parent.remove(this)\n    }\n  }\n\n  getDataSource() {\n    return this._dataSource\n  }\n\n  getBoundaries() {\n    return _defaultBoundaries\n  }\n}\n\nexport default Visual\n","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","function _ensureArray(x) {\n  if (x === null || x === undefined || Array.isArray(x)) {\n    return x\n  }\n  return [x]\n}\n\n/** An indexed list of objects or classes. */\nclass EntityList {\n  /**\n   * Create a list of objects.\n   * The objects can be indexed by one or more properties for the later retrieval.\n   *\n   * @param {!Array<Object>=} entities A list of objects to automatically register at creation time.\n   * @param {!Array<string>=} indices A list of property names to use for case-insensitive indexing.\n   *   By default, a single `.id` property is used.\n   * @see EntityList#register\n   */\n  constructor(entities = [], indices = ['id']) {\n    this._list = []\n    this._dict = {}\n    this._indices = [...indices]\n    this._indices.forEach((index) => {\n      this._dict[index] = {}\n    })\n\n    entities.forEach((entity) => this.register(entity))\n  }\n\n  /**\n   * Add a value to the end of a list.\n   * The list will contain only one copy of the value.\n   *\n   * @param {!Array} list An array.\n   * @param {*} value A value to add.\n   * @see EntityList.unregisterFromList\n   * @see EntityList.registerInDict\n   */\n  static registerInList(list, value) {\n    if (!list.includes(value)) {\n      list.push(value)\n    }\n  }\n\n  /**\n   * Remove a value from a list if it is there.\n   *\n   * @param {!Array} list An array.\n   * @param {*} value A value to remove.\n   * @see EntityList.registerInList\n   */\n  static unregisterFromList(list, value) {\n    const pos = list.indexOf(value)\n    if (pos !== -1) {\n      list.splice(pos, 1)\n    }\n  }\n\n  /**\n   * Add a value to a dictionary.\n   * The value may be stored under multiple different keys (aliases).\n   * There might be multiples values stored under the same key.\n   *\n   * @param {!Object<string,*>} dict A dictionary.\n   * @param {!Array<string>} keys An array of keys.\n   * @param {*} value A value to add.\n   * @see EntityList.unregisterFromDict\n   * @see EntityList.registerInList\n   */\n  static registerInDict(dict, keys, value) {\n    keys.forEach((key) => {\n      key = key.toLowerCase()\n      const list = (dict[key] = dict[key] || [])\n      if (!list.includes(value)) {\n        list.push(value)\n      }\n    })\n  }\n\n  /**\n   * Remove a value from a dictionary.\n   * The value may be stored under multiple different keys (aliases).\n   * There might be multiples values stored under the same key.\n   *\n   * @param {!Object<string,*>} dict A dictionary.\n   * @param {!Array<string>} keys An array of keys.\n   * @param {*} value A value to add.\n   * @see EntityList.registerInDict\n   */\n  static unregisterFromDict(dict, keys, value) {\n    keys.forEach((key) => {\n      key = key.toLowerCase()\n      const list = dict[key]\n      if (list) {\n        const pos = list.indexOf(value)\n        if (pos !== -1) {\n          list.splice(pos, 1)\n        }\n        if (list.length === 0) {\n          delete dict[key]\n        }\n      }\n    })\n  }\n\n  /**\n   * Add an entity to this list.\n   *\n   * @param {!Object} entity An object or a class to register. The object must include all\n   *   properties specified as indices on construction.\n   * @see EntityList#unregister\n   */\n  register(entity) {\n    EntityList.registerInList(this._list, entity)\n    this._indices.forEach((index) => {\n      EntityList.registerInDict(\n        this._dict[index],\n        _ensureArray(entity[index]),\n        entity\n      )\n    })\n  }\n\n  /**\n   * Remove an entity from this list.\n   *\n   * @param {!Object} entity An object or a class to unregister. The object may be\n   *   missing from the list but it must include all properties specified as indices\n   *   on construction.\n   * @see EntityList#register\n   */\n  unregister(entity) {\n    EntityList.unregisterFromList(this._list, entity)\n    this._indices.forEach((index) => {\n      EntityList.unregisterFromDict(\n        this._dict[index],\n        _ensureArray(entity[index]),\n        entity\n      )\n    })\n  }\n\n  /**\n   * An ordered list of all registered entities.\n   * It is a read-only copy, use {@link EntityList#register} and {@link EntityList#unregister}\n   * to modify it.\n   *\n   * @type {!Array<Object>}\n   */\n  get all() {\n    return [...this._list]\n  }\n\n  /**\n   * The first registered entity.\n   * Use it if you do not care which entity you are referring to.\n   *\n   * @type {Object=}\n   */\n  get first() {\n    return this._list[0]\n  }\n\n  /**\n   * Retrieve a list of keys for the index.\n   *\n   * @param {string=} index One of the indices specified during the list construction. If omitted,\n   *   the first of the indices is used.\n   * @returns {!Array<string>} An unordered list of keys in the index, i.e. particular property\n   *   values for all registered entities.\n   */\n  keys(index) {\n    return Object.keys(this._dict[index || this._indices[0]])\n  }\n\n  /**\n   * Retrieve an entity by its key.\n   *\n   * @param {string} key A case-insensitive property value to look-up.\n   * @param {string=} index One of the indices specified during the list construction. If omitted,\n   *   the first of the indices is used.\n   * @returns {Object=} An object registered in the index under the key. If there are multiple\n   *   objects under the same key, the first one is returned.\n   */\n  get(key, index) {\n    const dict = this._dict[index || this._indices[0]]\n    if (dict) {\n      const values = dict[key && key.toLowerCase()]\n      return values && values.length > 0 ? values[0] : undefined\n    }\n    return undefined\n  }\n}\n\nexport default EntityList\n","import settings from '../settings'\nimport logger from './logger'\n\nfunction makeContextDependent(prototype) {\n  Object.defineProperties(prototype, {\n    logger: {\n      get() {\n        return this.context && this.context.logger\n          ? this.context.logger\n          : logger\n      }\n    },\n    settings: {\n      get() {\n        return this.context && this.context.settings\n          ? this.context.settings\n          : settings\n      }\n    }\n  })\n}\n\nexport default makeContextDependent\n","import * as THREE from 'three'\n\nclass CollisionSphere {\n  constructor(position, radius) {\n    this._position = position\n    this._radius = radius\n  }\n\n  static _sphere = new THREE.Sphere()\n\n  raycast(raycaster) {\n    const sphere = CollisionSphere._sphere\n    sphere.set(this._position, this._radius)\n\n    const p = new THREE.Vector3()\n    if (raycaster.ray.intersectSphere(sphere, p)) {\n      return {\n        distance: raycaster.ray.origin.distanceTo(p),\n        point: p\n      }\n    }\n    return null\n  }\n}\n\nconst SphereCollisionGeo = (base) =>\n  class extends base {\n    constructor(count, ...args) {\n      super(...args)\n      this._objects = new Array(count)\n      this.boundingSphere = null\n      this.boundingBox = null\n    }\n\n    setSphere(idx, position, radius) {\n      this._objects[idx] = new CollisionSphere(position, radius)\n    }\n\n    raycast(raycaster, intersects) {\n      // TODO raycast with bounding sphere? How to deal with updates?\n      for (let i = 0, n = this._objects.length; i < n; ++i) {\n        const inters = this._objects[i].raycast(raycaster)\n        if (inters) {\n          inters.chunkIdx = i\n          intersects.push(inters)\n        }\n      }\n    }\n\n    computeBoundingBox() {\n      const objects = this._objects\n      let { boundingBox } = this\n      if (boundingBox === null) {\n        this.boundingBox = boundingBox = new THREE.Box3()\n      }\n      boundingBox.makeEmpty()\n      for (let i = 0, n = objects.length; i < n; ++i) {\n        boundingBox.expandByPoint(objects[i]._position)\n      }\n    }\n\n    computeBoundingSphere() {\n      this.computeBoundingBox()\n      const objects = this._objects\n      const { boundingBox } = this\n      // Build bounding sphere\n      let radiusSquared = 0.0\n      const center = new THREE.Vector3()\n      boundingBox.getCenter(center)\n      for (let i = 0, n = objects.length; i < n; ++i) {\n        const pos = objects[i]._position\n        const lengthSquared = center.distanceToSquared(pos)\n        if (radiusSquared < lengthSquared) {\n          radiusSquared = lengthSquared\n        }\n      }\n      if (this.boundingSphere === null) {\n        this.boundingSphere = new THREE.Sphere()\n      }\n      this.boundingSphere.set(center, Math.sqrt(radiusSquared))\n    }\n  }\nexport default SphereCollisionGeo\n","import _ from 'lodash'\nimport * as THREE from 'three'\nimport utils from '../../utils'\nimport SphereCollisionGeo from './SphereCollisionGeo'\n\nconst tmpColor = new THREE.Color()\n\nconst OFFSET_SIZE = 4\nconst COLOR_SIZE = 3\nconst { copySubArrays } = utils\n\nfunction setArrayXYZ(arr, idx, x, y, z) {\n  arr[idx] = x\n  arr[idx + 1] = y\n  arr[idx + 2] = z\n}\n\nfunction setArrayXYZW(arr, idx, x, y, z, w) {\n  arr[idx] = x\n  arr[idx + 1] = y\n  arr[idx + 2] = z\n  arr[idx + 3] = w\n}\nclass InstancedSpheresGeometry extends SphereCollisionGeo(\n  THREE.InstancedBufferGeometry\n) {\n  constructor(spheresCount, sphereComplexity, useZSprites) {\n    super(spheresCount)\n    this._sphGeometry = useZSprites\n      ? new THREE.PlaneBufferGeometry(2, 2, 1, 1)\n      : new THREE.SphereBufferGeometry(\n          1,\n          sphereComplexity * 2,\n          sphereComplexity,\n          0,\n          Math.PI * 2,\n          0,\n          Math.PI\n        )\n    this._init(spheresCount, this._sphGeometry)\n  }\n\n  setItem(itemIdx, itemPos, itemRad) {\n    setArrayXYZW(\n      this._offsets,\n      itemIdx * OFFSET_SIZE,\n      itemPos.x,\n      itemPos.y,\n      itemPos.z,\n      itemRad\n    )\n    this.setSphere(itemIdx, itemPos, itemRad)\n  }\n\n  setColor(itemIdx, colorVal) {\n    tmpColor.set(colorVal)\n    setArrayXYZ(\n      this._colors,\n      itemIdx * COLOR_SIZE,\n      tmpColor.r,\n      tmpColor.g,\n      tmpColor.b\n    )\n  }\n\n  startUpdate() {\n    return true\n  }\n\n  finishUpdate() {\n    this.getAttribute('offset').needsUpdate = true\n    this.getAttribute('color').needsUpdate = true\n  }\n\n  finalize() {\n    this.finishUpdate()\n    this.computeBoundingSphere()\n  }\n\n  setOpacity(chunkIndices, value) {\n    const alphaArr = this._alpha\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      alphaArr[chunkIndices[i]] = value\n    }\n    this.getAttribute('alphaColor').needsUpdate = true\n  }\n\n  getSubset(chunkIndices) {\n    const instanceCount = chunkIndices.length\n    const geom = new THREE.InstancedBufferGeometry()\n    this._init.call(geom, instanceCount, this._sphGeometry)\n\n    copySubArrays(this._offsets, geom._offsets, chunkIndices, OFFSET_SIZE)\n    copySubArrays(this._colors, geom._colors, chunkIndices, COLOR_SIZE)\n    geom.boundingSphere = this.boundingSphere\n    geom.boundingBox = this.boundingBox\n    return [geom]\n  }\n\n  _init(spheresCount, sphereGeo) {\n    this.copy(sphereGeo)\n\n    this._offsets = utils.allocateTyped(\n      Float32Array,\n      spheresCount * OFFSET_SIZE\n    )\n    this._colors = utils.allocateTyped(Float32Array, spheresCount * COLOR_SIZE)\n    const alpha = (this._alpha = utils.allocateTyped(\n      Float32Array,\n      spheresCount\n    ))\n    _.fill(alpha, 1.0)\n\n    this.setAttribute(\n      'offset',\n      new THREE.InstancedBufferAttribute(this._offsets, OFFSET_SIZE, false, 1)\n    )\n    this.setAttribute(\n      'color',\n      new THREE.InstancedBufferAttribute(this._colors, COLOR_SIZE, false, 1)\n    )\n    this.setAttribute(\n      'alphaColor',\n      new THREE.InstancedBufferAttribute(alpha, 1, false, 1)\n    )\n  }\n}\nexport default InstancedSpheresGeometry\n","import _ from 'lodash'\nimport * as THREE from 'three'\nimport utils from '../../utils'\n\nconst MAX_IDC_16BIT = 65535\nconst VEC_SIZE = 3\nconst tmpColor = new THREE.Color()\n\n/**\n * This class represents geometry which consists of separate chunks.\n * Each chunk has same index and similar geometry with equal points and faces count.\n * Each chunk has by default only one color.\n * @constructor\n */\n\nclass ChunkedObjectsGeometry extends THREE.BufferGeometry {\n  constructor(chunkGeo, chunksCount) {\n    super()\n\n    if (this.constructor === ChunkedObjectsGeometry) {\n      throw new Error('Can not instantiate abstract class!')\n    }\n\n    this._chunkGeo = chunkGeo\n\n    this._init(chunkGeo, chunksCount)\n  }\n\n  startUpdate() {\n    return true\n  }\n\n  finishUpdate() {\n    this.getAttribute('position').needsUpdate = true\n    this.getAttribute('normal').needsUpdate = true\n    this.getAttribute('color').needsUpdate = true\n  }\n\n  setColor(chunkIdx, colorVal) {\n    tmpColor.set(colorVal)\n    const colors = this._colors\n    const chunkSize = this._chunkSize\n    for (let i = chunkIdx * chunkSize, end = i + chunkSize; i < end; ++i) {\n      const idx = i * VEC_SIZE\n      colors[idx] = tmpColor.r\n      colors[idx + 1] = tmpColor.g\n      colors[idx + 2] = tmpColor.b\n    }\n  }\n\n  finalize() {\n    this.finishUpdate()\n    this.computeBoundingSphere()\n  }\n\n  setOpacity(chunkIndices, value) {\n    const alphaArr = this._alpha\n    const chunkSize = this._chunkSize\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      const left = chunkIndices[i] * chunkSize\n      _.fill(alphaArr, value, left, left + chunkSize)\n    }\n    this.getAttribute('alphaColor').needsUpdate = true\n  }\n\n  raycast(raycaster, intersects) {\n    const inters = []\n    const mesh = new THREE.Mesh()\n    mesh.geometry = this\n    mesh.raycast(raycaster, inters)\n    const facesPerChunk = this._chunkGeo.index.count / 3\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('faceIndex')) {\n        continue\n      }\n      inters[i].chunkIdx = Math.floor(inters[i].faceIndex / facesPerChunk)\n      intersects.push(inters[i])\n    }\n  }\n\n  getSubset(chunkIndices) {\n    const instanceCount = chunkIndices.length\n    const geom = new THREE.BufferGeometry()\n    this._init.call(geom, this._chunkGeo, instanceCount)\n\n    const srcPos = this._positions\n    const srcNorm = this._normals\n    const srcColor = this._colors\n\n    const dstPos = geom._positions\n    const dstNorm = geom._normals\n    const dstColor = geom._colors\n\n    const chunkSize = this._chunkSize * VEC_SIZE\n\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      const dstPtOffset = i * chunkSize\n      const ptIdxBegin = chunkIndices[i] * chunkSize\n      const ptIdxEnd = ptIdxBegin + chunkSize\n      dstPos.set(srcPos.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset)\n      dstNorm.set(srcNorm.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset)\n      dstColor.set(srcColor.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset)\n    }\n\n    geom.boundingSphere = this.boundingSphere\n    geom.boundingBox = this.boundingBox\n    return [geom]\n  }\n\n  _init(chunkGeo, chunksCount) {\n    const chunkSize = (this._chunkSize = chunkGeo.attributes.position.count)\n    const chunkIndex = chunkGeo.index.array\n    const chunkIndexSize = chunkIndex.length\n    const pointsCount = this._chunkSize * chunksCount\n    const use32bitIndex = pointsCount > MAX_IDC_16BIT\n    const indexSize = chunkIndexSize * chunksCount\n    const index = (this._index = utils.allocateTyped(\n      use32bitIndex ? Uint32Array : Uint16Array,\n      indexSize\n    ))\n    this._positions = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE)\n    this._normals = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE)\n    this._colors = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE)\n    const alpha = (this._alpha = utils.allocateTyped(Float32Array, pointsCount))\n    _.fill(alpha, 1.0)\n\n    for (let i = 0; i < chunksCount; ++i) {\n      const offset = i * chunkIndexSize\n      const posOffset = i * chunkSize\n      index.set(chunkIndex, offset)\n      for (let j = 0; j < chunkIndexSize; ++j) {\n        index[offset + j] += posOffset\n      }\n    }\n\n    this.setIndex(new THREE.BufferAttribute(this._index, 1))\n    this.setAttribute(\n      'position',\n      new THREE.BufferAttribute(this._positions, VEC_SIZE)\n    )\n    this.setAttribute(\n      'normal',\n      new THREE.BufferAttribute(this._normals, VEC_SIZE)\n    )\n    this.setAttribute(\n      'color',\n      new THREE.BufferAttribute(this._colors, VEC_SIZE)\n    )\n    this.setAttribute('alphaColor', new THREE.BufferAttribute(alpha, 1))\n  }\n}\nexport default ChunkedObjectsGeometry\n","import * as THREE from 'three'\nimport utils from '../../utils'\nimport ChunkedObjectsGeometry from './ChunkedObjectsGeometry'\nimport SphereCollisionGeo from './SphereCollisionGeo'\n\nconst VEC_SIZE = 3\n\nclass SimpleSpheresGeometry extends SphereCollisionGeo(ChunkedObjectsGeometry) {\n  constructor(spheresCount, sphereComplexity) {\n    const sphGeometry = new THREE.SphereBufferGeometry(\n      1,\n      sphereComplexity * 2,\n      sphereComplexity,\n      0,\n      Math.PI * 2,\n      0,\n      Math.PI\n    )\n    super(spheresCount, sphGeometry, spheresCount)\n\n    const normals = this._normals\n    const geoNormals = sphGeometry.attributes.normal.array\n    const chunkSize = this._chunkSize\n    this._chunkPos = this._chunkGeo.attributes.position.array\n    this._tmpPositions = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE)\n    for (let i = 0; i < spheresCount; ++i) {\n      normals.set(geoNormals, chunkSize * VEC_SIZE * i)\n    }\n  }\n\n  setItem(itemIdx, itemPos, itemRad) {\n    const tmpPos = this._tmpPositions\n    const chunkSize = this._chunkSize\n    const geoPos = this._chunkPos\n\n    for (let i = 0; i < chunkSize; ++i) {\n      const idx = i * 3\n      tmpPos[idx] = itemPos.x + geoPos[idx] * itemRad\n      tmpPos[idx + 1] = itemPos.y + geoPos[idx + 1] * itemRad\n      tmpPos[idx + 2] = itemPos.z + geoPos[idx + 2] * itemRad\n    }\n\n    this._positions.set(tmpPos, chunkSize * itemIdx * VEC_SIZE)\n    this.setSphere(itemIdx, itemPos, itemRad)\n  }\n}\nexport default SimpleSpheresGeometry\n","import * as THREE from 'three'\nimport utils from '../../utils'\nimport gfxutils from '../gfxutils'\nimport ChunkedObjectsGeometry from './ChunkedObjectsGeometry'\n\nconst VEC_SIZE = 3\nconst centerPos = new THREE.Vector3()\nconst tmpVector = new THREE.Vector3()\nconst normMtx = new THREE.Matrix3()\n\nclass Simple2CCylindersGeometry extends ChunkedObjectsGeometry {\n  constructor(instanceCount, polyComplexity) {\n    const cylGeometry = new THREE.CylinderBufferGeometry(\n      1,\n      1,\n      1.0,\n      Math.max(3, polyComplexity),\n      2,\n      true\n    )\n    super(cylGeometry, 2 * instanceCount)\n\n    const chunkSize = this._chunkSize\n    this._chunkPos = this._chunkGeo.attributes.position.array\n    this._chunkNorms = this._chunkGeo.attributes.normal.array\n    this._tmpVector = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE)\n  }\n\n  setItem(itemIdx, botPos, topPos, itemRad) {\n    const chunkSize = this._chunkSize\n    const firstOffset = chunkSize * 2 * itemIdx * VEC_SIZE\n    const secondOffset = firstOffset + chunkSize * VEC_SIZE\n\n    const tmpArray = this._tmpVector\n    const geoPos = this._chunkPos\n    const geoNorm = this._chunkNorms\n\n    centerPos.lerpVectors(botPos, topPos, 0.5)\n    const mtx1 = gfxutils.calcCylinderMatrix(botPos, centerPos, itemRad)\n    normMtx.getNormalMatrix(mtx1)\n\n    let idx\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE\n      tmpVector.fromArray(geoPos, idx)\n      tmpVector.applyMatrix4(mtx1)\n      tmpVector.toArray(tmpArray, idx)\n    }\n    this._positions.set(tmpArray, firstOffset)\n\n    // now shift center to get another part of the cylinder\n    centerPos.sub(botPos)\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE\n      tmpArray[idx] += centerPos.x\n      tmpArray[idx + 1] += centerPos.y\n      tmpArray[idx + 2] += centerPos.z\n    }\n    this._positions.set(tmpArray, secondOffset)\n\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE\n      tmpVector.fromArray(geoNorm, idx)\n      tmpVector.applyMatrix3(normMtx)\n      tmpVector.toArray(tmpArray, idx)\n    }\n    this._normals.set(tmpArray, firstOffset)\n    this._normals.set(tmpArray, secondOffset)\n  }\n\n  setColor(itemIdx, colorVal1, colorVal2) {\n    const first = 2 * itemIdx\n    super.setColor(first, colorVal1)\n\n    const second = first + 1\n    super.setColor(second, colorVal2)\n  }\n}\n\nexport default Simple2CCylindersGeometry\n","import * as THREE from 'three'\nimport utils from '../../utils'\n\nconst MAX_POINTS_COUNT_16BIT = 65536\nconst PTS_PER_TRIANGLE = 3\n\nclass CylinderBufferGeometry extends THREE.BufferGeometry {\n  constructor(\n    radiusTop,\n    radiusBottom,\n    height,\n    radialSegments,\n    heightSegments,\n    openEnded\n  ) {\n    super()\n\n    const thetaStart = 0\n    const thetaLength = 2 * Math.PI\n\n    this.type = 'CylinderBufferGeometry'\n\n    this.parameters = {\n      radiusTop,\n      radiusBottom,\n      height,\n      radialSegments,\n      heightSegments,\n      openEnded\n    }\n\n    const hasTop = openEnded === false && radiusTop > 0\n    const hasBottom = openEnded === false && radiusBottom > 0\n    const vertexCount =\n      (heightSegments + 1) * radialSegments +\n      hasTop * (radialSegments + 1) +\n      hasBottom * (radialSegments + 1)\n    const facesCount =\n      (2 * heightSegments + hasTop + hasBottom) * radialSegments\n\n    const heightHalf = height / 2\n\n    /* eslint-disable no-magic-numbers */\n    const positions = new THREE.BufferAttribute(\n      utils.allocateTyped(Float32Array, vertexCount * 3),\n      3\n    )\n    const normals = new THREE.BufferAttribute(\n      utils.allocateTyped(Float32Array, vertexCount * 3),\n      3\n    )\n    const indices = new THREE.Uint16BufferAttribute(\n      utils.allocateTyped(Uint16Array, facesCount * PTS_PER_TRIANGLE),\n      1\n    )\n    /* eslint-enable no-magic-numbers */\n\n    const uvs = new THREE.BufferAttribute(\n      utils.allocateTyped(Float32Array, vertexCount * 2),\n      2\n    )\n    console.assert(\n      vertexCount < MAX_POINTS_COUNT_16BIT,\n      'DEBUG: Cylinder Geometry has too many vertices (65536 max).'\n    )\n\n    let currVtxIdx = 0\n    let currFaceIdx = 0\n    const tanTheta = -(radiusBottom - radiusTop) / height\n\n    // setup cylinder data\n    for (let y = 0; y <= heightSegments; y++) {\n      // faces\n      if (y !== heightSegments) {\n        for (let i = 0; i < radialSegments; i++) {\n          const v1 = currVtxIdx + i\n          const v2 = currVtxIdx + radialSegments + i\n          const v3 = currVtxIdx + radialSegments + ((i + 1) % radialSegments)\n          const v4 = currVtxIdx + ((i + 1) % radialSegments)\n\n          indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, v1, v4, v2)\n          currFaceIdx++\n          indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, v2, v4, v3)\n          currFaceIdx++\n        }\n      }\n\n      // vertices\n      const v = y / heightSegments\n      const radius = v * (radiusBottom - radiusTop) + radiusTop\n\n      for (let x = 0; x < radialSegments; x++) {\n        const u = x / radialSegments\n\n        const vx = radius * Math.sin(u * thetaLength + thetaStart)\n        const vy = v * height - heightHalf\n        const vz = radius * Math.cos(u * thetaLength + thetaStart)\n\n        const normal = new THREE.Vector3(\n          vx,\n          Math.sqrt(vx * vx + vz * vz) * tanTheta,\n          vz\n        ).normalize()\n\n        positions.setXYZ(currVtxIdx, vx, vy, vz)\n        normals.setXYZ(currVtxIdx, normal.x, normal.y, normal.z)\n        uvs.setXY(currVtxIdx, u, v)\n        ++currVtxIdx\n      }\n    }\n\n    // top cap\n    if (hasTop) {\n      const startTIdx = currVtxIdx\n      const lastIdx = currVtxIdx + radialSegments\n      for (let fTIdx = 0; fTIdx < radialSegments; ++fTIdx) {\n        const currSrcIdx = currVtxIdx - radialSegments\n        positions.setXYZ(\n          currVtxIdx,\n          positions.getX(currSrcIdx),\n          positions.getY(currSrcIdx),\n          positions.getZ(currSrcIdx)\n        )\n        normals.setXYZ(currVtxIdx, 0, 1, 0)\n        uvs.setXY(currVtxIdx, 1, 1)\n\n        const nextTVtx = startTIdx + ((fTIdx + 1) % radialSegments)\n        indices.setXYZ(\n          currFaceIdx * PTS_PER_TRIANGLE,\n          currVtxIdx,\n          nextTVtx,\n          lastIdx\n        )\n        currFaceIdx++\n        currVtxIdx++\n      }\n\n      positions.setXYZ(currVtxIdx, 0, heightHalf, 0)\n      normals.setXYZ(currVtxIdx, 0, 1, 0)\n      uvs.setXY(currVtxIdx, 1, 1)\n      ++currVtxIdx\n    }\n\n    // bottom cap\n    if (hasBottom) {\n      const startBIdx = currVtxIdx\n      const lastBIdx = currVtxIdx + radialSegments\n      for (let fBIdx = 0; fBIdx < radialSegments; ++fBIdx) {\n        const currSrcBIdx = fBIdx\n        positions.setXYZ(\n          currVtxIdx,\n          positions.getX(currSrcBIdx),\n          positions.getY(currSrcBIdx),\n          positions.getZ(currSrcBIdx)\n        )\n        normals.setXYZ(currVtxIdx, 0, -1, 0)\n        uvs.setXY(currVtxIdx, 0, 0)\n\n        const nextBVtx = startBIdx + ((fBIdx + 1) % radialSegments)\n        indices.setXYZ(\n          currFaceIdx * PTS_PER_TRIANGLE,\n          nextBVtx,\n          currVtxIdx,\n          lastBIdx\n        )\n        currFaceIdx++\n        currVtxIdx++\n      }\n\n      positions.setXYZ(currVtxIdx, 0, -heightHalf, 0)\n      normals.setXYZ(currVtxIdx, 0, -1, 0)\n      uvs.setXY(currVtxIdx, 0, 0)\n    }\n\n    this.setIndex(indices)\n    this.setAttribute('position', positions)\n    this.setAttribute('normal', normals)\n    this.setAttribute('uv', uvs)\n  }\n\n  clone() {\n    const { parameters } = this\n\n    return new CylinderBufferGeometry(\n      parameters.radiusTop,\n      parameters.radiusBottom,\n      parameters.height,\n      parameters.radialSegments,\n      parameters.heightSegments,\n      parameters.openEnded\n    )\n  }\n}\n\nexport default CylinderBufferGeometry\n","import _ from 'lodash'\nimport * as THREE from 'three'\nimport utils from '../../utils'\nimport gfxutils from '../gfxutils'\nimport Simple2CCylindersGeometry from './Simple2CCylindersGeometry'\nimport CylinderBufferGeometry from './CylinderBufferGeometry'\n\nconst tmpColor = new THREE.Color()\nconst invMatrix = new THREE.Matrix4()\n\nconst OFFSET_SIZE = 4\nconst COLOR_SIZE = 3\nconst { copySubArrays } = utils\n\nfunction setArrayXYZ(arr, idx, x, y, z) {\n  arr[idx] = x\n  arr[idx + 1] = y\n  arr[idx + 2] = z\n}\n\nfunction setArrayXYZW(arr, idx, x, y, z, w) {\n  arr[idx] = x\n  arr[idx + 1] = y\n  arr[idx + 2] = z\n  arr[idx + 3] = w\n}\n\nfunction sortNumber(a, b) {\n  return a - b\n}\n\nfunction _prepareCylinderInfo(chunkIndices) {\n  chunkIndices.sort(sortNumber)\n  const chunksIdx = []\n  const cylinderInfo = []\n  for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n    const val = chunkIndices[i]\n    const even = (val | 0) % 2 === 0\n    const newPar = {\n      first: false,\n      second: false\n    }\n    if (even) {\n      newPar.first = true\n      newPar.second = i + 1 < n && chunkIndices[i + 1] === chunkIndices[i] + 1\n      if (newPar.second) {\n        ++i\n      }\n    } else {\n      newPar.second = true\n    }\n    chunksIdx.push(Math.floor(val / 2))\n    cylinderInfo.push(newPar)\n  }\n  return { indices: chunksIdx, cylinderInfo }\n}\n\nfunction _assignOpacity(cylinderInfo, color1, color2) {\n  for (let i = 0, n = cylinderInfo.length; i < n; ++i) {\n    const info = cylinderInfo[i]\n    if (!info.first) {\n      color1[COLOR_SIZE * i] = -0.5\n    }\n    if (!info.second) {\n      color2[COLOR_SIZE * i] = -0.5\n    }\n  }\n}\nclass Instanced2CCylindersGeometry extends THREE.InstancedBufferGeometry {\n  constructor(instanceCount, polyComplexity, useZSprites, openEnded) {\n    super()\n    this._useZSprites = useZSprites\n    this._cylGeometry = useZSprites\n      ? new THREE.PlaneBufferGeometry(2, 2, 1, 1)\n      : new CylinderBufferGeometry(\n          1,\n          1,\n          1.0,\n          Math.max(3, polyComplexity),\n          2,\n          openEnded\n        )\n    this._init(instanceCount, this._cylGeometry, this._useZSprites)\n\n    this._collisionGeo = new Simple2CCylindersGeometry(instanceCount, 3)\n  }\n\n  setItem(itemIdx, botPos, topPos, itemRad) {\n    const matrix = gfxutils.calcCylinderMatrix(botPos, topPos, itemRad)\n    let me = matrix.elements\n    const mtxOffset = itemIdx * OFFSET_SIZE\n\n    this._collisionGeo.setItem(itemIdx, botPos, topPos, itemRad)\n    setArrayXYZW(this._matVector1, mtxOffset, me[0], me[4], me[8], me[12])\n    setArrayXYZW(this._matVector2, mtxOffset, me[1], me[5], me[9], me[13])\n    setArrayXYZW(this._matVector3, mtxOffset, me[2], me[6], me[10], me[14])\n\n    if (this._useZSprites) {\n      invMatrix.copy(matrix).invert()\n      me = invMatrix.elements\n      setArrayXYZW(this._invmatVector1, mtxOffset, me[0], me[4], me[8], me[12])\n      setArrayXYZW(this._invmatVector2, mtxOffset, me[1], me[5], me[9], me[13])\n      setArrayXYZW(this._invmatVector3, mtxOffset, me[2], me[6], me[10], me[14])\n    }\n  }\n\n  setColor(itemIdx, colorVal1, colorVal2) {\n    const colorIdx = itemIdx * COLOR_SIZE\n    tmpColor.set(colorVal1)\n    setArrayXYZ(this._color1, colorIdx, tmpColor.r, tmpColor.g, tmpColor.b)\n    tmpColor.set(colorVal2)\n    setArrayXYZ(this._color2, colorIdx, tmpColor.r, tmpColor.g, tmpColor.b)\n  }\n\n  computeBoundingSphere() {\n    this._collisionGeo.computeBoundingSphere()\n    this.boundingSphere = this._collisionGeo.boundingSphere\n  }\n\n  computeBoundingBox() {\n    this._collisionGeo.computeBoundingBox()\n    this.boundingBox = this._collisionGeo.boundingBox\n  }\n\n  raycast(raycaster, intersects) {\n    this._collisionGeo.raycast(raycaster, intersects)\n  }\n\n  startUpdate() {\n    return true\n  }\n\n  finishUpdate() {\n    this.getAttribute('matVector1').needsUpdate = true\n    this.getAttribute('matVector2').needsUpdate = true\n    this.getAttribute('matVector3').needsUpdate = true\n    this.getAttribute('color').needsUpdate = true\n    this.getAttribute('color2').needsUpdate = true\n    this.getAttribute('alphaColor').needsUpdate = true\n    if (this._useZSprites) {\n      this.getAttribute('invmatVector1').needsUpdate = true\n      this.getAttribute('invmatVector2').needsUpdate = true\n      this.getAttribute('invmatVector3').needsUpdate = true\n    }\n\n    this._collisionGeo.finishUpdate()\n  }\n\n  finalize() {\n    this.finishUpdate()\n    this.computeBoundingSphere()\n  }\n\n  setOpacity(chunkIndices, value) {\n    const alphaArr = this._alpha\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      alphaArr[Math.floor(chunkIndices[i] / 2)] = value\n    }\n    this.getAttribute('alphaColor').needsUpdate = true\n  }\n\n  getSubset(chunkIndices) {\n    const info = _prepareCylinderInfo(chunkIndices)\n    const cylinderIndices = info.indices\n    const instanceCount = cylinderIndices.length\n    const geom = new THREE.InstancedBufferGeometry()\n    this._init.call(geom, instanceCount, this._cylGeometry, this._useZSprites)\n\n    copySubArrays(\n      this._matVector1,\n      geom._matVector1,\n      cylinderIndices,\n      OFFSET_SIZE\n    )\n    copySubArrays(\n      this._matVector2,\n      geom._matVector2,\n      cylinderIndices,\n      OFFSET_SIZE\n    )\n    copySubArrays(\n      this._matVector3,\n      geom._matVector3,\n      cylinderIndices,\n      OFFSET_SIZE\n    )\n\n    if (this._useZSprites) {\n      copySubArrays(\n        this._invmatVector1,\n        geom._invmatVector1,\n        cylinderIndices,\n        OFFSET_SIZE\n      )\n      copySubArrays(\n        this._invmatVector2,\n        geom._invmatVector2,\n        cylinderIndices,\n        OFFSET_SIZE\n      )\n      copySubArrays(\n        this._invmatVector3,\n        geom._invmatVector3,\n        cylinderIndices,\n        OFFSET_SIZE\n      )\n    }\n\n    copySubArrays(this._color1, geom._color1, cylinderIndices, COLOR_SIZE)\n    copySubArrays(this._color2, geom._color2, cylinderIndices, COLOR_SIZE)\n    _assignOpacity(info.cylinderInfo, geom._color1, geom._color2)\n    geom.boundingSphere = this.boundingSphere\n    geom.boundingBox = this.boundingBox\n    return [geom]\n  }\n\n  getGeoParams() {\n    return this._cylGeometry.parameters\n  }\n\n  _init(instanceCount, cylinderGeo, useZSprites) {\n    this.copy(cylinderGeo)\n    this._matVector1 = utils.allocateTyped(\n      Float32Array,\n      instanceCount * OFFSET_SIZE\n    )\n    this._matVector2 = utils.allocateTyped(\n      Float32Array,\n      instanceCount * OFFSET_SIZE\n    )\n    this._matVector3 = utils.allocateTyped(\n      Float32Array,\n      instanceCount * OFFSET_SIZE\n    )\n    this._color1 = utils.allocateTyped(Float32Array, instanceCount * COLOR_SIZE)\n    this._color2 = utils.allocateTyped(Float32Array, instanceCount * COLOR_SIZE)\n    const alpha = (this._alpha = utils.allocateTyped(\n      Float32Array,\n      instanceCount\n    ))\n    _.fill(alpha, 1.0)\n\n    this.setAttribute(\n      'matVector1',\n      new THREE.InstancedBufferAttribute(\n        this._matVector1,\n        OFFSET_SIZE,\n        false,\n        1\n      )\n    )\n    this.setAttribute(\n      'matVector2',\n      new THREE.InstancedBufferAttribute(\n        this._matVector2,\n        OFFSET_SIZE,\n        false,\n        1\n      )\n    )\n    this.setAttribute(\n      'matVector3',\n      new THREE.InstancedBufferAttribute(\n        this._matVector3,\n        OFFSET_SIZE,\n        false,\n        1\n      )\n    )\n    this.setAttribute(\n      'color',\n      new THREE.InstancedBufferAttribute(this._color1, COLOR_SIZE, false, 1)\n    )\n    this.setAttribute(\n      'color2',\n      new THREE.InstancedBufferAttribute(this._color2, COLOR_SIZE, false, 1)\n    )\n\n    this.setAttribute(\n      'alphaColor',\n      new THREE.InstancedBufferAttribute(this._alpha, 1, false, 1)\n    )\n\n    if (useZSprites) {\n      this._invmatVector1 = utils.allocateTyped(\n        Float32Array,\n        instanceCount * OFFSET_SIZE\n      )\n      this._invmatVector2 = utils.allocateTyped(\n        Float32Array,\n        instanceCount * OFFSET_SIZE\n      )\n      this._invmatVector3 = utils.allocateTyped(\n        Float32Array,\n        instanceCount * OFFSET_SIZE\n      )\n\n      this.setAttribute(\n        'invmatVector1',\n        new THREE.InstancedBufferAttribute(\n          this._invmatVector1,\n          OFFSET_SIZE,\n          false,\n          1\n        )\n      )\n      this.setAttribute(\n        'invmatVector2',\n        new THREE.InstancedBufferAttribute(\n          this._invmatVector2,\n          OFFSET_SIZE,\n          false,\n          1\n        )\n      )\n      this.setAttribute(\n        'invmatVector3',\n        new THREE.InstancedBufferAttribute(\n          this._invmatVector3,\n          OFFSET_SIZE,\n          false,\n          1\n        )\n      )\n    }\n  }\n}\n\nexport default Instanced2CCylindersGeometry\n","import * as THREE from 'three'\nimport utils from '../../utils'\nimport ChunkedObjectsGeometry from './ChunkedObjectsGeometry'\n\nconst VEC_SIZE = 3\nconst TRI_SIZE = 3\nconst tmpPrev = new THREE.Vector3()\nconst tmpNext = new THREE.Vector3()\nconst tmpRes = new THREE.Vector3()\nconst simpleNormal = new THREE.Vector3(1.0, 0.0, 0.0)\nconst normalOnCut = new THREE.Vector3()\nconst nearRingPt = new THREE.Vector3()\n\nfunction _createExtrudedChunkGeometry(shape, ringsCount) {\n  const geo = new THREE.BufferGeometry()\n  const ptsCount = shape.length\n  const totalPts = ptsCount * ringsCount\n  const type = totalPts <= 65536 ? Uint16Array : Uint32Array\n  const facesPerChunk = (ringsCount - 1) * ptsCount * 2\n  const indices = new THREE.BufferAttribute(\n    utils.allocateTyped(type, facesPerChunk * TRI_SIZE),\n    1\n  )\n\n  let currVtxIdx = 0\n  let currFaceIdx = 0\n  for (let y = 0; y < ringsCount; y++) {\n    // faces\n    if (y !== ringsCount - 1) {\n      for (let i = 0; i < ptsCount; i++) {\n        const v1 = currVtxIdx + i\n        const v2 = currVtxIdx + ptsCount + i\n        const v3 = currVtxIdx + ptsCount + ((i + 1) % ptsCount)\n        const v4 = currVtxIdx + ((i + 1) % ptsCount)\n\n        indices.setXYZ(currFaceIdx * TRI_SIZE, v1, v4, v2)\n        currFaceIdx++\n        indices.setXYZ(currFaceIdx * TRI_SIZE, v2, v4, v3)\n        currFaceIdx++\n      }\n    }\n\n    currVtxIdx += ptsCount\n  }\n\n  geo.setIndex(indices)\n  const pos = utils.allocateTyped(Float32Array, totalPts * VEC_SIZE)\n  geo.setAttribute('position', new THREE.BufferAttribute(pos, VEC_SIZE))\n\n  geo._positions = shape\n\n  return geo\n}\n\nclass ExtrudedObjectsGeometry extends ChunkedObjectsGeometry {\n  constructor(shape, ringsCount, chunksCount) {\n    const chunkGeo = _createExtrudedChunkGeometry(shape, ringsCount)\n    super(chunkGeo, chunksCount)\n    this._ringsCount = ringsCount\n\n    const tmpShape = (this._tmpShape = [])\n    for (let i = 0; i < shape.length; ++i) {\n      tmpShape[i] = new THREE.Vector3()\n    }\n  }\n\n  setItem(itemIdx, matrices, hasSlope = false, hasCut = false) {\n    const ptsCount = this._chunkGeo._positions.length\n    const ringsCount = this._ringsCount\n    const chunkStartIdx = ptsCount * this._ringsCount * itemIdx * VEC_SIZE\n\n    this._setPoints(matrices, ptsCount, ringsCount, chunkStartIdx)\n\n    if (hasSlope) {\n      this._setSlopeNormals(ptsCount, ringsCount, chunkStartIdx)\n    } else {\n      this._setBaseNormals(ptsCount, ringsCount, chunkStartIdx)\n    }\n\n    if (hasCut) {\n      this._addCut(ptsCount, ringsCount, chunkStartIdx)\n    }\n  }\n\n  _setPoints(matrices, ptsCount, ringsCount, chunkStartIdx) {\n    const tmpShape = this._tmpShape\n    const positions = this._positions\n    const shape = this._chunkGeo._positions\n\n    for (let i = 0, vtxIdx = chunkStartIdx; i < ringsCount; ++i) {\n      const mtx = matrices[i]\n\n      for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n        tmpShape[j].copy(shape[j]).applyMatrix4(mtx).toArray(positions, vtxIdx)\n      }\n    }\n  }\n\n  _setBaseNormals(ptsCount, ringsCount, chunkStartIdx) {\n    const nPtsInRing = ptsCount * VEC_SIZE\n\n    for (\n      let i = 0, vtxIdx = chunkStartIdx;\n      i < ringsCount;\n      ++i, vtxIdx += nPtsInRing\n    ) {\n      this._countNormalsInRing(ptsCount, vtxIdx, false)\n    }\n  }\n\n  _setSlopeNormals(ptsCount, ringsCount, chunkStartIdx) {\n    const normals = this._normals\n    const nPtsInRing = ptsCount * VEC_SIZE\n\n    let vtxIdx = chunkStartIdx\n    // First ring\n    // In all cases, besides cut, second ring is coincident to first. So values of first ring's normals doesn't\n    // matter (In the cut case special handler will be applied later and will set them to correct values)\n    for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n      simpleNormal.toArray(normals, vtxIdx)\n    }\n    // second ring\n    // If it isn't first Item we take normals' values from the last ring of the previous item (these rings are coincident)\n    // else we count normals' values based on next ring information\n    if (vtxIdx - 2 * nPtsInRing > 0) {\n      for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n        tmpRes\n          .fromArray(normals, vtxIdx - 2 * nPtsInRing)\n          .toArray(normals, vtxIdx)\n      }\n    } else {\n      this._countNormalsInRing(ptsCount, vtxIdx, true, +nPtsInRing)\n      vtxIdx += nPtsInRing\n    }\n    // other rings\n    // we count normals' values based on previous ring information\n    for (let i = 2; i < ringsCount; ++i, vtxIdx += nPtsInRing) {\n      this._countNormalsInRing(ptsCount, vtxIdx, true, -nPtsInRing)\n    }\n  }\n\n  // Counting normals:\n  // - Slope\n  //   Radius changes throught part => normals aren't parallel with the plane contains section points\n  //   normal = vTangentInSectionPlane x vToSuchPointInPrevSection (all vectors are scaled for being 1 in length)\n  // - No slope\n  //   Radius doesn't change throught part => normals are parallel with the plane contains section points\n  //   normal = vToPrevPointInSection + vToNextPointInSection (all vectors are scaled for being 1 in length)\n  _countNormalsInRing(ptsCount, vtxIdx, isSlope, shiftToExtraPt) {\n    const tmpShape = this._tmpShape\n    const normals = this._normals\n\n    tmpShape[0].fromArray(this._positions, vtxIdx)\n    tmpShape[ptsCount - 1].fromArray(\n      this._positions,\n      vtxIdx + (ptsCount - 1) * VEC_SIZE\n    )\n\n    for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n      if (j < ptsCount - 1) {\n        tmpShape[j + 1].fromArray(this._positions, vtxIdx + VEC_SIZE)\n      }\n\n      if (isSlope) {\n        nearRingPt.fromArray(this._positions, vtxIdx + shiftToExtraPt)\n\n        tmpPrev\n          .subVectors(\n            tmpShape[(j + ptsCount - 1) % ptsCount],\n            tmpShape[(j + 1) % ptsCount]\n          )\n          .normalize()\n        tmpNext.subVectors(tmpShape[j], nearRingPt).normalize()\n        tmpRes\n          .crossVectors(tmpNext, tmpPrev)\n          .normalize()\n          .toArray(normals, vtxIdx)\n      } else {\n        tmpPrev\n          .subVectors(tmpShape[j], tmpShape[(j + ptsCount - 1) % ptsCount])\n          .normalize()\n        tmpNext\n          .subVectors(tmpShape[j], tmpShape[(j + 1) % ptsCount])\n          .normalize()\n        tmpRes.addVectors(tmpPrev, tmpNext).normalize().toArray(normals, vtxIdx)\n      }\n    }\n  }\n\n  _addCut(ptsCount, ringsCount, chunkStartIdx) {\n    // Nothing to do if item is flat or only line\n    if (ptsCount < 3 || ringsCount < 2) {\n      return\n    }\n    const positions = this._positions\n    const normals = this._normals\n    const tmpShape = this._tmpShape\n    const nPtsInRing = ptsCount * VEC_SIZE\n\n    // Normal to the cut plane is equal to cross product of two vectors which are lying in it\n    tmpShape[0].fromArray(positions, chunkStartIdx)\n    tmpShape[1].fromArray(positions, chunkStartIdx + VEC_SIZE)\n    tmpShape[2].fromArray(positions, chunkStartIdx + 2 * VEC_SIZE)\n\n    tmpPrev.subVectors(tmpShape[1], tmpShape[0]).normalize()\n    tmpNext.subVectors(tmpShape[1], tmpShape[2]).normalize()\n    normalOnCut.crossVectors(tmpPrev, tmpNext).normalize()\n\n    let vtxIdx = chunkStartIdx\n    // First and second rings normals' values are equal to value of normal to the cutting plane\n    for (let j = 0; j < ptsCount * 2; ++j, vtxIdx += VEC_SIZE) {\n      normalOnCut.toArray(normals, vtxIdx)\n    }\n    if (ringsCount > 2) {\n      // Third ring points are coincident to first ring points, but have different normals. It makes sharp angle near cut\n      for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n        tmpRes\n          .fromArray(positions, vtxIdx - nPtsInRing)\n          .toArray(positions, vtxIdx)\n      }\n    }\n  }\n}\n\nexport default ExtrudedObjectsGeometry\n","import _ from 'lodash'\nimport * as THREE from 'three'\nimport utils from '../../utils'\n\nconst MAX_IDC_16BIT = 65535\nconst VERTEX_PER_SEGMENT = 4\nconst POS_SIZE = 4\nconst DIR_SIZE = 3\nconst COL_SIZE = 3\nconst tmpColor = new THREE.Color()\nconst direction = new THREE.Vector3()\n\nfunction setArrayXYZ(arr, idx, x, y, z) {\n  arr[idx] = x\n  arr[idx + 1] = y\n  arr[idx + 2] = z\n}\n\nfunction setArrayXYZW(arr, idx, x, y, z, w) {\n  arr[idx] = x\n  arr[idx + 1] = y\n  arr[idx + 2] = z\n  arr[idx + 3] = w\n}\n\nfunction getSubset(arr, startSegmentIdx, segmentsCount, elemSize) {\n  const start = startSegmentIdx * VERTEX_PER_SEGMENT\n  const end = start + segmentsCount * VERTEX_PER_SEGMENT\n  return arr.subarray(start * elemSize, end * elemSize)\n}\n\n/**\n * This class represents lines geometry which consists of screen-aligned narrow quad of variable width.\n *\n * @constructor\n *\n * @param {number}  segmentsCount   Number of segments per chunk.\n * collision geometry.\n */\n\nclass ThickLinesGeometry extends THREE.BufferGeometry {\n  constructor(segmentsCount) {\n    super()\n    this._initVertices(segmentsCount)\n  }\n\n  startUpdate() {\n    return true\n  }\n\n  finishUpdate() {\n    this.getAttribute('position').needsUpdate = true\n    this.getAttribute('color').needsUpdate = true\n    this.getAttribute('alphaColor').needsUpdate = true\n    this.getAttribute('direction').needsUpdate = true\n  }\n\n  setColor(segmentIdx, colorVal) {\n    tmpColor.set(colorVal)\n    let idx = segmentIdx * VERTEX_PER_SEGMENT * COL_SIZE\n    setArrayXYZ(this._colors, idx, tmpColor.r, tmpColor.g, tmpColor.b)\n    idx += COL_SIZE\n    setArrayXYZ(this._colors, idx, tmpColor.r, tmpColor.g, tmpColor.b)\n    idx += COL_SIZE\n    setArrayXYZ(this._colors, idx, tmpColor.r, tmpColor.g, tmpColor.b)\n    idx += COL_SIZE\n    setArrayXYZ(this._colors, idx, tmpColor.r, tmpColor.g, tmpColor.b)\n  }\n\n  setSegment(segmentIdx, pos1, pos2) {\n    direction.subVectors(pos1, pos2)\n    direction.normalize()\n    const positions = this._positions\n    const directions = this._directions\n    let idx = segmentIdx * VERTEX_PER_SEGMENT * POS_SIZE\n    let dirIdx = segmentIdx * VERTEX_PER_SEGMENT * DIR_SIZE\n    setArrayXYZW(positions, idx, pos1.x, pos1.y, pos1.z, 0.5)\n    setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z)\n    idx += POS_SIZE\n    dirIdx += DIR_SIZE\n    setArrayXYZW(positions, idx, pos1.x, pos1.y, pos1.z, -0.5)\n    setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z)\n    idx += POS_SIZE\n    dirIdx += DIR_SIZE\n    setArrayXYZW(positions, idx, pos2.x, pos2.y, pos2.z, 0.5)\n    setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z)\n    idx += POS_SIZE\n    dirIdx += DIR_SIZE\n    setArrayXYZW(positions, idx, pos2.x, pos2.y, pos2.z, -0.5)\n    setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z)\n  }\n\n  setOpacity(startSegIdx, endSegIdx, value) {\n    const start = startSegIdx * VERTEX_PER_SEGMENT\n    const end = endSegIdx * VERTEX_PER_SEGMENT\n    _.fill(this.alpha, value, end, start)\n    this.getAttribute('alphaColor').needsUpdate = true\n  }\n\n  getSubsetSegments(startSegmentIdx, segmentsCount) {\n    return [\n      getSubset(this._positions, startSegmentIdx, segmentsCount, POS_SIZE),\n      getSubset(this._directions, startSegmentIdx, segmentsCount, DIR_SIZE)\n    ]\n  }\n\n  getSubsetColors(startSegmentIdx, segmentsCount) {\n    return getSubset(this._colors, startSegmentIdx, segmentsCount, COL_SIZE)\n  }\n\n  getSubsetOpacities(startSegmentIdx, segmentsCount) {\n    return getSubset(this._alpha, startSegmentIdx, segmentsCount, 1)\n  }\n\n  getNumVertexPerSegment() {\n    return VERTEX_PER_SEGMENT\n  }\n\n  getPositionSize() {\n    return POS_SIZE\n  }\n\n  setSegments(startSegmentIdx, positions) {\n    const startPos = startSegmentIdx * VERTEX_PER_SEGMENT * POS_SIZE\n    if (positions instanceof Array && positions.length === 2) {\n      this._positions.set(positions[0], startPos)\n      const startDir = startSegmentIdx * VERTEX_PER_SEGMENT * DIR_SIZE\n      this._directions.set(positions[1], startDir) // dirs are geo part of vertex\n    } else {\n      this._positions.set(positions, startPos)\n    }\n  }\n\n  setColors(startSegmentIdx, colors) {\n    const start = startSegmentIdx * VERTEX_PER_SEGMENT * COL_SIZE\n    this._colors.set(colors, start)\n  }\n\n  _initVertices(segmentsCount) {\n    this._buffersSize = segmentsCount * VERTEX_PER_SEGMENT\n    const pointsCount = this._buffersSize\n    const use32bitIndex = pointsCount > MAX_IDC_16BIT\n    this._index = utils.allocateTyped(\n      use32bitIndex ? Uint32Array : Uint16Array,\n      segmentsCount * 6\n    )\n    this._positions = utils.allocateTyped(Float32Array, pointsCount * POS_SIZE)\n    this._colors = utils.allocateTyped(Float32Array, pointsCount * COL_SIZE)\n    this._directions = utils.allocateTyped(Float32Array, pointsCount * DIR_SIZE)\n    const alpha = (this._alpha = utils.allocateTyped(Float32Array, pointsCount))\n    _.fill(alpha, 1.0)\n\n    const index = this._index\n    let indexOffset = 0\n    let pointOffset = 0\n    for (\n      let j = 0;\n      j < segmentsCount;\n      j++, indexOffset += 6, pointOffset += VERTEX_PER_SEGMENT\n    ) {\n      index[indexOffset] = pointOffset\n      index[indexOffset + 1] = pointOffset + 1\n      index[indexOffset + 2] = pointOffset + 3\n      index[indexOffset + 3] = pointOffset\n      index[indexOffset + 4] = pointOffset + 2\n      index[indexOffset + 5] = pointOffset + 3\n    }\n    this.setIndex(new THREE.BufferAttribute(this._index, 1))\n\n    this.setAttribute(\n      'position',\n      new THREE.BufferAttribute(this._positions, POS_SIZE)\n    )\n    this.setAttribute(\n      'color',\n      new THREE.BufferAttribute(this._colors, COL_SIZE)\n    )\n    this.setAttribute('alphaColor', new THREE.BufferAttribute(alpha, 1))\n    this.setAttribute(\n      'direction',\n      new THREE.BufferAttribute(this._directions, DIR_SIZE)\n    )\n  }\n}\n\nexport default ThickLinesGeometry\n","import * as THREE from 'three'\nimport BaseLinesGeometry from './ThickLinesGeometry'\n\n/**\n * This class represents geometry which consists lines. This can build bounding volumes\n * @constructor\n *\n * @param {number}  segmentsCount   Number of segments per chunk.\n */\nclass LinesGeometry extends BaseLinesGeometry {\n  startUpdate() {\n    return true\n  }\n\n  computeBoundingSphere() {\n    const { boundingBox } = this\n    // Build bounding sphere\n    let radiusSquared = 0.0\n    const center = new THREE.Vector3()\n    if (boundingBox) {\n      boundingBox.getCenter(center)\n    }\n    const positions = this._positions\n    const sphere = this.boundingSphere || new THREE.Sphere()\n    const size = this._positions.length\n    const pos = new THREE.Vector3()\n    const posSize = this.getPositionSize()\n    for (let i = 0; i < size; i += posSize) {\n      pos.set(positions[i], positions[i + 1], positions[i + 2])\n      const lengthSquared = center.distanceToSquared(pos)\n      if (radiusSquared < lengthSquared) {\n        radiusSquared = lengthSquared\n      }\n    }\n    sphere.set(center, Math.sqrt(radiusSquared))\n    this.boundingSphere = sphere\n  }\n\n  computeBoundingBox() {\n    const positions = this._positions\n    const box = new THREE.Box3()\n    const size = this._positions.length\n    const tmpVec = new THREE.Vector3()\n    const posSize = this.getPositionSize()\n    for (let i = 0; i < size; i += posSize) {\n      tmpVec.set(positions[i], positions[i + 1], positions[i + 2])\n      box.expandByPoint(tmpVec)\n    }\n    this.boundingBox = box\n  }\n\n  finalize() {\n    this.finishUpdate()\n    this.computeBoundingSphere()\n  }\n}\n\nexport default LinesGeometry\n","import * as THREE from 'three'\nimport utils from '../../utils'\nimport gfxutils from '../gfxutils'\nimport ChunkedObjectsGeometry from './ChunkedObjectsGeometry'\n\nconst VEC_SIZE = 3\nconst tmpVector = new THREE.Vector3()\nconst normMtx = new THREE.Matrix3()\n\nclass CylinderCollisionGeo extends ChunkedObjectsGeometry {\n  constructor(instanceCount, polyComplexity) {\n    const cylGeometry = new THREE.CylinderBufferGeometry(\n      1,\n      1,\n      1.0,\n      Math.max(3, polyComplexity),\n      2,\n      true\n    )\n    super(cylGeometry, instanceCount)\n\n    const chunkSize = this._chunkSize\n    this._chunkPos = this._chunkGeo.attributes.position.array\n    this._chunkNorms = this._chunkGeo.attributes.normal.array\n    this._tmpVector = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE)\n  }\n\n  setItem(itemIdx, botPos, topPos, itemRad) {\n    const chunkSize = this._chunkSize\n    const itemOffset = chunkSize * itemIdx * VEC_SIZE\n\n    const tmpArray = this._tmpVector\n    const geoPos = this._chunkPos\n    const geoNorm = this._chunkNorms\n\n    const mtx1 = gfxutils.calcCylinderMatrix(botPos, topPos, itemRad)\n    normMtx.getNormalMatrix(mtx1)\n    let idx\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE\n      tmpVector.fromArray(geoPos, idx)\n      tmpVector.applyMatrix4(mtx1)\n      tmpVector.toArray(tmpArray, idx)\n    }\n    this._positions.set(tmpArray, itemOffset)\n\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE\n      tmpVector.fromArray(geoNorm, idx)\n      tmpVector.applyMatrix3(normMtx)\n      tmpVector.toArray(tmpArray, idx)\n    }\n    this._normals.set(tmpArray, itemOffset)\n  }\n}\nexport default CylinderCollisionGeo\n","import LinesGeometry from './LinesGeometry'\nimport CylinderCollisionGeo from './CylinderCollisionGeo'\n\nconst COLLISION_RAD = 0.1\n\n/**\n * This class represents geometry which consists of separate chunks.\n * Each chunk has same index and similar geometry with equal points and faces count.\n * Each chunk has by default only one color.\n * @constructor\n *\n * @param {number}  chunksCount     Total chunks count.\n * @param {number}  segmentsCount   Number of segments per chunk.\n * @param {boolean} enableCollision Enable or disable collision where each segment is\n *                                  a collidable cylinder.\n * collision geometry.\n */\nclass ChunkedLinesGeometry extends LinesGeometry {\n  constructor(chunksCount, segmentsCount, enableCollision) {\n    super(chunksCount * segmentsCount)\n    this._init(segmentsCount)\n    this._collisionGeo = enableCollision\n      ? new CylinderCollisionGeo(chunksCount * segmentsCount, 3)\n      : null\n  }\n\n  startUpdate() {\n    return true\n  }\n\n  computeBoundingSphere() {\n    const collisionGeo = this._collisionGeo\n    if (collisionGeo) {\n      collisionGeo.computeBoundingSphere()\n      this.boundingSphere = collisionGeo.boundingSphere\n      return\n    }\n    super.computeBoundingSphere()\n  }\n\n  computeBoundingBox() {\n    const collisionGeo = this._collisionGeo\n    if (collisionGeo) {\n      collisionGeo.computeBoundingBox()\n      this.boundingBox = collisionGeo.boundingBox\n      return\n    }\n    super.computeBoundingBox()\n  }\n\n  raycast(raycaster, intersects) {\n    const collisionGeo = this._collisionGeo\n    if (!collisionGeo) {\n      return\n    }\n    const segCount = this._chunkSize\n    this._collisionGeo.raycast(raycaster, intersects)\n    for (let i = 0, n = intersects.length; i < n; ++i) {\n      let { chunkIdx } = intersects[i]\n      if (chunkIdx === undefined) {\n        continue\n      }\n      chunkIdx = (chunkIdx / segCount) | 0\n      intersects[i].chunkIdx = chunkIdx\n    }\n  }\n\n  setColor(chunkIdx, colorVal) {\n    const chunkSize = this._chunkSize\n    for (let i = chunkIdx * chunkSize, end = i + chunkSize; i < end; ++i) {\n      super.setColor(i, colorVal)\n    }\n  }\n\n  setSegment(chunkIdx, segIdx, pos1, pos2) {\n    const chunkSize = this._chunkSize\n    const idx = chunkIdx * chunkSize + segIdx\n    super.setSegment(idx, pos1, pos2)\n    if (this._collisionGeo) {\n      this._collisionGeo.setItem(\n        chunkIdx * chunkSize + segIdx,\n        pos1,\n        pos2,\n        COLLISION_RAD\n      )\n    }\n  }\n\n  finalize() {\n    this.finishUpdate()\n    this.computeBoundingSphere()\n  }\n\n  setOpacity(chunkIndices, value) {\n    const chunkSize = this._chunkSize\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      const left = chunkIndices[i] * chunkSize\n      super.setOpacity(left, left + chunkSize - 1, value)\n    }\n  }\n\n  getSubset(chunkIndices) {\n    const instanceCount = chunkIndices.length\n    const chunkSize = this._chunkSize\n    const subset = new ChunkedLinesGeometry(instanceCount, chunkSize, false)\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      const dstPtOffset = i * chunkSize\n      const startSegIdx = chunkIndices[i] * chunkSize\n      subset.setSegments(\n        dstPtOffset,\n        this.getSubsetSegments(startSegIdx, chunkSize)\n      )\n      subset.setColors(\n        dstPtOffset,\n        this.getSubsetColors(startSegIdx, chunkSize)\n      )\n    }\n\n    subset.boundingSphere = this.boundingSphere\n    subset.boundingBox = this.boundingBox\n    return [subset]\n  }\n\n  _init(chunkSize) {\n    this._chunkSize = chunkSize\n  }\n}\n\nexport default ChunkedLinesGeometry\n","import * as THREE from 'three'\nimport LinesGeometry from './LinesGeometry'\nimport Simple2CCylindersGeometry from './Simple2CCylindersGeometry'\n\nconst COLLISION_RAD = 0.3\nconst tmpVector = new THREE.Vector3()\n\nclass TwoColorLinesGeometry extends LinesGeometry {\n  constructor(segmentsCount) {\n    super(segmentsCount * 2)\n    this._init(segmentsCount)\n    this._collisionGeo = new Simple2CCylindersGeometry(segmentsCount, 3)\n  }\n\n  setItem(itemIdx, botPos, topPos) {\n    this._collisionGeo.setItem(itemIdx, botPos, topPos, COLLISION_RAD)\n    const offset = 2 * itemIdx // there are two points per segment\n    tmpVector.lerpVectors(botPos, topPos, 0.5)\n    super.setSegment(offset, botPos, tmpVector)\n    super.setSegment(offset + 1, tmpVector, topPos)\n  }\n\n  setColor(itemIdx, colorVal1, colorVal2) {\n    const offset = 2 * itemIdx // there are two points per segment\n    super.setColor(offset, colorVal1)\n    super.setColor(offset + 1, colorVal2)\n  }\n\n  raycast(raycaster, intersects) {\n    if (this._collisionGeo) {\n      this._collisionGeo.raycast(raycaster, intersects)\n    }\n  }\n\n  getSubset(segmentIndices) {\n    const instanceCount = segmentIndices.length\n    const subset = new TwoColorLinesGeometry(instanceCount, false)\n    for (let i = 0, n = instanceCount; i < n; ++i) {\n      const startSegIdx = segmentIndices[i]\n      subset.setSegments(i, this.getSubsetSegments(startSegIdx, 1))\n      subset.setColors(i, this.getSubsetColors(startSegIdx, 1))\n    }\n\n    subset.boundingSphere = this.boundingSphere\n    subset.boundingBox = this.boundingBox\n    return [subset]\n  }\n\n  _init(segmentsCount) {\n    this._segCounts = segmentsCount * 2\n  }\n}\n// (???)parent = LinesGeometry.prototype;\n\nexport default TwoColorLinesGeometry\n","import * as THREE from 'three'\nimport ChunkedLinesGeometry from './ChunkedLinesGeometry'\nimport SphereCollisionGeo from './SphereCollisionGeo'\n\nconst vectors = [\n  new THREE.Vector3(1, 0, 0),\n  new THREE.Vector3(-1, 0, 0),\n  new THREE.Vector3(0, 1, 0),\n  new THREE.Vector3(0, -1, 0),\n  new THREE.Vector3(0, 0, 1),\n  new THREE.Vector3(0, 0, -1)\n]\nconst vecCount = vectors.length\nconst tempPos1 = new THREE.Vector3()\nconst tempPos2 = new THREE.Vector3()\n\nclass CrossGeometry extends SphereCollisionGeo(ChunkedLinesGeometry) {\n  constructor(chunksCount) {\n    super(chunksCount, chunksCount, (vecCount / 2) | 0, false)\n  }\n\n  setItem(itemIdx, itemPos, itemRad) {\n    this.setSphere(itemIdx, itemPos, itemRad)\n\n    for (let i = 0; i < vecCount / 2; ++i) {\n      const first = i * 2\n      tempPos1.x = itemPos.x + vectors[first].x * itemRad\n      tempPos1.y = itemPos.y + vectors[first].y * itemRad\n      tempPos1.z = itemPos.z + vectors[first].z * itemRad\n      const second = first + 1\n      tempPos2.x = itemPos.x + vectors[second].x * itemRad\n      tempPos2.y = itemPos.y + vectors[second].y * itemRad\n      tempPos2.z = itemPos.z + vectors[second].z * itemRad\n      this.setSegment(itemIdx, i, tempPos1, tempPos2)\n    }\n  }\n}\nexport default CrossGeometry\n","import * as THREE from 'three'\nimport utils from '../../utils'\n\nconst POS_RAD_SIZE = 4\nconst COLOR_SIZE = 3\nconst tmpColor = new THREE.Color()\n\n/**\n * This is a base class for isosurface algorithms.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\nclass IsoSurfaceGeometry extends THREE.BufferGeometry {\n  constructor(spheresCount, opts) {\n    super()\n\n    this._opts = opts\n    this.zClip = this._opts.zClip\n    this._posRad = utils.allocateTyped(\n      Float32Array,\n      spheresCount * POS_RAD_SIZE\n    )\n    this._colors = utils.allocateTyped(Float32Array, spheresCount * COLOR_SIZE)\n  }\n\n  setItem(chunkIdx, pos, radius) {\n    const posRad = this._posRad\n    let idx = POS_RAD_SIZE * chunkIdx\n    posRad[idx++] = pos.x\n    posRad[idx++] = pos.y\n    posRad[idx++] = pos.z\n    posRad[idx] = radius\n  }\n\n  setColor(chunkIdx, colorVal) {\n    tmpColor.set(colorVal)\n    const colors = this._colors\n    let idx = COLOR_SIZE * chunkIdx\n    colors[idx++] = tmpColor.r\n    colors[idx++] = tmpColor.g\n    colors[idx] = tmpColor.b\n  }\n\n  finalize() {\n    this.finishUpdate()\n    this.computeBoundingSphere()\n  }\n\n  finishUpdate() {\n    this._build()\n  }\n\n  setOpacity() {\n    // not implemented\n  }\n\n  raycast() {}\n\n  getSubset() {\n    return []\n  }\n}\nexport default IsoSurfaceGeometry\n","import utils from '../../utils'\n\n/**\n * Class for marching cube\n * Stores 8 points and 8 float values are stored together in linear array\n * Int values for has intersection or not - in integer32 linear array\n * Int values for bits flags - in integer32 linear array\n *\n */\nclass IsoSurfaceMarchCube {\n  constructor() {\n    this.pointsValuesLinear = null\n    this.hasIntersection = null\n    this.bitsInside = null\n  }\n\n  create(numCellsPerSide) {\n    const vx7000000 = 0x7000000\n    const n3 = numCellsPerSide * numCellsPerSide * numCellsPerSide\n    if (n3 > vx7000000) {\n      throw new Error('Too large cube dimension: lead to memory huge uasge')\n    }\n    this.pointsValuesLinear = utils.allocateTyped(\n      Float32Array,\n      (2 << (2 + 2)) * n3\n    )\n    this.hasIntersection = utils.allocateTyped(Int32Array, n3)\n    this.bitsInside = utils.allocateTyped(Int32Array, n3)\n    return 0\n  }\n\n  destroy() {\n    this.bitsInside = null\n    this.hasIntersection = null\n    this.pointsValuesLinear = null\n  }\n}\n\n/* eslint-disable no-magic-numbers */\nIsoSurfaceMarchCube.prototype.striIndicesMarchCube = [\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 1, 9, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, 1, 8, 3, 9, 8, 1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0,\n  8, 3, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 2, 10, 0, 2, 9, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 8, 3, 2, 10, 8, 10, 9, 8, -1, -1, -1,\n  -1, -1, -1, -1, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 11, 2, 8, 11, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 9, 0, 2, 3, 11,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 11, 2, 1, 9, 11, 9, 8, 11, -1, -1,\n  -1, -1, -1, -1, -1, 3, 10, 1, 11, 10, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, 0, 10, 1, 0, 8, 10, 8, 11, 10, -1, -1, -1, -1, -1, -1, -1, 3, 9, 0, 3, 11,\n  9, 11, 10, 9, -1, -1, -1, -1, -1, -1, -1, 9, 8, 10, 10, 8, 11, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, 4, 3, 0, 7, 3, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 1, 9, 8,\n  4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 1, 9, 4, 7, 1, 7, 3, 1, -1,\n  -1, -1, -1, -1, -1, -1, 1, 2, 10, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, 3, 4, 7, 3, 0, 4, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1, 9, 2, 10, 9, 0, 2,\n  8, 4, 7, -1, -1, -1, -1, -1, -1, -1, 2, 10, 9, 2, 9, 7, 2, 7, 3, 7, 9, 4, -1,\n  -1, -1, -1, 8, 4, 7, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 11, 4,\n  7, 11, 2, 4, 2, 0, 4, -1, -1, -1, -1, -1, -1, -1, 9, 0, 1, 8, 4, 7, 2, 3, 11,\n  -1, -1, -1, -1, -1, -1, -1, 4, 7, 11, 9, 4, 11, 9, 11, 2, 9, 2, 1, -1, -1, -1,\n  -1, 3, 10, 1, 3, 11, 10, 7, 8, 4, -1, -1, -1, -1, -1, -1, -1, 1, 11, 10, 1, 4,\n  11, 1, 0, 4, 7, 11, 4, -1, -1, -1, -1, 4, 7, 8, 9, 0, 11, 9, 11, 10, 11, 0, 3,\n  -1, -1, -1, -1, 4, 7, 11, 4, 11, 9, 9, 11, 10, -1, -1, -1, -1, -1, -1, -1, 9,\n  5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 5, 4, 0, 8, 3,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 5, 4, 1, 5, 0, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, 8, 5, 4, 8, 3, 5, 3, 1, 5, -1, -1, -1, -1, -1, -1, -1, 1,\n  2, 10, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 0, 8, 1, 2, 10, 4,\n  9, 5, -1, -1, -1, -1, -1, -1, -1, 5, 2, 10, 5, 4, 2, 4, 0, 2, -1, -1, -1, -1,\n  -1, -1, -1, 2, 10, 5, 3, 2, 5, 3, 5, 4, 3, 4, 8, -1, -1, -1, -1, 9, 5, 4, 2,\n  3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 11, 2, 0, 8, 11, 4, 9, 5,\n  -1, -1, -1, -1, -1, -1, -1, 0, 5, 4, 0, 1, 5, 2, 3, 11, -1, -1, -1, -1, -1,\n  -1, -1, 2, 1, 5, 2, 5, 8, 2, 8, 11, 4, 8, 5, -1, -1, -1, -1, 10, 3, 11, 10, 1,\n  3, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1, 4, 9, 5, 0, 8, 1, 8, 10, 1, 8, 11, 10,\n  -1, -1, -1, -1, 5, 4, 0, 5, 0, 11, 5, 11, 10, 11, 0, 3, -1, -1, -1, -1, 5, 4,\n  8, 5, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1, 9, 7, 8, 5, 7, 9, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, 9, 3, 0, 9, 5, 3, 5, 7, 3, -1, -1, -1, -1, -1,\n  -1, -1, 0, 7, 8, 0, 1, 7, 1, 5, 7, -1, -1, -1, -1, -1, -1, -1, 1, 5, 3, 3, 5,\n  7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 7, 8, 9, 5, 7, 10, 1, 2, -1, -1,\n  -1, -1, -1, -1, -1, 10, 1, 2, 9, 5, 0, 5, 3, 0, 5, 7, 3, -1, -1, -1, -1, 8, 0,\n  2, 8, 2, 5, 8, 5, 7, 10, 5, 2, -1, -1, -1, -1, 2, 10, 5, 2, 5, 3, 3, 5, 7, -1,\n  -1, -1, -1, -1, -1, -1, 7, 9, 5, 7, 8, 9, 3, 11, 2, -1, -1, -1, -1, -1, -1,\n  -1, 9, 5, 7, 9, 7, 2, 9, 2, 0, 2, 7, 11, -1, -1, -1, -1, 2, 3, 11, 0, 1, 8, 1,\n  7, 8, 1, 5, 7, -1, -1, -1, -1, 11, 2, 1, 11, 1, 7, 7, 1, 5, -1, -1, -1, -1,\n  -1, -1, -1, 9, 5, 8, 8, 5, 7, 10, 1, 3, 10, 3, 11, -1, -1, -1, -1, 5, 7, 0, 5,\n  0, 9, 7, 11, 0, 1, 0, 10, 11, 10, 0, -1, 11, 10, 0, 11, 0, 3, 10, 5, 0, 8, 0,\n  7, 5, 7, 0, -1, 11, 10, 5, 7, 11, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, 5, 10,\n  6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 0, 1, 5, 10, 6, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, 1, 8, 3, 1, 9, 8, 5, 10, 6, -1, -1, -1, -1, -1, -1,\n  -1, 1, 6, 5, 2, 6, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 6, 5, 1, 2,\n  6, 3, 0, 8, -1, -1, -1, -1, -1, -1, -1, 9, 6, 5, 9, 0, 6, 0, 2, 6, -1, -1, -1,\n  -1, -1, -1, -1, 5, 9, 8, 5, 8, 2, 5, 2, 6, 3, 2, 8, -1, -1, -1, -1, 2, 3, 11,\n  10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 11, 0, 8, 11, 2, 0, 10, 6,\n  5, -1, -1, -1, -1, -1, -1, -1, 0, 1, 9, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1,\n  -1, -1, -1, 5, 10, 6, 1, 9, 2, 9, 11, 2, 9, 8, 11, -1, -1, -1, -1, 6, 3, 11,\n  6, 5, 3, 5, 1, 3, -1, -1, -1, -1, -1, -1, -1, 0, 8, 11, 0, 11, 5, 0, 5, 1, 5,\n  11, 6, -1, -1, -1, -1, 3, 11, 6, 0, 3, 6, 0, 6, 5, 0, 5, 9, -1, -1, -1, -1, 6,\n  5, 9, 6, 9, 11, 11, 9, 8, -1, -1, -1, -1, -1, -1, -1, 5, 10, 6, 4, 7, 8, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 3, 0, 4, 7, 3, 6, 5, 10, -1, -1, -1,\n  -1, -1, -1, -1, 1, 9, 0, 5, 10, 6, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, 10, 6,\n  5, 1, 9, 7, 1, 7, 3, 7, 9, 4, -1, -1, -1, -1, 6, 1, 2, 6, 5, 1, 4, 7, 8, -1,\n  -1, -1, -1, -1, -1, -1, 1, 2, 5, 5, 2, 6, 3, 0, 4, 3, 4, 7, -1, -1, -1, -1, 8,\n  4, 7, 9, 0, 5, 0, 6, 5, 0, 2, 6, -1, -1, -1, -1, 7, 3, 9, 7, 9, 4, 3, 2, 9, 5,\n  9, 6, 2, 6, 9, -1, 3, 11, 2, 7, 8, 4, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1, 5,\n  10, 6, 4, 7, 2, 4, 2, 0, 2, 7, 11, -1, -1, -1, -1, 0, 1, 9, 4, 7, 8, 2, 3, 11,\n  5, 10, 6, -1, -1, -1, -1, 9, 2, 1, 9, 11, 2, 9, 4, 11, 7, 11, 4, 5, 10, 6, -1,\n  8, 4, 7, 3, 11, 5, 3, 5, 1, 5, 11, 6, -1, -1, -1, -1, 5, 1, 11, 5, 11, 6, 1,\n  0, 11, 7, 11, 4, 0, 4, 11, -1, 0, 5, 9, 0, 6, 5, 0, 3, 6, 11, 6, 3, 8, 4, 7,\n  -1, 6, 5, 9, 6, 9, 11, 4, 7, 9, 7, 11, 9, -1, -1, -1, -1, 10, 4, 9, 6, 4, 10,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 10, 6, 4, 9, 10, 0, 8, 3, -1, -1,\n  -1, -1, -1, -1, -1, 10, 0, 1, 10, 6, 0, 6, 4, 0, -1, -1, -1, -1, -1, -1, -1,\n  8, 3, 1, 8, 1, 6, 8, 6, 4, 6, 1, 10, -1, -1, -1, -1, 1, 4, 9, 1, 2, 4, 2, 6,\n  4, -1, -1, -1, -1, -1, -1, -1, 3, 0, 8, 1, 2, 9, 2, 4, 9, 2, 6, 4, -1, -1, -1,\n  -1, 0, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, 3, 2, 8, 2,\n  4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1, 10, 4, 9, 10, 6, 4, 11, 2, 3, -1, -1,\n  -1, -1, -1, -1, -1, 0, 8, 2, 2, 8, 11, 4, 9, 10, 4, 10, 6, -1, -1, -1, -1, 3,\n  11, 2, 0, 1, 6, 0, 6, 4, 6, 1, 10, -1, -1, -1, -1, 6, 4, 1, 6, 1, 10, 4, 8, 1,\n  2, 1, 11, 8, 11, 1, -1, 9, 6, 4, 9, 3, 6, 9, 1, 3, 11, 6, 3, -1, -1, -1, -1,\n  8, 11, 1, 8, 1, 0, 11, 6, 1, 9, 1, 4, 6, 4, 1, -1, 3, 11, 6, 3, 6, 0, 0, 6, 4,\n  -1, -1, -1, -1, -1, -1, -1, 6, 4, 8, 11, 6, 8, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, 7, 10, 6, 7, 8, 10, 8, 9, 10, -1, -1, -1, -1, -1, -1, -1, 0, 7, 3, 0,\n  10, 7, 0, 9, 10, 6, 7, 10, -1, -1, -1, -1, 10, 6, 7, 1, 10, 7, 1, 7, 8, 1, 8,\n  0, -1, -1, -1, -1, 10, 6, 7, 10, 7, 1, 1, 7, 3, -1, -1, -1, -1, -1, -1, -1, 1,\n  2, 6, 1, 6, 8, 1, 8, 9, 8, 6, 7, -1, -1, -1, -1, 2, 6, 9, 2, 9, 1, 6, 7, 9, 0,\n  9, 3, 7, 3, 9, -1, 7, 8, 0, 7, 0, 6, 6, 0, 2, -1, -1, -1, -1, -1, -1, -1, 7,\n  3, 2, 6, 7, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 3, 11, 10, 6, 8, 10,\n  8, 9, 8, 6, 7, -1, -1, -1, -1, 2, 0, 7, 2, 7, 11, 0, 9, 7, 6, 7, 10, 9, 10, 7,\n  -1, 1, 8, 0, 1, 7, 8, 1, 10, 7, 6, 7, 10, 2, 3, 11, -1, 11, 2, 1, 11, 1, 7,\n  10, 6, 1, 6, 7, 1, -1, -1, -1, -1, 8, 9, 6, 8, 6, 7, 9, 1, 6, 11, 6, 3, 1, 3,\n  6, -1, 0, 9, 1, 11, 6, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 7, 8, 0, 7,\n  0, 6, 3, 11, 0, 11, 6, 0, -1, -1, -1, -1, 7, 11, 6, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, 3, 0, 8, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 1,\n  9, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, 1, 9, 8, 3, 1, 11, 7,\n  6, -1, -1, -1, -1, -1, -1, -1, 10, 1, 2, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, 1, 2, 10, 3, 0, 8, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1, 2, 9, 0,\n  2, 10, 9, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1, 6, 11, 7, 2, 10, 3, 10, 8, 3,\n  10, 9, 8, -1, -1, -1, -1, 7, 2, 3, 6, 2, 7, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, 7, 0, 8, 7, 6, 0, 6, 2, 0, -1, -1, -1, -1, -1, -1, -1, 2, 7, 6, 2, 3,\n  7, 0, 1, 9, -1, -1, -1, -1, -1, -1, -1, 1, 6, 2, 1, 8, 6, 1, 9, 8, 8, 7, 6,\n  -1, -1, -1, -1, 10, 7, 6, 10, 1, 7, 1, 3, 7, -1, -1, -1, -1, -1, -1, -1, 10,\n  7, 6, 1, 7, 10, 1, 8, 7, 1, 0, 8, -1, -1, -1, -1, 0, 3, 7, 0, 7, 10, 0, 10, 9,\n  6, 10, 7, -1, -1, -1, -1, 7, 6, 10, 7, 10, 8, 8, 10, 9, -1, -1, -1, -1, -1,\n  -1, -1, 6, 8, 4, 11, 8, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 6, 11,\n  3, 0, 6, 0, 4, 6, -1, -1, -1, -1, -1, -1, -1, 8, 6, 11, 8, 4, 6, 9, 0, 1, -1,\n  -1, -1, -1, -1, -1, -1, 9, 4, 6, 9, 6, 3, 9, 3, 1, 11, 3, 6, -1, -1, -1, -1,\n  6, 8, 4, 6, 11, 8, 2, 10, 1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 10, 3, 0, 11,\n  0, 6, 11, 0, 4, 6, -1, -1, -1, -1, 4, 11, 8, 4, 6, 11, 0, 2, 9, 2, 10, 9, -1,\n  -1, -1, -1, 10, 9, 3, 10, 3, 2, 9, 4, 3, 11, 3, 6, 4, 6, 3, -1, 8, 2, 3, 8, 4,\n  2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1, 0, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, 1, 9, 0, 2, 3, 4, 2, 4, 6, 4, 3, 8, -1, -1, -1, -1, 1, 9,\n  4, 1, 4, 2, 2, 4, 6, -1, -1, -1, -1, -1, -1, -1, 8, 1, 3, 8, 6, 1, 8, 4, 6, 6,\n  10, 1, -1, -1, -1, -1, 10, 1, 0, 10, 0, 6, 6, 0, 4, -1, -1, -1, -1, -1, -1,\n  -1, 4, 6, 3, 4, 3, 8, 6, 10, 3, 0, 3, 9, 10, 9, 3, -1, 10, 9, 4, 6, 10, 4, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 9, 5, 7, 6, 11, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, 0, 8, 3, 4, 9, 5, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, 5, 0,\n  1, 5, 4, 0, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, 11, 7, 6, 8, 3, 4, 3, 5, 4,\n  3, 1, 5, -1, -1, -1, -1, 9, 5, 4, 10, 1, 2, 7, 6, 11, -1, -1, -1, -1, -1, -1,\n  -1, 6, 11, 7, 1, 2, 10, 0, 8, 3, 4, 9, 5, -1, -1, -1, -1, 7, 6, 11, 5, 4, 10,\n  4, 2, 10, 4, 0, 2, -1, -1, -1, -1, 3, 4, 8, 3, 5, 4, 3, 2, 5, 10, 5, 2, 11, 7,\n  6, -1, 7, 2, 3, 7, 6, 2, 5, 4, 9, -1, -1, -1, -1, -1, -1, -1, 9, 5, 4, 0, 8,\n  6, 0, 6, 2, 6, 8, 7, -1, -1, -1, -1, 3, 6, 2, 3, 7, 6, 1, 5, 0, 5, 4, 0, -1,\n  -1, -1, -1, 6, 2, 8, 6, 8, 7, 2, 1, 8, 4, 8, 5, 1, 5, 8, -1, 9, 5, 4, 10, 1,\n  6, 1, 7, 6, 1, 3, 7, -1, -1, -1, -1, 1, 6, 10, 1, 7, 6, 1, 0, 7, 8, 7, 0, 9,\n  5, 4, -1, 4, 0, 10, 4, 10, 5, 0, 3, 10, 6, 10, 7, 3, 7, 10, -1, 7, 6, 10, 7,\n  10, 8, 5, 4, 10, 4, 8, 10, -1, -1, -1, -1, 6, 9, 5, 6, 11, 9, 11, 8, 9, -1,\n  -1, -1, -1, -1, -1, -1, 3, 6, 11, 0, 6, 3, 0, 5, 6, 0, 9, 5, -1, -1, -1, -1,\n  0, 11, 8, 0, 5, 11, 0, 1, 5, 5, 6, 11, -1, -1, -1, -1, 6, 11, 3, 6, 3, 5, 5,\n  3, 1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 10, 9, 5, 11, 9, 11, 8, 11, 5, 6, -1,\n  -1, -1, -1, 0, 11, 3, 0, 6, 11, 0, 9, 6, 5, 6, 9, 1, 2, 10, -1, 11, 8, 5, 11,\n  5, 6, 8, 0, 5, 10, 5, 2, 0, 2, 5, -1, 6, 11, 3, 6, 3, 5, 2, 10, 3, 10, 5, 3,\n  -1, -1, -1, -1, 5, 8, 9, 5, 2, 8, 5, 6, 2, 3, 8, 2, -1, -1, -1, -1, 9, 5, 6,\n  9, 6, 0, 0, 6, 2, -1, -1, -1, -1, -1, -1, -1, 1, 5, 8, 1, 8, 0, 5, 6, 8, 3, 8,\n  2, 6, 2, 8, -1, 1, 5, 6, 2, 1, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1,\n  3, 6, 1, 6, 10, 3, 8, 6, 5, 6, 9, 8, 9, 6, -1, 10, 1, 0, 10, 0, 6, 9, 5, 0, 5,\n  6, 0, -1, -1, -1, -1, 0, 3, 8, 5, 6, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, 10, 5, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 11, 5, 10,\n  7, 5, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 11, 5, 10, 11, 7, 5, 8, 3,\n  0, -1, -1, -1, -1, -1, -1, -1, 5, 11, 7, 5, 10, 11, 1, 9, 0, -1, -1, -1, -1,\n  -1, -1, -1, 10, 7, 5, 10, 11, 7, 9, 8, 1, 8, 3, 1, -1, -1, -1, -1, 11, 1, 2,\n  11, 7, 1, 7, 5, 1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, 1, 2, 7, 1, 7, 5, 7,\n  2, 11, -1, -1, -1, -1, 9, 7, 5, 9, 2, 7, 9, 0, 2, 2, 11, 7, -1, -1, -1, -1, 7,\n  5, 2, 7, 2, 11, 5, 9, 2, 3, 2, 8, 9, 8, 2, -1, 2, 5, 10, 2, 3, 5, 3, 7, 5, -1,\n  -1, -1, -1, -1, -1, -1, 8, 2, 0, 8, 5, 2, 8, 7, 5, 10, 2, 5, -1, -1, -1, -1,\n  9, 0, 1, 5, 10, 3, 5, 3, 7, 3, 10, 2, -1, -1, -1, -1, 9, 8, 2, 9, 2, 1, 8, 7,\n  2, 10, 2, 5, 7, 5, 2, -1, 1, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, 0, 8, 7, 0, 7, 1, 1, 7, 5, -1, -1, -1, -1, -1, -1, -1, 9, 0, 3, 9, 3,\n  5, 5, 3, 7, -1, -1, -1, -1, -1, -1, -1, 9, 8, 7, 5, 9, 7, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, 5, 8, 4, 5, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1,\n  5, 0, 4, 5, 11, 0, 5, 10, 11, 11, 3, 0, -1, -1, -1, -1, 0, 1, 9, 8, 4, 10, 8,\n  10, 11, 10, 4, 5, -1, -1, -1, -1, 10, 11, 4, 10, 4, 5, 11, 3, 4, 9, 4, 1, 3,\n  1, 4, -1, 2, 5, 1, 2, 8, 5, 2, 11, 8, 4, 5, 8, -1, -1, -1, -1, 0, 4, 11, 0,\n  11, 3, 4, 5, 11, 2, 11, 1, 5, 1, 11, -1, 0, 2, 5, 0, 5, 9, 2, 11, 5, 4, 5, 8,\n  11, 8, 5, -1, 9, 4, 5, 2, 11, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 5,\n  10, 3, 5, 2, 3, 4, 5, 3, 8, 4, -1, -1, -1, -1, 5, 10, 2, 5, 2, 4, 4, 2, 0, -1,\n  -1, -1, -1, -1, -1, -1, 3, 10, 2, 3, 5, 10, 3, 8, 5, 4, 5, 8, 0, 1, 9, -1, 5,\n  10, 2, 5, 2, 4, 1, 9, 2, 9, 4, 2, -1, -1, -1, -1, 8, 4, 5, 8, 5, 3, 3, 5, 1,\n  -1, -1, -1, -1, -1, -1, -1, 0, 4, 5, 1, 0, 5, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, 8, 4, 5, 8, 5, 3, 9, 0, 5, 0, 3, 5, -1, -1, -1, -1, 9, 4, 5, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 11, 7, 4, 9, 11, 9, 10, 11, -1,\n  -1, -1, -1, -1, -1, -1, 0, 8, 3, 4, 9, 7, 9, 11, 7, 9, 10, 11, -1, -1, -1, -1,\n  1, 10, 11, 1, 11, 4, 1, 4, 0, 7, 4, 11, -1, -1, -1, -1, 3, 1, 4, 3, 4, 8, 1,\n  10, 4, 7, 4, 11, 10, 11, 4, -1, 4, 11, 7, 9, 11, 4, 9, 2, 11, 9, 1, 2, -1, -1,\n  -1, -1, 9, 7, 4, 9, 11, 7, 9, 1, 11, 2, 11, 1, 0, 8, 3, -1, 11, 7, 4, 11, 4,\n  2, 2, 4, 0, -1, -1, -1, -1, -1, -1, -1, 11, 7, 4, 11, 4, 2, 8, 3, 4, 3, 2, 4,\n  -1, -1, -1, -1, 2, 9, 10, 2, 7, 9, 2, 3, 7, 7, 4, 9, -1, -1, -1, -1, 9, 10, 7,\n  9, 7, 4, 10, 2, 7, 8, 7, 0, 2, 0, 7, -1, 3, 7, 10, 3, 10, 2, 7, 4, 10, 1, 10,\n  0, 4, 0, 10, -1, 1, 10, 2, 8, 7, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4,\n  9, 1, 4, 1, 7, 7, 1, 3, -1, -1, -1, -1, -1, -1, -1, 4, 9, 1, 4, 1, 7, 0, 8, 1,\n  8, 7, 1, -1, -1, -1, -1, 4, 0, 3, 7, 4, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, 4, 8, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 10, 8, 10,\n  11, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 0, 9, 3, 9, 11, 11, 9, 10,\n  -1, -1, -1, -1, -1, -1, -1, 0, 1, 10, 0, 10, 8, 8, 10, 11, -1, -1, -1, -1, -1,\n  -1, -1, 3, 1, 10, 11, 3, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 11,\n  1, 11, 9, 9, 11, 8, -1, -1, -1, -1, -1, -1, -1, 3, 0, 9, 3, 9, 11, 1, 2, 9, 2,\n  11, 9, -1, -1, -1, -1, 0, 2, 11, 8, 0, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, 3, 2, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 3, 8, 2,\n  8, 10, 10, 8, 9, -1, -1, -1, -1, -1, -1, -1, 9, 10, 2, 0, 9, 2, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, 2, 3, 8, 2, 8, 10, 0, 1, 8, 1, 10, 8, -1, -1, -1,\n  -1, 1, 10, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 3, 8, 9,\n  1, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 9, 1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, 0, 3, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1\n]\n/* eslint-enable no-magic-numbers */\n\nexport default IsoSurfaceMarchCube\n","import * as THREE from 'three'\nimport IsoSurfaceMarchCube from './IsoSurfaceMarchCube'\nimport utils from '../../utils'\n\nconst edgeTable = [\n  0x0, 0x109, 0x203, 0x30a, 0x406, 0x50f, 0x605, 0x70c, 0x80c, 0x905, 0xa0f,\n  0xb06, 0xc0a, 0xd03, 0xe09, 0xf00, 0x190, 0x99, 0x393, 0x29a, 0x596, 0x49f,\n  0x795, 0x69c, 0x99c, 0x895, 0xb9f, 0xa96, 0xd9a, 0xc93, 0xf99, 0xe90, 0x230,\n  0x339, 0x33, 0x13a, 0x636, 0x73f, 0x435, 0x53c, 0xa3c, 0xb35, 0x83f, 0x936,\n  0xe3a, 0xf33, 0xc39, 0xd30, 0x3a0, 0x2a9, 0x1a3, 0xaa, 0x7a6, 0x6af, 0x5a5,\n  0x4ac, 0xbac, 0xaa5, 0x9af, 0x8a6, 0xfaa, 0xea3, 0xda9, 0xca0, 0x460, 0x569,\n  0x663, 0x76a, 0x66, 0x16f, 0x265, 0x36c, 0xc6c, 0xd65, 0xe6f, 0xf66, 0x86a,\n  0x963, 0xa69, 0xb60, 0x5f0, 0x4f9, 0x7f3, 0x6fa, 0x1f6, 0xff, 0x3f5, 0x2fc,\n  0xdfc, 0xcf5, 0xfff, 0xef6, 0x9fa, 0x8f3, 0xbf9, 0xaf0, 0x650, 0x759, 0x453,\n  0x55a, 0x256, 0x35f, 0x55, 0x15c, 0xe5c, 0xf55, 0xc5f, 0xd56, 0xa5a, 0xb53,\n  0x859, 0x950, 0x7c0, 0x6c9, 0x5c3, 0x4ca, 0x3c6, 0x2cf, 0x1c5, 0xcc, 0xfcc,\n  0xec5, 0xdcf, 0xcc6, 0xbca, 0xac3, 0x9c9, 0x8c0, 0x8c0, 0x9c9, 0xac3, 0xbca,\n  0xcc6, 0xdcf, 0xec5, 0xfcc, 0xcc, 0x1c5, 0x2cf, 0x3c6, 0x4ca, 0x5c3, 0x6c9,\n  0x7c0, 0x950, 0x859, 0xb53, 0xa5a, 0xd56, 0xc5f, 0xf55, 0xe5c, 0x15c, 0x55,\n  0x35f, 0x256, 0x55a, 0x453, 0x759, 0x650, 0xaf0, 0xbf9, 0x8f3, 0x9fa, 0xef6,\n  0xfff, 0xcf5, 0xdfc, 0x2fc, 0x3f5, 0xff, 0x1f6, 0x6fa, 0x7f3, 0x4f9, 0x5f0,\n  0xb60, 0xa69, 0x963, 0x86a, 0xf66, 0xe6f, 0xd65, 0xc6c, 0x36c, 0x265, 0x16f,\n  0x66, 0x76a, 0x663, 0x569, 0x460, 0xca0, 0xda9, 0xea3, 0xfaa, 0x8a6, 0x9af,\n  0xaa5, 0xbac, 0x4ac, 0x5a5, 0x6af, 0x7a6, 0xaa, 0x1a3, 0x2a9, 0x3a0, 0xd30,\n  0xc39, 0xf33, 0xe3a, 0x936, 0x83f, 0xb35, 0xa3c, 0x53c, 0x435, 0x73f, 0x636,\n  0x13a, 0x33, 0x339, 0x230, 0xe90, 0xf99, 0xc93, 0xd9a, 0xa96, 0xb9f, 0x895,\n  0x99c, 0x69c, 0x795, 0x49f, 0x596, 0x29a, 0x393, 0x99, 0x190, 0xf00, 0xe09,\n  0xd03, 0xc0a, 0xb06, 0xa0f, 0x905, 0x80c, 0x70c, 0x605, 0x50f, 0x406, 0x30a,\n  0x203, 0x109, 0x0\n]\n\nfunction _voxelGradientFast(v, point, grad) {\n  const g = v.getValue(point.x, point.y, point.z)\n  grad.set(g[0], g[1], g[2])\n}\n\n// Helper class GridCell\nclass GridCell {\n  constructor() {\n    this._arrSize = 8\n    this.p = new Array(this._arrSize)\n    this.g = new Array(this._arrSize)\n    this.val = new Array(this._arrSize)\n    for (let i = 0; i < this._arrSize; ++i) {\n      this.p[i] = new THREE.Vector3()\n      this.g[i] = new THREE.Vector3()\n    }\n    this.cubeIndex = 0\n  }\n}\n\n// Helper class Triangle\nclass Triangle {\n  constructor() {\n    this.a = {\n      p: new THREE.Vector3(),\n      n: new THREE.Vector3()\n    }\n\n    this.b = {\n      p: new THREE.Vector3(),\n      n: new THREE.Vector3()\n    }\n\n    this.c = {\n      p: new THREE.Vector3(),\n      n: new THREE.Vector3()\n    }\n  }\n}\n\nfunction createArray(arrSize) {\n  const arr = new Array(arrSize)\n  for (let i = 0; i < arrSize; ++i) {\n    arr[i] = new THREE.Vector3()\n  }\n\n  return arr\n}\n\nclass IsoSurface {\n  constructor() {\n    this._numTriangles = 0\n    this._numVertices = 0\n    this._position = []\n    this._normals = []\n    this._colors = null\n    this._indices = []\n    this._volumetricData = null\n    this._xAxis = new THREE.Vector3()\n    this._yAxis = new THREE.Vector3()\n    this._zAxis = new THREE.Vector3()\n    this._xDir = new THREE.Vector3()\n    this._yDir = new THREE.Vector3()\n    this._zDir = new THREE.Vector3()\n  }\n\n  _prepareAxesAndDirs() {\n    const volData = this._volumetricData\n\n    const cellSize = volData.getCellSize()\n\n    // calculate cell axes\n    const xAxis = this._xAxis\n    const yAxis = this._yAxis\n    const zAxis = this._zAxis\n    const xDir = this._xDir\n    const yDir = this._yDir\n    const zDir = this._zDir\n\n    xAxis.set(cellSize.x, 0, 0)\n    yAxis.set(0, cellSize.y, 0)\n    zAxis.set(0, 0, cellSize.z)\n\n    xDir.set(1, 0, 0)\n    yDir.set(0, 1, 0)\n    zDir.set(0, 0, 1)\n\n    // flip normals if coordinate system is in the wrong handedness\n    const tmp = new THREE.Vector3()\n    tmp.crossVectors(xDir, yDir)\n    if (tmp.dot(zDir) < 0) {\n      xDir.negate()\n      yDir.negate()\n      zDir.negate()\n    }\n\n    // check that the grid is in the all-positive octant of the coordinate system\n    if (\n      xDir.x < 0 ||\n      xDir.y < 0 ||\n      xDir.z < 0 ||\n      yDir.x < 0 ||\n      yDir.y < 0 ||\n      yDir.z < 0 ||\n      zDir.x < 0 ||\n      zDir.y < 0 ||\n      zDir.z < 0\n    ) {\n      return false\n    }\n\n    // check that the grid is axis-aligned\n    const notZero = (axe) => Math.abs(axe) > Number.EPSILON\n    return !(\n      notZero(xAxis.y) ||\n      notZero(xAxis.z) ||\n      notZero(yAxis.x) ||\n      notZero(yAxis.z) ||\n      notZero(zAxis.x) ||\n      notZero(zAxis.y)\n    )\n  }\n\n  _vertexInterp(isoLevel, grid, ind1, ind2, vertex, normal) {\n    const p1 = grid.p[ind1]\n    const p2 = grid.p[ind2]\n    const n1 = grid.g[ind1]\n    const n2 = grid.g[ind2]\n    const valP1 = grid.val[ind1]\n    const valP2 = grid.val[ind2]\n    const isoDiffP1 = isoLevel - valP1\n    const diffValP2P1 = valP2 - valP1\n\n    let mu = 0.0\n\n    if (Math.abs(diffValP2P1) > 0.0) {\n      mu = isoDiffP1 / diffValP2P1\n    }\n    mu = mu > 1.0 ? 1.0 : mu\n    vertex.lerpVectors(p1, p2, mu)\n    normal.lerpVectors(n1, n2, mu)\n  }\n\n  static _triTable = IsoSurfaceMarchCube.prototype.striIndicesMarchCube\n\n  static _arrSize = 12\n\n  static _firstIndices = [0, 1, 2, 3, 4, 5, 6, 7, 0, 1, 2, 3]\n\n  static _secondIndices = [1, 2, 3, 0, 5, 6, 7, 4, 4, 5, 6, 7]\n\n  static _vertexList = createArray(IsoSurface._arrSize)\n\n  static _normalList = createArray(IsoSurface._arrSize)\n\n  _polygonize(grid, isoLevel, triangles) {\n    const { cubeIndex } = grid\n    let i = 0\n    const arrSize = IsoSurface._arrSize\n    const firstIndices = IsoSurface._firstIndices\n    const secondIndices = IsoSurface._secondIndices\n    const vertexList = IsoSurface._vertexList\n    const normalList = IsoSurface._normalList\n\n    for (; i < arrSize; ++i) {\n      if (edgeTable[cubeIndex] & (1 << i)) {\n        this._vertexInterp(\n          isoLevel,\n          grid,\n          firstIndices[i],\n          secondIndices[i],\n          vertexList[i],\n          normalList[i]\n        )\n      }\n    }\n\n    let triCount = 0\n    const triTblIdx = cubeIndex * 16\n    const triTable = IsoSurface._triTable\n\n    for (i = 0; triTable[triTblIdx + i] !== -1; i += 3) {\n      triangles[triCount].a.p.copy(vertexList[triTable[triTblIdx + i]])\n      triangles[triCount].a.n.copy(normalList[triTable[triTblIdx + i]])\n\n      triangles[triCount].b.p.copy(vertexList[triTable[triTblIdx + i + 1]])\n      triangles[triCount].b.n.copy(normalList[triTable[triTblIdx + i + 1]])\n\n      triangles[triCount].c.p.copy(vertexList[triTable[triTblIdx + i + 2]])\n      triangles[triCount].c.n.copy(normalList[triTable[triTblIdx + i + 2]])\n      ++triCount\n    }\n\n    return triCount\n  }\n\n  _doGridPosNorms(isoValue, step, appendSimple) {\n    const vol = this._volumetricData\n    const volData = this._volumetricData.getData()\n    const dim = vol.getDimensions()\n    const xSize = dim[0]\n    const ySize = dim[1]\n    const zSize = dim[2]\n    const stepX = step * vol.getStrideX()\n    const stepY = step * vol.getStrideY()\n    const stepZ = step * vol.getStrideZ()\n\n    const gc = new GridCell()\n    const gcVal = gc.val\n    const gcValSize = gc.val.length\n    const additions = [\n      new THREE.Vector3(0, 0, 0), // 0\n      new THREE.Vector3(step, 0, 0), // 1\n      new THREE.Vector3(step, step, 0), // 2\n      new THREE.Vector3(0, step, 0), // 3\n      new THREE.Vector3(0, 0, step), // 4\n      new THREE.Vector3(step, 0, step), // 5\n      new THREE.Vector3(step, step, step), // 6\n      new THREE.Vector3(0, step, step) // 7\n    ]\n\n    const tmpTriCount = 5\n    const triangles = new Array(tmpTriCount)\n    for (let j = 0; j < tmpTriCount; ++j) {\n      triangles[j] = new Triangle()\n    }\n\n    let appendVertex\n    const self = this\n    const positions = this._position\n    const normals = this._normals\n    if (appendSimple) {\n      // Special case for axis-aligned grid with positive unit vector normals\n      appendVertex = (function () {\n        const axis = new THREE.Vector3(\n          self._xAxis.x,\n          self._yAxis.y,\n          self._zAxis.z\n        )\n        return function (triVertex) {\n          const vertex = triVertex.p.clone()\n          vertex.multiply(axis)\n          positions.push(vertex.add(self._origin))\n          normals.push(triVertex.n.clone())\n        }\n      })()\n    } else {\n      appendVertex = (function () {\n        const posMtx = new THREE.Matrix3()\n        posMtx.set(\n          self._xAxis.x,\n          self._yAxis.x,\n          self._zAxis.x,\n          self._xAxis.y,\n          self._yAxis.y,\n          self._zAxis.y,\n          self._xAxis.z,\n          self._yAxis.z,\n          self._zAxis.z\n        )\n        const normMtx = new THREE.Matrix3()\n        normMtx.set(\n          self._xDir.x,\n          self._yDir.x,\n          self._zDir.x,\n          self._xDir.y,\n          self._yDir.y,\n          self._zDir.y,\n          self._xDir.z,\n          self._yDir.z,\n          self._zDir.z\n        )\n\n        return function (triVertex) {\n          positions.push(\n            triVertex.p.clone().applyMatrix3(posMtx).add(self._origin)\n          )\n          normals.push(triVertex.n.clone().applyMatrix3(normMtx))\n        }\n      })()\n    }\n    const indices = this._indices\n\n    let globTriCount = 0\n\n    for (let z = 0; z < zSize - step; z += step) {\n      for (let y = 0; y < ySize - step; y += step) {\n        let idx = vol.getDirectIdx(0, y, z)\n        for (let x = 0; x < xSize - step; x += step, idx += stepX) {\n          /* eslint-disable no-multi-spaces */\n          /* eslint-disable computed-property-spacing */\n          gcVal[0] = volData[idx]\n          gcVal[1] = volData[idx + stepX]\n          gcVal[3] = volData[idx + stepY]\n          gcVal[2] = volData[idx + stepX + stepY]\n          gcVal[4] = volData[idx + stepZ]\n          gcVal[5] = volData[idx + stepX + stepZ]\n          gcVal[7] = volData[idx + stepY + stepZ]\n          gcVal[6] = volData[idx + stepX + stepY + stepZ]\n          /* eslint-enable no-multi-spaces */\n          /* eslint-enable computed-property-spacing */\n\n          // Determine the index into the edge table which\n          // tells us which vertices are inside of the surface\n          let cubeIndex = 0\n          let i = 0\n          for (; i < gcValSize; ++i) {\n            if (gcVal[i] < isoValue) {\n              cubeIndex |= 1 << i\n            }\n          }\n\n          if (edgeTable[cubeIndex] === 0) {\n            continue\n          }\n\n          gc.cubeIndex = cubeIndex\n          for (i = 0; i < gcValSize; ++i) {\n            gc.p[i].set(\n              x + additions[i].x,\n              y + additions[i].y,\n              z + additions[i].z\n            )\n            _voxelGradientFast(this._gradient, gc.p[i], gc.g[i])\n          }\n\n          // calculate vertices and facets for this cube,\n          // calculate normals by interpolating between the negated\n          // normalized volume gradients for the 8 reference voxels\n          const triCount = this._polygonize(gc, isoValue, triangles)\n          globTriCount += triCount\n\n          // append triangles using different techniques\n          for (i = 0; i < triCount; ++i) {\n            indices.push(this._numTriangles * 3)\n            indices.push(this._numTriangles * 3 + 1)\n            indices.push(this._numTriangles * 3 + 2)\n            ++this._numTriangles\n\n            appendVertex(triangles[i].a)\n            appendVertex(triangles[i].b)\n            appendVertex(triangles[i].c)\n          }\n        }\n      }\n    }\n\n    return globTriCount\n  }\n\n  compute(volData, origin, isoValue, step) {\n    this._volumetricData = volData\n    this._origin = origin\n\n    this._gradient = volData.computeGradient()\n\n    this._doGridPosNorms(isoValue, step, this._prepareAxesAndDirs())\n  }\n\n  _remapIndices(vertexMap, idcCount) {\n    const indices = this._indices\n    const newIndices = utils.allocateTyped(Uint32Array, idcCount)\n    for (let i = 0; i < idcCount; ++i) {\n      indices[i] = vertexMap[indices[i]]\n      newIndices[i] = indices[i]\n    }\n    this._indices = newIndices\n  }\n\n  _remapVertices(vertices, normals, count) {\n    const newPositions = utils.allocateTyped(Float32Array, count * 3)\n    const newNormals = utils.allocateTyped(Float32Array, count * 3)\n    for (let i = 0; i < count; ++i) {\n      const pos = vertices[i]\n      newPositions[i * 3] = pos.x\n      newPositions[i * 3 + 1] = pos.y\n      newPositions[i * 3 + 2] = pos.z\n      const norm = normals[i].normalize()\n      newNormals[i * 3] = norm.x\n      newNormals[i * 3 + 1] = norm.y\n      newNormals[i * 3 + 2] = norm.z\n    }\n    this._position = newPositions\n    this._normals = newNormals\n  }\n\n  vertexFusion(offset, len) {\n    const faceVer = this._indices.length\n    const vertices = this._position\n    const normals = this._normals\n    const oldVerCount = vertices.length | 0\n    if (faceVer === 0 || oldVerCount === 0) {\n      return\n    }\n    const vMap = utils.allocateTyped(Uint32Array, oldVerCount)\n    vMap[0] = 0\n    let newVer = 1\n\n    let i = 1\n    for (; i < oldVerCount; ++i) {\n      const start = newVer - offset < 0 ? 0 : newVer - offset\n      const end = start + len > newVer ? newVer : start + len\n      let matchedIndex = -1\n\n      for (let j = start; j < end; ++j) {\n        if (Math.abs(vertices[i] - vertices[j]) < Number.EPSILON) {\n          matchedIndex = j\n          break\n        }\n      }\n\n      if (matchedIndex !== -1) {\n        vMap[i] = matchedIndex\n      } else {\n        vertices[newVer].copy(vertices[i])\n        normals[newVer].copy(normals[i])\n        vMap[i] = newVer\n        ++newVer\n      }\n    }\n\n    this._remapIndices(vMap, faceVer)\n    this._remapVertices(vertices, normals, newVer)\n  }\n\n  // Assign per-vertex colors from a volumetric texture map (same dimensions as the original volumetric data).\n  // Along with color dominating atom is determined for each vertex\n  // and vertices with atom out of \"visible\" subset get filtered out.\n  // XXX only handles orthogonal volumes currently\n  setColorVolTex(colorMap, atomMap, atomWeightMap, visibilitySelector) {\n    let i\n    let idx\n    const numVerts = this._position.length / 3\n    const vertices = this._position\n    const origin = this._origin\n    const dim = this._volumetricData.getDimensions()\n    const xs = dim[0] - 1\n    const ys = dim[1] - 1\n    const zs = dim[2] - 1\n\n    const colorData = colorMap.getData()\n    const strideX = colorMap.getStrideX()\n    const strideY = colorMap.getStrideY()\n    const strideZ = colorMap.getStrideZ()\n\n    let atomWeightData\n    let atomStrideX\n    let atomStrideY\n    let atomStrideZ\n\n    if (visibilitySelector !== null) {\n      atomWeightData = atomWeightMap.getData()\n      atomStrideX = atomWeightMap.getStrideX()\n      atomStrideY = atomWeightMap.getStrideY()\n      atomStrideZ = atomWeightMap.getStrideZ()\n    }\n\n    const xInv = 1.0 / this._xAxis.x\n    const yInv = 1.0 / this._yAxis.y\n    const zInv = 1.0 / this._zAxis.z\n\n    let atomLookup = []\n    let atomWeights = []\n    const colors = utils.allocateTyped(Float32Array, numVerts * 3)\n\n    function interp(mu, idx1, idx2, c) {\n      c[0] = (1 - mu) * colorData[idx1] + mu * colorData[idx2]\n      c[1] = (1 - mu) * colorData[idx1 + 1] + mu * colorData[idx2 + 1]\n      c[2] = (1 - mu) * colorData[idx1 + 2] + mu * colorData[idx2 + 2]\n    }\n\n    function collectWeight(ai, coefX, coefY, coefZ) {\n      const a = atomMap[ai] // atomWeightMap is a scalar field, so index into atom map should be the same\n      if (a != null) {\n        atomLookup[a.index] = a\n        const w = coefX * coefY * coefZ * atomWeightData[ai]\n        if (typeof atomWeights[a.index] === 'undefined') {\n          atomWeights[a.index] = w\n        } else {\n          atomWeights[a.index] += w\n        }\n      }\n    }\n\n    const vMap = utils.allocateTyped(Int32Array, numVerts)\n    let newVerCount = 0\n\n    for (i = 0; i < numVerts; i++) {\n      const ind = i * 3\n      const vx = (vertices[ind] - origin.x) * xInv\n      const vy = (vertices[ind + 1] - origin.y) * yInv\n      const vz = (vertices[ind + 2] - origin.z) * zInv\n      const x = Math.min(Math.max(vx, 0), xs) | 0\n      const y = Math.min(Math.max(vy, 0), ys) | 0\n      const z = Math.min(Math.max(vz, 0), zs) | 0\n\n      const mux = vx - x\n      const muy = vy - y\n      const muz = vz - z\n\n      if (visibilitySelector != null) {\n        // collect atom weights\n        atomLookup = []\n        atomWeights = []\n        idx = atomWeightMap.getDirectIdx(x, y, z)\n        collectWeight(idx, 1 - mux, 1 - muy, 1 - muz)\n        collectWeight(idx + atomStrideX, mux, 1 - muy, 1 - muz)\n        collectWeight(idx + atomStrideY, 1 - mux, muy, 1 - muz)\n        collectWeight(idx + atomStrideX + atomStrideY, mux, muy, 1 - muz)\n        collectWeight(idx + atomStrideZ, 1 - mux, 1 - muy, muz)\n        collectWeight(idx + atomStrideX + atomStrideZ, mux, 1 - muy, muz)\n        collectWeight(idx + atomStrideY + atomStrideZ, 1 - mux, muy, muz)\n        collectWeight(\n          idx + atomStrideX + atomStrideY + atomStrideZ,\n          mux,\n          muy,\n          muz\n        )\n\n        // find dominant atom\n        let maxWeight = 0.0\n        let dominantIdx = -1\n        for (const atomIdx in atomWeights) {\n          if (atomWeights[atomIdx] > maxWeight) {\n            dominantIdx = atomIdx\n            maxWeight = atomWeights[atomIdx]\n          }\n        }\n\n        if (\n          dominantIdx < 0 ||\n          !visibilitySelector.includesAtom(atomLookup[dominantIdx])\n        ) {\n          // this vertex doesn't belong to visible subset and will be skipped\n          vMap[i] = -1\n          continue\n        }\n      }\n\n      vMap[i] = newVerCount++\n\n      // color tri-linear interpolation\n      const dx = x < xs ? strideX : 0\n      const dy = y < ys ? strideY : 0\n      const dz = z < zs ? strideZ : 0\n\n      const c0 = [0, 0, 0]\n      const c1 = [0, 0, 0]\n      const c2 = [0, 0, 0]\n      const c3 = [0, 0, 0]\n\n      idx = colorMap.getDirectIdx(x, y, z)\n      interp(mux, idx, idx + dx, c0)\n      interp(mux, idx + dy, idx + dx + dy, c1)\n      interp(mux, idx + dz, idx + dx + dz, c2)\n      interp(mux, idx + dy + dz, idx + dx + dy + dz, c3)\n\n      const cz0 = [0, 0, 0]\n      cz0[0] = (1 - muy) * c0[0] + muy * c1[0]\n      cz0[1] = (1 - muy) * c0[1] + muy * c1[1]\n      cz0[2] = (1 - muy) * c0[2] + muy * c1[2]\n\n      const cz1 = [0, 0, 0]\n      cz1[0] = (1 - muy) * c2[0] + muy * c3[0]\n      cz1[1] = (1 - muy) * c2[1] + muy * c3[1]\n      cz1[2] = (1 - muy) * c2[2] + muy * c3[2]\n\n      colors[ind] = (1 - muz) * cz0[0] + muz * cz1[0]\n      colors[ind + 1] = (1 - muz) * cz0[1] + muz * cz1[1]\n      colors[ind + 2] = (1 - muz) * cz0[2] + muz * cz1[2]\n    }\n    this._colors = colors\n\n    if (visibilitySelector != null) {\n      // shift visible vertices towards beginning of array\n      for (i = 0; i < numVerts; ++i) {\n        const j = vMap[i]\n        if (j < 0) {\n          continue\n        }\n\n        // assert: j <= i\n        this._position[j * 3] = this._position[i * 3]\n        this._position[j * 3 + 1] = this._position[i * 3 + 1]\n        this._position[j * 3 + 2] = this._position[i * 3 + 2]\n        this._normals[j * 3] = this._normals[i * 3]\n        this._normals[j * 3 + 1] = this._normals[i * 3 + 1]\n        this._normals[j * 3 + 2] = this._normals[i * 3 + 2]\n        this._colors[j * 3] = this._colors[i * 3]\n        this._colors[j * 3 + 1] = this._colors[i * 3 + 1]\n        this._colors[j * 3 + 2] = this._colors[i * 3 + 2]\n      }\n\n      // rebuild index list\n      const numTriangles = this._indices.length / 3\n      let newTriCount = 0\n      for (i = 0; i < numTriangles; ++i) {\n        const i0 = vMap[this._indices[3 * i]]\n        const i1 = vMap[this._indices[3 * i + 1]]\n        const i2 = vMap[this._indices[3 * i + 2]]\n        if (i0 >= 0 && i1 >= 0 && i2 >= 0) {\n          this._indices[3 * newTriCount] = i0\n          this._indices[3 * newTriCount + 1] = i1\n          this._indices[3 * newTriCount + 2] = i2\n          ++newTriCount\n        }\n      }\n\n      // shrink arrays to data size\n      this._position = new Float32Array(\n        this._position.buffer.slice(0, newVerCount * 3 * 4)\n      )\n      this._normals = new Float32Array(\n        this._normals.buffer.slice(0, newVerCount * 3 * 4)\n      )\n      this._colors = new Float32Array(\n        this._colors.buffer.slice(0, newVerCount * 3 * 4)\n      )\n      this._indices = new Uint32Array(\n        this._indices.buffer.slice(0, newTriCount * 3 * 4)\n      )\n    }\n  }\n\n  toMesh() {\n    const geo = new THREE.BufferGeometry()\n    geo.setIndex(new THREE.BufferAttribute(this._indices, 1))\n    geo.setAttribute('position', new THREE.BufferAttribute(this._position, 3))\n    geo.setAttribute('normal', new THREE.BufferAttribute(this._normals, 3))\n    geo.setAttribute('color', new THREE.BufferAttribute(this._colors, 3))\n    geo.computeBoundingSphere()\n    return geo\n  }\n}\nexport default IsoSurface\n","import * as THREE from 'three'\nimport IsoSurfaceGeometry from './IsoSurfaceGeometry'\nimport IsoSurface from './IsoSurface'\nimport utils from '../../utils'\n\n/**\n * This is a base class for volumetric maps based isosurface algorithms.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\n\nclass VolumeSurfaceGeometry extends IsoSurfaceGeometry {\n  _build() {\n    const params = this._opts\n    this.numVoxels = [128, 128, 128]\n    this.xAxis = new THREE.Vector3(1.0, 0.0, 0.0)\n    this.yAxis = new THREE.Vector3(0.0, 1.0, 0.0)\n    this.zAxis = new THREE.Vector3(0.0, 0.0, 1.0)\n\n    this.origin = new THREE.Vector3(0.0, 0.0, 0.0)\n    this._visibilitySelector = params.visibilitySelector\n\n    this._calcSurface(params)\n  }\n\n  _findMinMax(posRadArray) {\n    const itemSize = 4\n    const itemsCount = posRadArray.length / itemSize\n    const maxPosRad = [\n      posRadArray[0],\n      posRadArray[1],\n      posRadArray[2],\n      posRadArray[3]\n    ]\n    const minPosRad = [\n      posRadArray[0],\n      posRadArray[1],\n      posRadArray[2],\n      posRadArray[3]\n    ]\n    for (let i = 1; i < itemsCount; ++i) {\n      const ind = i * itemSize\n\n      for (let itemIdx = 0; itemIdx < itemSize; ++itemIdx) {\n        const tmpVal = posRadArray[ind + itemIdx]\n        maxPosRad[itemIdx] = Math.max(tmpVal, maxPosRad[itemIdx])\n        minPosRad[itemIdx] = Math.min(tmpVal, minPosRad[itemIdx])\n      }\n    }\n    return { maxPosRad, minPosRad }\n  }\n\n  _findNumVoxels(posRadArray, params) {\n    const { numVoxels } = this\n    const minMaxValues = this._findMinMax(posRadArray)\n    const minCoordRad = minMaxValues.minPosRad\n    const maxCoordRad = minMaxValues.maxPosRad\n\n    // minrad\n    if (minCoordRad[3] > 4.0) {\n      params.gridSpacing *= minCoordRad[3]\n    }\n\n    let gridPadding = params.radScale * maxCoordRad[3] * 1.7\n    let padRad = gridPadding\n    padRad = 0.65 * Math.sqrt((4.0 / 3.0) * Math.PI * padRad * padRad * padRad)\n    gridPadding = Math.max(gridPadding, padRad)\n\n    let i = 0\n    for (; i < 3; ++i) {\n      minCoordRad[i] -= gridPadding\n      maxCoordRad[i] += gridPadding\n    }\n\n    for (i = 0; i < 3; ++i) {\n      numVoxels[i] = Math.ceil(\n        (maxCoordRad[i] - minCoordRad[i]) / params.gridSpacing\n      )\n    }\n    this.xAxis.x = (numVoxels[0] - 1) * params.gridSpacing\n    this.yAxis.y = (numVoxels[1] - 1) * params.gridSpacing\n    this.zAxis.z = (numVoxels[2] - 1) * params.gridSpacing\n    ;[this.origin.x, this.origin.y, this.origin.z] = minCoordRad\n\n    return { bbox: minMaxValues, dim: numVoxels }\n  }\n\n  _makeSurface(surface, params) {\n    const isoSurf = new IsoSurface()\n    isoSurf.compute(surface.volMap, this.origin, params.isoValue, 1)\n    isoSurf.vertexFusion(9, 9) // normalization is included\n\n    if (isoSurf._numTriangles > 0) {\n      isoSurf.setColorVolTex(\n        surface.volTexMap,\n        surface.atomMap,\n        surface.atomWeightMap,\n        this._visibilitySelector\n      )\n      this.setIndex(new THREE.BufferAttribute(isoSurf._indices, 1))\n      this.setAttribute(\n        'position',\n        new THREE.BufferAttribute(isoSurf._position, 3)\n      )\n      this.setAttribute(\n        'normal',\n        new THREE.BufferAttribute(isoSurf._normals, 3)\n      )\n      this.setAttribute('color', new THREE.BufferAttribute(isoSurf._colors, 3))\n    } else {\n      // geometry should have at least empty position attributes to be processed in wireframe mode by three.js\n      this.setAttribute(\n        'position',\n        new THREE.BufferAttribute(utils.allocateTyped(Float32Array, 0), 3)\n      )\n    }\n  }\n\n  _calcSurface(params) {\n    const packedArrays = {\n      posRad: this._posRad,\n      colors: this._colors,\n      atoms: this._opts.atoms\n    }\n\n    if (packedArrays.posRad.length === 0) {\n      return\n    }\n    const boundaries = this._findNumVoxels(packedArrays.posRad, params)\n\n    const box = new THREE.Box3(\n      this.origin,\n      new THREE.Vector3(this.xAxis.x, this.yAxis.y, this.zAxis.z).add(\n        this.origin\n      )\n    )\n    const surface = this._computeSurface(packedArrays, box, boundaries, params)\n\n    this._makeSurface(surface, params)\n  }\n}\n\nexport default VolumeSurfaceGeometry\n","import VolumeSurfaceGeometry from './VolumeSurfaceGeometry'\nimport chem from '../../chem'\n\nconst { Volume } = chem\n\n/**\n * This class implements 'quick' isosurface geometry generation algorithm.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\n\nclass QuickSurfGeometry extends VolumeSurfaceGeometry {\n  _computeSurface(packedArrays, box, boundaries, params) {\n    // beware of shifting this multiple times!\n    this._shiftByOrigin(packedArrays.posRad)\n\n    const surface = {\n      volMap: new Volume(Float32Array, this.numVoxels, box),\n      volTexMap: new Volume(Float32Array, this.numVoxels, box, 3)\n    }\n\n    if (this._visibilitySelector != null) {\n      surface.atomMap = []\n      surface.atomWeightMap = new Volume(Float32Array, this.numVoxels, box)\n    }\n\n    this.gaussdensity(surface, packedArrays, null, params)\n    return surface\n  }\n\n  gaussdensity(surface, packedArrays, atomicNum, params) {\n    const numAtoms = packedArrays.posRad.length / 4\n    const { posRad, colors } = packedArrays\n    const { numVoxels } = this\n    const { radScale, gaussLim, gridSpacing } = params\n    const invIsoValue = 1.0 / params.isoValue\n    const invGridSpacing = 1.0 / gridSpacing\n    const maxVoxelX = numVoxels[0] - 1\n    const maxVoxelY = numVoxels[1] - 1\n    const maxVoxelZ = numVoxels[2] - 1\n    // TODO is densityMap and volTexMap initialized?\n\n    const { volMap, volTexMap } = surface\n    const volData = volMap.getData()\n    const strideX = volMap.getStrideX()\n\n    const volTexData = volTexMap.getData()\n    const texStrideX = volTexMap.getStrideX()\n\n    let atomWeightData\n    if (this._visibilitySelector != null) {\n      atomWeightData = surface.atomWeightMap.getData()\n    }\n\n    const { atomMap } = surface\n\n    for (let i = 0; i < numAtoms; ++i) {\n      const ind = i * 4\n      const scaledRad = posRad[ind + 3] * radScale\n      const atomicNumFactor = atomicNum === null ? 1.0 : atomicNum[i]\n      const radInv = 1 / (2 * scaledRad * scaledRad)\n      let radLim = gaussLim * scaledRad\n      const radLim2 = radLim * radLim\n      radLim *= invGridSpacing\n\n      let tmp = posRad[ind] * invGridSpacing\n      const xMin = Math.max((tmp - radLim) | 0, 0)\n      const xMax = Math.min((tmp + radLim) | 0, maxVoxelX)\n      tmp = posRad[ind + 1] * invGridSpacing\n      const yMin = Math.max((tmp - radLim) | 0, 0)\n      const yMax = Math.min((tmp + radLim) | 0, maxVoxelY)\n      tmp = posRad[ind + 2] * invGridSpacing\n      const zMin = Math.max((tmp - radLim) | 0, 0)\n      const zMax = Math.min((tmp + radLim) | 0, maxVoxelZ)\n\n      let dz = zMin * gridSpacing - posRad[ind + 2]\n      for (let z = zMin; z <= zMax; ++z, dz += gridSpacing) {\n        let dy = yMin * gridSpacing - posRad[ind + 1]\n        for (let y = yMin; y <= yMax; ++y, dy += gridSpacing) {\n          const dy2dz2 = dy * dy + dz * dz\n\n          if (dy2dz2 >= radLim2) {\n            continue\n          }\n\n          let addr = volMap.getDirectIdx(xMin, y, z)\n          let texAddr = volTexMap.getDirectIdx(xMin, y, z)\n          let dx = xMin * gridSpacing - posRad[ind]\n          for (\n            let x = xMin;\n            x <= xMax;\n            ++x, dx += gridSpacing, addr += strideX, texAddr += texStrideX\n          ) {\n            const r2 = dx * dx + dy2dz2\n            const expVal = -r2 * radInv\n\n            let density = Math.exp(expVal) * atomicNumFactor\n\n            // store most relevant atom (with highest density)\n            if (\n              this._visibilitySelector != null &&\n              density > atomWeightData[addr]\n            ) {\n              // NOSONAR\n              atomWeightData[addr] = density\n              // we use same index into atom map and atomWeightMap\n              atomMap[addr] = packedArrays.atoms[i]\n            }\n\n            volData[addr] += density\n\n            // TODO check for volTexMap routine?\n            density *= invIsoValue\n            const colInd = i * 3\n            volTexData[texAddr] += density * colors[colInd]\n            volTexData[texAddr + 1] += density * colors[colInd + 1]\n            volTexData[texAddr + 2] += density * colors[colInd + 2]\n          }\n        }\n      }\n    }\n  }\n\n  _shiftByOrigin(posRadArray) {\n    const originX = this.origin.x\n    const originY = this.origin.y\n    const originZ = this.origin.z\n\n    const itemSize = 4\n    const itemsCount = posRadArray.length / itemSize\n    for (let i = 0; i < itemsCount; ++i) {\n      const ind = i * itemSize\n\n      posRadArray[ind] -= originX\n      posRadArray[ind + 1] -= originY\n      posRadArray[ind + 2] -= originZ\n    }\n  }\n}\n\nexport default QuickSurfGeometry\n","import * as THREE from 'three'\nimport utils from '../../utils'\n\n/**\n * Modifed from SpatialHash\n *\n * Main differences are:\n * - Optimized grid size to ensure we only ever need to look +/-1 cell\n * - Aware of atomic radii and will only output atoms within rAtom + rExtra\n *   (see withinRadii method)\n *\n * (Uses rounding rather than bitshifting as consequence of arbitrary grid size)\n * @class\n * @param {Float32Array} posRad - x, y, z coordinates and radiuses\n * @param {Float32Array} min - xyz min coordinates\n * @param {Float32Array} max - xyz max coordinates\n * @param {number} maxDistance - max distance\n */\nfunction AVHash(posRad, min, max, maxDistance) {\n  const itemSize = 4\n  const nAtoms = posRad.length / itemSize\n\n  const minX = min[0]\n  const minY = min[1]\n  const minZ = min[2]\n\n  const maxX = max[0]\n  const maxY = max[1]\n  const maxZ = max[2]\n\n  function hashFunc(w, minW) {\n    return Math.floor((w - minW) / maxDistance)\n  }\n\n  const iDim = hashFunc(maxX, minX) + 1\n  const jDim = hashFunc(maxY, minY) + 1\n  const kDim = hashFunc(maxZ, minZ) + 1\n\n  const nCells = iDim * jDim * kDim\n\n  const jkDim = jDim * kDim\n\n  /* Get cellID for cartesian x,y,z */\n  const cellID = function (x, y, z) {\n    return (\n      (hashFunc(x, minX) * jDim + hashFunc(y, minY)) * kDim + hashFunc(z, minZ)\n    )\n  }\n\n  /* Initial building, could probably be optimized further */\n  const preHash = []\n  let i\n  let cid\n  for (i = 0; i < nAtoms; i++) {\n    const iIdx = itemSize * i\n    cid = cellID(posRad[iIdx], posRad[iIdx + 1], posRad[iIdx + 2])\n\n    if (preHash[cid] === undefined) {\n      preHash[cid] = [i]\n    } else {\n      preHash[cid].push(i)\n    }\n  }\n\n  const cellOffsets = utils.allocateTyped(Uint32Array, nCells)\n  const cellLengths = utils.allocateTyped(Uint16Array, nCells)\n  const data = utils.allocateTyped(Uint32Array, nAtoms)\n\n  let offset = 0\n  let maxCellLength = 0\n  let j\n  for (i = 0; i < nCells; i++) {\n    const start = (cellOffsets[i] = offset)\n\n    const subArray = preHash[i]\n\n    if (subArray !== undefined) {\n      for (j = 0; j < subArray.length; j++) {\n        data[offset] = subArray[j]\n        offset++\n      }\n    }\n\n    const cellLength = offset - start\n    cellLengths[i] = cellLength\n\n    if (cellLength > maxCellLength) {\n      maxCellLength = cellLength\n    }\n  }\n\n  // Maximum number of neighbours we could ever produce (27 adjacent cells of equal population)\n  this.neighbourListLength = 27 * maxCellLength + 1\n\n  /**\n   * Populate the supplied out array with atom indices that are within rAtom + rExtra\n   * of x,y,z\n   *\n   * -1 in out array indicates the end of the list\n   *\n   * @param  {number} x - x coordinate\n   * @param  {number} y - y coordinate\n   * @param  {number} z - z coordinate\n   * @param  {number} rExtra - additional radius\n   * @param  {Float32Array} out - pre-allocated output array\n   * @return {undefined}\n   */\n  this.withinRadii = function (x, y, z, rExtra, out) {\n    let outIdx = 0\n\n    const nearI = hashFunc(x, minX)\n    const nearJ = hashFunc(y, minY)\n    const nearK = hashFunc(z, minZ)\n\n    const loI = Math.max(0, nearI - 1)\n    const loJ = Math.max(0, nearJ - 1)\n    const loK = Math.max(0, nearK - 1)\n\n    const hiI = Math.min(iDim - 1, nearI + 1)\n    const hiJ = Math.min(jDim - 1, nearJ + 1)\n    const hiK = Math.min(kDim - 1, nearK + 1)\n\n    for (i = loI; i <= hiI; ++i) {\n      const iOffset = i * jkDim\n\n      for (j = loJ; j <= hiJ; ++j) {\n        const jOffset = j * kDim\n\n        for (let k = loK; k <= hiK; ++k) {\n          cid = iOffset + jOffset + k\n\n          const cellStart = cellOffsets[cid]\n          const cellEnd = cellStart + cellLengths[cid]\n\n          for (let dataIndex = cellStart; dataIndex < cellEnd; dataIndex++) {\n            const atomIndex = data[dataIndex]\n            const baseIndex = itemSize * atomIndex\n            const dx = posRad[baseIndex] - x\n            const dy = posRad[baseIndex + 1] - y\n            const dz = posRad[baseIndex + 2] - z\n            const rSum = posRad[baseIndex + 3] + rExtra\n\n            if (dx * dx + dy * dy + dz * dz <= rSum * rSum) {\n              out[outIdx++] = data[dataIndex]\n            }\n          }\n        }\n      }\n    }\n    // Add terminator\n    out[outIdx] = -1\n  }\n}\nfunction ContactSurface(packedArrays, boundaries, params, _indexList) {\n  // Field generation method adapted from AstexViewer (Mike Hartshorn)\n  // by Fred Ludlow.\n  // Other parts based heavily on NGL (Alexander Rose) EDT Surface class\n  //\n  // Should work as a drop-in alternative to EDTSurface (though some of\n  // the EDT paramters are not relevant in this method).\n\n  const itemSize = 4\n  const { posRad, colors, atoms } = packedArrays\n  const nAtoms = posRad.length / itemSize\n\n  const { bbox } = boundaries\n\n  const min = bbox.minPosRad\n  const max = bbox.maxPosRad\n\n  let r2 // Atom positions, expanded radii (squared)\n  let maxRadius\n\n  // Parameters\n  let probeRadius\n  let scaleFactor\n  let probePositions\n\n  // Cache last value for obscured test\n  let lastClip = -1\n\n  // Grid params\n  let dim\n  let grid\n  let volTex\n  let weights\n  let weightsMap = null\n  let atomMap = null\n  let visibilitySelector = null\n\n  // grid indices -> xyz coords\n  let gridx\n  let gridy\n  let gridz\n\n  // Lookup tables:\n  let sinTable\n  let cosTable\n\n  // Spatial Hash\n  let hash\n\n  // Neighbour array to be filled by hash\n  let neighbours\n\n  // Vectors for Torus Projection\n  const mid = new THREE.Vector3(0.0, 0.0, 0.0)\n  const n1 = new THREE.Vector3(0.0, 0.0, 0.0)\n  const n2 = new THREE.Vector3(0.0, 0.0, 0.0)\n\n  let ngTorus\n\n  function uniformArray(TypeName, n, a) {\n    const array = utils.allocateTyped(TypeName, n)\n    for (let innI = 0; innI < n; ++innI) {\n      array[innI] = a\n    }\n\n    return array\n  }\n\n  function fillGridDim(a, start, step) {\n    for (let innI = 0; innI < a.length; innI++) {\n      a[innI] = start + step * innI\n    }\n  }\n\n  function initializeGrid() {\n    ;({ scaleFactor } = params)\n    ;({ dim } = boundaries)\n\n    ngTorus = Math.min(5, 2 + Math.floor(probeRadius * scaleFactor))\n\n    const gridSize = dim[0] * dim[1] * dim[2]\n    grid = uniformArray(Float32Array, gridSize, -1001.0)\n    volTex = utils.allocateTyped(Float32Array, gridSize * 3)\n    weights = utils.allocateTyped(Float32Array, gridSize)\n    if (visibilitySelector) {\n      weightsMap = utils.allocateTyped(Float32Array, gridSize)\n      atomMap = []\n    }\n\n    gridx = utils.allocateTyped(Float32Array, dim[0])\n    gridy = utils.allocateTyped(Float32Array, dim[1])\n    gridz = utils.allocateTyped(Float32Array, dim[2])\n\n    fillGridDim(gridx, min[0], 1 / scaleFactor)\n    fillGridDim(gridy, min[1], 1 / scaleFactor)\n    fillGridDim(gridz, min[2], 1 / scaleFactor)\n  }\n\n  function initializeAngleTables() {\n    let theta = 0.0\n    const step = (2 * Math.PI) / probePositions\n\n    cosTable = utils.allocateTyped(Float32Array, probePositions)\n    sinTable = utils.allocateTyped(Float32Array, probePositions)\n    for (let innI = 0; innI < probePositions; innI++) {\n      cosTable[innI] = Math.cos(theta)\n      sinTable[innI] = Math.sin(theta)\n      theta += step\n    }\n  }\n\n  function initializeHash() {\n    hash = new AVHash(posRad, min, max, 2.01 * maxRadius)\n    neighbours = new Int32Array(hash.neighbourListLength)\n  }\n\n  function init() {\n    ;({ probeRadius, scaleFactor, probePositions, visibilitySelector } = params)\n    r2 = utils.allocateTyped(Float32Array, nAtoms)\n    maxRadius = 0\n    for (let innI = 0; innI < nAtoms; ++innI) {\n      const rExt = (posRad[innI * itemSize + 3] += probeRadius)\n      if (rExt > maxRadius) {\n        maxRadius = rExt\n      }\n      r2[innI] = rExt * rExt\n    }\n\n    initializeGrid()\n    initializeAngleTables()\n    initializeHash()\n\n    lastClip = -1\n  }\n\n  function singleAtomObscures(ai, innX, innY, innZ) {\n    const innCI = itemSize * ai\n    const ra2 = r2[ai]\n    const dx = posRad[innCI] - innX\n    const dy = posRad[innCI + 1] - innY\n    const dz = posRad[innCI + 2] - innZ\n    const d2 = dx * dx + dy * dy + dz * dz\n\n    return d2 < ra2\n  }\n\n  function obscured(innX, innY, innZ, a, b) {\n    // Is the point at x,y,z obscured by any of the atoms\n    // specifeid by indices in neighbours. Ignore indices\n    // a and b (these are the relevant atoms in projectPoints/Torii)\n\n    // Cache the last clipped atom (as very often the same one in\n    // subsequent calls)\n    let ai\n\n    if (lastClip !== -1) {\n      ai = lastClip\n      if (ai !== a && ai !== b && singleAtomObscures(ai, innX, innY, innZ)) {\n        return ai\n      }\n      lastClip = -1\n    }\n\n    let ni = 0\n    ai = neighbours[ni]\n    while (ai >= 0) {\n      if (ai !== a && ai !== b && singleAtomObscures(ai, innX, innY, innZ)) {\n        lastClip = ai\n        return ai\n      }\n      ai = neighbours[++ni]\n    }\n\n    lastClip = -1\n\n    return -1\n  }\n\n  function projectPoints() {\n    // For each atom:\n    //     Iterate over a subsection of the grid, for each point:\n    //         If current value < 0.0, unvisited, set positive\n    //\n    //         In any case: Project this point onto surface of the atomic sphere\n    //         If this projected point is not obscured by any other atom\n    //             Calcualte delta distance and set grid value to minimum of\n    //             itself and delta\n\n    // Should we alias frequently accessed closure constiables??\n    // Assume JS engine capable of optimizing this\n    // anyway...\n    const maxRad = 4.0\n    const sigma = maxRad / 3\n    const sigma2Inv = 1 / (2 * sigma * sigma)\n\n    for (let innI = 0; innI < nAtoms; innI++) {\n      const innCI = itemSize * innI\n      const ax = posRad[innCI]\n      const ay = posRad[innCI + 1]\n      const az = posRad[innCI + 2]\n      const ar = posRad[innCI + 3]\n      const ar2 = r2[innI]\n\n      hash.withinRadii(ax, ay, az, ar, neighbours)\n\n      // Number of grid points, round this up...\n      const ng = Math.ceil(ar * scaleFactor)\n\n      // Center of the atom, mapped to grid points (take floor)\n      const iax = Math.floor(scaleFactor * (ax - min[0]))\n      const iay = Math.floor(scaleFactor * (ay - min[1]))\n      const iaz = Math.floor(scaleFactor * (az - min[2]))\n\n      // Extents of grid to consider for this atom\n      const minx = Math.max(0, iax - ng)\n      const miny = Math.max(0, iay - ng)\n      const minz = Math.max(0, iaz - ng)\n\n      // Add two to these points:\n      // - iax are floor'd values so this ensures coverage\n      // - these are loop limits (exclusive)\n      const maxx = Math.min(dim[0], iax + ng + 2)\n      const maxy = Math.min(dim[1], iay + ng + 2)\n      const maxz = Math.min(dim[2], iaz + ng + 2)\n\n      const colIdx = innI * 3\n      const cr = colors[colIdx]\n      const cg = colors[colIdx + 1]\n      const cb = colors[colIdx + 2]\n\n      for (let iz = minz; iz < maxz; iz++) {\n        const dz = gridz[iz] - az\n        const zOffset = dim[1] * dim[0] * iz\n\n        for (let iy = miny; iy < maxy; iy++) {\n          const dy = gridy[iy] - ay\n          const dzy2 = dz * dz + dy * dy\n          const zyOffset = zOffset + dim[0] * iy\n\n          for (let ix = minx; ix < maxx; ix++) {\n            const idx = ix + zyOffset\n            const dx = gridx[ix] - ax\n            const d2 = dzy2 + dx * dx\n\n            if (d2 < ar2) {\n              const w = Math.exp(-d2 * sigma2Inv)\n              const cIdx = idx * 3\n              volTex[cIdx] += cr * w\n              volTex[cIdx + 1] += cg * w\n              volTex[cIdx + 2] += cb * w\n              weights[idx] += w\n              if (visibilitySelector !== null && w > weightsMap[idx]) {\n                weightsMap[idx] = w\n                atomMap[idx] = atoms[innI]\n              }\n\n              if (grid[idx] < 0.0) {\n                // Unvisited, make positive\n                grid[idx] = -grid[idx]\n              }\n              // Project on to the surface of the sphere\n              // sp is the projected point ( dx, dy, dz ) * ( ra / d )\n              const d = Math.sqrt(d2)\n              const ap = ar / d\n              let spx = dx * ap\n              let spy = dy * ap\n              let spz = dz * ap\n\n              spx += ax\n              spy += ay\n              spz += az\n\n              if (obscured(spx, spy, spz, innI, -1) === -1) {\n                const dd = ar - d\n                if (dd < grid[idx]) {\n                  grid[idx] = dd\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function normalToLine(out, p) {\n    out.x = out.y = out.z = 1.0\n    if (p.x !== 0) {\n      out.x = (p.y + p.z) / -p.x\n    } else if (p.y !== 0) {\n      out.y = (p.x + p.z) / -p.y\n    } else if (p.z !== 0) {\n      out.z = (p.x + p.y) / -p.z\n    }\n    return out\n  }\n\n  function projectTorus(a, b) {\n    const aIdx = itemSize * a\n    const bIdx = itemSize * b\n    const xa = posRad[aIdx]\n    const ya = posRad[aIdx + 1]\n    const za = posRad[aIdx + 2]\n    const r1 = posRad[aIdx + 3]\n    let dx = (mid.x = posRad[bIdx] - xa)\n    let dy = (mid.y = posRad[bIdx + 1] - ya)\n    let dz = (mid.z = posRad[bIdx + 2] - za)\n    const innR2 = posRad[bIdx + 3]\n    let d2 = dx * dx + dy * dy + dz * dz\n\n    // This check now redundant as already done in AVHash.withinRadii\n    // if( d2 > (( r1 + r2 ) * ( r1 + r2 )) ){ return; }\n\n    const d = Math.sqrt(d2)\n\n    // Find angle between a->b vector and the circle\n    // of their intersection by cosine rule\n    const cosA = (r1 * r1 + d * d - innR2 * innR2) / (2.0 * r1 * d)\n\n    // distance along a->b at intersection\n    const dmp = r1 * cosA\n\n    mid.normalize()\n\n    // Create normal to line\n    normalToLine(n1, mid)\n    n1.normalize()\n\n    // Cross together for second normal vector\n    n2.crossVectors(mid, n1)\n    n2.normalize()\n\n    // r is radius of circle of intersection\n    const rInt = Math.sqrt(r1 * r1 - dmp * dmp)\n\n    n1.multiplyScalar(rInt)\n    n2.multiplyScalar(rInt)\n    mid.multiplyScalar(dmp)\n\n    mid.x += xa\n    mid.y += ya\n    mid.z += za\n\n    lastClip = -1\n\n    const ng = ngTorus\n\n    for (let innI = 0; innI < probePositions; innI++) {\n      const cost = cosTable[innI]\n      const sint = sinTable[innI]\n\n      const px = mid.x + cost * n1.x + sint * n2.x\n      const py = mid.y + cost * n1.y + sint * n2.y\n      const pz = mid.z + cost * n1.z + sint * n2.z\n\n      if (obscured(px, py, pz, a, b) === -1) {\n        // As above, iterate over our grid...\n        // px, py, pz in grid coords\n        const iax = Math.floor(scaleFactor * (px - min[0]))\n        const iay = Math.floor(scaleFactor * (py - min[1]))\n        const iaz = Math.floor(scaleFactor * (pz - min[2]))\n\n        const minx = Math.max(0, iax - ng)\n        const miny = Math.max(0, iay - ng)\n        const minz = Math.max(0, iaz - ng)\n\n        const maxx = Math.min(dim[0], iax + ng + 2)\n        const maxy = Math.min(dim[1], iay + ng + 2)\n        const maxz = Math.min(dim[2], iaz + ng + 2)\n\n        for (let iz = minz; iz < maxz; iz++) {\n          dz = pz - gridz[iz]\n          const zOffset = dim[1] * dim[0] * iz\n          for (let iy = miny; iy < maxy; iy++) {\n            dy = py - gridy[iy]\n            const dzy2 = dz * dz + dy * dy\n            const zyOffset = zOffset + dim[0] * iy\n            for (let ix = minx; ix < maxx; ix++) {\n              dx = px - gridx[ix]\n              d2 = dzy2 + dx * dx\n              const idx = ix + zyOffset\n              const current = grid[idx]\n\n              if (current > 0.0 && d2 < current * current) {\n                grid[idx] = Math.sqrt(d2)\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function projectTorii() {\n    for (let innI = 0; innI < nAtoms; innI++) {\n      const innIdx = itemSize * innI\n      hash.withinRadii(\n        posRad[innIdx],\n        posRad[innIdx + 1],\n        posRad[innIdx + 2],\n        posRad[innIdx + 3],\n        neighbours\n      )\n      let ia = 0\n      let ni = neighbours[ia]\n      while (ni >= 0) {\n        if (innI < ni) {\n          projectTorus(innI, ni)\n        }\n        ni = neighbours[++ia]\n      }\n    }\n  }\n\n  function fixNegatives() {\n    for (let innI = 0, n = grid.length; innI < n; innI++) {\n      if (grid[innI] < 0) grid[innI] = 0\n      let w = weights[innI]\n      if (w > 0) {\n        w = 1 / w\n        const innInnI = innI * 3\n        volTex[innInnI] *= w\n        volTex[innInnI + 1] *= w\n        volTex[innInnI + 2] *= w\n      }\n    }\n  }\n\n  function getVolume() {\n    // Basic steps are:\n    // 1) Initialize\n    // 2) Project points\n    // 3) Project torii\n    console.time('ContactSurface.getVolume')\n\n    console.time('ContactSurface.init')\n    init()\n    console.timeEnd('ContactSurface.init')\n\n    console.time('ContactSurface.projectPoints')\n    projectPoints()\n    console.timeEnd('ContactSurface.projectPoints')\n\n    console.time('ContactSurface.projectTorii')\n    projectTorii()\n    console.timeEnd('ContactSurface.projectTorii')\n    fixNegatives()\n    console.timeEnd('ContactSurface.getVolume')\n  }\n\n  this.build = function () {\n    // type and cutoff left in for compatibility with EDTSurface.getSurface\n    // function signature\n    getVolume()\n    this.volTexMap = volTex\n    this.weightsMap = weightsMap\n    this.atomMap = atomMap\n    this.volMap = grid\n  }\n}\nexport default ContactSurface\n","import VolumeSurfaceGeometry from './VolumeSurfaceGeometry'\nimport ContactSurface from './ContactSurface'\nimport chem from '../../chem'\n\nconst { Volume } = chem\n\n/**\n * This class implements 'contact' isosurface geometry generation algorithm.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\n\nclass ContactSurfaceGeometry extends VolumeSurfaceGeometry {\n  _computeSurface(packedArrays, box, boundaries, params) {\n    const contactSurface = new ContactSurface(packedArrays, boundaries, params)\n    contactSurface.build()\n\n    const surface = {\n      volMap: new Volume(\n        Float32Array,\n        this.numVoxels,\n        box,\n        1,\n        contactSurface.volMap\n      ),\n      volTexMap: new Volume(\n        Float32Array,\n        this.numVoxels,\n        box,\n        3,\n        contactSurface.volTexMap\n      ),\n      atomMap: contactSurface.atomMap,\n      atomWeightMap: new Volume(\n        Float32Array,\n        this.numVoxels,\n        box,\n        1,\n        contactSurface.weightsMap\n      )\n    }\n    return surface\n  }\n}\n\nexport default ContactSurfaceGeometry\n","import * as THREE from 'three'\n\n/**\n * Class for colored atom. Need for atom structure clusterization\n *\n * @param {Vector3} vCenter   Center of atom\n * @param {number}  radiusAt  Radius of atom\n */\nclass IsoSurfaceAtomColored {\n  constructor(vCenter, radiusAt) {\n    this.coord = new THREE.Vector3()\n    this.coord.copy(vCenter)\n    this.radius = radiusAt\n    this.colorX = 0.99999\n    this.colorY = 0.0\n    this.colorZ = 0.0\n    this.atomType = 0\n    this.srcAtom = null\n  }\n}\nexport default IsoSurfaceAtomColored\n","import * as THREE from 'three'\nimport utils from '../../utils'\n\n// suppress some JSHint warnings\n/* jshint bitwise: false */\n\n/**\n * Build normals for isosurface, using atoms information\n *\n * @param {number} numAtoms     - Number of atoms in molecule\n * @param {Element} atoms      - Array of atoms\n * @param {Vector3} vBoxMin     - Bounding box min\n * @param {Vector3} vBoxMax     - Bounding box max\n * @param {number} probeRadius     - Normals for output\n *\n */\nclass IsosurfaceBuildNormals {\n  constructor(numAtoms, atoms, vBoxMin, vBoxMax, probeRadius) {\n    this._numAtoms = numAtoms\n    this._atoms = atoms\n    this._vBoxMin = new THREE.Vector3()\n    this._vBoxMax = new THREE.Vector3()\n    this._vBoxMin.copy(vBoxMin)\n    this._vBoxMax.copy(vBoxMax)\n    this._probeRadius = probeRadius\n\n    this._atomsList = null\n    this._voxelList = null\n  }\n\n  createVoxels() {\n    let numAtomsRefs\n    let rad\n    const ATOM_VOXEL_REF_SCALE = 4.5\n\n    const numAtoms = this._numAtoms | 0\n    const atoms = this._atoms\n    const dx = this._vBoxMax.x - this._vBoxMin.x\n    const dy = this._vBoxMax.y - this._vBoxMin.y\n    const dz = this._vBoxMax.z - this._vBoxMin.z\n    let w = dx < dy ? dx : dy\n    w = dz < w ? dz : w\n    let maxRad = 0.0\n    let aveRad = 0.0\n\n    let i\n    for (i = 0; i < numAtoms; i++) {\n      rad = (atoms[i].radius + this._probeRadius) * 2.0\n      maxRad = rad > maxRad ? rad : maxRad\n      aveRad += rad\n    }\n    let numCells = Math.floor(w / maxRad)\n    if (numCells < 2) {\n      numCells = 2\n    }\n    aveRad /= numAtoms\n\n    this._numCells = numCells\n    this._aveRad = aveRad\n    this._maxRad = maxRad\n\n    const side = numCells\n    const side2 = numCells * numCells\n    const side3 = numCells * numCells * numCells\n\n    const xScale = (this._xScale = 1.0 / (this._vBoxMax.x - this._vBoxMin.x))\n    const yScale = (this._yScale = 1.0 / (this._vBoxMax.y - this._vBoxMin.y))\n    const zScale = (this._zScale = 1.0 / (this._vBoxMax.z - this._vBoxMin.z))\n\n    // estimate number of individual atom refs in each voxel list\n    let maxAtomsRefs = 0\n\n    const xNumVoxMult = xScale * numCells\n    const yNumVoxMult = yScale * numCells\n    const zNumVoxMult = zScale * numCells\n\n    for (i = 0; i < numAtoms; i++) {\n      const radAffect =\n        (atoms[i].radius + this._probeRadius) * ATOM_VOXEL_REF_SCALE\n      const diaAffect = radAffect * 2.0\n      let numVoxX = Math.floor(xNumVoxMult * diaAffect + 0.8)\n      let numVoxY = Math.floor(yNumVoxMult * diaAffect + 0.8)\n      let numVoxZ = Math.floor(zNumVoxMult * diaAffect + 0.8)\n      // avoid case numVox? == 0\n      // also use loop i <=\n      numVoxX++\n      numVoxY++\n      numVoxZ++\n      maxAtomsRefs += numVoxX * numVoxY * numVoxZ\n    } // for (i)\n    // maxAtomsRefs = numAtoms * MAX_ATOMS_IN_SINGLE_VOXEL;\n\n    this._voxelList = utils.allocateTyped(Int32Array, side3)\n    const atomsList = []\n    atomsList.length = maxAtomsRefs\n    if (this._voxelList === null || atomsList === null) {\n      return 0 - 1\n    }\n    // init voxel list\n    for (i = 0; i < side3; i++) {\n      this._voxelList[i] = -1\n    }\n    numAtomsRefs = 0\n\n    // create voxel lists\n    for (i = 0; i < numAtoms; i++) {\n      // use multiplier 4 to locate this atom in different voxels\n      rad = (atoms[i].radius + this._probeRadius) * ATOM_VOXEL_REF_SCALE\n      let xIndMin = Math.floor(\n        (atoms[i].coord.x - this._vBoxMin.x - rad) * numCells * xScale\n      )\n      let yIndMin = Math.floor(\n        (atoms[i].coord.y - this._vBoxMin.y - rad) * numCells * yScale\n      )\n      let zIndMin = Math.floor(\n        (atoms[i].coord.z - this._vBoxMin.z - rad) * numCells * zScale\n      )\n      let xIndMax = Math.floor(\n        (atoms[i].coord.x - this._vBoxMin.x + rad) * numCells * xScale\n      )\n      let yIndMax = Math.floor(\n        (atoms[i].coord.y - this._vBoxMin.y + rad) * numCells * yScale\n      )\n      let zIndMax = Math.floor(\n        (atoms[i].coord.z - this._vBoxMin.z + rad) * numCells * zScale\n      )\n\n      xIndMin = xIndMin >= 0 ? xIndMin : 0\n      yIndMin = yIndMin >= 0 ? yIndMin : 0\n      zIndMin = zIndMin >= 0 ? zIndMin : 0\n\n      xIndMax = xIndMax < numCells ? xIndMax : numCells - 1\n      yIndMax = yIndMax < numCells ? yIndMax : numCells - 1\n      zIndMax = zIndMax < numCells ? zIndMax : numCells - 1\n\n      for (let z = zIndMin; z <= zIndMax; z++) {\n        for (let y = yIndMin; y <= yIndMax; y++) {\n          for (let x = xIndMin; x <= xIndMax; x++) {\n            // add atom with index \"i\" to this voxel list\n            const indVoxel = x + y * side + z * side2\n            // assert indVoxel >= 0\n            // assert indVoxel < side3\n\n            // add first\n            if (this._voxelList[indVoxel] < 0) {\n              atomsList[numAtomsRefs * 2 + 0] = i\n              atomsList[numAtomsRefs * 2 + 1] = 0 - 1\n              this._voxelList[indVoxel] = numAtomsRefs\n              numAtomsRefs++\n              // assert numAtomsRefs < maxAtomsRefs - 1\n              continue\n            }\n            // insert into head of list\n            const indexNext = this._voxelList[indVoxel]\n            this._voxelList[indVoxel] = numAtomsRefs\n            atomsList[numAtomsRefs * 2 + 0] = i\n            atomsList[numAtomsRefs * 2 + 1] = indexNext\n            numAtomsRefs++\n          } // for (x)\n        } // for (y)\n      } // for (z)\n    } // for (i)\n\n    // convert Array to Int32Array\n    this._atomsList = Int32Array.from(atomsList)\n\n    return 0\n  }\n\n  destroyVoxels() {\n    this._atomsList = null\n    this._voxelList = null\n\n    this._atoms = null\n    this._vertices = null\n    this._vBoxMin = null\n    this._vBoxMax = null\n  }\n\n  /**\n   * Enumerate all atoms affecting specified point\n   *\n   * @param {Vector3}    point    - point in 3D\n   * @param {func(atom)} process  - function to call for each atom\n   */\n  forEachRelatedAtom(point, process) {\n    // find corresponding voxel\n    const xInd = Math.floor(\n      (point.x - this._vBoxMin.x) * this._numCells * this._xScale\n    )\n    const yInd = Math.floor(\n      (point.y - this._vBoxMin.y) * this._numCells * this._yScale\n    )\n    const zInd = Math.floor(\n      (point.z - this._vBoxMin.z) * this._numCells * this._zScale\n    )\n    const indVoxel =\n      xInd + yInd * this._numCells + zInd * this._numCells * this._numCells\n\n    // run through atoms affecting this voxel\n    const atoms = this._atoms\n    for (\n      let ref = this._voxelList[indVoxel];\n      ref >= 0;\n      ref = this._atomsList[ref * 2 + 1]\n    ) {\n      const indexAtom = this._atomsList[ref * 2]\n      process(atoms[indexAtom])\n    }\n  }\n\n  /**\n   * Get atom closest to specified point\n   *\n   * @param {Vector3} point  - point in 3D\n   *\n   * @returns {IsoSurfaceAtomColored} atom, or null if not found\n   */\n  getClosestAtom(point) {\n    let closest = null\n    let minDist2 = Number.MAX_VALUE\n\n    this.forEachRelatedAtom(point, (atom) => {\n      const dist2 = point.distanceToSquared(atom.coord)\n      if (dist2 < minDist2) {\n        minDist2 = dist2\n        closest = atom\n      }\n    })\n\n    return closest\n  }\n\n  /**\n   * Build normals for isosurface, using atoms information\n   *\n   * @param {number} numVertices  - Number of vertices in final geometry (to render)\n   * @param {Vector3} vertices    - Geometry vertices (3d coordinates array)\n   * @param {Vector3} normals     - Normals for output\n   *\n   * @returns {number} 0, if success\n   */\n  buildNormals(numVertices, vertices, normals) {\n    const self = this\n    let numCloseAtoms = 0\n    let vx = 0\n    let vy = 0\n    let vz = 0\n    let dist2\n    let vNormalX = 0\n    let vNormalY = 0\n    let vNormalZ = 0\n    let koef = 0\n    let w = 0\n    const r25 = 2.5\n    const r01 = 0.1\n\n    const maxRadAffect = this._aveRad * r25\n    const maxRadAffect2 = maxRadAffect * maxRadAffect\n    const expScale = -this._aveRad * r01\n\n    // some stats\n    // numSlowAtoms = 0;\n\n    const gatherNormals = function (atom) {\n      const dx = vx - atom.coord.x\n      const dy = vy - atom.coord.y\n      const dz = vz - atom.coord.z\n      dist2 = dx * dx + dy * dy + dz * dz\n      if (dist2 > maxRadAffect2) {\n        return\n      }\n\n      // get weight for gaussian smoothing\n      const rad = atom.radius + self._probeRadius\n      koef = dist2 - rad * rad\n      if (koef < 0.0) {\n        koef = -koef\n      }\n      w = Math.exp(expScale * koef)\n\n      vNormalX += dx * w\n      vNormalY += dy * w\n      vNormalZ += dz * w\n      numCloseAtoms++\n    }\n\n    let maxClosedAtoms = 0\n    // process all vertices, one by one\n    for (let i = 0; i < numVertices; i++) {\n      vx = vertices[i].x\n      vy = vertices[i].y\n      vz = vertices[i].z\n\n      numCloseAtoms = 0\n      vNormalX = vNormalY = vNormalZ = 0.0\n\n      this.forEachRelatedAtom(vertices[i], gatherNormals)\n\n      maxClosedAtoms =\n        numCloseAtoms > maxClosedAtoms ? numCloseAtoms : maxClosedAtoms\n\n      // normalize vNormal\n      dist2 = vNormalX * vNormalX + vNormalY * vNormalY + vNormalZ * vNormalZ\n      if (numCloseAtoms > 0) {\n        koef = 1.0 / Math.sqrt(dist2)\n        vNormalX *= koef\n        vNormalY *= koef\n        vNormalZ *= koef\n      }\n      normals[i].x = vNormalX\n      normals[i].y = vNormalY\n      normals[i].z = vNormalZ\n    } // for (i) all vertices\n\n    return 0\n  }\n\n  /**\n   * Build vertex colors for isosurface, using atoms information\n   *\n   * @param {number} numVertices  - Number of vertices in final geometry (to render)\n   * @param {Vector3} vertices    - Geometry vertices (3d coordinates array)\n   * @param {Vector3} colors                - Colors for output\n   * @param {number} radiusColorSmoothness  - Radius of smoothness sphere\n   *\n   * @returns {number} 0, if success\n   */\n  buildColors(numVertices, vertices, colors, radiusColorSmoothness) {\n    const self = this\n    let vx = 0.0\n    let vy = 0.0\n    let vz = 0.0\n    let koef = 0.0\n    let w = 0.0\n    const KOEF_ADD = 0.8\n\n    const maxRadAffect = radiusColorSmoothness\n    const maxRadAffect2 = maxRadAffect * maxRadAffect\n\n    let colorsClose = []\n    let weights = []\n    let weightsSum = 0\n\n    const gatherColors = function (atom) {\n      const dx = vx - atom.coord.x\n      const dy = vy - atom.coord.y\n      const dz = vz - atom.coord.z\n      const dist2 = dx * dx + dy * dy + dz * dz\n      if (dist2 > maxRadAffect2) {\n        return\n      }\n\n      // get weight for gaussian smoothing\n      const rad = atom.radius + self._probeRadius\n      koef = dist2 - rad * rad\n      if (koef < 0.0) {\n        koef = -koef\n      }\n      w = 1.0 / (KOEF_ADD + koef)\n\n      colorsClose.push([atom.colorX, atom.colorY, atom.colorZ])\n      weights.push(w) // save weights for use\n      weightsSum += w // calc sum of weights fo further normalization\n    }\n\n    // process all vertices, one by one\n    for (let i = 0; i < numVertices; i++) {\n      vx = vertices[i].x\n      vy = vertices[i].y\n      vz = vertices[i].z\n\n      colorsClose = []\n      weights = []\n      weightsSum = 0\n\n      this.forEachRelatedAtom(vertices[i], gatherColors)\n\n      // normalized weighted sum of colors\n      for (let j = 0; j < colorsClose.length; ++j) {\n        const weightNormalized = weights[j] / weightsSum\n        colors[i].x += colorsClose[j][0] * weightNormalized\n        colors[i].y += colorsClose[j][1] * weightNormalized\n        colors[i].z += colorsClose[j][2] * weightNormalized\n      }\n    } // for (i) all vertices\n    return 0\n  }\n}\nexport default IsosurfaceBuildNormals\n","import * as THREE from 'three'\n\n/**\n * Class for geometry (triangle mesh) representation\n *\n *\n * @param {number} maxNumVertices Maximum possible number of vertices in mesh\n * @param {number} maxNumTriangles Maximum possible number of triangles in mesh\n * @param {boolean} needVertexColors Obvious\n */\nclass IsoSurfaceGeo {\n  constructor(maxNumVertices, maxNumTriangles, needVertexColors) {\n    this._maxNumVertices = maxNumVertices\n    this._maxNumTriangles = maxNumTriangles\n    this._vertices = new Array(maxNumVertices)\n    this._normals = new Array(maxNumVertices)\n    this._colors = null\n    if (needVertexColors) {\n      this._colors = new Array(maxNumVertices)\n    }\n    this._indices = new Array(maxNumTriangles * (1 + 2))\n    this._numVertices = 0\n    this._numTriangles = 0\n\n    let i\n    for (i = 0; i < maxNumVertices; i++) {\n      this._vertices[i] = new THREE.Vector3()\n      this._normals[i] = new THREE.Vector3()\n    }\n    for (i = 0; i < maxNumTriangles * (1 + 2); i++) {\n      this._indices[i] = -1\n    }\n    if (needVertexColors) {\n      for (i = 0; i < maxNumVertices; i++) {\n        this._colors[i] = new THREE.Vector3()\n      }\n    }\n  }\n\n  destroy() {\n    this._vertices = null\n    this._normals = null\n    this._indices = null\n  }\n}\nexport default IsoSurfaceGeo\n","import * as THREE from 'three'\nimport IsoSurfaceGeometry from './IsoSurfaceGeometry'\nimport IsoSurfaceAtomColored from './IsoSurfaceAtomColored'\nimport IsosurfaceBuildNormals from './IsosurfaceBuildNormals'\nimport IsoSurfaceMarchCube from './IsoSurfaceMarchCube'\nimport IsoSurfaceGeo from './IsoSurfaceGeo'\nimport chem from '../../chem'\nimport utils from '../../utils'\n\nconst COLOR_SIZE = 3\nconst HASH_SIZE = 32768\nconst { Element } = chem\n\n/**\n * This class implements 'quick' isosurface geometry generation algorithm.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\n\nclass SSIsosurfaceGeometry extends IsoSurfaceGeometry {\n  _build() {\n    // convert geoOut into arrays of positions, indices, normals\n    this._innerBuild()\n    const geoOut = this.getGeo()\n    this.destroy()\n    this._fromGeo(geoOut)\n  }\n\n  _fromGeo(geoOut) {\n    let colors = null\n    const positions = utils.allocateTyped(\n      Float32Array,\n      (1 + 2) * geoOut._numVertices\n    )\n    const normals = utils.allocateTyped(\n      Float32Array,\n      (1 + 2) * geoOut._numVertices\n    )\n    if (geoOut._colors !== null) {\n      colors = utils.allocateTyped(Float32Array, (1 + 2) * geoOut._numVertices)\n    }\n    const indices = utils.allocateTyped(\n      Uint32Array,\n      (1 + 2) * geoOut._numTriangles\n    )\n\n    for (let i = 0, j = 0; i < geoOut._numVertices; i++) {\n      positions[j + 0] = geoOut._vertices[i].x\n      positions[j + 1] = geoOut._vertices[i].y\n      positions[j + 2] = geoOut._vertices[i].z\n      normals[j + 0] = geoOut._normals[i].x\n      normals[j + 1] = geoOut._normals[i].y\n      normals[j + 2] = geoOut._normals[i].z\n      j += 3\n    }\n    if (colors !== null) {\n      for (let i = 0, j = 0; i < geoOut._numVertices; i++, j += 3) {\n        colors[j + 0] = geoOut._colors[i].x\n        colors[j + 1] = geoOut._colors[i].y\n        colors[j + 2] = geoOut._colors[i].z\n      }\n    }\n\n    const numTri3 = geoOut._numTriangles * (1 + 2)\n    for (let i = 0; i < numTri3; i++) {\n      indices[i] = geoOut._indices[i]\n    }\n\n    this.setIndex(new THREE.BufferAttribute(indices, 1))\n    this.setAttribute('position', new THREE.BufferAttribute(positions, 3))\n    this.setAttribute('normal', new THREE.BufferAttribute(normals, 3))\n    this.setAttribute('color', new THREE.BufferAttribute(colors, 3))\n    this.computeBoundingBox()\n    this.computeBoundingSphere()\n\n    geoOut.destroy()\n  }\n\n  convertToAtomsColored(packedArrays, atomsColored) {\n    const { atoms, colors } = packedArrays\n    for (let i = 0, numAtoms = atoms.length; i < numAtoms; i++) {\n      const vCenter = atoms[i].position\n      const { radius } = atoms[i].element\n      atomsColored[i] = new IsoSurfaceAtomColored(vCenter, radius)\n      const nm = atoms[i].element.number\n      atomsColored[i].atomType = this.getType(nm)\n      let cIdx = COLOR_SIZE * i\n      atomsColored[i].colorX = colors[cIdx++]\n      atomsColored[i].colorY = colors[cIdx++]\n      atomsColored[i].colorZ = colors[cIdx]\n      atomsColored[i].srcAtom = atoms[i]\n    }\n  }\n\n  getGeo() {\n    return this.geoOut\n  }\n\n  destroy() {\n    this.atoms = null\n\n    this.hashLines = null\n    this.hashEntries = null\n  }\n\n  /**\n   * Calculates bounding box for array with spheres (atoms)\n   *\n   * @param {Object}  atoms      Atoms array\n   * @param {Vector3} vBoxMin    Bounding box min point\n   * @param {Vector3} vBoxMax    Bounding box max point\n   */\n  getBoundingBox(atoms, vBoxMin, vBoxMax) {\n    const bigNum = 10000000.0\n\n    vBoxMin.x = vBoxMin.y = vBoxMin.z = bigNum\n    vBoxMax.x = vBoxMax.y = vBoxMax.z = 0 - bigNum\n\n    const probeRadius2 = this.probeRadius * this.atomRadiusScale\n    let radMax = 0.0\n    for (let i = 0, num = atoms.length; i < num; i++) {\n      const vCenter = atoms[i].coord\n      const rad = atoms[i].radius + probeRadius2\n      radMax = rad > radMax ? rad : radMax\n      if (vCenter.x - rad < vBoxMin.x) {\n        vBoxMin.x = vCenter.x - rad\n      }\n      if (vCenter.y - rad < vBoxMin.y) {\n        vBoxMin.y = vCenter.y - rad\n      }\n      if (vCenter.z - rad < vBoxMin.z) {\n        vBoxMin.z = vCenter.z - rad\n      }\n      if (vCenter.x + rad > vBoxMax.x) {\n        vBoxMax.x = vCenter.x + rad\n      }\n      if (vCenter.y + rad > vBoxMax.y) {\n        vBoxMax.y = vCenter.y + rad\n      }\n      if (vCenter.z + rad > vBoxMax.z) {\n        vBoxMax.z = vCenter.z + rad\n      }\n    }\n    vBoxMin.x -= radMax\n    vBoxMin.y -= radMax\n    vBoxMin.z -= radMax\n    vBoxMax.x += radMax\n    vBoxMax.y += radMax\n    vBoxMax.z += radMax\n  }\n\n  /**\n   * Calculate (x,y,z) cordinate of the cell corner point\n   *\n   * @param {Vector3} vBoxMin Bounding box min point\n   * @param {Vector3} vBoxMax Bounding box max point\n   * @param {number} x Cell integer x coordinate\n   * @param {number} y Cell integer y coordinate\n   * @param {number} z Cell integer z coordinate\n   * @param {number} numPoints NUm points in cell on side\n   * @param {Vector3} vOut Output vector\n   */\n  getCornerCoord(vBoxMin, vBoxMax, x, y, z, numPoints, vOut) {\n    const invNP = 1.0 / (numPoints - 1.0)\n    const tx = x * invNP\n    const ty = y * invNP\n    const tz = z * invNP\n\n    vOut.x = vBoxMin.x * (1.0 - tx) + vBoxMax.x * tx\n    vOut.y = vBoxMin.y * (1.0 - ty) + vBoxMax.y * ty\n    vOut.z = vBoxMin.z * (1.0 - tz) + vBoxMax.z * tz\n  }\n\n  /**\n   * Calculate point of intersection of sphere surface\n   * and cell edge, given by [indexA, indexB] line\n   *\n   * @param {number} indexA Cell vertex index in [0..11]\n   * @param {number} indexB Cell vertex index in [0..11]\n   * @param {array}  sign   Sign array for all 8 vertices\n   * @param {object} cube   Cube\n   * @param {number} indexPointValue for value placement\n   * @param {Vector3} vOut  Point of intersection\n   */\n  buildEdgePoint(indexA, indexB, sign, cube, indexPointValue, vOut) {\n    if (sign[indexA] ^ sign[indexB]) {\n      const cTwentyFour = 24\n      const t =\n        (0 - cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexA]) /\n        (cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexB] -\n          cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexA])\n      const xa = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 0]\n      const ya = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 1]\n      const za = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 2]\n      const xb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 0]\n      const yb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 1]\n      const zb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 2]\n\n      vOut.x = xa * (1.0 - t) + xb * t\n      vOut.y = ya * (1.0 - t) + yb * t\n      vOut.z = za * (1.0 - t) + zb * t\n    }\n  }\n\n  /**\n   * Check if triangle is visible (vertices are close to atoms included in visibility set)\n   *\n   * @param {Vector3} v0 Vertex #0\n   * @param {Vector3} v1 Vertex #1\n   * @param {Vector3} v2 Vertex #2\n   * @returns {boolean} true if triangle is visible\n   */\n  isTriangleVisible(v0, v1, v2) {\n    const a0 = this.voxelWorld.getClosestAtom(v0)\n    const a1 = this.voxelWorld.getClosestAtom(v1)\n    const a2 = this.voxelWorld.getClosestAtom(v2)\n    if (\n      a0 === null ||\n      a1 === null ||\n      a2 === null ||\n      a0.srcAtom === null ||\n      a1.srcAtom === null ||\n      a2.srcAtom === null\n    ) {\n      return false\n    }\n\n    return (\n      this.visibilitySelector.includesAtom(a0.srcAtom) &&\n      this.visibilitySelector.includesAtom(a1.srcAtom) &&\n      this.visibilitySelector.includesAtom(a2.srcAtom)\n    )\n  }\n\n  /**\n   * Add triangle to result geometry\n   *\n   * @param {Vector3} v0 Vertex #0\n   * @param {Vector3} v1 Vertex #1\n   * @param {Vector3} v2 Vertex #2\n   * @returns {boolean} false if no more triangles can be added\n   */\n  addTriangle(v0, v1, v2) {\n    if (this.visibilitySelector && !this.isTriangleVisible(v0, v1, v2)) {\n      return true\n    }\n\n    const geo = this.geoOut\n\n    if (geo._numTriangles >= this.maxNumTriangles) {\n      return false\n    }\n\n    // Add vertex with optimize\n    const indInGeo0 = this.addVertexToGeo(geo, v0)\n    const indInGeo1 = this.addVertexToGeo(geo, v1)\n    const indInGeo2 = this.addVertexToGeo(geo, v2)\n    if ((indInGeo0 | indInGeo1 | indInGeo2) < 0) {\n      return false\n    }\n\n    const itr = 3 * geo._numTriangles\n    geo._indices[itr + 0] = indInGeo0\n    geo._indices[itr + 1] = indInGeo1\n    geo._indices[itr + 2] = indInGeo2\n    geo._numTriangles++\n    return true\n  }\n\n  /**\n   * Build result geometry (triangle mesh) from marching cube cells\n   *\n   * @param {number} meshRes Marchnig cube vertex count on each side\n   * @param {Vector3} vBoxMin Bounding box point min\n   * @param {Vector3} vBoxMax Bounding box point max\n   * @param {number} corners float values array for each cube point\n   * @param {Vector3} vCellStep vector to next cube cell diagonal point\n   * @param {object} cube IsoSurfaceMarchCube object\n   * @returns {number} 0, if success (<0) is error\n   */\n  buildGeoFromCorners(meshRes, vBoxMin, vBoxMax, corners, vCellStep, cube) {\n    const arrSize = 12\n    const cNumVerts = 8\n    const numCells = meshRes - 1\n    const side = meshRes\n    const side2 = meshRes * meshRes\n\n    const vaEdges = new Array(arrSize)\n    for (let i = 0; i < arrSize; i++) {\n      vaEdges[i] = new THREE.Vector3()\n    }\n    const sign = []\n    for (let i = 0; i < cNumVerts; i++) {\n      sign[i] = 1.0\n    }\n    const vCorner = new THREE.Vector3()\n    let indCell = 0\n    let indY = 0\n    for (let y = 0; y < numCells; y++, indY += side2) {\n      let indZ = 0\n      for (let z = 0; z < numCells; z++, indZ += side) {\n        for (let x = 0; x < numCells; x++) {\n          if (!cube.hasIntersection[indCell]) {\n            // next cell\n            indCell++\n            continue\n          }\n          const bitsInside = cube.bitsInside[indCell]\n\n          this.getCornerCoord(vBoxMin, vBoxMax, x, y, z, meshRes, vCorner)\n\n          const indPointValues = indCell * (2 << (2 + 2))\n          for (let i = 0, j = 0; i < cNumVerts; i++) {\n            cube.pointsValuesLinear[indPointValues + j++] = vCorner.x\n            cube.pointsValuesLinear[indPointValues + j++] = vCorner.y\n            cube.pointsValuesLinear[indPointValues + j++] = vCorner.z\n          }\n\n          cube.pointsValuesLinear[indPointValues + 3] += vCellStep.x\n          cube.pointsValuesLinear[indPointValues + 2 * 3] += vCellStep.x\n          cube.pointsValuesLinear[indPointValues + 5 * 3] += vCellStep.x\n          cube.pointsValuesLinear[indPointValues + 6 * 3] += vCellStep.x\n\n          cube.pointsValuesLinear[indPointValues + 2 * 3 + 2] += vCellStep.z\n          cube.pointsValuesLinear[indPointValues + 3 * 3 + 2] += vCellStep.z\n          cube.pointsValuesLinear[indPointValues + 6 * 3 + 2] += vCellStep.z\n          cube.pointsValuesLinear[indPointValues + 7 * 3 + 2] += vCellStep.z\n\n          cube.pointsValuesLinear[indPointValues + 4 * 3 + 1] += vCellStep.y\n          cube.pointsValuesLinear[indPointValues + 5 * 3 + 1] += vCellStep.y\n          cube.pointsValuesLinear[indPointValues + 6 * 3 + 1] += vCellStep.y\n          cube.pointsValuesLinear[indPointValues + 7 * 3 + 1] += vCellStep.y\n\n          // now current cell has intersections (from -x to +x) on some cube edges\n          const indValues = indPointValues + 24\n          for (let i = 0; i < cNumVerts; ++i) {\n            sign[i] = cube.pointsValuesLinear[indValues + i] < 0.0 ? 1 : 0\n          }\n\n          this.buildEdgePoint(0, 1, sign, cube, indPointValues, vaEdges[0])\n          this.buildEdgePoint(1, 2, sign, cube, indPointValues, vaEdges[1])\n          this.buildEdgePoint(2, 3, sign, cube, indPointValues, vaEdges[2])\n          this.buildEdgePoint(3, 0, sign, cube, indPointValues, vaEdges[3])\n\n          this.buildEdgePoint(4, 5, sign, cube, indPointValues, vaEdges[4])\n          this.buildEdgePoint(5, 6, sign, cube, indPointValues, vaEdges[5])\n          this.buildEdgePoint(6, 7, sign, cube, indPointValues, vaEdges[6])\n          this.buildEdgePoint(7, 4, sign, cube, indPointValues, vaEdges[7])\n\n          this.buildEdgePoint(0, 4, sign, cube, indPointValues, vaEdges[8])\n          this.buildEdgePoint(1, 5, sign, cube, indPointValues, vaEdges[9])\n          this.buildEdgePoint(2, 6, sign, cube, indPointValues, vaEdges[10])\n          this.buildEdgePoint(3, 7, sign, cube, indPointValues, vaEdges[11])\n\n          const offs = bitsInside * (2 << (1 + 2))\n          for (\n            let numTri = 0, indTri = 0;\n            numTri < 2 + 2 + 2;\n            numTri++, indTri += 3\n          ) {\n            // s_triIndicesMarchCube is external array, defined in mold_ind.js\n            const i0 = cube.striIndicesMarchCube[offs + indTri]\n            if (i0 < 0) {\n              break\n            }\n            const i1 = cube.striIndicesMarchCube[offs + indTri + 1]\n            const i2 = cube.striIndicesMarchCube[offs + indTri + 2]\n\n            if (!this.addTriangle(vaEdges[i0], vaEdges[i1], vaEdges[i2])) {\n              return 0 - 2\n            }\n          } // for numTri\n\n          // next cell (cube)\n          indCell++\n        } // for (x)\n      } // for (z)\n    } // for (y)\n    return 0\n  }\n\n  /**\n   * Returns number of cell with intersection with at least one sphere.\n   * Using this number, we can estimate required number of vertices\n   * and triangles to build result mesh.\n   *\n   * @param {number} side Number of points in cube voxels\n   * @param {number} numCells Number of cells in cube voxels (per direction)\n   * @param {array} corners Array of float values for cube corner points\n   * @param {object} cube IsoSurfaceMarchCube object\n   * @returns {number} numIntersectedCells\n   */\n  getNumIntersectedCells(side, numCells, corners, cube) {\n    const side2 = side * side\n    const cNumVerts = 8\n    let numIntersectedCells = 0\n\n    let indCell = 0\n    let indY = 0\n    for (let y = 0; y < numCells; y++, indY += side2) {\n      let indZ = 0\n      for (let z = 0; z < numCells; z++, indZ += side) {\n        for (let x = 0; x < numCells; x++) {\n          const cubeValuesIndex = indCell * (2 << (2 + 2)) + 24\n          const indCorner = x + indZ + indY\n\n          cube.pointsValuesLinear[cubeValuesIndex] = corners[indCorner]\n          cube.pointsValuesLinear[cubeValuesIndex + 1] = corners[indCorner + 1]\n          cube.pointsValuesLinear[cubeValuesIndex + 2] =\n            corners[indCorner + side + 1]\n          cube.pointsValuesLinear[cubeValuesIndex + 3] =\n            corners[indCorner + side]\n          cube.pointsValuesLinear[cubeValuesIndex + 4] =\n            corners[side2 + indCorner]\n          cube.pointsValuesLinear[cubeValuesIndex + 5] =\n            corners[side2 + indCorner + 1]\n          cube.pointsValuesLinear[cubeValuesIndex + 6] =\n            corners[side2 + indCorner + side + 1]\n          cube.pointsValuesLinear[cubeValuesIndex + 7] =\n            corners[side2 + indCorner + side]\n\n          // check read exception\n          // assert(side2 + indCorner + side + 1 < side3);\n\n          // get bit flags inside\n          let bitsInside = 0\n          for (let i = 0; i < cNumVerts; ++i) {\n            if (cube.pointsValuesLinear[cubeValuesIndex + i] < 0.0) {\n              bitsInside |= 1 << i\n            }\n          }\n\n          if (bitsInside === 0 || bitsInside === (1 << cNumVerts) - 1) {\n            cube.hasIntersection[indCell] = false\n          } else {\n            cube.hasIntersection[indCell] = true\n            numIntersectedCells++\n          }\n          cube.bitsInside[indCell] = bitsInside\n          // next cell\n          indCell++\n        } // for (x)\n      } // for (z)\n    } // for (y)\n    return numIntersectedCells\n  }\n\n  getType(letter) {\n    /* eslint-disable no-magic-numbers */\n    const atomT = [\n      0, 0, 1, 1, 2, 6, 3, 6, 4, 6, 5, 6, 6, 0, 7, 3, 8, 2, 9, 6, 10, 6, 11, 6,\n      12, 6, 13, 6, 14, 6, 15, 4, 16, 5, 17, 6, 18, 6, 19, 6, 20, 6, 21, 6, 22,\n      6, 23, 6, 24, 6, 25, 6, 26, 6, 27, 6, 28, 6, 29, 6, 30, 6, 31, 6, 32, 6,\n      33, 6, 34, 6, 35, 6, 36, 6, 37, 6, 38, 6, 39, 6, 40, 6, 41, 6, 42, 6, 43,\n      6, 44, 6, 45, 6, 46, 6, 47, 6, 48, 6, 49, 6, 50, 6, 51, 6, 52, 6, 53, 6,\n      54, 6, 55, 6, 56, 6, 57, 6, 58, 6, 59, 6, 60, 6, 61, 6, 62, 6, 63, 6, 64,\n      6, 65, 6, 66, 6, 67, 6, 68, 6, 69, 6, 70, 6, 71, 6, 72, 6, 73, 6, 74, 6,\n      75, 6, 76, 6, 77, 6, 78, 6, 79, 6, 80, 6, 81, 6, 82, 6, 83, 6, 84, 6, 85,\n      6, 86, 6, 87, 6, 88, 6, 89, 6, 90, 6, 91, 6, 92, 6, 93, 6, 94, 6, 95, 6,\n      96, 6, 97, 6, 98, 6, 99, 6, 100, 6, 101, 6, 102, 6, 103, 6, 104, 6, 105,\n      6, 106, 6, 107, 6, 108, 6, 109, 6\n    ]\n    /* eslint-enable no-magic-numbers */\n\n    if (\n      letter < 1 ||\n      letter > atomT.length / 2 ||\n      Object.keys(Element.ByAtomicNumber).length * 2 !== atomT.length\n    ) {\n      throw new Error(\n        'atomT.length  should be equal Element.ByAtomicNumber.length * 2'\n      )\n    }\n    return atomT[letter * 2]\n  }\n\n  /**\n   * Calculate values for marching cube grid points\n   * positive values are outside sphere, negative - is inside\n   *\n   * @param {array} corners array of float values\n   * @param {number} side Number of point in cube in 1 dimennsion\n   * @param {Vector3} vBoxMin Bounding box min point\n   * @param {Vector3} vBoxMax Bounding box max point\n   * @param {array} atoms Array of input atoms\n   * @param {number} probeRad radius for atom probing\n   */\n  calculateGridCorners(corners, side, vBoxMin, vBoxMax, atoms, probeRad) {\n    const side2 = side * side\n    const side3 = side2 * side\n    const vCorner = new THREE.Vector3()\n    const vDif = new THREE.Vector3()\n    /* eslint-disable no-magic-numbers */\n    const aLot = +1.0e12\n    /* eslint-enable no-magic-numbers */\n\n    for (let i = 0; i < side3; i++) {\n      corners[i] = aLot // to large value\n    }\n\n    const xScale = (side - 1) / (vBoxMax.x - vBoxMin.x)\n    const yScale = (side - 1) / (vBoxMax.y - vBoxMin.y)\n    const zScale = (side - 1) / (vBoxMax.z - vBoxMin.z)\n\n    for (let s = 0, numAtoms = atoms.length; s < numAtoms; s++) {\n      const atom = atoms[s]\n      const radius = atom.radius + probeRad\n\n      const fx = (atom.coord.x - radius - vBoxMin.x) * xScale\n      const fy = (atom.coord.y - radius - vBoxMin.y) * yScale\n      const fz = (atom.coord.z - radius - vBoxMin.z) * zScale\n\n      const indXMin = Math.floor(fx)\n      const indYMin = Math.floor(fy)\n      const indZMin = Math.floor(fz)\n\n      let indXMax = Math.floor((atom.coord.x + radius - vBoxMin.x) * xScale)\n      let indYMax = Math.floor((atom.coord.y + radius - vBoxMin.y) * yScale)\n      let indZMax = Math.floor((atom.coord.z + radius - vBoxMin.z) * zScale)\n\n      indXMax++\n      indYMax++\n      indZMax++\n      indXMax = indXMax <= side - 1 ? indXMax : side - 1\n      indYMax = indYMax <= side - 1 ? indYMax : side - 1\n      indZMax = indZMax <= side - 1 ? indZMax : side - 1\n\n      for (let y = indYMin; y <= indYMax; y++) {\n        const indY = y * side2\n        for (let z = indZMin; z <= indZMax; z++) {\n          const indZ = z * side\n          for (let x = indXMin; x <= indXMax; x++) {\n            const ind = indY + indZ + x\n            this.getCornerCoord(vBoxMin, vBoxMax, x, y, z, side, vCorner)\n            vDif.x = vCorner.x - atom.coord.x\n            vDif.y = vCorner.y - atom.coord.y\n            vDif.z = vCorner.z - atom.coord.z\n            const distToSphere = Math.sqrt(\n              vDif.x * vDif.x + vDif.y * vDif.y + vDif.z * vDif.z\n            )\n            // val: < 0, if inside sphere\n            // val: > 0, if outside sphere\n            const val = distToSphere - radius\n            if (val < corners[ind]) {\n              corners[ind] = val\n            }\n          } // for (x)\n        } // for (z)\n      } // for (y)\n    } // for (s)\n  }\n\n  /**\n   * Create memory pool for vertex hash management\n   *\n   * @param {number} maxNumVertices Maximum possible number of vertices (that will be build)\n   * @param {number} maxNumTriangles Maximum possible number of triangles (that will be build)\n   * @returns {number} 0, if success. (<0) is non memory\n   */\n  createVertexHash(maxNumVertices, maxNumTriangles) {\n    this.hashLines = utils.allocateTyped(Int32Array, HASH_SIZE * 2)\n    if (this.hashLines === null) {\n      return 0 - 1\n    }\n    for (let i = 0, j = 0; i < HASH_SIZE; i++) {\n      this.hashLines[j++] = 0 // num vertices in this hash line\n      this.hashLines[j++] = 0 - 1 // index of the first entry\n    }\n\n    this.maxNumVertices = maxNumVertices\n    this.maxNumTriangles = maxNumTriangles\n\n    this.numHashEtriesAllocated = maxNumVertices\n    this.hashEntries = utils.allocateTyped(\n      Int32Array,\n      2 * this.numHashEtriesAllocated\n    )\n    if (this.hashEntries === null) {\n      return 0 - 1\n    }\n    for (let i = 0, j = 0; i < this.numHashEtriesAllocated; i++) {\n      this.hashEntries[j++] = 0 - 1 // index of vertex\n      this.hashEntries[j++] = 0 - 1 // next hash entry index\n    }\n    this.numHashEntryIndex = 0\n    return 0\n  }\n\n  /**\n   * Allocate and return new hash entry. Just check possible amount.\n   *\n   * @returns {number} index of hash entry, that can be used for geometry add vertex functionality\n   */\n  getNewHashEntry() {\n    if (this.numHashEntryIndex < this.numHashEtriesAllocated) {\n      const i = this.numHashEntryIndex\n      this.numHashEntryIndex++\n      return i\n    }\n    return 0 - 1\n  }\n\n  /**\n   * Add vertex to geometry structure\n   * using vertex hash table to quickly check, is this vertex already exist in geometry\n   *\n   * @param {object} geoOut Geometry to build\n   * @param {Vector3} vAdd Vertex to add\n   * @returns {number} index of added (or existing) vertex in geometry.\n   */\n  addVertexToGeo(geoOut, vAdd) {\n    let entry\n    const oneHynberes = 0.01\n    const n815851 = 815851\n    const n37633 = 37633\n    const n2453543 = 2453543\n    const r106 = 1.0e-6\n\n    const hashResolution = this.marCubeResoultion << 2\n    const v = new THREE.Vector3()\n    const ix = Math.floor(\n      (hashResolution * (vAdd.x - this.vBoxMin.x)) /\n        (this.vBoxMax.x + oneHynberes - this.vBoxMin.x)\n    )\n    const iy = Math.floor(\n      (hashResolution * (vAdd.y - this.vBoxMin.y)) /\n        (this.vBoxMax.y + oneHynberes - this.vBoxMin.y)\n    )\n    const iz = Math.floor(\n      (hashResolution * (vAdd.z - this.vBoxMin.z)) /\n        (this.vBoxMax.z + oneHynberes - this.vBoxMin.z)\n    )\n    let iHash = ix * n815851 + iz * n37633 + iy * n2453543\n    iHash &= HASH_SIZE - 1\n    const hLineIndex = iHash + iHash\n\n    // search vertex via hash\n    // search in hash list\n    if (this.vBoxMin !== null && this.vBoxMax !== null) {\n      for (\n        entry = this.hashLines[hLineIndex + 1];\n        entry >= 0;\n        entry = this.hashEntries[entry * 2 + 1]\n      ) {\n        const ind = this.hashEntries[entry * 2 + 0] // vertex index\n        v.copy(geoOut._vertices[ind])\n        v.x -= vAdd.x\n        v.y -= vAdd.y\n        v.z -= vAdd.z\n        const dot2 = v.x * v.x + v.y * v.y + v.z * v.z\n        if (dot2 < r106) {\n          return ind\n        } // if (found)\n      } // for (entry)\n    } // search\n\n    // add new vertex to geometry\n    if (geoOut._numVertices >= this.maxNumVertices) {\n      return 0 - 1\n    }\n\n    const iVertAdd = geoOut._numVertices\n    geoOut._vertices[iVertAdd].copy(vAdd)\n\n    // add to hash\n    if (this.vBoxMin !== null && this.vBoxMax !== null) {\n      entry = this.getNewHashEntry()\n      if (entry < 0) {\n        return 0 - 1\n      }\n      const entryFirst = this.hashLines[hLineIndex + 1]\n      this.hashLines[hLineIndex + 1] = entry\n      this.hashEntries[entry * 2 + 0] = iVertAdd\n      this.hashEntries[entry * 2 + 1] = entryFirst\n\n      this.hashLines[hLineIndex + 0]++ // num vertices in line ++\n    }\n    geoOut._numVertices++\n    return iVertAdd\n  }\n\n  /**\n   *\n   * @param {number} side some placeholder description\n   * @param {number} probeSphereRadius some placeholder description\n   * @param {object} vBoxMin some placeholder description\n   * @param {object} vBoxMax some placeholder description\n   * @param {object} geoOut some placeholder description\n   * @param {object} corners some placeholder description\n   * @returns {number} always 0\n   */\n  modifyExcludedFromGeo(\n    side,\n    probeSphereRadius,\n    vBoxMin,\n    vBoxMax,\n    geoOut,\n    corners\n  ) {\n    let ind\n    let distToSphere\n    let distToBorder\n    const r11 = 1.1\n\n    function innerBlockWorkAround() {\n      if (distToBorder > 0.0) {\n        // point is inside probe sphere\n        if (corners[ind] < 0.0) {\n          corners[ind] = distToBorder // was inside surface, now is oustide ( > 0)\n        }\n        if (distToBorder > corners[ind]) {\n          corners[ind] = distToBorder // find positive maximum\n        }\n      } else if (distToBorder > corners[ind]) {\n        // point is outside sphere\n        corners[ind] = distToBorder // find negative maximum\n      }\n    }\n\n    const side2 = side * side\n    const xScale = (side - 1) / (vBoxMax.x - vBoxMin.x)\n    const yScale = (side - 1) / (vBoxMax.y - vBoxMin.y)\n    const zScale = (side - 1) / (vBoxMax.z - vBoxMin.z)\n\n    const probeSpRad2 = probeSphereRadius * 2 * (probeSphereRadius * 2)\n    const sideInv = 1.0 / (side - 1)\n\n    for (let i = 0; i < geoOut._numVertices; i++) {\n      const vCenter = geoOut._vertices[i]\n\n      const radEst = probeSphereRadius * r11\n\n      let indXMin = Math.floor((vCenter.x - radEst - vBoxMin.x) * xScale)\n      let indYMin = Math.floor((vCenter.y - radEst - vBoxMin.y) * yScale)\n      let indZMin = Math.floor((vCenter.z - radEst - vBoxMin.z) * zScale)\n\n      let indXMax = Math.floor((vCenter.x + radEst - vBoxMin.x) * xScale)\n      let indYMax = Math.floor((vCenter.y + radEst - vBoxMin.y) * yScale)\n      let indZMax = Math.floor((vCenter.z + radEst - vBoxMin.z) * zScale)\n\n      indXMin = indXMin >= 0 ? indXMin : 0\n      indYMin = indYMin >= 0 ? indYMin : 0\n      indZMin = indZMin >= 0 ? indZMin : 0\n      indXMax = indXMax <= side - 1 ? indXMax : side - 1\n      indYMax = indYMax <= side - 1 ? indYMax : side - 1\n      indZMax = indZMax <= side - 1 ? indZMax : side - 1\n\n      for (let iy = indYMin; iy <= indYMax; iy++) {\n        const indY = iy * side2\n        for (let iz = indZMin; iz <= indZMax; iz++) {\n          const indZ = iz * side\n          for (let ix = indXMin; ix <= indXMax; ix++) {\n            ind = indY + indZ + ix\n            // getCornerCoord(vBoxMin, vBoxMax, ix, iy, iz, side, &vCorner);\n            let t = ix * sideInv\n            const xCorner = vBoxMin.x * (1.0 - t) + vBoxMax.x * t\n            t = iy * sideInv\n            const yCorner = vBoxMin.y * (1.0 - t) + vBoxMax.y * t\n            t = iz * sideInv\n            const zCorner = vBoxMin.z * (1.0 - t) + vBoxMax.z * t\n\n            const dx = xCorner - vCenter.x\n            const dy = yCorner - vCenter.y\n            const dz = zCorner - vCenter.z\n            const dist2 = dx * dx + dy * dy + dz * dz\n            if (dist2 < probeSpRad2) {\n              distToSphere = Math.sqrt(dist2)\n              distToBorder = -(distToSphere - probeSphereRadius)\n              innerBlockWorkAround()\n            } // if (dist from corner point to sphere center more 2 radiuses)\n          } // for (ix)\n        } // for (iz)\n      } // for (iy)\n    } // for (i) all geo vertices\n    return 0\n  }\n\n  _innerBuild() {\n    let ok\n    const expandFactor = 1.2\n\n    // performance test\n    // this.performanceTest();\n\n    // Create temporary atoms (but colored)\n    const packedArrays = {\n      posRad: this._posRad,\n      colors: this._colors,\n      atoms: this._opts.atoms\n    }\n    this.complex = this._opts.parent\n    this.atoms = packedArrays.atoms\n    this.meshResolution = this._opts.gridSpacing\n    this.atomRadiusScale = this._opts.radScale\n    this.colorMode = this._opts.colorMode\n    this.probeRadius = this._opts.probeRadius\n    this.useVertexColors = true\n    this.excludeProbe = this._opts.excludeProbe\n    this.visibilitySelector = this._opts.visibilitySelector\n\n    this.geoOut = null\n\n    this.hashLines = null\n    this.hashEntries = null\n    this.numHashEtriesAllocated = 0\n    this.numHashEntryIndex = 0\n    this.maxNumVertices = 0\n    this.maxNumTriangles = 0\n\n    const atomsColored = new Array(this.atoms.length)\n    this.convertToAtomsColored(packedArrays, atomsColored)\n\n    // find bbox for spheres scene\n    const vBoxMin = (this.vBoxMin = new THREE.Vector3())\n    const vBoxMax = (this.vBoxMax = new THREE.Vector3())\n    this.getBoundingBox(atomsColored, vBoxMin, vBoxMax)\n\n    const marCubeResoultion = (this.marCubeResoultion =\n      this.meshResolution * (2 + 2))\n\n    // build grid corners for Marching cube algorithm\n    const side = marCubeResoultion\n    const side2 = side * side\n    const side3 = side2 * side\n    const corners = utils.allocateTyped(Float32Array, side3)\n    const rProbeRadius = this.probeRadius * this.atomRadiusScale\n\n    this.calculateGridCorners(\n      corners,\n      side,\n      vBoxMin,\n      vBoxMax,\n      atomsColored,\n      rProbeRadius\n    )\n\n    const numCells = marCubeResoultion - 1\n    const cube = new IsoSurfaceMarchCube()\n    ok = cube.create(numCells)\n    if (ok < 0) {\n      return ok\n    }\n    // copy corners to cells\n    const vCellStep = new THREE.Vector3()\n    vCellStep.x = (vBoxMax.x - vBoxMin.x) / numCells\n    vCellStep.y = (vBoxMax.y - vBoxMin.y) / numCells\n    vCellStep.z = (vBoxMax.z - vBoxMin.z) / numCells\n\n    let numIntersectedCellsEstim = this.getNumIntersectedCells(\n      side,\n      numCells,\n      corners,\n      cube\n    )\n    let maxNumVertices = Math.floor(numIntersectedCellsEstim * expandFactor)\n    let maxNumTriangles = Math.floor(\n      numIntersectedCellsEstim * expandFactor * 2\n    )\n\n    this.geoOut = new IsoSurfaceGeo(\n      maxNumVertices,\n      maxNumTriangles,\n      this.useVertexColors\n    )\n\n    ok = this.createVertexHash(maxNumVertices, maxNumTriangles)\n    if (ok < 0) {\n      return ok\n    }\n\n    // build voxel world (used to check triangle-to-atom tie and to calculate normals and colors)\n    let probeRadForNormalsColors = rProbeRadius\n    if (this.excludeProbe) {\n      probeRadForNormalsColors = 0.01\n    }\n    this.voxelWorld = new IsosurfaceBuildNormals(\n      atomsColored.length,\n      atomsColored,\n      vBoxMin,\n      vBoxMax,\n      probeRadForNormalsColors\n    )\n    this.voxelWorld.createVoxels()\n\n    ok = this.buildGeoFromCorners(\n      marCubeResoultion,\n      vBoxMin,\n      vBoxMax,\n      corners,\n      vCellStep,\n      cube\n    )\n    if (this.excludeProbe) {\n      // using 3d mesh (geoOut) as a surface points\n      // move probe sphere and try to minimuze corners values\n      this.modifyExcludedFromGeo(\n        side,\n        rProbeRadius,\n        vBoxMin,\n        vBoxMax,\n        this.geoOut,\n        corners\n      )\n\n      // delete old builded geo\n      this.geoOut._vertices = null\n      this.geoOut._colors = null\n      this.geoOut._indices = null\n      this.geoOut._normals = null\n      this.geoOut._numVertices = 0\n      this.geoOut._numTriangles = 0\n      this.geoOut = null\n\n      // estimage geo vertices budget again\n      numIntersectedCellsEstim = this.getNumIntersectedCells(\n        side,\n        numCells,\n        corners,\n        cube\n      )\n      maxNumVertices = Math.floor(numIntersectedCellsEstim * expandFactor)\n      maxNumTriangles = Math.floor(numIntersectedCellsEstim * expandFactor * 2)\n\n      // creates empty new geometry\n      this.geoOut = new IsoSurfaceGeo(\n        maxNumVertices,\n        maxNumTriangles,\n        this.useVertexColors\n      )\n      ok = this.createVertexHash(maxNumVertices, maxNumTriangles)\n      if (ok < 0) {\n        return ok\n      }\n      // build vertices and triangles from corners values\n      ok = this.buildGeoFromCorners(\n        side,\n        vBoxMin,\n        vBoxMax,\n        corners,\n        vCellStep,\n        cube\n      )\n    }\n\n    // build vertex normals\n    this.voxelWorld.buildNormals(\n      this.geoOut._vertices.length,\n      this.geoOut._vertices,\n      this.geoOut._normals\n    )\n    // More value : more smooth color mixing\n    // value about 0.7: very rough colors borders\n    let radiusColorSmoothness = 6.5\n    if (this.excludeProbe) {\n      radiusColorSmoothness -= 1.5\n    }\n    if (this.useVertexColors) {\n      this.voxelWorld.buildColors(\n        this.geoOut._vertices.length,\n        this.geoOut._vertices,\n        this.geoOut._colors,\n        radiusColorSmoothness\n      )\n    }\n    this.voxelWorld.destroyVoxels()\n    this.voxelWorld = null\n\n    // remove objects\n    cube.destroy()\n\n    return ok\n  }\n}\n\n// All code below must be erased from every device and each developer's memory\n\nexport default SSIsosurfaceGeometry\n","import * as THREE from 'three'\nimport EventDispatcher from '../../utils/EventDispatcher'\n\nfunction createLabel(fieldTxt, className) {\n  const text = document.createElement('div')\n  text.className = className\n\n  if (typeof fieldTxt === 'string') {\n    const spanText = document.createElement('span')\n    spanText.style.fontSize = '150%'\n    const strings = fieldTxt.split('\\n')\n\n    for (let i = 0, n = strings.length; i < n; ++i) {\n      const spanNodeP = document.createElement('span')\n      const spanNodeText = document.createTextNode(strings[i])\n      spanNodeP.appendChild(spanNodeText)\n      spanText.appendChild(spanNodeP)\n      if (i < n - 1) {\n        spanText.appendChild(document.createElement('br'))\n      }\n    }\n\n    text.appendChild(spanText)\n  } else {\n    text.appendChild(fieldTxt)\n  }\n  text.worldPos = new THREE.Vector3()\n  return text\n}\nclass LabelsGeometry extends EventDispatcher {\n  constructor(instanceCount, opts) {\n    super()\n    this._opts = opts\n    this.items = []\n    this.needsUpdate = false\n\n    let xTranslation = -50\n    let yTranslation = -50\n    switch (opts.horizontalAlign) {\n      case 'left':\n        xTranslation = 0\n        break\n      case 'right':\n        xTranslation = -100\n        break\n      default:\n        break\n    }\n\n    switch (opts.verticalAlign) {\n      case 'top':\n        yTranslation = -100\n        break\n      case 'bottom':\n        yTranslation = 0\n        break\n      default:\n        break\n    }\n\n    const deltaPos = new THREE.Vector3(opts.dx || 0, opts.dy || 0, opts.dz || 0)\n    this.userData = {\n      translation: `translate(${xTranslation}%, ${yTranslation}%)`,\n      offset: deltaPos\n    }\n  }\n\n  setItem(itemIdx, itemPos, fieldTxt) {\n    const opts = this._opts\n    const text = this.items[itemIdx] || createLabel(fieldTxt, 'label')\n\n    text.worldPos.copy(itemPos)\n    text.style.textAlign = opts.horizontalAlign\n    text.style.verticalAlign = opts.verticalAlign\n    this.items[itemIdx] = text\n  }\n\n  setColor(itemIdx, fColor, bColor) {\n    const text = this.items[itemIdx]\n    text.opts = {\n      color: fColor,\n      background: bColor\n    }\n  }\n\n  startUpdate() {\n    return true\n  }\n\n  finishUpdate() {\n    this.needsUpdate = true\n    this.dispatchEvent({ type: 'update' })\n  }\n\n  finalize() {\n    this.finishUpdate()\n  }\n\n  // unimplemented functions\n  raycast() {}\n\n  setOpacity() {}\n\n  getSubset() {\n    return []\n  }\n}\n\nexport default LabelsGeometry\n","import InstancedSpheresGeometry from './InstancedSpheresGeometry'\nimport SimpleSpheresGeometry from './SimpleSpheresGeometry'\nimport Simple2CCylindersGeometry from './Simple2CCylindersGeometry'\nimport Instanced2CCylindersGeometry from './Instanced2CCylindersGeometry'\nimport ExtrudedObjectsGeometry from './ExtrudedObjectsGeometry'\nimport ChunkedLinesGeometry from './ChunkedLinesGeometry'\nimport TwoColorLinesGeometry from './TwoColorLinesGeometry'\nimport CrossGeometry from './CrossGeometry'\nimport QuickSurfGeometry from './QuickSurfGeometry'\nimport ContactSurfaceGeometry from './ContactSurfaceGeometry'\nimport SSIsosurfaceGeometry from './SSIsosurfaceGeometry'\nimport LabelsGeometry from './LabelsGeometry'\n\nexport default {\n  InstancedSpheresGeometry,\n  SimpleSpheresGeometry,\n  Simple2CCylindersGeometry,\n  Instanced2CCylindersGeometry,\n  ExtrudedObjectsGeometry,\n  ChunkedLinesGeometry,\n  TwoColorLinesGeometry,\n  CrossGeometry,\n  QuickSurfGeometry,\n  ContactSurfaceGeometry,\n  SSIsosurfaceGeometry,\n  LabelsGeometry\n}\n","export default {\n  precision: 'mediump',\n\n  /**\n   *\n   * @param {THREE.WebGLRenderer} renderer\n   */\n  init(renderer) {\n    this.precision = renderer.capabilities.getMaxPrecision('highp')\n  }\n}\n","import * as THREE from 'three'\n\nconst noiseWidth = 4\nconst noiseHeight = 4\nconst _noiseData = new Uint8Array([\n  24, 52, 0, 254, 145, 0, 122, 0, 0, 7, 170, 0, 34, 214, 0, 173, 8, 0, 86, 249,\n  0, 160, 4, 0, 226, 46, 0, 224, 211, 0, 3, 157, 0, 174, 247, 0, 12, 182, 0,\n  220, 216, 0, 1, 109, 0, 253, 154, 0\n])\nconst _noiseWrapS = THREE.RepeatWrapping\nconst _noiseWrapT = THREE.RepeatWrapping\nconst _noiseMinFilter = THREE.NearestFilter\nconst _noiseMagFilter = THREE.NearestFilter\nconst _noiseMapping = THREE.UVMapping\nconst noiseTexture = new THREE.DataTexture(\n  _noiseData,\n  noiseWidth,\n  noiseHeight,\n  THREE.RGBFormat,\n  THREE.UnsignedByteType,\n  _noiseMapping,\n  _noiseWrapS,\n  _noiseWrapT,\n  _noiseMagFilter,\n  _noiseMinFilter,\n  1\n)\nnoiseTexture.needsUpdate = true\n\nexport default {\n  noiseWidth,\n  noiseHeight,\n  noiseTexture\n}\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three'\nimport vertexShader from './Uber.vert'\nimport fragmentShader from './Uber.frag'\nimport capabilities from '../capabilities'\nimport noise from '../noiseTexture'\n\n// Length of _samplesKernel is used in Uber.frag\n// If you want to change length of _samplesKernel, please, remember change it in Uber.frag too.\n// You can easy find places for replace using word:_samplesKernel\nconst _samplesKernel = [\n  new THREE.Vector2(-0.541978, 0.840393),\n  new THREE.Vector2(0.125533, -0.992089),\n  new THREE.Vector2(0.374329, 0.927296),\n  new THREE.Vector2(-0.105475, 0.994422)\n]\n\nconst defaultUniforms = THREE.UniformsUtils.merge([\n  THREE.UniformsLib.fog,\n  THREE.UniformsLib.lights,\n\n  {\n    // are updated automatically by three.js (see THREE.ShaderLib.common)\n    diffuse: { value: new THREE.Color(0xeeeeee) },\n    opacity: { value: 1.0 },\n\n    specular: { type: 'c', value: new THREE.Color(0x111111) },\n    shininess: { type: 'f', value: 30 },\n    fixedColor: { type: 'c', value: new THREE.Color(0xffffff) },\n    zOffset: { type: 'f', value: 0.0 },\n    zClipValue: { type: 'f', value: 0.0 },\n    clipPlaneValue: { type: 'f', value: 0.0 },\n    nearPlaneValue: { type: 'f', value: -0.5 },\n    invModelViewMatrix: { type: '4fv', value: new THREE.Matrix4() },\n    world2colorMatrix: { type: '4fv', value: new THREE.Matrix4() },\n    dashedLineSize: { type: 'f', value: 0.1 },\n    dashedLinePeriod: { type: 'f', value: 0.2 },\n    projMatrixInv: { type: '4fv', value: new THREE.Matrix4() },\n    viewport: { type: 'v2', value: new THREE.Vector2() },\n    lineWidth: { type: 'f', value: 2.0 },\n    // default value must be the same as settings\n    fogAlpha: { type: 'f', value: 1.0 },\n    samplesKernel: { type: 'v2v', value: null },\n    noiseTex: { type: 't', value: null },\n    noiseTexelSize: { type: 'v2', value: null },\n    srcTexelSize: { type: 'v2', value: null }\n  }\n])\n\nconst uberOptionNames = [\n  'shininess',\n  'opacity',\n  'zOffset',\n  'diffuse',\n  'specular',\n  'fixedColor',\n  'zClipCoef',\n  'zClipValue',\n  'clipPlaneValue',\n  'world2colorMatrix',\n  'dashedLineSize',\n  'dashedLinePeriod',\n  'projMatrixInv',\n  'viewport',\n  'lineWidth',\n  'fogAlpha',\n  'samplesKernel',\n  'noiseTex',\n  'noiseTexelSize',\n  'srcTexelSize'\n]\n\n// properties that convert to uniforms\nconst uberOptions = {\n  diffuse: new THREE.Color(0xffffff), // used in phong lighting\n  specular: new THREE.Color(0x111111), // used in phong lighting\n  shininess: 30, // used in phong lighting\n  opacity: 1, // set mesh opacity\n  fixedColor: new THREE.Color(0xffffff), // color to override (see OVERRIDE_COLOR)\n  zOffset: 0.0, // used fo zsprites (see SPHERE_SPRITE CYLINDER_SPRITE)\n  zClipCoef: 2.0, // use for Surfs clipping (mesh param, isn't used in shader)  FIXME move to representation param\n  zClipValue: 0.0, //  value to clip Surfs in shader  (see ZCLIP)\n  clipPlaneValue: 0.0, // value to clip scene globally (see CLIPPLANE)\n  world2colorMatrix: new THREE.Matrix4(),\n  dashedLineSize: 0.1,\n  dashedLinePeriod: 0.3,\n  projMatrixInv: new THREE.Matrix4(),\n  viewport: new THREE.Vector2(800, 600),\n  lineWidth: 2.0,\n  fogAlpha: 1.0,\n  samplesKernel: _samplesKernel,\n  noiseTex: noise.noiseTexture,\n  noiseTexelSize: new THREE.Vector2(\n    1.0 / noise.noiseWidth,\n    1.0 / noise.noiseHeight\n  ),\n  srcTexelSize: new THREE.Vector2(1.0 / 800.0, 1.0 / 600.0),\n\n  copy(source) {\n    this.diffuse.copy(source.diffuse)\n    this.specular.copy(source.specular)\n    this.shininess = source.shininess\n    this.opacity = source.opacity\n    this.fixedColor.copy(source.fixedColor)\n    this.zOffset = source.zOffset\n    this.zClipCoef = source.zClipCoef\n    this.zClipValue = source.zClipValue\n    this.clipPlaneValue = source.clipPlaneValue\n    this.world2colorMatrix.copy(source.world2colorMatrix)\n    this.dashedLineSize = source.dashedLineSize\n    this.dashedLinePeriod = source.dashedLinePeriod\n    this.projMatrixInv = source.projMatrixInv\n    this.viewport = source.viewport\n    this.lineWidth = source.lineWidth // used for thick lines only\n    this.toonShading = source.toonShading\n    this.fogAlpha = source.fogAlpha\n    this.samplesKernel = source.samplesKernel\n    this.noiseTex = source.noiseTex\n    this.noiseTexelSize = source.noiseTexelSize\n    this.srcTexelSize = source.srcTexelSize\n  }\n}\n\nclass UberMaterial extends THREE.RawShaderMaterial {\n  constructor(params) {\n    super(params)\n    // add fog\n    this.fog = true\n    // used for instanced geometry\n    this.instancedPos = false\n    this.instancedMatrix = false\n    // atoms and links color\n    this.attrColor = false\n    // second link color for cylinders\n    this.attrColor2 = false\n    //\n    this.attrAlphaColor = false\n    // overrides color for all vertices (used in selection)\n    this.overrideColor = false\n    // zsrpites\n    this.sphereSprite = false\n    this.cylinderSprite = false\n    // clip Surfs individually\n    this.zClip = false\n    // clip scene with global clip plane\n    this.clipPlane = false\n    // enable fake (chess-like) opacity\n    this.fakeOpacity = false\n    // render only depth, don't take care about the pixel color (used for transparency depth prepass)\n    this.prepassTransparancy = false\n    // used to render pixel positions\n    this.colorFromPos = false\n    // used to render shadowmap\n    this.shadowmap = false\n    // used to describe shadowmap type\n    this.shadowmapType = 'random'\n    // used to render pixel view deph\n    this.colorFromDepth = false\n    // mark that rendering is for orthographic camera\n    this.orthoCam = false\n    // used to render dashed line\n    this.dashedLine = false\n    // mark as transparent\n    this.transparent = true\n    // mark as thick lines\n    this.thickLine = false\n    // makes fog begin transparency (required for transparent background)\n    this.fogTransparent = false\n    // used to render surface normals to G buffer for ssao effect\n    this.normalsToGBuffer = false\n    // used for toon material\n    this.toonShading = false\n    this.uberOptions = uberOptions\n    // set default values\n    this.setValues({\n      uniforms: THREE.UniformsUtils.clone(defaultUniforms),\n      vertexShader: this.precisionString() + vertexShader,\n      fragmentShader: this.precisionString() + fragmentShader,\n      lights: true,\n      fog: true,\n      side: THREE.DoubleSide,\n      ...params\n    })\n  }\n\n  precisionString() {\n    const { precision } = capabilities\n    const str =\n      `precision ${precision} float;\\n` + `precision ${precision} int;\\n\\n`\n    return str\n  }\n\n  // create copy of this material\n  copy(source) {\n    super.copy(source)\n\n    this.fragmentShader = source.fragmentShader\n    this.vertexShader = source.vertexShader\n\n    this.uniforms = THREE.UniformsUtils.clone(source.uniforms)\n    this.defines = { ...source.defines }\n    this.extensions = source.extensions\n\n    this.fog = source.fog\n    this.instancedPos = source.instancedPos\n    this.instancedMatrix = source.instancedMatrix\n    this.attrColor = source.attrColor\n    this.attrColor2 = source.attrColor2\n    this.attrAlphaColor = source.attrAlphaColor\n    this.overrideColor = source.overrideColor\n    this.sphereSprite = source.sphereSprite\n    this.cylinderSprite = source.cylinderSprite\n    this.zClip = source.zClip\n    this.clipPlane = source.clipPlane\n    this.fakeOpacity = source.fakeOpacity\n    this.colorFromPos = source.colorFromPos\n    this.shadowmap = source.shadowmap\n    this.shadowmapType = source.shadowmapType\n    this.colorFromDepth = source.colorFromDepth\n    this.orthoCam = source.orthoCam\n    this.prepassTransparancy = source.prepassTransparancy\n    this.dashedLine = source.dashedLine\n    this.thickLine = source.thickLine\n    this.fogTransparent = source.fogTransparent\n    this.normalsToGBuffer = source.normalsToGBuffer\n    this.toonShading = source.toonShading\n\n    this.uberOptions.copy(source.uberOptions)\n\n    return this\n  }\n\n  // its options are prototyped after this material's options\n  createInstance() {\n    const inst = new UberMaterial()\n    inst.copy(this)\n    inst.uberOptions = Object.create(this.uberOptions)\n    return inst\n  }\n\n  setValues(values) {\n    if (typeof values === 'undefined') {\n      return\n    }\n\n    // set direct values\n    super.setValues(values)\n\n    const defines = {}\n    const extensions = {}\n\n    if (this.fog) {\n      defines.USE_FOG = 1\n    }\n    if (this.instancedPos) {\n      defines.INSTANCED_POS = 1\n    }\n    if (this.instancedMatrix) {\n      defines.INSTANCED_MATRIX = 1\n    }\n    if (this.attrColor) {\n      defines.ATTR_COLOR = 1\n    }\n    if (this.attrColor2) {\n      defines.ATTR_COLOR2 = 1\n    }\n    if (this.attrAlphaColor) {\n      defines.ATTR_ALPHA_COLOR = 1\n    }\n    if (this.overrideColor) {\n      defines.OVERRIDE_COLOR = 1\n    }\n    if (this.sphereSprite) {\n      defines.SPHERE_SPRITE = 1\n      extensions.fragDepth = 1\n    }\n    if (this.cylinderSprite) {\n      defines.CYLINDER_SPRITE = 1\n      extensions.fragDepth = 1\n    }\n    if (this.zClip) {\n      defines.ZCLIP = 1\n    }\n    if (this.clipPlane) {\n      defines.CLIP_PLANE = 1\n    }\n    if (this.fakeOpacity) {\n      defines.FAKE_OPACITY = 1\n    }\n    if (this.lights) {\n      defines.USE_LIGHTS = 1\n    }\n    if (this.colorFromPos) {\n      defines.COLOR_FROM_POS = 1\n    }\n    if (this.shadowmap) {\n      defines.SHADOWMAP = 1\n      if (this.shadowmapType === 'pcf') {\n        defines.SHADOWMAP_PCF_SHARP = 1\n      } else if (this.shadowmapType === 'random') {\n        defines.SHADOWMAP_PCF_RAND = 1\n      } else {\n        defines.SHADOWMAP_BASIC = 1\n      }\n    }\n    if (this.colorFromDepth) {\n      defines.COLOR_FROM_DEPTH = 1\n    }\n    if (this.orthoCam) {\n      defines.ORTHOGRAPHIC_CAMERA = 1\n    }\n    if (this.prepassTransparancy) {\n      defines.PREPASS_TRANSP = 1\n    }\n    if (this.dashedLine) {\n      defines.DASHED_LINE = 1\n    }\n    if (this.thickLine) {\n      defines.THICK_LINE = 1\n    }\n    if (this.fogTransparent) {\n      defines.FOG_TRANSPARENT = 1\n    }\n    if (this.normalsToGBuffer) {\n      extensions.drawBuffers = 1\n      defines.NORMALS_TO_G_BUFFER = 1\n    }\n    if (this.toonShading) {\n      defines.TOON_SHADING = 1\n    }\n    // set dependent values\n    this.defines = defines\n    this.extensions = extensions\n  }\n\n  setUberOptions(values) {\n    if (typeof values === 'undefined') {\n      return\n    }\n\n    for (const key in values) {\n      if (!values.hasOwnProperty(key)) {\n        continue\n      }\n\n      if (this.uberOptions[key] instanceof THREE.Color) {\n        this.uberOptions[key] = values[key].clone()\n      } else {\n        this.uberOptions[key] = values[key]\n      }\n    }\n  }\n\n  clone(shallow) {\n    if (!shallow) {\n      return THREE.Material.prototype.clone.call(this)\n    }\n    return this.createInstance()\n  }\n\n  updateUniforms() {\n    const self = this\n\n    uberOptionNames.forEach((p) => {\n      if (self.uniforms.hasOwnProperty(p)) {\n        if (\n          self.uberOptions[p] instanceof THREE.Color ||\n          self.uberOptions[p] instanceof THREE.Matrix4\n        ) {\n          self.uniforms[p].value = self.uberOptions[p].clone()\n        } else {\n          self.uniforms[p].value = self.uberOptions[p]\n        }\n      }\n    })\n  }\n}\n\nexport default UberMaterial\n","import UberMaterial from '../shaders/UberMaterial'\n\nexport default function (SuperClass) {\n  class NewObjectType extends SuperClass {\n    constructor(...rest) {\n      super(...rest)\n      this.onBeforeRender = NewObjectType.prototype.onBeforeRender\n    }\n\n    onBeforeRender(renderer, scene, camera, geometry, material, group) {\n      this._onBeforeRender(renderer, scene, camera, geometry, material, group)\n      this._update()\n    }\n\n    _onBeforeRender() {}\n\n    _update() {\n      const { material } = this\n      if (!material) {\n        return\n      }\n\n      if (material instanceof UberMaterial) {\n        material.updateUniforms()\n      }\n    }\n  }\n\n  return NewObjectType\n}\n","import * as THREE from 'three'\nimport UberObject from './UberObject'\n\nconst Mesh = UberObject(THREE.Mesh)\n\nclass ZSpriteMesh extends Mesh {\n  constructor(...rest) {\n    super(...rest)\n    this.castShadow = true\n    this.receiveShadow = true\n  }\n\n  _onBeforeRender(renderer, scene, camera, _geometry, _material, _group) {\n    Mesh.prototype._onBeforeRender.call(this, renderer, scene, camera)\n    const { material } = this\n    if (!material) {\n      return\n    }\n\n    if (material.uniforms.invModelViewMatrix) {\n      // NOTE: update of modelViewMatrix inside threejs is done after onBeforeRender call,\n      // so we have to do it manually in that place\n      this.modelViewMatrix.multiplyMatrices(\n        camera.matrixWorldInverse,\n        this.matrixWorld\n      )\n      // get inverse matrix\n      material.uniforms.invModelViewMatrix.value\n        .copy(this.modelViewMatrix)\n        .invert()\n      material.uniforms.nearPlaneValue.value = camera.near\n      material.uniformsNeedUpdate = true\n    }\n  }\n}\n\nexport default ZSpriteMesh\n","import * as THREE from 'three'\nimport UberObject from './UberObject'\n\nconst Mesh = UberObject(THREE.Mesh)\n\nclass ZClippedMesh extends Mesh {\n  constructor(geometry, material) {\n    super(geometry, material)\n    this.castShadow = true\n    this.receiveShadow = true\n  }\n\n  static _mvLength = new THREE.Vector3()\n\n  static _center = new THREE.Vector3()\n\n  static _modelView = new THREE.Matrix4()\n\n  _onBeforeRender(renderer, scene, camera) {\n    Mesh.prototype._onBeforeRender.call(this, renderer, scene, camera)\n\n    const geo = this.geometry\n    const { material } = this\n    if (!geo.zClip || !material.uberOptions) {\n      return\n    }\n\n    const zClipCoef = 0.5\n\n    const modelView = ZClippedMesh._modelView\n    const mvLength = ZClippedMesh._mvLength\n    const center = ZClippedMesh._center\n\n    modelView.multiplyMatrices(this.matrixWorld, camera.matrixWorldInverse)\n    const s = mvLength.setFromMatrixColumn(modelView, 0).length()\n    center.copy(geo.boundingSphere.center)\n\n    this.localToWorld(center)\n    material.uberOptions.zClipValue =\n      camera.position.z - center.z - s * (zClipCoef * geo.boundingSphere.radius)\n  }\n}\n\nexport default ZClippedMesh\n","import _ from 'lodash'\nimport * as THREE from 'three'\nimport CSS2DObject from '../CSS2DObject'\nimport utils from '../../utils'\n\nclass TextMesh extends THREE.Group {\n  constructor(geometry, _material) {\n    super()\n    this.geometry = geometry\n\n    const self = this\n    self.initialized = false\n    this.geometry.addEventListener('update', () => {\n      self.update()\n    })\n  }\n\n  init() {\n    const { children } = this\n    for (let i = children.length - 1; i >= 0; --i) {\n      this.remove(children[i])\n    }\n\n    const { items, userData } = this.geometry\n    for (let i = 0, n = items.length; i < n; ++i) {\n      const srcItem = items[i]\n      if (!srcItem) {\n        continue\n      }\n      const item = utils.shallowCloneNode(srcItem)\n      const label = new CSS2DObject(item)\n      label.userData = _.clone(userData)\n      const el = label.getElement()\n      el.style.visibility = 'visible'\n      label.source = srcItem\n      this.add(label)\n    }\n    this.initialized = true\n  }\n\n  update() {\n    const geo = this.geometry\n    if (!geo.needsUpdate) {\n      return\n    }\n    const { children } = this\n    if (!this.initialized) {\n      this.init()\n    }\n\n    for (let i = 0, n = children.length; i < n; ++i) {\n      const child = children[i]\n      const item = child.source\n      child.position.copy(item.worldPos)\n      child.userData.color = item.opts.color\n      child.userData.background = item.opts.background\n    }\n  }\n}\n\nexport default TextMesh\n","import * as THREE from 'three'\nimport UberObject from './UberObject'\n\nconst Mesh = UberObject(THREE.Mesh)\n\nclass SimpleMesh extends Mesh {\n  constructor(geometry, material) {\n    super(geometry, material)\n    this.castShadow = true\n    this.receiveShadow = true\n  }\n}\n\nexport default SimpleMesh\n","import * as THREE from 'three'\nimport UberObject from './UberObject'\n\nconst Mesh = UberObject(THREE.Mesh)\nconst _viewport = new THREE.Vector2()\n\nclass ThickLineMesh extends Mesh {\n  _onBeforeRender(renderer, scene, camera, _geometry, _material, _group) {\n    const { material } = this\n    if (!material.uberOptions) {\n      return\n    }\n\n    material.uberOptions.projMatrixInv.copy(camera.projectionMatrix).invert()\n    renderer.getSize(_viewport)\n    material.uberOptions.viewport.set(_viewport.width, _viewport.height)\n  }\n}\n\nexport default ThickLineMesh\n","import * as THREE from 'three'\nimport UberObject from './UberObject'\n\nconst Mesh = UberObject(THREE.Mesh)\n\nclass InstancedMesh extends Mesh {\n  constructor(...rest) {\n    super(...rest)\n    this.castShadow = true\n    this.receiveShadow = true\n  }\n}\n\nexport default InstancedMesh\n","import * as THREE from 'three'\nimport UberObject from './UberObject'\nimport ZSpriteMesh from './ZSpriteMesh'\nimport ZClippedMesh from './ZClippedMesh'\nimport TextMesh from './TextMesh'\nimport SimpleMesh from './SimpleMesh'\nimport ThickLineMesh from './ThickLineMesh'\nimport InstancedMesh from './InstancedMesh'\n\nexport default {\n  ZClipped: ZClippedMesh,\n  ZSprite: ZSpriteMesh,\n  Text: TextMesh,\n  Line: UberObject(THREE.Line),\n  LineSegments: UberObject(THREE.LineSegments),\n  Mesh: SimpleMesh,\n  ThickLineMesh,\n  Instanced: InstancedMesh\n}\n","import geometries from '../geometries/geometries'\nimport meshes from './meshes'\nimport ThickLinesGeometry from '../geometries/ThickLinesGeometry'\n\nfunction setMatParams(params, uniforms) {\n  return function (material) {\n    material.setValues(params)\n    material.setUberOptions(uniforms)\n  }\n}\n\nfunction _createInstancedCylinders(useZSprites, openEnded) {\n  return {\n    Geometry(a, b) {\n      return new geometries.Instanced2CCylindersGeometry(\n        a,\n        b,\n        useZSprites,\n        openEnded\n      )\n    },\n    Object: useZSprites ? meshes.ZSprite : meshes.Instanced,\n    initMaterial: setMatParams({\n      instancedMatrix: true,\n      attrColor: true,\n      attrColor2: true,\n      attrAlphaColor: true,\n      cylinderSprite: useZSprites\n    })\n  }\n}\n\nfunction _createLineSegmentsGeoTriplet(geo, renderParams) {\n  const thickLines = geo.prototype instanceof ThickLinesGeometry\n  const lineWidth = renderParams.lineWidth || 0\n  return {\n    Geometry: geo,\n    Object: thickLines ? meshes.ThickLineMesh : meshes.LineSegments,\n    initMaterial: setMatParams(\n      {\n        lights: false,\n        attrColor: true,\n        attrAlphaColor: true,\n        thickLine: thickLines\n      },\n      {\n        lineWidth\n      }\n    )\n  }\n}\n\nfunction _createSimpleGeoTriplet(geoClass) {\n  return {\n    Geometry: geoClass,\n    Object: meshes.Mesh,\n    initMaterial: setMatParams({\n      attrColor: true,\n      attrAlphaColor: true\n    })\n  }\n}\n\nfunction _createIsoSurfaceGeoTriplet(geoClass, caps, settings, renderParams) {\n  const surfaceOpts = {\n    wireframe: !!renderParams.wireframe,\n    fakeOpacity: settings.now.isoSurfaceFakeOpacity,\n    zClip: renderParams.zClip\n  }\n  return {\n    Geometry: geoClass,\n    Object: meshes.ZClipped,\n    initMaterial: setMatParams({\n      attrColor: true,\n      attrAlphaColor: false,\n      wireframe: surfaceOpts.wireframe,\n      fakeOpacity: surfaceOpts.fakeOpacity,\n      zClip: surfaceOpts.zClip\n    })\n  }\n}\n\nclass MeshCreator {\n  static createSpheres(caps, settings) {\n    const useZSprites = settings.now.zSprites\n    return {\n      Geometry(a, b) {\n        return new geometries.InstancedSpheresGeometry(a, b, useZSprites)\n      },\n      Object: useZSprites ? meshes.ZSprite : meshes.Instanced,\n      initMaterial: setMatParams({\n        instancedPos: true,\n        attrColor: true,\n        attrAlphaColor: true,\n        sphereSprite: useZSprites\n      })\n    }\n  }\n\n  static create2CClosedCylinders(_caps, _settings) {\n    return _createInstancedCylinders(false, false)\n  }\n\n  static create2CCylinders(caps, settings) {\n    return _createInstancedCylinders(settings.now.zSprites, true)\n  }\n\n  static create2CLines(_caps, _settings, renderParams) {\n    return _createLineSegmentsGeoTriplet(\n      geometries.TwoColorLinesGeometry,\n      renderParams\n    )\n  }\n\n  static createCrosses(_caps, _settings, renderParams) {\n    return _createLineSegmentsGeoTriplet(geometries.CrossGeometry, renderParams)\n  }\n\n  static createExtrudedChains(_caps, _settings) {\n    return _createSimpleGeoTriplet(geometries.ExtrudedObjectsGeometry)\n  }\n\n  static createChunkedLines(_caps, _settings, renderParams) {\n    return _createLineSegmentsGeoTriplet(\n      geometries.ChunkedLinesGeometry,\n      renderParams\n    )\n  }\n\n  static createQuickSurface(caps, settings, renderParams) {\n    return _createIsoSurfaceGeoTriplet(\n      geometries.QuickSurfGeometry,\n      caps,\n      settings,\n      renderParams\n    )\n  }\n\n  static createContactSurface(caps, settings, renderParams) {\n    return _createIsoSurfaceGeoTriplet(\n      geometries.ContactSurfaceGeometry,\n      caps,\n      settings,\n      renderParams\n    )\n  }\n\n  static createSASSES(caps, settings, renderParams) {\n    return _createIsoSurfaceGeoTriplet(\n      geometries.SSIsosurfaceGeometry,\n      caps,\n      settings,\n      renderParams\n    )\n  }\n\n  static createLabels(_caps, _settings) {\n    return {\n      Geometry: geometries.LabelsGeometry,\n      Object: meshes.Text,\n      initMaterial() {}\n    }\n  }\n}\n\nexport default MeshCreator\n","import * as THREE from 'three'\nimport gfxutils from '../gfxutils'\n\nclass TransformGroup extends THREE.Object3D {\n  static _inverseMatrix = new THREE.Matrix4()\n\n  static _ray = new THREE.Ray()\n\n  constructor(geometry, geoParams, material, transforms) {\n    super()\n    this._geometry = geometry\n    this._geoParams = geoParams\n    const mat = material.createInstance()\n    geoParams.initMaterial(mat)\n    this._material = mat\n    this._transforms =\n      transforms.length > 0 ? transforms : [new THREE.Matrix4()]\n    const meshes = this._createMeshes(geometry)\n    for (let i = 0, n = meshes.length; i < n; ++i) {\n      this.add(meshes[i])\n    }\n  }\n\n  raycast(raycaster, intersects) {\n    const ray = TransformGroup._ray\n    const inverseMatrix = TransformGroup._inverseMatrix\n    const { children } = this\n    ray.copy(raycaster.ray)\n    for (let i = 0, n = children.length; i < n; ++i) {\n      const child = children[i]\n\n      if (!gfxutils.belongToSelectLayers(child)) {\n        continue\n      }\n\n      child.updateMatrixWorld()\n      const mtx = child.matrixWorld\n      inverseMatrix.copy(mtx).invert()\n      raycaster.ray.copy(ray).applyMatrix4(inverseMatrix)\n      const childIntersects = []\n      this._geometry.raycast(raycaster, childIntersects)\n\n      for (let j = 0, ciCount = childIntersects.length; j < ciCount; ++j) {\n        const inters = childIntersects[j]\n        if (inters.point) {\n          inters.point.applyMatrix4(mtx)\n          inters.distance = ray.origin.distanceTo(inters.point)\n        }\n        inters.object = child\n        intersects[intersects.length] = inters\n      }\n    }\n    raycaster.ray.copy(ray)\n  }\n\n  getSubset(chunkIndices) {\n    const geos = this._geometry.getSubset(chunkIndices)\n    const subset = []\n    let subIdx = 0\n\n    for (let i = 0, n = geos.length; i < n; ++i) {\n      const meshes = this._createMeshes(geos[i])\n      for (let j = 0, meshCnt = meshes.length; j < meshCnt; ++j) {\n        subset[subIdx++] = meshes[j]\n      }\n    }\n\n    return subset\n  }\n\n  _createMeshes(geometry) {\n    const transforms = this._transforms\n    const Mesh = this._geoParams.Object\n    const material = this._material\n    const meshes = []\n    for (let i = 0, n = transforms.length; i < n; ++i) {\n      const mesh = new Mesh(geometry, material)\n      mesh.applyMatrix4(transforms[i])\n      meshes[i] = mesh\n    }\n\n    return meshes\n  }\n}\n\nexport default TransformGroup\n","import RCGroup from '../../RCGroup'\nimport TransformGroup from '../../meshes/TransformGroup'\n\nfunction wrapper(Name, args) {\n  const params = [Name].concat(args)\n  return Name.bind(...params)\n}\n\nclass ChemGroup extends RCGroup {\n  constructor(\n    geoParams,\n    selection,\n    colorer,\n    mode,\n    transforms,\n    polyComplexity,\n    material\n  ) {\n    super()\n    if (this.constructor === ChemGroup) {\n      throw new Error('Can not instantiate abstract class!')\n    }\n    this._selection = selection\n    this._mode = mode\n    this._colorer = colorer\n    this._chunksIdc = selection.chunks\n    this._polyComplexity = polyComplexity\n    this._geo = new (wrapper(geoParams.Geometry, this._makeGeoArgs()))()\n    this._mesh = new TransformGroup(this._geo, geoParams, material, transforms)\n    this.add(this._mesh)\n    this._build()\n  }\n\n  _makeGeoArgs() {\n    throw new Error('ChemGroup subclass must override _makeGeoArgs() method')\n  }\n\n  /**\n   * Builds subset geometry by ATOMS index list\n   *\n   * @param {Number} mask - Representation mask\n   * @param {Boolean} innerOnly - if true returns inner bonds only - without halves\n   * @returns {Array} Subset geometry\n   */\n  getSubset(mask, innerOnly) {\n    innerOnly = innerOnly !== undefined ? innerOnly : false\n    const chunksList = this._calcChunksList(mask, innerOnly)\n    if (chunksList.length === 0) {\n      return []\n    }\n    return this._mesh.getSubset(chunksList)\n  }\n\n  _changeSubsetOpacity(mask, value, innerOnly) {\n    const chunksList = this._calcChunksList(mask, innerOnly)\n    if (chunksList.length === 0) {\n      return\n    }\n    this._geo.setOpacity(chunksList, value)\n  }\n\n  enableSubset(mask, innerOnly) {\n    innerOnly = innerOnly !== undefined ? innerOnly : true\n    this._changeSubsetOpacity(mask, 1.0, innerOnly)\n  }\n\n  disableSubset(mask, innerOnly) {\n    innerOnly = innerOnly !== undefined ? innerOnly : true\n    this._changeSubsetOpacity(mask, 0.0, innerOnly)\n  }\n}\n\nexport default ChemGroup\n","import ChemGroup from './ChemGroup'\n\nclass AtomsGroup extends ChemGroup {\n  raycast(raycaster, intersects) {\n    const { atoms } = this._selection\n    const inters = []\n    this._mesh.raycast(raycaster, inters)\n    const atomsIdc = this._chunksIdc\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue\n      }\n      const atomIdx = atomsIdc[inters[i].chunkIdx]\n      if (atomIdx < atoms.length) {\n        inters[i].atom = atoms[atomIdx]\n        intersects.push(inters[i])\n      }\n    }\n  }\n\n  _calcChunksList(mask) {\n    const chunksList = []\n    const { atoms } = this._selection\n    const atomsIdc = this._chunksIdc\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]]\n      if ((atom.mask & mask) !== 0) {\n        chunksList.push(i)\n      }\n    }\n    return chunksList\n  }\n}\n\nexport default AtomsGroup\n","import AtomsGroup from './AtomsGroup'\n\nclass AtomsSphereGroup extends AtomsGroup {\n  _makeGeoArgs() {\n    return [this._selection.chunks.length, this._polyComplexity]\n  }\n\n  _build() {\n    const atomsIdc = this._selection.chunks\n    const { atoms, parent } = this._selection\n    const mode = this._mode\n    const colorer = this._colorer\n    const geo = this._geo\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]]\n      geo.setItem(i, atom.position, mode.calcAtomRadius(atom))\n      geo.setColor(i, colorer.getAtomColor(atom, parent))\n    }\n    geo.finalize()\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const atomsIdc = this._selection.chunks\n    const { atoms } = this._selection\n    const mode = this._mode\n    const colorer = this._colorer\n    const updateColor = frameData.needsColorUpdate(colorer)\n    const geo = this._geo\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]]\n      geo.setItem(\n        i,\n        frameData.getAtomPos(atomsIdc[i]),\n        mode.calcAtomRadius(atom)\n      )\n      if (updateColor) {\n        geo.setColor(i, frameData.getAtomColor(colorer, atom))\n      }\n    }\n    geo.finalize()\n  }\n}\n\nexport default AtomsSphereGroup\n","import AtomsSphereGroup from './AtomsSphereGroup'\n\nclass AtomsSurfaceGroup extends AtomsSphereGroup {\n  _makeGeoArgs() {\n    const selectedAtoms = []\n    const { atoms, chunks } = this._selection\n    const n = chunks.length\n    for (let i = 0; i < n; ++i) {\n      selectedAtoms[i] = atoms[chunks[i]]\n    }\n    const opts = this._mode.getSurfaceOpts()\n    opts.atoms = selectedAtoms\n    return [n, opts]\n  }\n}\nexport default AtomsSurfaceGroup\n","/* This is a stub class keep it until SAS/SES is refactored */\n\nimport AtomsSphereGroup from './AtomsSphereGroup'\n\nclass AtomsSASSESGroupStub extends AtomsSphereGroup {\n  _makeGeoArgs() {\n    const selectedAtoms = []\n    const { atoms, chunks } = this._selection\n    const n = chunks.length\n    for (let i = 0; i < n; ++i) {\n      selectedAtoms[i] = atoms[chunks[i]]\n    }\n    const opts = this._mode.getSurfaceOpts()\n    opts.atoms = selectedAtoms\n    opts.selection = this._selection\n    opts.colorMode = this._colorer\n    return [n, opts]\n  }\n}\n\nexport default AtomsSASSESGroupStub\n","import AtomsGroup from './AtomsGroup'\nimport utils from '../../../utils'\n\nfunction adjustColor(color) {\n  let r = (color >> 16) & 255\n  let g = (color >> 8) & 255\n  let b = color & 255\n\n  if (0.2126 * r + 0.7152 * g + 0.0722 * b > 127) {\n    r = (r * 3) / 10\n    g = (g * 3) / 10\n    b = (b * 3) / 10\n  } else {\n    r = 255 - ((255 - r) * 3) / 10\n    g = 255 - ((255 - g) * 3) / 10\n    b = 255 - ((255 - b) * 3) / 10\n  }\n\n  return (r << 16) | (g << 8) | b\n}\n\nfunction inverseColor(color) {\n  const r = (color >> 16) & 255\n  const g = (color >> 8) & 255\n  const b = color & 255\n\n  return ((255 - r) << 16) | ((255 - g) << 8) | (255 - b)\n}\n\nfunction getAtomText(atom) {\n  if (atom.name.getNode() !== null) {\n    return atom.name.getNode()\n  }\n\n  return atom.getVisualName()\n}\n\nconst colorMappings = {\n  none(c) {\n    return c\n  },\n  adjust: adjustColor,\n  inverse: inverseColor\n}\n\nfunction propagateColor(color, rule) {\n  let result\n  if (colorMappings.hasOwnProperty(rule)) {\n    result = utils.hexColor(colorMappings[rule](color))\n  } else {\n    const val = parseInt(rule, 16)\n    if (!Number.isNaN(val) && rule.toLowerCase().startsWith('0x')) {\n      result = utils.hexColor(val)\n    } else {\n      result = '#000000'\n    }\n  }\n  return result\n}\n\nconst templateMappings = {\n  serial(a) {\n    return a.serial\n  },\n  name(a) {\n    return a.getVisualName()\n  },\n  elem(a) {\n    return a.element.name\n  },\n  residue(a) {\n    return a.residue.getType().getName()\n  },\n  sequence(a) {\n    return a.residue.getSequence()\n  },\n  chain(a) {\n    return a.residue.getChain().getName()\n  },\n  hetatm(a) {\n    return a.isHet()\n  },\n  water(a) {\n    return (\n      a.residue.getType().getName() === 'HOH' ||\n      a.residue.getType().getName() === 'WAT'\n    )\n  }\n}\n\nconst parseTemplate = function (atom, str) {\n  return str.replace(/\\{\\{(\\s*\\w+\\s*)\\}\\}/g, (m) => {\n    let key = m.replace(/\\s+/g, '')\n    key = key.substring(2, key.length - 2).toLowerCase()\n\n    if (templateMappings.hasOwnProperty(key)) {\n      return templateMappings[key](atom)\n    }\n    return 'null'\n  })\n}\n\nclass AtomsTextGroup extends AtomsGroup {\n  _makeGeoArgs() {\n    const opts = this._mode.getLabelOpts()\n    return [this._selection.chunks.length, opts]\n  }\n\n  _build() {\n    const opts = this._mode.getLabelOpts()\n    const atomsIdc = this._selection.chunks\n    const { atoms, parent } = this._selection\n    const colorer = this._colorer\n    const geo = this._geo\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]]\n      const text = opts.template\n        ? parseTemplate(atom, opts.template)\n        : getAtomText(atom)\n      if (!text) {\n        continue\n      }\n      const color = colorer.getAtomColor(atom, parent)\n      const fgColor = parseInt(propagateColor(color, opts.fg).substring(1), 16)\n      const bgColor = opts.showBg\n        ? parseInt(propagateColor(color, opts.bg).substring(1), 16)\n        : 'transparent'\n      geo.setItem(i, atom.position, text)\n      geo.setColor(i, fgColor, bgColor)\n    }\n    geo.finalize()\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const opts = this._mode.getLabelOpts()\n    const atomsIdc = this._selection.chunks\n    const { atoms } = this._selection\n    const colorer = this._colorer\n    const geo = this._geo\n    const updateColor = frameData.needsColorUpdate(colorer)\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]]\n      const text = opts.template\n        ? parseTemplate(atom, opts.template)\n        : getAtomText(atom)\n      if (!text) {\n        continue\n      }\n      const color = frameData.getAtomColor(colorer, atom)\n      const fgColor = parseInt(propagateColor(color, opts.fg).substring(1), 16)\n      const bgColor = opts.showBg\n        ? parseInt(propagateColor(color, opts.bg).substring(1), 16)\n        : 'transparent'\n      geo.setItem(i, frameData.getAtomPos(atomsIdc[i]), text)\n      if (updateColor) {\n        geo.setColor(i, fgColor, bgColor)\n      }\n    }\n    geo.finalize()\n  }\n}\n\nexport default AtomsTextGroup\n","import * as THREE from 'three'\nimport AtomsGroup from './AtomsGroup'\n\nfunction _slerp(omega, v1, v2, t) {\n  const oSin = Math.sin(omega)\n  return v1\n    .clone()\n    .multiplyScalar(Math.sin((1 - t) * omega) / oSin)\n    .addScaledVector(v2, Math.sin(t * omega) / oSin)\n}\n\nclass AromaticGroup extends AtomsGroup {\n  _buildInner(radOffset, addChunk) {\n    const chunksToIdx = this._selection.chunks\n\n    const prevVector = new THREE.Vector3()\n    const currVector = new THREE.Vector3()\n    const segmentsHeight = this._segmentsHeight\n    const leprStep = 1.0 / segmentsHeight\n    const colorer = this._colorer\n\n    const { cycles, parent } = this._selection\n    let chunkIdx = 0\n    let currAtomIdx = chunksToIdx[chunkIdx]\n\n    for (let cIdx = 0, cCount = cycles.length; cIdx < cCount; ++cIdx) {\n      const cycle = cycles[cIdx]\n      const cycAtoms = cycle.atoms\n      const chunkPoints = []\n      const tmpDir = []\n      const { center } = cycle\n      const cycleRad = cycle.radius - radOffset\n      const n = cycAtoms.length\n      let i = 0\n      const prevPos = cycAtoms[n - 1].position\n      let currPos = cycAtoms[i].position\n      prevVector.subVectors(prevPos, center)\n      currVector.subVectors(currPos, center)\n      const upDir = currVector.clone().cross(prevVector).normalize()\n\n      for (; i < n; ++i) {\n        const omega = prevVector.angleTo(currVector)\n        tmpDir[i] = _slerp(omega, prevVector, currVector, 0.5).normalize()\n        currPos = cycAtoms[(i + 1) % n].position\n        prevVector.copy(currVector)\n        currVector.subVectors(currPos, center)\n      }\n\n      for (i = 0; i < n; ++i) {\n        if (cycAtoms[i].index !== currAtomIdx) {\n          continue\n        }\n        const start = tmpDir[i]\n        const end = tmpDir[(i + 1) % n]\n        const color = colorer.getAtomColor(cycAtoms[i], parent)\n        const currAngle = start.angleTo(end)\n\n        for (let j = 0; j <= segmentsHeight; ++j) {\n          chunkPoints[j] = _slerp(currAngle, start, end, j * leprStep)\n            .multiplyScalar(cycleRad)\n            .add(center)\n        }\n\n        addChunk(chunkIdx++, color, chunkPoints, center, upDir)\n        currAtomIdx = chunksToIdx[chunkIdx]\n      }\n    }\n  }\n}\n\nexport default AromaticGroup\n","import * as THREE from 'three'\nimport gfxutils from '../../gfxutils'\nimport AromaticGroup from './AromaticGroup'\n\nfunction _createShape(rad, parts) {\n  const pts = []\n  for (let i = 0; i < parts; ++i) {\n    const a = ((-2 * i) / parts) * Math.PI\n    pts.push(new THREE.Vector3(Math.cos(a) * rad, Math.sin(a) * rad, 0))\n  }\n  return pts\n}\nconst { calcChunkMatrix } = gfxutils\n\nclass AromaticTorusGroup extends AromaticGroup {\n  _build() {\n    const segmentsHeight = this._segmentsHeight\n    const torusRad = this._mode.getAromRadius()\n    const radiusV = new THREE.Vector2(torusRad, torusRad)\n    const radOffset = this._mode.calcStickRadius() + 2 * torusRad\n    const lookAtVector = new THREE.Vector3()\n    const mtc = []\n    const geo = this._geo\n    this._buildInner(radOffset, (chunkIdx, color, points, center, upDir) => {\n      for (let j = 0; j <= segmentsHeight; ++j) {\n        const currPoint = points[j]\n        const currDir = currPoint.clone().sub(center).cross(upDir)\n        lookAtVector.addVectors(currPoint, currDir)\n        mtc[j] = calcChunkMatrix(currPoint, lookAtVector, upDir, radiusV)\n      }\n      geo.setItem(chunkIdx, mtc)\n      geo.setColor(chunkIdx, color)\n    })\n    geo.finalize()\n  }\n\n  _makeGeoArgs() {\n    this._segmentsHeight = this._polyComplexity\n    return [\n      _createShape(1.0, this._polyComplexity),\n      this._segmentsHeight + 1,\n      this._selection.chunks.length\n    ]\n  }\n}\n\nexport default AromaticTorusGroup\n","import AromaticGroup from './AromaticGroup'\n\nclass AromaticLinesGroup extends AromaticGroup {\n  _build() {\n    const geo = this._geo\n    const radOffset = this._mode.getAromaticOffset()\n    this._buildInner(radOffset, (chunkIdx, color, points) => {\n      let prevPt = points[0] // do not replace with start\n      for (let j = 1; j <= this._segmentsHeight; ++j) {\n        const currPoint = points[j]\n        geo.setSegment(chunkIdx, j - 1, prevPt, currPoint)\n        prevPt = currPoint\n      }\n      geo.setColor(chunkIdx, color)\n    })\n    geo.finalize()\n  }\n\n  _makeGeoArgs() {\n    this._segmentsHeight = this._mode.getAromaticArcChunks()\n    return [this._selection.chunks.length, this._segmentsHeight, true]\n  }\n}\n\nexport default AromaticLinesGroup\n","import ChemGroup from './ChemGroup'\n\nclass ResiduesGroup extends ChemGroup {\n  raycast(raycaster, intersects) {\n    const { residues } = this._selection\n    const inters = []\n    this._mesh.raycast(raycaster, inters)\n    const chunksIdc = this._chunksIdc\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue\n      }\n      const resIdx = chunksIdc[inters[i].chunkIdx]\n      if (resIdx < residues.length) {\n        inters[i].residue = residues[resIdx]\n        intersects.push(inters[i])\n      }\n    }\n  }\n\n  _calcChunksList(mask) {\n    const chunksList = []\n    const { residues } = this._selection\n    const resIdc = this._chunksIdc\n    for (let i = 0, n = resIdc.length; i < n; ++i) {\n      const res = residues[resIdc[i]]\n      if ((res._mask & mask) !== 0) {\n        chunksList.push(i)\n      }\n    }\n    return chunksList\n  }\n}\n\nexport default ResiduesGroup\n","import ResiduesGroup from './ResiduesGroup'\n\nclass NucleicItemGroup extends ResiduesGroup {\n  raycast(raycaster, intersects) {\n    const { residues } = this._selection\n    const inters = []\n    this._mesh.raycast(raycaster, inters)\n    const chunksIdc = this._chunksIdc\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue\n      }\n      const resIdx = chunksIdc[Math.floor(inters[i].chunkIdx / 2)]\n      if (resIdx < residues.length) {\n        inters[i].residue = residues[resIdx]\n        intersects.push(inters[i])\n      }\n    }\n  }\n\n  _build() {\n    const { residues, parent } = this._selection\n    const colorer = this._colorer\n    const geo = this._geo\n    const stickRad = this._mode.calcStickRadius()\n    let chunkIdx = 0\n\n    const resIdc = this._selection.chunks\n    for (let i = 0, n = resIdc.length; i < n; ++i) {\n      const res = residues[resIdc[i]]\n      const color = colorer.getResidueColor(res, parent)\n      this._processItem(\n        chunkIdx++,\n        res._cylinders[0],\n        res._cylinders[1],\n        stickRad,\n        color\n      )\n    }\n    geo.finalize()\n  }\n\n  _calcChunksList(mask) {\n    const chunksList = []\n    let chunkIdx = 0\n    const { residues } = this._selection\n    const resIdc = this._chunksIdc\n\n    for (let i = 0, n = resIdc.length; i < n; ++i) {\n      const res = residues[resIdc[i]]\n      if ((res._mask & mask) !== 0) {\n        chunksList[chunkIdx++] = 2 * i\n        chunksList[chunkIdx++] = 2 * i + 1\n      }\n    }\n    return chunksList\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const residues = frameData.getResidues()\n    const { parent } = this._selection\n    const colorer = this._colorer\n    const geo = this._geo\n    const stickRad = this._mode.calcStickRadius()\n    let chunkIdx = 0\n\n    const resIdc = this._selection.chunks\n    for (let i = 0, n = resIdc.length; i < n; ++i) {\n      const res = residues[resIdc[i]]\n      const color = colorer.getResidueColor(res, parent)\n      this._processItem(\n        chunkIdx++,\n        res._cylinders[0],\n        res._cylinders[1],\n        stickRad,\n        color\n      )\n    }\n    geo.finishUpdate()\n  }\n}\n\nexport default NucleicItemGroup\n","import NucleicItemGroup from './NucleicItemGroup'\n\nclass NucleicCylindersGroup extends NucleicItemGroup {\n  _makeGeoArgs() {\n    return [this._selection.chunks.length, this._polyComplexity]\n  }\n\n  _processItem(chunkIdx, cyl1, cyl2, stickRad, color) {\n    const geo = this._geo\n    geo.setItem(chunkIdx, cyl1, cyl2, stickRad)\n    geo.setColor(chunkIdx, color, color)\n  }\n}\n\nexport default NucleicCylindersGroup\n","import NucleicItemGroup from './NucleicItemGroup'\n\nclass NucleicSpheresGroup extends NucleicItemGroup {\n  _makeGeoArgs() {\n    return [this._selection.chunks.length * 2, this._polyComplexity]\n  }\n\n  _processItem(chunkIdx, cyl1, cyl2, stickRad, color) {\n    const geo = this._geo\n    let idx = chunkIdx * 2\n    geo.setItem(idx, cyl1, stickRad)\n    geo.setColor(idx, color)\n    idx++\n    geo.setItem(idx, cyl2, stickRad)\n    geo.setColor(idx, color)\n  }\n}\n\nexport default NucleicSpheresGroup\n","\r\n/*\r\nSmooth.js version 0.1.7\r\n\r\nTurn arrays into smooth functions.\r\n\r\nCopyright 2012 Spencer Cohen\r\nLicensed under MIT license (see \"Smooth.js MIT license.txt\")\r\n*/\r\n\r\n/*Constants (these are accessible by Smooth.WHATEVER in user space)\r\n*/\r\n\r\n(function() {\r\n  var AbstractInterpolator, CubicInterpolator, Enum, LinearInterpolator, NearestInterpolator, PI, SincFilterInterpolator, Smooth, clipClamp, clipMirror, clipPeriodic, defaultConfig, getColumn, getType, isValidNumber, k, makeLanczosWindow, makeScaledFunction, makeSincKernel, normalizeScaleTo, shallowCopy, sin, sinc, v, validateNumber, validateVector,\r\n    __hasProp = Object.prototype.hasOwnProperty,\r\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor; child.__super__ = parent.prototype; return child; };\r\n\r\n  Enum = {\r\n    /*Interpolation methods\r\n    */\r\n    METHOD_NEAREST: 'nearest',\r\n    METHOD_LINEAR: 'linear',\r\n    METHOD_CUBIC: 'cubic',\r\n    METHOD_LANCZOS: 'lanczos',\r\n    METHOD_SINC: 'sinc',\r\n    /*Input clipping modes\r\n    */\r\n    CLIP_CLAMP: 'clamp',\r\n    CLIP_ZERO: 'zero',\r\n    CLIP_PERIODIC: 'periodic',\r\n    CLIP_MIRROR: 'mirror',\r\n    /* Constants for control over the cubic interpolation tension\r\n    */\r\n    CUBIC_TENSION_DEFAULT: 0,\r\n    CUBIC_TENSION_CATMULL_ROM: 0\r\n  };\r\n\r\n  defaultConfig = {\r\n    method: Enum.METHOD_CUBIC,\r\n    cubicTension: Enum.CUBIC_TENSION_DEFAULT,\r\n    clip: Enum.CLIP_CLAMP,\r\n    scaleTo: 0,\r\n    sincFilterSize: 2,\r\n    sincWindow: void 0\r\n  };\r\n\r\n  /*Index clipping functions\r\n  */\r\n\r\n  clipClamp = function(i, n) {\r\n    return Math.max(0, Math.min(i, n - 1));\r\n  };\r\n\r\n  clipPeriodic = function(i, n) {\r\n    i = i % n;\r\n    if (i < 0) i += n;\r\n    return i;\r\n  };\r\n\r\n  clipMirror = function(i, n) {\r\n    var period;\r\n    period = 2 * (n - 1);\r\n    i = clipPeriodic(i, period);\r\n    if (i > n - 1) i = period - i;\r\n    return i;\r\n  };\r\n\r\n  /*\r\n  Abstract scalar interpolation class which provides common functionality for all interpolators\r\n  \r\n  Subclasses must override interpolate().\r\n  */\r\n\r\n  AbstractInterpolator = (function() {\r\n\r\n    function AbstractInterpolator(array, config) {\r\n      this.array = array.slice(0);\r\n      this.length = this.array.length;\r\n      if (!(this.clipHelper = {\r\n        clamp: this.clipHelperClamp,\r\n        zero: this.clipHelperZero,\r\n        periodic: this.clipHelperPeriodic,\r\n        mirror: this.clipHelperMirror\r\n      }[config.clip])) {\r\n        throw \"Invalid clip: \" + config.clip;\r\n      }\r\n    }\r\n\r\n    AbstractInterpolator.prototype.getClippedInput = function(i) {\r\n      if ((0 <= i && i < this.length)) {\r\n        return this.array[i];\r\n      } else {\r\n        return this.clipHelper(i);\r\n      }\r\n    };\r\n\r\n    AbstractInterpolator.prototype.clipHelperClamp = function(i) {\r\n      return this.array[clipClamp(i, this.length)];\r\n    };\r\n\r\n    AbstractInterpolator.prototype.clipHelperZero = function(i) {\r\n      return 0;\r\n    };\r\n\r\n    AbstractInterpolator.prototype.clipHelperPeriodic = function(i) {\r\n      return this.array[clipPeriodic(i, this.length)];\r\n    };\r\n\r\n    AbstractInterpolator.prototype.clipHelperMirror = function(i) {\r\n      return this.array[clipMirror(i, this.length)];\r\n    };\r\n\r\n    AbstractInterpolator.prototype.interpolate = function(t) {\r\n      throw 'Subclasses of AbstractInterpolator must override the interpolate() method.';\r\n    };\r\n\r\n    return AbstractInterpolator;\r\n\r\n  })();\r\n\r\n  NearestInterpolator = (function(_super) {\r\n\r\n    __extends(NearestInterpolator, _super);\r\n\r\n    function NearestInterpolator() {\r\n      NearestInterpolator.__super__.constructor.apply(this, arguments);\r\n    }\r\n\r\n    NearestInterpolator.prototype.interpolate = function(t) {\r\n      return this.getClippedInput(Math.round(t));\r\n    };\r\n\r\n    return NearestInterpolator;\r\n\r\n  })(AbstractInterpolator);\r\n\r\n  LinearInterpolator = (function(_super) {\r\n\r\n    __extends(LinearInterpolator, _super);\r\n\r\n    function LinearInterpolator() {\r\n      LinearInterpolator.__super__.constructor.apply(this, arguments);\r\n    }\r\n\r\n    LinearInterpolator.prototype.interpolate = function(t) {\r\n      var k;\r\n      k = Math.floor(t);\r\n      t -= k;\r\n      return (1 - t) * this.getClippedInput(k) + t * this.getClippedInput(k + 1);\r\n    };\r\n\r\n    return LinearInterpolator;\r\n\r\n  })(AbstractInterpolator);\r\n\r\n  CubicInterpolator = (function(_super) {\r\n\r\n    __extends(CubicInterpolator, _super);\r\n\r\n    function CubicInterpolator(array, config) {\r\n      this.tangentFactor = 1 - Math.max(-1, Math.min(1, config.cubicTension));\r\n      CubicInterpolator.__super__.constructor.apply(this, arguments);\r\n    }\r\n\r\n    CubicInterpolator.prototype.getTangent = function(k) {\r\n      return this.tangentFactor * (this.getClippedInput(k + 1) - this.getClippedInput(k - 1)) / 2;\r\n    };\r\n\r\n    CubicInterpolator.prototype.interpolate = function(t) {\r\n      var k, m, p, t2, t3;\r\n      k = Math.floor(t);\r\n      m = [this.getTangent(k), this.getTangent(k + 1)];\r\n      p = [this.getClippedInput(k), this.getClippedInput(k + 1)];\r\n      t -= k;\r\n      t2 = t * t;\r\n      t3 = t * t2;\r\n      return (2 * t3 - 3 * t2 + 1) * p[0] + (t3 - 2 * t2 + t) * m[0] + (-2 * t3 + 3 * t2) * p[1] + (t3 - t2) * m[1];\r\n    };\r\n\r\n    return CubicInterpolator;\r\n\r\n  })(AbstractInterpolator);\r\n\r\n  sin = Math.sin, PI = Math.PI;\r\n\r\n  sinc = function(x) {\r\n    if (x === 0) {\r\n      return 1;\r\n    } else {\r\n      return sin(PI * x) / (PI * x);\r\n    }\r\n  };\r\n\r\n  makeLanczosWindow = function(a) {\r\n    return function(x) {\r\n      return sinc(x / a);\r\n    };\r\n  };\r\n\r\n  makeSincKernel = function(window) {\r\n    return function(x) {\r\n      return sinc(x) * window(x);\r\n    };\r\n  };\r\n\r\n  SincFilterInterpolator = (function(_super) {\r\n\r\n    __extends(SincFilterInterpolator, _super);\r\n\r\n    function SincFilterInterpolator(array, config) {\r\n      SincFilterInterpolator.__super__.constructor.apply(this, arguments);\r\n      this.a = config.sincFilterSize;\r\n      if (!config.sincWindow) throw 'No sincWindow provided';\r\n      this.kernel = makeSincKernel(config.sincWindow);\r\n    }\r\n\r\n    SincFilterInterpolator.prototype.interpolate = function(t) {\r\n      var k, n, sum, _ref, _ref2;\r\n      k = Math.floor(t);\r\n      sum = 0;\r\n      for (n = _ref = k - this.a + 1, _ref2 = k + this.a; _ref <= _ref2 ? n <= _ref2 : n >= _ref2; _ref <= _ref2 ? n++ : n--) {\r\n        sum += this.kernel(t - n) * this.getClippedInput(n);\r\n      }\r\n      return sum;\r\n    };\r\n\r\n    return SincFilterInterpolator;\r\n\r\n  })(AbstractInterpolator);\r\n\r\n  getColumn = function(arr, i) {\r\n    var row, _i, _len, _results;\r\n    _results = [];\r\n    for (_i = 0, _len = arr.length; _i < _len; _i++) {\r\n      row = arr[_i];\r\n      _results.push(row[i]);\r\n    }\r\n    return _results;\r\n  };\r\n\r\n  makeScaledFunction = function(f, baseScale, scaleRange) {\r\n    var scaleFactor, translation;\r\n    if (scaleRange.join === '0,1') {\r\n      return f;\r\n    } else {\r\n      scaleFactor = baseScale / (scaleRange[1] - scaleRange[0]);\r\n      translation = scaleRange[0];\r\n      return function(t) {\r\n        return f(scaleFactor * (t - translation));\r\n      };\r\n    }\r\n  };\r\n\r\n  getType = function(x) {\r\n    return Object.prototype.toString.call(x).slice('[object '.length, -1);\r\n  };\r\n\r\n  validateNumber = function(n) {\r\n    if (isNaN(n)) throw 'NaN in Smooth() input';\r\n    if (getType(n) !== 'Number') throw 'Non-number in Smooth() input';\r\n    if (!isFinite(n)) throw 'Infinity in Smooth() input';\r\n  };\r\n\r\n  validateVector = function(v, dimension) {\r\n    var n, _i, _len;\r\n    if (getType(v) !== 'Array') throw 'Non-vector in Smooth() input';\r\n    if (v.length !== dimension) throw 'Inconsistent dimension in Smooth() input';\r\n    for (_i = 0, _len = v.length; _i < _len; _i++) {\r\n      n = v[_i];\r\n      validateNumber(n);\r\n    }\r\n  };\r\n\r\n  isValidNumber = function(n) {\r\n    return (getType(n) === 'Number') && isFinite(n) && !isNaN(n);\r\n  };\r\n\r\n  normalizeScaleTo = function(s) {\r\n    var invalidErr;\r\n    invalidErr = \"scaleTo param must be number or array of two numbers\";\r\n    switch (getType(s)) {\r\n      case 'Number':\r\n        if (!isValidNumber(s)) throw invalidErr;\r\n        s = [0, s];\r\n        break;\r\n      case 'Array':\r\n        if (s.length !== 2) throw invalidErr;\r\n        if (!(isValidNumber(s[0]) && isValidNumber(s[1]))) throw invalidErr;\r\n        break;\r\n      default:\r\n        throw invalidErr;\r\n    }\r\n    return s;\r\n  };\r\n\r\n  shallowCopy = function(obj) {\r\n    var copy, k, v;\r\n    copy = {};\r\n    for (k in obj) {\r\n      if (!__hasProp.call(obj, k)) continue;\r\n      v = obj[k];\r\n      copy[k] = v;\r\n    }\r\n    return copy;\r\n  };\r\n\r\n  Smooth = function(arr, config) {\r\n    var baseDomainEnd, dimension, i, interpolator, interpolatorClass, interpolators, k, n, properties, smoothFunc, v;\r\n    if (config == null) config = {};\r\n    properties = {};\r\n    config = shallowCopy(config);\r\n    properties.config = shallowCopy(config);\r\n    if (config.scaleTo == null) config.scaleTo = config.period;\r\n    if (config.sincFilterSize == null) {\r\n      config.sincFilterSize = config.lanczosFilterSize;\r\n    }\r\n    for (k in defaultConfig) {\r\n      if (!__hasProp.call(defaultConfig, k)) continue;\r\n      v = defaultConfig[k];\r\n      if (config[k] == null) config[k] = v;\r\n    }\r\n    if (!(interpolatorClass = {\r\n      nearest: NearestInterpolator,\r\n      linear: LinearInterpolator,\r\n      cubic: CubicInterpolator,\r\n      lanczos: SincFilterInterpolator,\r\n      sinc: SincFilterInterpolator\r\n    }[config.method])) {\r\n      throw \"Invalid method: \" + config.method;\r\n    }\r\n    if (config.method === 'lanczos') {\r\n      config.sincWindow = makeLanczosWindow(config.sincFilterSize);\r\n    }\r\n    if (arr.length < 2) throw 'Array must have at least two elements';\r\n    properties.count = arr.length;\r\n    smoothFunc = (function() {\r\n      var _i, _j, _len, _len2;\r\n      switch (getType(arr[0])) {\r\n        case 'Number':\r\n          properties.dimension = 'scalar';\r\n          if (Smooth.deepValidation) {\r\n            for (_i = 0, _len = arr.length; _i < _len; _i++) {\r\n              n = arr[_i];\r\n              validateNumber(n);\r\n            }\r\n          }\r\n          interpolator = new interpolatorClass(arr, config);\r\n          return function(t) {\r\n            return interpolator.interpolate(t);\r\n          };\r\n        case 'Array':\r\n          properties.dimension = dimension = arr[0].length;\r\n          if (!dimension) throw 'Vectors must be non-empty';\r\n          if (Smooth.deepValidation) {\r\n            for (_j = 0, _len2 = arr.length; _j < _len2; _j++) {\r\n              v = arr[_j];\r\n              validateVector(v, dimension);\r\n            }\r\n          }\r\n          interpolators = (function() {\r\n            var _results;\r\n            _results = [];\r\n            for (i = 0; 0 <= dimension ? i < dimension : i > dimension; 0 <= dimension ? i++ : i--) {\r\n              _results.push(new interpolatorClass(getColumn(arr, i), config));\r\n            }\r\n            return _results;\r\n          })();\r\n          return function(t) {\r\n            var interpolator, _k, _len3, _results;\r\n            _results = [];\r\n            for (_k = 0, _len3 = interpolators.length; _k < _len3; _k++) {\r\n              interpolator = interpolators[_k];\r\n              _results.push(interpolator.interpolate(t));\r\n            }\r\n            return _results;\r\n          };\r\n        default:\r\n          throw \"Invalid element type: \" + (getType(arr[0]));\r\n      }\r\n    })();\r\n    if (config.clip === 'periodic') {\r\n      baseDomainEnd = arr.length;\r\n    } else {\r\n      baseDomainEnd = arr.length - 1;\r\n    }\r\n    config.scaleTo || (config.scaleTo = baseDomainEnd);\r\n    properties.domain = normalizeScaleTo(config.scaleTo);\r\n    smoothFunc = makeScaledFunction(smoothFunc, baseDomainEnd, properties.domain);\r\n    properties.domain.sort();\r\n    /*copy properties\r\n    */\r\n    for (k in properties) {\r\n      if (!__hasProp.call(properties, k)) continue;\r\n      v = properties[k];\r\n      smoothFunc[k] = v;\r\n    }\r\n    return smoothFunc;\r\n  };\r\n\r\n  for (k in Enum) {\r\n    if (!__hasProp.call(Enum, k)) continue;\r\n    v = Enum[k];\r\n    Smooth[k] = v;\r\n  }\r\n\r\n  Smooth.deepValidation = true;\r\n\r\n  (typeof exports !== \"undefined\" && exports !== null ? exports : window).Smooth = Smooth;\r\n\r\n}).call(this);\r\n","import * as THREE from 'three'\nimport { Smooth } from '../../../../vendor/js/Smooth'\nimport gfxutils from '../../gfxutils'\nimport chem from '../../../chem'\n\nconst { ResidueType } = chem\n\nconst calcMatrix = gfxutils.calcChunkMatrix\n\nfunction _buildStructureInterpolator(points, tension) {\n  const path = Smooth(points, {\n    method: Smooth.METHOD_CUBIC,\n    clip: Smooth.CLIP_CLAMP,\n    cubicTension: tension,\n    scaleTo: 1\n  })\n\n  return function (t, argTrans) {\n    let transformT = argTrans\n    if (transformT === null) {\n      // map our range to the [second .. last but one]\n      transformT = function (tt) {\n        return (tt * (points.length - 1 - 2) + 1) / (points.length - 1)\n      }\n    }\n    const newt = transformT(t)\n    const ans = path(newt)\n    return new THREE.Vector3(ans[0], ans[1], ans[2])\n  }\n}\n\nfunction _addPoints(centerPoints, topPoints, idx, residue) {\n  if (!residue._isValid) {\n    centerPoints[idx] = centerPoints[idx - 1]\n    topPoints[idx] = topPoints[idx - 1]\n    return\n  }\n  const cp = residue._controlPoint\n  centerPoints[idx] = [cp.x, cp.y, cp.z]\n  const tp = cp.clone().add(residue._wingVector)\n  topPoints[idx] = [tp.x, tp.y, tp.z]\n}\n\nfunction _addPointsForLoneResidue(centerPoints, topPoints, idx, residue) {\n  const nucleic = (residue._type.flags & ResidueType.Flags.NUCLEIC) !== 0\n  const nameFrom = nucleic ? \"C5'\" : 'N'\n  const nameTo = nucleic ? \"C3'\" : 'C'\n\n  let posFrom\n  let posTo\n  residue.forEachAtom((atom) => {\n    const name = atom.getVisualName()\n    if (!posFrom && name === nameFrom) {\n      posFrom = atom.position\n    } else if (!posTo && name === nameTo) {\n      posTo = atom.position\n    }\n  })\n\n  // provide a fallback for unknown residues\n  if (!(posFrom && posTo)) {\n    posFrom = residue._firstAtom.position\n    posTo = residue._lastAtom.position\n  }\n\n  if (posFrom && posTo) {\n    const shift = posTo.clone().sub(posFrom)\n\n    const wing = residue._wingVector\n    const cp = residue._controlPoint\n    const tp = cp.clone().add(wing)\n\n    const cpPrev = cp.clone().sub(shift)\n    const tpPrev = cpPrev.clone().add(wing)\n    centerPoints[idx] = [cpPrev.x, cpPrev.y, cpPrev.z]\n    topPoints[idx] = [tpPrev.x, tpPrev.y, tpPrev.z]\n    ++idx\n    centerPoints[idx] = [cpPrev.x, cpPrev.y, cpPrev.z]\n    topPoints[idx] = [tpPrev.x, tpPrev.y, tpPrev.z]\n    ++idx\n\n    centerPoints[idx] = [cp.x, cp.y, cp.z]\n    topPoints[idx] = [tp.x, tp.y, tp.z]\n    ++idx\n\n    const cpNext = cp.clone().add(shift)\n    const tpNext = cpNext.clone().add(wing)\n    centerPoints[idx] = [cpNext.x, cpNext.y, cpNext.z]\n    topPoints[idx] = [tpNext.x, tpNext.y, tpNext.z]\n    ++idx\n    centerPoints[idx] = [cpNext.x, cpNext.y, cpNext.z]\n    topPoints[idx] = [tpNext.x, tpNext.y, tpNext.z]\n  }\n}\n\nfunction _calcPoints(residues, firstIdx, lastIdx, boundaries) {\n  const left = boundaries.start\n  const right = boundaries.end\n  function _prevIdx(idx) {\n    return idx > left && residues[idx - 1]._isValid ? idx - 1 : idx\n  }\n  function _nextIdx(idx) {\n    return idx < right && residues[idx + 1]._isValid ? idx + 1 : idx\n  }\n\n  const topPoints = []\n  const centerPoints = []\n  let arrIdx = 0\n  function _extrapolate2(currIdx, otherIdx) {\n    const cp = residues[currIdx]._controlPoint\n      .clone()\n      .lerp(residues[otherIdx]._controlPoint, -0.25)\n    const tp = cp.clone().add(residues[currIdx]._wingVector)\n    centerPoints[arrIdx] = [cp.x, cp.y, cp.z]\n    topPoints[arrIdx++] = [tp.x, tp.y, tp.z]\n    centerPoints[arrIdx] = [cp.x, cp.y, cp.z]\n    topPoints[arrIdx++] = [tp.x, tp.y, tp.z]\n  }\n\n  // a single disconnected residue\n  const prevIdx = _prevIdx(firstIdx)\n  const nextIdx = _nextIdx(lastIdx)\n  if (prevIdx === nextIdx) {\n    _addPointsForLoneResidue(\n      centerPoints,\n      topPoints,\n      arrIdx,\n      residues[firstIdx]\n    )\n    return { centerPoints, topPoints }\n  }\n\n  // Two points (prev-prev and next-next) are added to support edge conditions for cubic splines, they are ignored\n  // Another two (prev and next) were added to support the outside of the sub chain\n\n  // prev and prev-prev\n  if (firstIdx === prevIdx) {\n    // do the extrapolation\n    _extrapolate2(firstIdx, _nextIdx(firstIdx))\n  } else {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[_prevIdx(prevIdx)])\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[prevIdx])\n  }\n\n  // main loop\n  for (let idx = firstIdx; idx <= lastIdx; ++idx) {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[idx])\n  }\n\n  // next and next-next\n  if (nextIdx === _nextIdx(nextIdx)) {\n    // do the extrapolation\n    _extrapolate2(lastIdx, _prevIdx(lastIdx))\n  } else {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[nextIdx])\n    _addPoints(centerPoints, topPoints, arrIdx, residues[_nextIdx(nextIdx)])\n  }\n  return { centerPoints, topPoints }\n}\n\nclass CartoonHelper {\n  constructor(residues, startIdx, endIdx, segmentsCount, tension, boundaries) {\n    const pointsArrays = _calcPoints(residues, startIdx, endIdx, boundaries)\n    this._topInterp = _buildStructureInterpolator(\n      pointsArrays.topPoints,\n      tension\n    )\n    this._centerInterp = _buildStructureInterpolator(\n      pointsArrays.centerPoints,\n      tension\n    )\n\n    this._shift = 0.5 / (endIdx - startIdx + 2)\n    this._valueStep =\n      (1.0 - 2 * this._shift) /\n      (2 * (endIdx - startIdx + 1) * (segmentsCount - 1))\n    this._segmentsCount = segmentsCount\n  }\n\n  prepareMatrices(idx, firstRad, secondRad) {\n    const mtcCount = this._segmentsCount\n    const outMtc = new Array(mtcCount)\n    const currRad = new THREE.Vector2(0, 0)\n\n    const topInterp = this._topInterp\n    const cenInterp = this._centerInterp\n\n    let currentValue = this._shift + this._valueStep * (mtcCount - 1) * idx\n\n    for (let mtxIdx = 0; mtxIdx < mtcCount; ++mtxIdx) {\n      const lerpVal = Math.min(1.0, mtxIdx / (mtcCount - 1))\n      currRad.lerpVectors(firstRad, secondRad, lerpVal)\n\n      const currTop = topInterp(currentValue, null)\n      const currCenter = cenInterp(currentValue, null)\n      currentValue += this._valueStep\n      const nextCenter = cenInterp(currentValue, null)\n\n      outMtc[mtxIdx] = calcMatrix(\n        currCenter.clone(),\n        nextCenter.clone(),\n        currTop.clone().sub(currCenter),\n        currRad\n      )\n    }\n\n    return outMtc\n  }\n}\n\nexport default CartoonHelper\n","import * as THREE from 'three'\nimport ResiduesGroup from './ResiduesGroup'\nimport CartoonHelper from './CartoonHelper'\n\nfunction _createShape(rad, parts) {\n  const pts = []\n\n  for (let i = 0; i < parts; ++i) {\n    // starts from pi/2 because it's important that points are lied on the angles of arrows (visual issues if not)\n    const a = Math.PI / 2.0 - (2 * Math.PI * i) / parts\n\n    pts.push(new THREE.Vector3(Math.cos(a) * rad, Math.sin(a) * rad, 0))\n  }\n  return pts\n}\n\nfunction _loopThrough(\n  subDiv,\n  residues,\n  segmentsHeight,\n  tension,\n  mode,\n  callback\n) {\n  for (let subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n    const subs = subDiv[subDivI].arr\n    const { boundaries } = subDiv[subDivI]\n    for (let i = 0, n = subs.length; i < n; ++i) {\n      const idc = [subs[i].start, subs[i].end]\n      const matrixHelper = new CartoonHelper(\n        residues,\n        idc[0],\n        idc[1],\n        segmentsHeight,\n        tension,\n        boundaries\n      )\n      let prevLast = null\n      const startIdx = subs[i].start * 2\n      const endIdx = subs[i].end * 2 + 1\n      let prevSecondRad = mode.getResidueRadius(residues[0], 0)\n      for (let idx = startIdx; idx <= endIdx; ++idx) {\n        const resIdx = (idx / 2) | 0\n        const currRes = residues[resIdx]\n        const firstRad = mode.getResidueRadius(currRes, idx % 2)\n        const secondRad = mode.getResidueRadius(currRes, 1 + (idx % 2))\n\n        const mtc = matrixHelper.prepareMatrices(\n          idx - idc[0] * 2,\n          firstRad,\n          secondRad\n        )\n        mtc.unshift(prevLast === null ? mtc[0] : prevLast)\n\n        // Slope - radius is changed along this residue part\n        const hasSlope =\n          firstRad.x !== secondRad.x || firstRad.y !== secondRad.y\n        // Cut - end radius of previous part not equal to start radius of this part. First section of this part lies in the orthogonal plane\n        const hasCut =\n          firstRad.x !== prevSecondRad.x || firstRad.y !== prevSecondRad.y\n\n        callback(currRes, mtc, hasSlope, hasCut)\n\n        prevLast = mtc[segmentsHeight]\n        prevSecondRad = secondRad\n      }\n    }\n  }\n}\n\nclass ResiduesSubseqGroup extends ResiduesGroup {\n  _makeGeoArgs() {\n    const cmpMultiplier = this._mode.getHeightSegmentsRatio()\n    this._segmentsHeight = (this._polyComplexity * cmpMultiplier) | 0\n    return [\n      _createShape(1.0, this._polyComplexity),\n      this._segmentsHeight + 1,\n      this._selection.chunks.length * 2\n    ]\n  }\n\n  _build() {\n    const { residues, parent } = this._selection\n    const mode = this._mode\n    const colorer = this._colorer\n    const tension = mode.getTension()\n    const geo = this._geo\n    let chunkIdx = 0\n    const chunkIdc = []\n    _loopThrough(\n      this._selection.subdivs,\n      residues,\n      this._segmentsHeight,\n      tension,\n      mode,\n      (currRes, mtc, hasSlope = false, hasCut = false) => {\n        const color = colorer.getResidueColor(currRes, parent)\n        chunkIdc[chunkIdx] = currRes._index\n        geo.setItem(chunkIdx, mtc, hasSlope, hasCut)\n        geo.setColor(chunkIdx++, color)\n      }\n    )\n    this._chunksIdc = chunkIdc\n    geo.finalize()\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const { parent } = this._selection\n    const mode = this._mode\n    const colorer = this._colorer\n    const tension = mode.getTension()\n    const geo = this._geo\n    const frameRes = frameData.getResidues()\n    let chunkIdx = 0\n    const updateColor = frameData.needsColorUpdate(colorer)\n    _loopThrough(\n      this._selection.subdivs,\n      frameRes,\n      this._segmentsHeight,\n      tension,\n      mode,\n      (currRes, mtc) => {\n        geo.setItem(chunkIdx, mtc)\n        if (updateColor) {\n          geo.setColor(chunkIdx, colorer.getResidueColor(currRes, parent))\n        }\n        chunkIdx++\n      }\n    )\n    geo.finalize()\n  }\n}\n\nexport default ResiduesSubseqGroup\n","import ChemGroup from './ChemGroup'\n\nclass ResiduesTraceGroup extends ChemGroup {\n  _makeGeoArgs() {\n    const subDiv = this._selection.subdivs\n    let chunksCount = 0\n    for (\n      let subDivI = 0, subDivN = subDiv.length;\n      subDivI < subDivN;\n      ++subDivI\n    ) {\n      const subs = subDiv[subDivI].arr\n      for (let i = 0, n = subs.length; i < n; ++i) {\n        chunksCount += subs[i].end - subs[i].start\n      }\n    }\n    return [chunksCount, this._polyComplexity]\n  }\n\n  _build() {\n    const { residues, parent } = this._selection\n    const mode = this._mode\n    const colorer = this._colorer\n    const geo = this._geo\n    let chunkIdx = 0\n    const chunkIdc = []\n    const subDiv = this._selection.subdivs\n    const stickRad = mode.calcStickRadius()\n\n    for (\n      let subDivI = 0, subDivN = subDiv.length;\n      subDivI < subDivN;\n      ++subDivI\n    ) {\n      const subs = subDiv[subDivI].arr\n      for (let i = 0, n = subs.length; i < n; ++i) {\n        const startIdx = subs[i].start\n        const endIdx = subs[i].end\n        let prevRes = residues[startIdx]\n        for (let idx = startIdx + 1; idx <= endIdx; ++idx) {\n          const currRes = residues[idx]\n          chunkIdc[chunkIdx] = { first: prevRes._index, second: currRes._index }\n          geo.setItem(\n            chunkIdx,\n            prevRes._controlPoint,\n            currRes._controlPoint,\n            stickRad\n          )\n          geo.setColor(\n            chunkIdx,\n            colorer.getResidueColor(prevRes, parent),\n            colorer.getResidueColor(currRes, parent)\n          )\n          chunkIdx++\n          prevRes = currRes\n        }\n      }\n    }\n\n    this._chunksIdc = chunkIdc\n    geo.finalize()\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n\n    const residues = frameData.getResidues()\n    const { parent } = this._selection\n    const mode = this._mode\n    const colorer = this._colorer\n    const geo = this._geo\n    let chunkIdx = 0\n    const subDiv = this._selection.subdivs\n    const stickRad = mode.calcStickRadius()\n    const updateColor = frameData.needsColorUpdate(colorer)\n\n    for (\n      let subDivI = 0, subDivN = subDiv.length;\n      subDivI < subDivN;\n      ++subDivI\n    ) {\n      const subs = subDiv[subDivI].arr\n      for (let i = 0, n = subs.length; i < n; ++i) {\n        const startIdx = subs[i].start\n        const endIdx = subs[i].end\n        let prevRes = residues[startIdx]\n        for (let idx = startIdx + 1; idx <= endIdx; ++idx) {\n          const currRes = residues[idx]\n          geo.setItem(\n            chunkIdx,\n            prevRes._controlPoint,\n            currRes._controlPoint,\n            stickRad\n          )\n          if (updateColor) {\n            geo.setColor(\n              chunkIdx,\n              colorer.getResidueColor(prevRes, parent),\n              colorer.getResidueColor(currRes, parent)\n            )\n          }\n          chunkIdx++\n          prevRes = currRes\n        }\n      }\n    }\n\n    geo.finalize()\n  }\n\n  raycast(raycaster, intersects) {\n    const inters = []\n    const { residues } = this._selection\n    this._mesh.raycast(raycaster, inters)\n    const chunksToIdx = this._chunksIdc\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue\n      }\n      const { chunkIdx } = inters[i]\n      const chunk = chunksToIdx[Math.floor(chunkIdx / 2)]\n      const resIdx = chunkIdx % 2 === 0 ? chunk.first : chunk.second\n      if (resIdx < residues.length) {\n        inters[i].residue = residues[resIdx]\n        intersects.push(inters[i])\n      }\n    }\n  }\n\n  _calcChunksList(mask) {\n    const chunksList = []\n    const chunksToIdx = this._chunksIdc\n    const { residues } = this._selection\n    for (let i = 0, n = chunksToIdx.length; i < n; ++i) {\n      const chunk = chunksToIdx[i]\n      if (residues[chunk.first]._mask & mask) {\n        chunksList.push(i * 2)\n      }\n      if (residues[chunk.second]._mask & mask) {\n        chunksList.push(i * 2 + 1)\n      }\n    }\n    return chunksList\n  }\n}\n\nexport default ResiduesTraceGroup\n","import ChemGroup from './ChemGroup'\nimport Bond from '../../../chem/Bond'\n\nfunction getCylinderCount(bondOrder) {\n  return bondOrder < 2 ? 1 : bondOrder\n}\n\nclass BondsGroup extends ChemGroup {\n  _makeGeoArgs() {\n    const drawMultiple = this._mode.drawMultiorderBonds()\n    const showAromatic = this._mode.showAromaticLoops()\n    const bondsIdc = this._selection.chunks\n    const { bonds } = this._selection\n    let bondsCount = 0\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      bondsCount += this.getBondOrder(\n        bonds[bondsIdc[i]],\n        drawMultiple,\n        showAromatic\n      )\n    }\n    return [bondsCount, this._polyComplexity]\n  }\n\n  getBondOrder(bond, drawMultiple, showAromatic) {\n    let bondOrder = 1\n    if (\n      drawMultiple &&\n      (!showAromatic || bond._type !== Bond.BondType.AROMATIC)\n    ) {\n      bondOrder = getCylinderCount(bond._order)\n    }\n    return bondOrder\n  }\n\n  raycast(raycaster, intersects) {\n    const { bonds } = this._selection\n    const inters = []\n    this._mesh.raycast(raycaster, inters)\n    const bondsIdc = this._chunksIdc\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue\n      }\n      const { chunkIdx } = inters[i]\n      const bondIdx = bondsIdc[Math.floor(chunkIdx / 2)]\n      if (bondIdx < bonds.length) {\n        const bond = bonds[bondIdx]\n        inters[i].atom = chunkIdx % 2 === 0 ? bond._left : bond._right\n        intersects.push(inters[i])\n      }\n    }\n  }\n\n  _calcChunksList(mask, innerOnly) {\n    const chunksList = []\n    const { bonds } = this._selection\n    const chunksToIdx = this._chunksIdc\n    for (let i = 0, n = chunksToIdx.length; i < n; ++i) {\n      const bond = bonds[chunksToIdx[i]]\n      if (bond._left.mask & mask && (!innerOnly || bond._right.mask & mask)) {\n        chunksList.push(2 * i)\n      }\n      if (bond._right.mask & mask && (!innerOnly || bond._left.mask & mask)) {\n        chunksList.push(2 * i + 1)\n      }\n    }\n    return chunksList\n  }\n}\n\nexport default BondsGroup\n","import * as THREE from 'three'\nimport BondsGroup from './BondsGroup'\n\nclass BondsCylinderGroup extends BondsGroup {\n  _build() {\n    const bondsIdc = this._selection.chunks\n    const { bonds, parent } = this._selection\n    const mode = this._mode\n    const colorer = this._colorer\n    const geo = this._geo\n    const drawMultiple = mode.drawMultiorderBonds()\n    const showAromatic = mode.showAromaticLoops()\n\n    const stickRad = mode.calcStickRadius()\n    const emptyOffset = mode.calcSpaceFraction()\n    let normDir\n    const leftPos = new THREE.Vector3()\n    const rightPos = new THREE.Vector3()\n    let currBondIdx = 0\n    const chunksToIdx = []\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      const bond = bonds[bondsIdc[i]]\n      const atom1 = bond._left\n      const atom2 = bond._right\n      const a1Pos = atom1.position\n      const a2Pos = atom2.position\n      normDir = bond.calcNormalDir()\n      const order = this.getBondOrder(bond, drawMultiple, showAromatic)\n      const minRad = Math.min(\n        mode.calcAtomRadius(atom1),\n        mode.calcAtomRadius(atom2)\n      )\n      const dist = (2 * minRad) / order\n      const currStickRad = drawMultiple\n        ? Math.min(stickRad, dist * 0.5 * (1.0 - emptyOffset))\n        : stickRad\n\n      for (let j = 0; j < order; ++j) {\n        const scale =\n          dist *\n          (order % 2 === 0\n            ? (((j / 2) | 0) + 0.5) * (1 - 2 * (j % 2))\n            : (((j + 1) / 2) | 0) * (-1 + 2 * (j % 2)))\n        chunksToIdx[currBondIdx] = bond._index\n        leftPos.copy(a1Pos)\n        leftPos.addScaledVector(normDir, scale)\n        rightPos.copy(a2Pos)\n        rightPos.addScaledVector(normDir, scale)\n        geo.setItem(currBondIdx, leftPos, rightPos, currStickRad)\n        geo.setColor(\n          currBondIdx++,\n          colorer.getAtomColor(atom1, parent),\n          colorer.getAtomColor(atom2, parent)\n        )\n      }\n    }\n\n    geo.finalize()\n    this._chunksIdc = chunksToIdx\n  }\n\n  updateToFrame(frameData) {\n    const bondsIdc = this._selection.chunks\n    const { bonds } = this._selection\n    const mode = this._mode\n    const colorer = this._colorer\n    const geo = this._geo\n    const drawMultiple = mode.drawMultiorderBonds()\n    const showAromatic = mode.showAromaticLoops()\n\n    const stickRad = mode.calcStickRadius()\n    const emptyOffset = mode.calcSpaceFraction()\n    let normDir\n    const leftPos = new THREE.Vector3()\n    const rightPos = new THREE.Vector3()\n    let currBondIdx = 0\n    const updateColor = frameData.needsColorUpdate(colorer)\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      const bond = bonds[bondsIdc[i]]\n      const atom1 = bond._left\n      const atom2 = bond._right\n      const a1Pos = frameData.getAtomPos(atom1.index).clone()\n      const a2Pos = frameData.getAtomPos(atom2.index)\n      normDir = bond.calcNormalDir()\n      const order = this.getBondOrder(bond, drawMultiple, showAromatic)\n      const minRad = Math.min(\n        mode.calcAtomRadius(atom1),\n        mode.calcAtomRadius(atom2)\n      )\n      const dist = (2 * minRad) / order\n      const currStickRad = drawMultiple\n        ? Math.min(stickRad, dist * 0.5 * (1.0 - emptyOffset))\n        : stickRad\n\n      for (let j = 0; j < order; ++j) {\n        const scale =\n          dist *\n          (order % 2 === 0\n            ? (((j / 2) | 0) + 0.5) * (1 - 2 * (j % 2))\n            : (((j + 1) / 2) | 0) * (-1 + 2 * (j % 2)))\n        leftPos.copy(a1Pos)\n        leftPos.addScaledVector(normDir, scale)\n        rightPos.copy(a2Pos)\n        rightPos.addScaledVector(normDir, scale)\n        geo.setItem(currBondIdx, leftPos, rightPos, currStickRad)\n        if (updateColor) {\n          geo.setColor(\n            currBondIdx,\n            frameData.getAtomColor(colorer, atom1),\n            frameData.getAtomColor(colorer, atom2)\n          )\n        }\n        currBondIdx++\n      }\n    }\n    geo.finalize()\n  }\n}\n\nexport default BondsCylinderGroup\n","import * as THREE from 'three'\nimport BondsGroup from './BondsGroup'\n\nconst STEP_SIZE = 0.15\n\nclass BondsLinesGroup extends BondsGroup {\n  _build() {\n    const bondsIdc = this._selection.chunks\n    const { bonds, parent } = this._selection\n    const mode = this._mode\n    const colorer = this._colorer\n    const geo = this._geo\n    const drawMultiple = mode.drawMultiorderBonds()\n    const showAromatic = mode.showAromaticLoops()\n\n    const bondDir = new THREE.Vector3()\n\n    const leftPos = new THREE.Vector3()\n    const rightPos = new THREE.Vector3()\n    let currBondIdx = 0\n    const chunksToIdx = []\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      const bond = bonds[bondsIdc[i]]\n      const atom1 = bond._left\n      const atom2 = bond._right\n      const a1Pos = atom1.position\n      const a2Pos = atom2.position\n      const a1Hangs = atom1.bonds.length === 1\n      const a2Hangs = atom2.bonds.length === 1\n      bondDir.subVectors(a2Pos, a1Pos)\n      const len = bondDir.length()\n      const normDir = bond.calcNormalDir()\n\n      const order = this.getBondOrder(bond, drawMultiple, showAromatic)\n\n      for (let j = 0; j < order; ++j) {\n        leftPos.copy(a1Pos)\n        rightPos.copy(a2Pos)\n        let scale =\n          order % 2 === 0\n            ? (((j / 2) | 0) + 0.5) * (1 - 2 * (j % 2))\n            : (((j + 1) / 2) | 0) * (-1 + 2 * (j % 2))\n        chunksToIdx[currBondIdx] = bond._index\n        if (order === 2 && !a1Hangs && !a2Hangs) {\n          scale -= 0.5\n          scale *= -1\n        }\n\n        if (!a1Hangs && !a2Hangs && order > 1 && scale !== 0) {\n          leftPos.lerpVectors(a1Pos, a2Pos, STEP_SIZE / len)\n          rightPos.lerpVectors(a1Pos, a2Pos, 1.0 - STEP_SIZE / len)\n        }\n\n        scale *= STEP_SIZE\n\n        leftPos.addScaledVector(normDir, scale)\n        rightPos.addScaledVector(normDir, scale)\n        geo.setItem(currBondIdx, leftPos, rightPos)\n        geo.setColor(\n          currBondIdx++,\n          colorer.getAtomColor(atom1, parent),\n          colorer.getAtomColor(atom2, parent)\n        )\n      }\n    }\n    geo.finalize()\n    this._chunksIdc = chunksToIdx\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const bondsIdc = this._selection.chunks\n    const { bonds } = this._selection\n    const mode = this._mode\n    const colorer = this._colorer\n    const geo = this._geo\n    const drawMultiple = mode.drawMultiorderBonds()\n    const showAromatic = mode.showAromaticLoops()\n\n    const bondDir = new THREE.Vector3()\n\n    const leftPos = new THREE.Vector3()\n    const rightPos = new THREE.Vector3()\n    let currBondIdx = 0\n    const updateColor = frameData.needsColorUpdate(colorer)\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      const bond = bonds[bondsIdc[i]]\n      const atom1 = bond._left\n      const atom2 = bond._right\n      const a1Pos = frameData.getAtomPos(atom1.index).clone()\n      const a2Pos = frameData.getAtomPos(atom2.index)\n      const a1Hangs = atom1.bonds.length === 1\n      const a2Hangs = atom2.bonds.length === 1\n      bondDir.subVectors(a2Pos, a1Pos)\n      const len = bondDir.length()\n      const normDir = bond.calcNormalDir()\n\n      const order = this.getBondOrder(bond, drawMultiple, showAromatic)\n\n      for (let j = 0; j < order; ++j) {\n        leftPos.copy(a1Pos)\n        rightPos.copy(a2Pos)\n        let scale =\n          order % 2 === 0\n            ? (((j / 2) | 0) + 0.5) * (1 - 2 * (j % 2))\n            : (((j + 1) / 2) | 0) * (-1 + 2 * (j % 2))\n        if (order === 2 && !a1Hangs && !a2Hangs) {\n          scale -= 0.5\n          scale *= -1\n        }\n\n        if (!a1Hangs && !a2Hangs && order > 1 && scale !== 0) {\n          leftPos.lerpVectors(a1Pos, a2Pos, STEP_SIZE / len)\n          rightPos.lerpVectors(a1Pos, a2Pos, 1.0 - STEP_SIZE / len)\n        }\n\n        scale *= STEP_SIZE\n\n        leftPos.addScaledVector(normDir, scale)\n        rightPos.addScaledVector(normDir, scale)\n        geo.setItem(currBondIdx, leftPos, rightPos)\n        if (updateColor) {\n          geo.setColor(\n            currBondIdx,\n            frameData.getAtomColor(colorer, atom1),\n            frameData.getAtomColor(colorer, atom2)\n          )\n        }\n        currBondIdx++\n      }\n    }\n    geo.finalize()\n  }\n}\n\nexport default BondsLinesGroup\n","import AtomsSphereGroup from './AtomsSphereGroup'\nimport AtomsSurfaceGroup from './AtomsSurfaceGroup'\nimport AtomsSASSESGroupStub from './AtomsSASSESGroupStub'\nimport AtomsTextGroup from './AtomsTextGroup'\nimport AromaticTorusGroup from './AromaticTorusGroup'\nimport AromaticLinesGroup from './AromaticLinesGroup'\nimport NucleicCylindersGroup from './NucleicCylindersGroup'\nimport NucleicSpheresGroup from './NucleicSpheresGroup'\nimport ResiduesSubseqGroup from './ResiduesSubseqGroup'\nimport ResiduesTraceGroup from './ResiduesTraceGroup'\nimport BondsCylinderGroup from './BondsCylinderGroup'\nimport BondsLinesGroup from './BondsLinesGroup'\n\nexport default {\n  AtomsSphereGroup,\n  AtomsSurfaceGroup,\n  AtomsSASSESGroupStub,\n  AtomsTextGroup,\n  AromaticTorusGroup,\n  AromaticLinesGroup,\n  NucleicCylindersGroup,\n  NucleicSpheresGroup,\n  ResiduesSubseqGroup,\n  ResiduesTraceGroup,\n  BondsCylinderGroup,\n  BondsLinesGroup\n}\n","import RCGroup from '../../RCGroup'\n\nclass AtomsProcessor extends RCGroup {\n  constructor(\n    AtomsGroup,\n    geoParams,\n    complex,\n    colorer,\n    mode,\n    polyComplexity,\n    mask,\n    material\n  ) {\n    super()\n    const self = this\n    this._complex = complex\n    this._mode = mode\n    const atoms = complex.getAtoms()\n    const transforms = complex.getTransforms()\n\n    complex.forEachComponent((component) => {\n      const atomsIdc = []\n      let atomCount = 0\n      component.forEachAtom((atom) => {\n        if (!self._checkAtom(atom, mask)) {\n          return\n        }\n        atomsIdc[atomCount++] = atom.index\n      })\n      if (atomCount === 0) {\n        return\n      }\n      const atomsGroup = new AtomsGroup(\n        geoParams,\n        {\n          atoms,\n          chunks: atomsIdc,\n          parent: complex\n        },\n        colorer,\n        mode,\n        transforms,\n        polyComplexity,\n        material\n      )\n      atomsGroup._component = component\n      self.add(atomsGroup)\n    })\n  }\n\n  _checkAtom(atom, mask) {\n    return atom.mask & mask\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = []\n    const { children } = this\n    let meshIdx = 0\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly)\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j]\n          subsetEl._component = children[i]._component\n          totalSubset[meshIdx++] = subsetEl\n        }\n      }\n    }\n    return totalSubset\n  }\n}\n\nexport default AtomsProcessor\n","import AtomsProcessor from './AtomsProcessor'\n\nclass OrphanAtomsProcessor extends AtomsProcessor {\n  _checkAtom(atom, mask) {\n    if (!(atom.mask & mask)) {\n      return false\n    }\n\n    const { bonds } = atom\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      if (bonds[i]._left.mask & mask && bonds[i]._right.mask & mask) {\n        return false\n      }\n    }\n    return true\n  }\n}\n\nexport default OrphanAtomsProcessor\n","import RCGroup from '../../RCGroup'\n\nclass ResiduesProcessor extends RCGroup {\n  constructor(\n    ResidueGroup,\n    geoParams,\n    complex,\n    colorer,\n    mode,\n    polyComplexity,\n    mask,\n    material\n  ) {\n    super()\n    const self = this\n    this._complex = complex\n    const residues = complex.getResidues()\n    const transforms = complex.getTransforms()\n\n    complex.forEachComponent((component) => {\n      let chunksCount = 0\n      const resIdc = []\n      component.forEachResidue((residue) => {\n        if (self._checkResidue(residue, mask)) {\n          resIdc[chunksCount++] = residue._index\n        }\n      })\n\n      if (chunksCount === 0) {\n        return\n      }\n      const residuesGroup = new ResidueGroup(\n        geoParams,\n        {\n          residues,\n          chunks: resIdc,\n          parent: complex\n        },\n        colorer,\n        mode,\n        transforms,\n        polyComplexity,\n        material\n      )\n      residuesGroup._component = component\n      self.add(residuesGroup)\n    })\n  }\n\n  checkResidue(residue, mask) {\n    return residue._mask & mask\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = []\n    const { children } = this\n    let meshIdx = 0\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly)\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j]\n          subsetEl._component = children[i]._component\n          totalSubset[meshIdx++] = subsetEl\n        }\n      }\n    }\n    return totalSubset\n  }\n}\n\nexport default ResiduesProcessor\n","import ResidueProcessor from './ResiduesProcessor'\n\nclass NucleicProcessor extends ResidueProcessor {\n  _checkResidue(residue, mask) {\n    return mask & residue._mask && residue._cylinders !== null\n  }\n}\nexport default NucleicProcessor\n","import RCGroup from '../../RCGroup'\n\nclass SubseqsProcessor extends RCGroup {\n  constructor(\n    ResidueGroup,\n    geoParams,\n    complex,\n    colorer,\n    mode,\n    polyComplexity,\n    mask,\n    material\n  ) {\n    super()\n    const self = this\n    this._complex = complex\n    const residues = complex.getResidues()\n    const transforms = complex.getTransforms()\n\n    complex.forEachComponent((component) => {\n      const subDivs = component.getMaskedSubdivSequences(mask)\n\n      let chunksCount = 0\n      const resIdc = []\n      for (\n        let subDivI = 0, subDivN = subDivs.length;\n        subDivI < subDivN;\n        ++subDivI\n      ) {\n        const subs = subDivs[subDivI].arr\n        for (let i = 0, n = subs.length; i < n; ++i) {\n          for (let j = subs[i].start, jEnd = subs[i].end; j <= jEnd; ++j) {\n            resIdc[chunksCount++] = residues[j]._index\n          }\n        }\n      }\n\n      if (chunksCount === 0) {\n        return\n      }\n      const residuesGroup = new ResidueGroup(\n        geoParams,\n        {\n          residues,\n          chunks: resIdc,\n          subdivs: subDivs,\n          parent: complex\n        },\n        colorer,\n        mode,\n        transforms,\n        polyComplexity,\n        material\n      )\n      residuesGroup._component = component\n      self.add(residuesGroup)\n    })\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = []\n    const { children } = this\n    let meshIdx = 0\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly)\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j]\n          subsetEl._component = children[i]._component\n          totalSubset[meshIdx++] = subsetEl\n        }\n      }\n    }\n    return totalSubset\n  }\n}\n\nexport default SubseqsProcessor\n","import RCGroup from '../../RCGroup'\n\nclass BondsProcessor extends RCGroup {\n  constructor(\n    BondsGroup,\n    geoParams,\n    complex,\n    colorer,\n    mode,\n    polyComplexity,\n    mask,\n    material\n  ) {\n    super()\n    const self = this\n    this._complex = complex\n    const bonds = complex.getBonds()\n    const transforms = complex.getTransforms()\n\n    complex.forEachComponent((component) => {\n      const bondsIdc = []\n      let bondsCount = 0\n      component.forEachBond((bond) => {\n        const atom1 = bond._left\n        const atom2 = bond._right\n        if (!(atom1.mask & mask) || !(atom2.mask & mask)) {\n          return\n        }\n        bondsIdc[bondsCount++] = bond._index\n      })\n      if (bondsCount === 0) {\n        return\n      }\n      const bondsGroup = new BondsGroup(\n        geoParams,\n        {\n          bonds,\n          chunks: bondsIdc,\n          parent: complex\n        },\n        colorer,\n        mode,\n        transforms,\n        polyComplexity,\n        material\n      )\n      bondsGroup._component = component\n      self.add(bondsGroup)\n    })\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = []\n    const { children } = this\n    let meshIdx = 0\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly)\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j]\n          subsetEl._component = children[i]._component\n          totalSubset[meshIdx++] = subsetEl\n        }\n      }\n    }\n    return totalSubset\n  }\n}\n\nexport default BondsProcessor\n","import RCGroup from '../../RCGroup'\n\nclass AromaticProcessor extends RCGroup {\n  constructor(\n    AromaticGroup,\n    geoParams,\n    complex,\n    colorer,\n    mode,\n    polyComplexity,\n    mask,\n    material\n  ) {\n    super()\n    const self = this\n    this._complex = complex\n    const atoms = complex.getAtoms()\n    const transforms = complex.getTransforms()\n    if (!mode.showAromaticLoops()) {\n      return\n    }\n\n    complex.forEachComponent((component) => {\n      const atomsIdc = []\n      let chunksCount = 0\n      const cycles = []\n      let cycleIdx = 0\n      component.forEachCycle((cycle) => {\n        const cycAtoms = cycle.atoms\n        let perCycle = 0\n        for (let i = 0, n = cycAtoms.length; i < n; ++i) {\n          if ((cycAtoms[i].mask & mask) !== 0) {\n            ++perCycle\n            atomsIdc[chunksCount++] = cycAtoms[i].index\n          }\n        }\n        if (perCycle > 0) {\n          cycles[cycleIdx++] = cycle\n        }\n      })\n\n      const atomsGroup = new AromaticGroup(\n        geoParams,\n        {\n          cycles,\n          atoms,\n          chunks: atomsIdc,\n          parent: complex\n        },\n        colorer,\n        mode,\n        transforms,\n        polyComplexity,\n        material\n      )\n      atomsGroup._component = component\n      self.add(atomsGroup)\n    })\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = []\n    const { children } = this\n    let meshIdx = 0\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly)\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j]\n          subsetEl._component = children[i]._component\n          totalSubset[meshIdx++] = subsetEl\n        }\n      }\n    }\n    return totalSubset\n  }\n}\n\nexport default AromaticProcessor\n","import AtomsProcessor from './AtomsProcessor'\nimport OrphanAtomsProcessor from './OrphanAtomsProcessor'\nimport ResiduesProcessor from './ResiduesProcessor'\nimport NucleicProcessor from './NucleicProcessor'\nimport SubseqsProcessor from './SubseqsProcessor'\nimport BondsProcessor from './BondsProcessor'\nimport AromaticProcessor from './AromaticProcessor'\n\nexport default {\n  Atoms: AtomsProcessor,\n  OrphanAtoms: OrphanAtomsProcessor,\n  Residues: ResiduesProcessor,\n  Nucleic: NucleicProcessor,\n  Subseqs: SubseqsProcessor,\n  Bonds: BondsProcessor,\n  Aromatic: AromaticProcessor\n}\n","import MeshCreator from '../../meshes/MeshCreator'\nimport groups from './groups'\nimport processors from '../processors/processors'\n\nfunction _bakeGroup(triplet, Processor, Group) {\n  return function (complex, colorer, mode, polyComplexity, mask, material) {\n    return new Processor(\n      Group,\n      triplet,\n      complex,\n      colorer,\n      mode,\n      polyComplexity,\n      mask,\n      material\n    )\n  }\n}\n\nclass GroupsFactory {\n  static AtomsSpheres(caps, settings) {\n    const gfxTriplet = MeshCreator.createSpheres(caps, settings)\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSphereGroup)\n  }\n\n  static OrphanedAtomsCrosses(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createCrosses(caps, settings, renderParams)\n\n    return _bakeGroup(\n      gfxTriplet,\n      processors.OrphanAtoms,\n      groups.AtomsSphereGroup\n    )\n  }\n\n  static BondsCylinders(caps, settings) {\n    const gfxTriplet = MeshCreator.create2CCylinders(caps, settings)\n\n    return _bakeGroup(gfxTriplet, processors.Bonds, groups.BondsCylinderGroup)\n  }\n\n  static BondsLines(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.create2CLines(caps, settings, renderParams)\n\n    return _bakeGroup(gfxTriplet, processors.Bonds, groups.BondsLinesGroup)\n  }\n\n  static CartoonChains(caps, settings) {\n    const gfxTriplet = MeshCreator.createExtrudedChains(caps, settings)\n\n    return _bakeGroup(\n      gfxTriplet,\n      processors.Subseqs,\n      groups.ResiduesSubseqGroup\n    )\n  }\n\n  static TraceChains(caps, settings) {\n    const gfxTriplet = MeshCreator.create2CClosedCylinders(caps, settings)\n\n    return _bakeGroup(gfxTriplet, processors.Subseqs, groups.ResiduesTraceGroup)\n  }\n\n  static NucleicSpheres(caps, settings) {\n    const gfxTriplet = MeshCreator.createSpheres(caps, settings)\n\n    return _bakeGroup(\n      gfxTriplet,\n      processors.Nucleic,\n      groups.NucleicSpheresGroup\n    )\n  }\n\n  static NucleicCylinders(caps, settings) {\n    const gfxTriplet = MeshCreator.create2CCylinders(caps, settings)\n\n    return _bakeGroup(\n      gfxTriplet,\n      processors.Nucleic,\n      groups.NucleicCylindersGroup\n    )\n  }\n\n  static ALoopsTorus(caps, settings) {\n    const gfxTriplet = MeshCreator.createExtrudedChains(caps, settings)\n\n    return _bakeGroup(\n      gfxTriplet,\n      processors.Aromatic,\n      groups.AromaticTorusGroup\n    )\n  }\n\n  static ALoopsLines(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createChunkedLines(\n      caps,\n      settings,\n      renderParams\n    )\n\n    return _bakeGroup(\n      gfxTriplet,\n      processors.Aromatic,\n      groups.AromaticLinesGroup\n    )\n  }\n\n  static QuickSurfGeo(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createQuickSurface(\n      caps,\n      settings,\n      renderParams\n    )\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSurfaceGroup)\n  }\n\n  static ContactSurfaceGeo(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createContactSurface(\n      caps,\n      settings,\n      renderParams\n    )\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSurfaceGroup)\n  }\n\n  static SASSESSurfaceGeo(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createSASSES(caps, settings, renderParams)\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSASSESGroupStub)\n  }\n\n  static TextLabelsGeo(caps, settings) {\n    const gfxTriplet = MeshCreator.createLabels(caps, settings)\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsTextGroup)\n  }\n}\n\nexport default GroupsFactory\n","import _ from 'lodash'\nimport makeContextDependent from '../../utils/makeContextDependent'\nimport utils from '../../utils'\nimport gfxutils from '../gfxutils'\nimport factory from './groups/GroupsFactory'\n\n/**\n * Create new mode.\n *\n * @param {object=} opts - Options to override defaults with.\n *\n *   These options are copied locally and not kept by reference, so the created instance will not reflect further\n *   changes to the `opts` object. However, changes in defaults **will** affect the mode after its creation.\n *\n * @exports Mode\n * @this Mode\n * @abstract\n * @constructor\n * @classdesc Basic class for all available modes used for building and displaying molecule geometry.\n */\nclass Mode {\n  constructor(opts) {\n    if (this.constructor === Mode) {\n      throw new Error('Can not instantiate abstract class!')\n    }\n    /**\n     * Mode options inherited (prototyped) from defaults.\n     * @type {object}\n     */\n    this.opts = _.merge(\n      utils.deriveDeep(this.settings.now.modes[this.id], true),\n      opts\n    )\n  }\n\n  /**\n   * Get mode identification, probably with options.\n   * @returns {string|Array} Mode identifier string ({@link Mode#id}) or two-element array containing both mode\n   *   identifier and options ({@link Mode#opts}).\n   * Options are returned if they were changed during or after the mode creation.\n   */\n  identify() {\n    const diff = utils.objectsDiff(this.opts, this.settings.now.modes[this.id])\n    if (!_.isEmpty(diff)) {\n      return [this.id, diff]\n    }\n    return this.id\n  }\n\n  buildGeometry(complex, colorer, mask, material) {\n    const polyComplexity = this.opts.polyComplexity\n      ? this.opts.polyComplexity[this.settings.now.resolution]\n      : 0\n    const groupList = this.depGroups\n    const groupCount = groupList.length\n    const group = new gfxutils.RCGroup()\n    const self = this\n    for (let i = 0; i < groupCount; ++i) {\n      let currGroup = groupList[i]\n      let renderParams = {}\n      if (_.isArray(currGroup)) {\n        renderParams = currGroup[1].call(this)\n        ;[currGroup] = currGroup\n      }\n      const Group = factory[currGroup](null, this.settings, renderParams)\n      const newGroup = new Group(\n        complex,\n        colorer,\n        self,\n        polyComplexity,\n        mask,\n        material\n      )\n      if (newGroup.children.length > 0) {\n        group.add(newGroup)\n      }\n    }\n    return group\n  }\n}\n\nmakeContextDependent(Mode.prototype)\n\n/**\n * Mode identifier.\n * @type {string}\n */\nMode.prototype.id = '__'\n\n/**\n * Mode geo groups.\n * @type {Array}\n */\nMode.prototype.depGroups = []\n\nexport default Mode\n","import Mode from './Mode'\n\nfunction getRenderParams() {\n  return {\n    lineWidth: this.opts.lineWidth\n  }\n}\n\nclass LinesMode extends Mode {\n  static id = 'LN'\n\n  constructor(opts) {\n    super(opts)\n    this.depGroups = this.depGroups.slice(0) // clone depGroups to prevent prototype edits\n    const groups = this.depGroups\n    for (let i = 0, n = groups.length; i < n; ++i) {\n      groups[i] = [groups[i], getRenderParams]\n    }\n  }\n\n  drawMultiorderBonds() {\n    return this.opts.multibond\n  }\n\n  calcAtomRadius() {\n    return this.opts.atom\n  }\n\n  getAromaticOffset() {\n    return this.opts.offsarom\n  }\n\n  getAromaticArcChunks() {\n    return this.opts.chunkarom\n  }\n\n  showAromaticLoops() {\n    return this.opts.showarom\n  }\n}\n\nLinesMode.prototype.id = 'LN'\nLinesMode.prototype.name = 'Lines'\nLinesMode.prototype.shortName = 'Lines'\nLinesMode.prototype.depGroups = [\n  'ALoopsLines',\n  'BondsLines',\n  'OrphanedAtomsCrosses'\n]\n\nexport default LinesMode\n","/* eslint-disable no-magic-numbers */\nimport Mode from './Mode'\n\nclass LicoriceMode extends Mode {\n  static id = 'LC'\n\n  calcAtomRadius(_atom) {\n    return this.opts.bond\n  }\n\n  calcStickRadius() {\n    return this.opts.bond\n  }\n\n  calcSpaceFraction() {\n    return this.opts.space\n  }\n\n  getAromRadius() {\n    return this.opts.aromrad\n  }\n\n  showAromaticLoops() {\n    return this.opts.showarom\n  }\n\n  drawMultiorderBonds() {\n    return this.opts.multibond\n  }\n}\n\nLicoriceMode.prototype.id = 'LC'\nLicoriceMode.prototype.name = 'Licorice'\nLicoriceMode.prototype.shortName = 'Licorice'\nLicoriceMode.prototype.depGroups = [\n  'AtomsSpheres',\n  'BondsCylinders',\n  'ALoopsTorus'\n]\n\nexport default LicoriceMode\n","/* eslint-disable no-magic-numbers */\nimport Mode from './Mode'\n\nclass BallsAndSticksMode extends Mode {\n  static id = 'BS'\n\n  calcAtomRadius(atom) {\n    return atom.element.radius * this.opts.atom\n  }\n\n  calcStickRadius() {\n    return this.opts.bond\n  }\n\n  getAromRadius() {\n    return this.opts.aromrad\n  }\n\n  showAromaticLoops() {\n    return this.opts.showarom\n  }\n\n  calcSpaceFraction() {\n    return this.opts.space\n  }\n\n  drawMultiorderBonds() {\n    return this.opts.multibond\n  }\n}\n\nBallsAndSticksMode.prototype.id = 'BS'\nBallsAndSticksMode.prototype.name = 'Balls and Sticks'\nBallsAndSticksMode.prototype.shortName = 'Balls'\nBallsAndSticksMode.prototype.depGroups = [\n  'AtomsSpheres',\n  'BondsCylinders',\n  'ALoopsTorus'\n]\n\nexport default BallsAndSticksMode\n","import Mode from './Mode'\n\nclass VanDerWaalsMode extends Mode {\n  static id = 'VW'\n\n  calcAtomRadius(atom) {\n    return atom.element.radius\n  }\n}\n\nVanDerWaalsMode.prototype.id = 'VW'\nVanDerWaalsMode.prototype.name = 'Van der Waals'\nVanDerWaalsMode.prototype.shortName = 'VDW'\nVanDerWaalsMode.prototype.depGroups = ['AtomsSpheres']\n\nexport default VanDerWaalsMode\n","import Mode from './Mode'\n\nclass TraceMode extends Mode {\n  static id = 'TR'\n\n  calcStickRadius() {\n    return this.opts.radius\n  }\n}\n\nTraceMode.prototype.id = 'TR'\nTraceMode.prototype.name = 'Trace'\nTraceMode.prototype.shortName = 'Trace'\nTraceMode.prototype.depGroups = ['TraceChains']\n\nexport default TraceMode\n","import * as THREE from 'three'\nimport Mode from './Mode'\n\nclass TubeMode extends Mode {\n  static id = 'TU'\n\n  getResidueRadius(_residue) {\n    return this.TUBE_RADIUS\n  }\n\n  getHeightSegmentsRatio() {\n    return this.opts.heightSegmentsRatio\n  }\n\n  getTension() {\n    return this.opts.tension\n  }\n\n  buildGeometry(complex, colorer, mask, material) {\n    const rad = this.opts.radius\n    this.TUBE_RADIUS = new THREE.Vector2(rad, rad)\n\n    return Mode.prototype.buildGeometry.call(\n      this,\n      complex,\n      colorer,\n      mask,\n      material\n    )\n  }\n}\n\nTubeMode.prototype.id = 'TU'\nTubeMode.prototype.name = 'Tube'\nTubeMode.prototype.shortName = 'Tube'\nTubeMode.prototype.depGroups = ['CartoonChains']\n\nexport default TubeMode\n","import * as THREE from 'three'\nimport Mode from './Mode'\n\nclass CartoonMode extends Mode {\n  static id = 'CA'\n\n  constructor(opts) {\n    super(opts)\n    // cache for secondary structure options\n    this.secCache = {}\n  }\n\n  getResidueStartRadius(residue) {\n    const second = residue.getSecondary()\n    if (!second || !second.generic) {\n      return this.TUBE_RADIUS\n    }\n    const secOpts = this.secCache[second.generic]\n    if (!secOpts) {\n      return this.TUBE_RADIUS\n    }\n    if (second.term === residue) {\n      return secOpts.start\n    }\n    return secOpts.center\n  }\n\n  getResidueEndRadius(residue) {\n    const second = residue.getSecondary()\n    if (second === null || !second.generic) {\n      return this.TUBE_RADIUS\n    }\n    const secOpts = this.secCache[second.generic]\n    if (!secOpts) {\n      return this.TUBE_RADIUS\n    }\n    if (second.term === residue) {\n      return this.ARROW_END\n    }\n    return secOpts.center\n  }\n\n  getResidueRadius(residue, val) {\n    const startRad = this.getResidueStartRadius(residue)\n    if (val === 0) {\n      return startRad\n    }\n\n    const endRad = this.getResidueEndRadius(residue)\n    if (val === 2) {\n      return endRad\n    }\n\n    return startRad.clone().lerp(endRad, val / 2.0)\n  }\n\n  calcStickRadius(_res) {\n    return this.opts.radius\n  }\n\n  getHeightSegmentsRatio() {\n    return this.opts.heightSegmentsRatio\n  }\n\n  getTension() {\n    return this.opts.tension\n  }\n\n  buildGeometry(complex, colorer, mask, material) {\n    const tubeRad = this.opts.radius\n    const secHeight = this.opts.depth\n\n    this.TUBE_RADIUS = new THREE.Vector2(tubeRad, tubeRad)\n    this.ARROW_END = new THREE.Vector2(secHeight, tubeRad)\n    const secCache = {}\n    const secData = this.opts.ss\n    /* eslint-disable guard-for-in */\n    for (const prop in secData) {\n      secCache[prop] = {\n        center: new THREE.Vector2(secHeight, secData[prop].width),\n        start: new THREE.Vector2(secHeight, secData[prop].arrow)\n      }\n    }\n    this.secCache = secCache\n    /* eslint-enable guard-for-in */\n\n    return Mode.prototype.buildGeometry.call(\n      this,\n      complex,\n      colorer,\n      mask,\n      material\n    )\n  }\n}\n\nCartoonMode.prototype.id = 'CA'\nCartoonMode.prototype.name = 'Cartoon'\nCartoonMode.prototype.shortName = 'Cartoon'\nCartoonMode.prototype.depGroups = [\n  'CartoonChains',\n  'NucleicSpheres',\n  'NucleicCylinders'\n]\n\nexport default CartoonMode\n","import chem from '../../chem'\nimport Mode from './Mode'\n\nconst { selectors } = chem\n\nfunction getRenderParams() {\n  return {\n    wireframe: this.opts.wireframe,\n    zClip: this.opts.zClip\n  }\n}\n\nclass SurfaceMode extends Mode {\n  constructor(opts) {\n    super(opts)\n    this.depGroups = this.depGroups.slice(0) // clone depGroups to prevent prototype edits\n    const surfaces = this.surfaceNames\n    const groups = this.depGroups\n    for (let i = 0, n = surfaces.length; i < n; ++i) {\n      groups[groups.length] = [surfaces[i], getRenderParams]\n    }\n  }\n\n  calcAtomRadius(atom) {\n    return atom.element.radius\n  }\n\n  getVisibilitySelector() {\n    let visibilitySelector = null\n    if (this.opts.subset !== '') {\n      const res = selectors.parse(this.opts.subset)\n      if (!res.error) {\n        visibilitySelector = res.selector\n      }\n    }\n    return visibilitySelector\n  }\n}\n\nSurfaceMode.prototype.isSurface = true\nSurfaceMode.prototype.surfaceNames = []\n\nexport default SurfaceMode\n","import SurfaceMode from './SurfaceMode'\n\nclass QuickSurfaceMode extends SurfaceMode {\n  static id = 'QS'\n\n  getSurfaceOpts() {\n    return {\n      useBeads: false,\n      isoValue: this.opts.isoValue,\n      gaussLim: this.opts.gaussLim[this.settings.now.resolution],\n      radScale: this.opts.scale,\n      gridSpacing: this.opts.gridSpacing[this.settings.now.resolution],\n      zClip: this.opts.zClip,\n      visibilitySelector: this.getVisibilitySelector()\n    }\n  }\n}\n\nQuickSurfaceMode.prototype.id = 'QS'\nQuickSurfaceMode.prototype.name = 'Quick Surface'\nQuickSurfaceMode.prototype.shortName = 'Quick Surf'\nQuickSurfaceMode.prototype.surfaceNames = ['QuickSurfGeo']\n\nexport default QuickSurfaceMode\n","import SurfaceMode from './SurfaceMode'\n\nclass IsoSurfaceMode extends SurfaceMode {\n  constructor(excludeProbe, opts) {\n    super(opts)\n    this._excludeProbe = excludeProbe\n  }\n\n  calcAtomRadius(atom) {\n    return atom.element.radius\n  }\n\n  getSurfaceOpts() {\n    return {\n      gridSpacing: this.opts.polyComplexity[this.settings.now.resolution],\n      radScale: this._radScale,\n      zClip: this.opts.zClip,\n      visibilitySelector: this.getVisibilitySelector(),\n      probeRadius: this.opts.probeRadius,\n      excludeProbe: this._excludeProbe\n    }\n  }\n}\n\nIsoSurfaceMode.prototype.id = 'SU'\nIsoSurfaceMode.prototype.name = 'Surface'\nIsoSurfaceMode.prototype.shortName = 'Surface'\nIsoSurfaceMode.prototype.surfaceNames = ['SASSESSurfaceGeo']\n\nIsoSurfaceMode.prototype._radScale = 1\nIsoSurfaceMode.prototype._excludeProbe = false\n\nexport default IsoSurfaceMode\n","import IsoSurfaceMode from './IsoSurfaceMode'\n\nclass IsoSurfaceSASMode extends IsoSurfaceMode {\n  static id = 'SA'\n\n  constructor(opts) {\n    super(false, opts)\n  }\n}\n\nIsoSurfaceSASMode.prototype.id = 'SA'\nIsoSurfaceSASMode.prototype.name = 'Solvent Accessible Surface'\nIsoSurfaceSASMode.prototype.shortName = 'SAS'\n\nexport default IsoSurfaceSASMode\n","import IsoSurfaceMode from './IsoSurfaceMode'\n\nclass IsoSurfaceSESMode extends IsoSurfaceMode {\n  static id = 'SE'\n\n  constructor(opts) {\n    super(true, opts)\n  }\n}\n\nIsoSurfaceSESMode.prototype.id = 'SE'\nIsoSurfaceSESMode.prototype.name = 'Solvent Excluded Surface'\nIsoSurfaceSESMode.prototype.shortName = 'SES'\n\nexport default IsoSurfaceSESMode\n","import SurfaceMode from './SurfaceMode'\n\nclass ContactSurfaceMode extends SurfaceMode {\n  static id = 'CS'\n\n  getSurfaceOpts() {\n    return {\n      probeRadius: this.opts.probeRadius,\n      radScale: this.opts.polyComplexity[this.settings.now.resolution],\n      scaleFactor: this.opts.polyComplexity[this.settings.now.resolution],\n      gridSpacing: 1.0 / this.opts.polyComplexity[this.settings.now.resolution],\n      isoValue: this.opts.isoValue,\n      probePositions: this.opts.probePositions,\n      zClip: this.opts.zClip,\n      visibilitySelector: this.getVisibilitySelector()\n    }\n  }\n}\n\nContactSurfaceMode.prototype.id = 'CS'\nContactSurfaceMode.prototype.name = 'Contact Surface'\nContactSurfaceMode.prototype.shortName = 'Contact Surf'\nContactSurfaceMode.prototype.isSurface = true\nContactSurfaceMode.prototype.surfaceNames = ['ContactSurfaceGeo']\n\nexport default ContactSurfaceMode\n","import _ from 'lodash'\nimport Mode from './Mode'\n\nclass TextMode extends Mode {\n  static id = 'TX'\n\n  getTemplateOptions() {\n    return this.opts.template\n  }\n\n  getLabelOpts() {\n    return _.merge(this.opts, {\n      colors: true,\n      adjustColor: true,\n      transparent: true\n    })\n  }\n}\n\nTextMode.prototype.id = 'TX'\nTextMode.prototype.name = 'Text mode'\nTextMode.prototype.shortName = 'Text'\nTextMode.prototype.depGroups = ['TextLabelsGeo']\n\nexport default TextMode\n","import EntityList from '../utils/EntityList'\n\nimport LinesMode from './modes/LinesMode'\nimport LicoriceMode from './modes/LicoriceMode'\nimport BallsAndSticksMode from './modes/BallsAndSticksMode'\nimport VanDerWaalsMode from './modes/VanDerWaalsMode'\nimport TraceMode from './modes/TraceMode'\nimport TubeMode from './modes/TubeMode'\nimport CartoonMode from './modes/CartoonMode'\nimport QuickSurfaceMode from './modes/QuickSurfaceMode'\nimport IsoSurfaceSASMode from './modes/IsoSurfaceSASMode'\nimport IsoSurfaceSESMode from './modes/IsoSurfaceSESMode'\nimport ContactSurfaceMode from './modes/ContactSurfaceMode'\nimport TextMode from './modes/TextMode'\n\nconst modes = new EntityList([\n  LinesMode,\n  LicoriceMode,\n  BallsAndSticksMode,\n  VanDerWaalsMode,\n  TraceMode,\n  TubeMode,\n  CartoonMode,\n  QuickSurfaceMode,\n  IsoSurfaceSASMode,\n  IsoSurfaceSESMode,\n  ContactSurfaceMode,\n  TextMode\n])\n\nexport default modes\n","import _ from 'lodash'\n\nfunction clamp(x, a, b) {\n  return x <= b ? (x < 0 ? 0 : x) : b\n}\n\nfunction lerpColor(c1, c2, alpha) {\n  const beta = 1 - alpha\n  const r1 = (c1 >> 16) & 0xff\n  const g1 = (c1 >> 8) & 0xff\n  const b1 = c1 & 0xff\n  const r2 = (c2 >> 16) & 0xff\n  const g2 = (c2 >> 8) & 0xff\n  const b2 = c2 & 0xff\n  const r = beta * r1 + alpha * r2\n  const g = beta * g1 + alpha * g2\n  const b = beta * b1 + alpha * b2\n  return (r << 16) | (g << 8) | b\n}\n\nclass Palette {\n  constructor(name, id) {\n    this.name = name || 'Custom'\n    this.id = id || 'CP'\n  }\n\n  getElementColor(name, asIs = false) {\n    const color = this.elementColors[name]\n    return color === undefined && !asIs ? this.defaultElementColor : color\n  }\n\n  getResidueColor(name, asIs = false) {\n    const color = this.residueColors[name]\n    return color === undefined && !asIs ? this.defaultResidueColor : color\n  }\n\n  getChainColor(name) {\n    let chain = name.charCodeAt(0)\n    chain =\n      ((chain < 0 ? 0 : chain >= 256 ? chain - 256 : chain) & 0x1f) %\n      this.chainColors.length\n    return this.chainColors[chain]\n  }\n\n  getSecondaryColor(type, asIs = false) {\n    const color = this.secondaryColors[type]\n    return color === undefined && !asIs ? this.defaultSecondaryColor : color\n  }\n\n  getSequentialColor(index) {\n    const { colors } = this\n    const len = colors.length\n    return index < 0 ? colors[(index % len) + len] : colors[index % len]\n  }\n\n  getGradientColor(value, gradientName) {\n    const gradient = this.gradients[gradientName]\n    if (!gradient) {\n      return this.defaultNamedColor\n    }\n    const count = gradient.length\n    const index = value * (count - 1)\n    let left = Math.floor(index)\n    const right = clamp(left + 1, 0, count - 1)\n    left = clamp(left, 0, count - 1)\n    return lerpColor(gradient[left], gradient[right], index - left)\n  }\n\n  getNamedColor(name, asIs = false) {\n    const color = this.namedColors[name]\n    return color === undefined && !asIs ? this.defaultNamedColor : color\n  }\n}\n\n_.assign(Palette.prototype, {\n  colors: [0xffffff, 0xff0000, 0x00ff00, 0x0000ff, 0x808080],\n\n  minRangeColor: 0x000000,\n  midRangeColor: 0x7f7f7f,\n  maxRangeColor: 0xffffff,\n\n  defaultElementColor: 0xffffff,\n  elementColors: {},\n\n  defaultResidueColor: 0xffffff,\n  residueColors: {},\n\n  chainColors: [0xffffff],\n\n  defaultSecondaryColor: 0xffffff,\n  secondaryColors: {},\n\n  defaultGradientColor: 0x000000,\n\n  defaultNamedColor: 0xffffff,\n  namedColorsArray: [\n    /* eslint-disable no-multi-spaces */\n    ['indianred', 0xcd5c5c],\n    ['lightcoral', 0xf08080],\n    ['salmon', 0xfa8072],\n    ['darksalmon', 0xe9967a],\n    ['lightsalmon', 0xffa07a],\n    ['crimson', 0xdc143c],\n    ['red', 0xff0000],\n    ['firebrick', 0xb22222],\n    ['darkred', 0x8b0000],\n    ['pink', 0xffc0cb],\n    ['lightpink', 0xffb6c1],\n    ['hotpink', 0xff69b4],\n    ['deeppink', 0xff1493],\n    ['mediumvioletred', 0xc71585],\n    ['palevioletred', 0xdb7093],\n    ['coral', 0xff7f50],\n    ['tomato', 0xff6347],\n    ['orangered', 0xff4500],\n    ['darkorange', 0xff8c00],\n    ['orange', 0xffa500],\n    ['gold', 0xffd700],\n    ['yellow', 0xffff00],\n    ['lightyellow', 0xffffe0],\n    ['lemonchiffon', 0xfffacd],\n    ['lightgoldenrodyellow', 0xfafad2],\n    ['papayawhip', 0xffefd5],\n    ['moccasin', 0xffe4b5],\n    ['peachpuff', 0xffdab9],\n    ['palegoldenrod', 0xeee8aa],\n    ['khaki', 0xf0e68c],\n    ['darkkhaki', 0xbdb76b],\n    ['lavender', 0xe6e6fa],\n    ['thistle', 0xd8bfd8],\n    ['plum', 0xdda0dd],\n    ['violet', 0xee82ee],\n    ['orchid', 0xda70d6],\n    ['fuchsia', 0xff00ff],\n    ['magenta', 0xff00ff],\n    ['mediumorchid', 0xba55d3],\n    ['mediumpurple', 0x9370db],\n    ['rebeccapurple', 0x663399],\n    ['blueviolet', 0x8a2be2],\n    ['darkviolet', 0x9400d3],\n    ['darkorchid', 0x9932cc],\n    ['darkmagenta', 0x8b008b],\n    ['purple', 0x800080],\n    ['indigo', 0x4b0082],\n    ['slateblue', 0x6a5acd],\n    ['mediumslateblue', 0x7b68ee],\n    ['darkslateblue', 0x483d8b],\n    ['greenyellow', 0xadff2f],\n    ['chartreuse', 0x7fff00],\n    ['lawngreen', 0x7cfc00],\n    ['lime', 0x00ff00],\n    ['limegreen', 0x32cd32],\n    ['palegreen', 0x98fb98],\n    ['lightgreen', 0x90ee90],\n    ['mediumspringgreen', 0x00fa9a],\n    ['springgreen', 0x00ff7f],\n    ['mediumseagreen', 0x3cb371],\n    ['seagreen', 0x2e8b57],\n    ['forestgreen', 0x228b22],\n    ['green', 0x008000],\n    ['darkgreen', 0x006400],\n    ['yellowgreen', 0x9acd32],\n    ['olivedrab', 0x6b8e23],\n    ['olive', 0x808000],\n    ['darkolivegreen', 0x556b2f],\n    ['mediumaquamarine', 0x66cdaa],\n    ['darkseagreen', 0x8fbc8f],\n    ['lightseagreen', 0x20b2aa],\n    ['darkcyan', 0x008b8b],\n    ['teal', 0x008080],\n    ['aqua', 0x00ffff],\n    ['cyan', 0x00ffff],\n    ['lightcyan', 0xe0ffff],\n    ['paleturquoise', 0xafeeee],\n    ['aquamarine', 0x7fffd4],\n    ['turquoise', 0x40e0d0],\n    ['mediumturquoise', 0x48d1cc],\n    ['darkturquoise', 0x00ced1],\n    ['cadetblue', 0x5f9ea0],\n    ['steelblue', 0x4682b4],\n    ['lightsteelblue', 0xb0c4de],\n    ['powderblue', 0xb0e0e6],\n    ['lightblue', 0xadd8e6],\n    ['skyblue', 0x87ceeb],\n    ['lightskyblue', 0x87cefa],\n    ['deepskyblue', 0x00bfff],\n    ['dodgerblue', 0x1e90ff],\n    ['cornflowerblue', 0x6495ed],\n    ['royalblue', 0x4169e1],\n    ['blue', 0x0000ff],\n    ['mediumblue', 0x0000cd],\n    ['darkblue', 0x00008b],\n    ['navy', 0x000080],\n    ['midnightblue', 0x191970],\n    ['cornsilk', 0xfff8dc],\n    ['blanchedalmond', 0xffebcd],\n    ['bisque', 0xffe4c4],\n    ['navajowhite', 0xffdead],\n    ['wheat', 0xf5deb3],\n    ['burlywood', 0xdeb887],\n    ['tan', 0xd2b48c],\n    ['rosybrown', 0xbc8f8f],\n    ['sandybrown', 0xf4a460],\n    ['goldenrod', 0xdaa520],\n    ['darkgoldenrod', 0xb8860b],\n    ['peru', 0xcd853f],\n    ['chocolate', 0xd2691e],\n    ['saddlebrown', 0x8b4513],\n    ['sienna', 0xa0522d],\n    ['brown', 0xa52a2a],\n    ['maroon', 0x800000],\n    ['white', 0xffffff],\n    ['snow', 0xfffafa],\n    ['honeydew', 0xf0fff0],\n    ['mintcream', 0xf5fffa],\n    ['azure', 0xf0ffff],\n    ['aliceblue', 0xf0f8ff],\n    ['ghostwhite', 0xf8f8ff],\n    ['whitesmoke', 0xf5f5f5],\n    ['seashell', 0xfff5ee],\n    ['beige', 0xf5f5dc],\n    ['oldlace', 0xfdf5e6],\n    ['floralwhite', 0xfffaf0],\n    ['ivory', 0xfffff0],\n    ['antiquewhite', 0xfaebd7],\n    ['linen', 0xfaf0e6],\n    ['lavenderblush', 0xfff0f5],\n    ['mistyrose', 0xffe4e1],\n    ['gainsboro', 0xdcdcdc],\n    ['lightgray', 0xd3d3d3],\n    ['silver', 0xc0c0c0],\n    ['darkgray', 0xa9a9a9],\n    ['gray', 0x808080],\n    ['dimgray', 0x696969],\n    ['lightslategray', 0x778899],\n    ['slategray', 0x708090],\n    ['darkslategray', 0x2f4f4f],\n    ['black', 0x000000]\n    /* eslint-enable no-multi-spaces */\n  ],\n\n  namedColors: {},\n  /* eslint-enable no-magic-numbers */\n\n  gradients: {\n    rainbow: [\n      0x0000ff, // blue\n      0x00ffff, // cyan\n      0x00ff00, // green\n      0xffff00, // yellow\n      0xff0000 // red\n    ],\n    temp: [\n      0x0000ff, // blue\n      0x007fff, // light-blue\n      0xffffff, // white\n      0xff7f00, // orange\n      0xff0000 // red\n    ],\n    hot: [\n      0xffffff, // white\n      0xff7f00, // orange\n      0xff0000 // red\n    ],\n    cold: [\n      0xffffff, // white\n      0x007fff, // light-blue\n      0x0000ff // blue\n    ],\n    'blue-red': [\n      0x0000ff, // blue\n      0xffffff, // white\n      0xff0000 // red\n    ],\n    reds: [\n      0xffffff, // white\n      0xff0000 // red\n    ],\n    blues: [\n      0xffffff, // white\n      0x0000ff // blue\n    ]\n  }\n})\n\nconst { namedColorsArray, namedColors } = Palette.prototype\n\nfor (let i = 0, { length } = namedColorsArray; i < length; ++i) {\n  const [name, value] = namedColorsArray[i]\n  namedColors[name] = value\n}\n\nexport default Palette\n","import Palette from './Palette'\n\nconst palette = new Palette('CPK', 'CP')\n\n// DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\npalette.elementColors = {\n  /* eslint-disable no-magic-numbers */\n  H: 0xffffff,\n  C: 0x202020,\n  N: 0x2060ff,\n  O: 0xee2010,\n  F: 0x00ff00,\n  P: 0x8020ff,\n  S: 0xffff00,\n  CL: 0x00bb00,\n  FE: 0xd0d0d0,\n  CO: 0xd0d0d0,\n  NI: 0xd0d0d0,\n  CU: 0xd0d0d0,\n  BR: 0x008800,\n  I: 0x005500\n  /* eslint-enable no-magic-numbers */\n}\n\nexport default palette\n","import Palette from './Palette'\nimport StructuralElement from '../../chem/StructuralElement'\n\nconst palette = new Palette('Jmol', 'JM')\n\npalette.colors = [\n  /* eslint-disable no-magic-numbers */\n  0x0000ff, // blue\n  0x0055ff, //\n  0x00abff, //\n  0x00ffff, // cyan\n  0x00ffab, //\n  0x00ff55, //\n  0x00ff00, // green\n  0x55ff00, //\n  0xabff00, //\n  0xffff00, // yellow\n  0xffab00, //\n  0xff5500, //\n  0xff0000, // red\n  0xff0055, //\n  0xff00ab, //\n  0xff00ff, // magenta\n  0xab00ff, //\n  0x5500ff //\n  /* eslint-enable no-magic-numbers */\n]\n\n// DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\npalette.elementColors = {\n  /* eslint-disable no-magic-numbers */\n  H: 0xffffff,\n  D: 0xffffc0,\n  T: 0xffffa0,\n  HE: 0xd9ffff,\n  LI: 0xcc80ff,\n  BE: 0xc2ff00,\n  B: 0xffb5b5,\n  C: 0x909090,\n  N: 0x3050f8,\n  O: 0xff0d0d,\n  F: 0x90e050,\n  NE: 0xb3e3f5,\n  NA: 0xab5cf2,\n  MG: 0x8aff00,\n  AL: 0xbfa6a6,\n  SI: 0xf0c8a0,\n  P: 0xff8000,\n  S: 0xffff30,\n  CL: 0x1ff01f,\n  AR: 0x80d1e3,\n  K: 0x8f40d4,\n  CA: 0x3dff00,\n  SC: 0xe6e6e6,\n  TI: 0xbfc2c7,\n  V: 0xa6a6ab,\n  CR: 0x8a99c7,\n  MN: 0x9c7ac7,\n  FE: 0xe06633,\n  CO: 0xf090a0,\n  NI: 0x50d050,\n  CU: 0xc88033,\n  ZN: 0x7d80b0,\n  GA: 0xc28f8f,\n  GE: 0x668f8f,\n  AS: 0xbd80e3,\n  SE: 0xffa100,\n  BR: 0xa62929,\n  KR: 0x5cb8d1,\n  RB: 0x702eb0,\n  SR: 0x00ff00,\n  Y: 0x94ffff,\n  ZR: 0x94e0e0,\n  NB: 0x73c2c9,\n  MO: 0x54b5b5,\n  TC: 0x3b9e9e,\n  RU: 0x248f8f,\n  RH: 0x0a7d8c,\n  PD: 0x006985,\n  AG: 0xc0c0c0,\n  CD: 0xffd98f,\n  IN: 0xa67573,\n  SN: 0x668080,\n  SB: 0x9e63b5,\n  TE: 0xd47a00,\n  I: 0x940094,\n  XE: 0x429eb0,\n  CS: 0x57178f,\n  BA: 0x00c900,\n  LA: 0x70d4ff,\n  CE: 0xffffc7,\n  PR: 0xd9ffc7,\n  ND: 0xc7ffc7,\n  PM: 0xa3ffc7,\n  SM: 0x8fffc7,\n  EU: 0x61ffc7,\n  GD: 0x45ffc7,\n  TB: 0x30ffc7,\n  DY: 0x1fffc7,\n  HO: 0x00ff9c,\n  ER: 0x00e675,\n  TM: 0x00d452,\n  YB: 0x00bf38,\n  LU: 0x00ab24,\n  HF: 0x4dc2ff,\n  TA: 0x4da6ff,\n  W: 0x2194d6,\n  RE: 0x267dab,\n  OS: 0x266696,\n  IR: 0x175487,\n  PT: 0xd0d0e0,\n  AU: 0xffd123,\n  HG: 0xb8b8d0,\n  TL: 0xa6544d,\n  PB: 0x575961,\n  BI: 0x9e4fb5,\n  PO: 0xab5c00,\n  AT: 0x754f45,\n  RN: 0x428296,\n  FR: 0x420066,\n  RA: 0x007d00,\n  AC: 0x70abfa,\n  TH: 0x00baff,\n  PA: 0x00a1ff,\n  U: 0x008fff,\n  NP: 0x0080ff,\n  PU: 0x006bff,\n  AM: 0x545cf2,\n  CM: 0x785ce3,\n  BK: 0x8a4fe3,\n  CF: 0xa136d4,\n  ES: 0xb31fd4,\n  FM: 0xb31fba,\n  MD: 0xb30da6,\n  NO: 0xbd0d87,\n  LR: 0xc70066,\n  RF: 0xcc0059,\n  DB: 0xd1004f,\n  SG: 0xd90045,\n  BH: 0xe00038,\n  HS: 0xe6002e,\n  MT: 0xeb0026\n  /* eslint-enable no-magic-numbers */\n}\n\npalette.defaultResidueColor = 0xbea06e\n\n// DO NOT EDIT MANUALLY! Autogenerated from residue_types.csv by residue_types.py.\npalette.residueColors = {\n  /* eslint-disable no-magic-numbers */\n  ALA: 0xc8c8c8,\n  ARG: 0x145aff,\n  ASN: 0x00dcdc,\n  ASP: 0xe60a0a,\n  CYS: 0xe6e600,\n  GLN: 0x00dcdc,\n  GLU: 0xe60a0a,\n  GLY: 0xebebeb,\n  HIS: 0x8282d2,\n  ILE: 0x0f820f,\n  LEU: 0x0f820f,\n  LYS: 0x145aff,\n  MET: 0xe6e600,\n  PHE: 0x3232aa,\n  PRO: 0xdc9682,\n  SER: 0xfa9600,\n  THR: 0xfa9600,\n  TRP: 0xb45ab4,\n  TYR: 0x3232aa,\n  VAL: 0x0f820f,\n  A: 0xa0a0ff,\n  C: 0xff8c4b,\n  G: 0xff7070,\n  I: 0x80ffff,\n  T: 0xa0ffa0,\n  U: 0xff8080,\n  DA: 0xa0a0ff,\n  DC: 0xff8c4b,\n  DG: 0xff7070,\n  DI: 0x80ffff,\n  DT: 0xa0ffa0,\n  DU: 0xff8080,\n  '+A': 0xa0a0ff,\n  '+C': 0xff8c4b,\n  '+G': 0xff7070,\n  '+I': 0x80ffff,\n  '+T': 0xa0ffa0,\n  '+U': 0xff8080\n  /* eslint-enable no-magic-numbers */\n}\n\npalette.chainColors = [\n  // ' '->0 'A'->1, 'B'->2\n  0xffffffff, // ' ' & '0' white\n  //\n  0xffc0d0ff, // skyblue\n  0xffb0ffb0, // pastel green\n  0xffffc0c8, // pink\n  0xffffff80, // pastel yellow\n  0xffffc0ff, // pastel magenta\n  0xffb0f0f0, // pastel cyan\n  0xffffd070, // pastel gold\n  0xfff08080, // lightcoral\n\n  0xfff5deb3, // wheat\n  0xff00bfff, // deepskyblue\n  0xffcd5c5c, // indianred\n  0xff66cdaa, // mediumaquamarine\n  0xff9acd32, // yellowgreen\n  0xffee82ee, // violet\n  0xff00ced1, // darkturquoise\n  0xff00ff7f, // springgreen\n  0xff3cb371, // mediumseagreen\n\n  0xff00008b, // darkblue\n  0xffbdb76b, // darkkhaki\n  0xff006400, // darkgreen\n  0xff800000, // maroon\n  0xff808000, // olive\n  0xff800080, // purple\n  0xff008080, // teal\n  0xffb8860b, // darkgoldenrod\n  0xffb22222 // firebrick\n]\n\nconst StructuralElementType = StructuralElement.Type\n\npalette.secondaryColors = {\n  [StructuralElementType.HELIX_ALPHA]: 0xff0080,\n  [StructuralElementType.HELIX_PI]: 0x600080,\n  [StructuralElementType.HELIX_310]: 0xa00080,\n  [StructuralElementType.STRAND]: 0xffc800,\n  [StructuralElementType.TURN]: 0x6080ff,\n  dna: 0xae00fe,\n  rna: 0xfd0162\n}\n\nexport default palette\n","import Palette from './Palette'\nimport StructuralElement from '../../chem/StructuralElement'\n\nconst palette = new Palette('VMD', 'VM')\n\npalette.colors = [\n  /* eslint-disable no-magic-numbers */\n  0x0000ff, // blue\n  0xff0000, // red\n  0x606060, // gray\n  0xff8000, // orange\n  0xffff00, // yellow\n  0x808033, // tan\n  0x999999, // silver\n  0x00ff00, // green\n  0xffffff, // white\n  0xff9999, // pink\n  0x40c0c0, // cyan\n  0xa600a6, // purple\n  0x80e666, // lime\n  0xe666b3, // mauve\n  0x804d00, // ochre\n  0x8080c0 // ice blue\n  /* eslint-enable no-magic-numbers */\n]\n\npalette.defaultElementColor = 0x804d00\n\n// DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\npalette.elementColors = {\n  /* eslint-disable no-magic-numbers */\n  H: 0xffffff,\n  C: 0x40bfbf,\n  N: 0x0000ff,\n  O: 0xff0000,\n  P: 0x808033,\n  S: 0xffff00\n  /* eslint-enable no-magic-numbers */\n}\n\npalette.defaultResidueColor = 0x40c0c0\n\n// DO NOT EDIT MANUALLY! Autogenerated from residue_types.csv by residue_types.py.\npalette.residueColors = {\n  /* eslint-disable no-magic-numbers */\n  ALA: 0x0000ff,\n  ARG: 0xffffff,\n  ASN: 0x808033,\n  ASP: 0xff0000,\n  CYS: 0xffff00,\n  GLN: 0xff8000,\n  GLU: 0xff9999,\n  GLY: 0xffffff,\n  HIS: 0x40c0c0,\n  ILE: 0x00ff00,\n  LEU: 0xff9999,\n  LYS: 0x40c0c0,\n  MET: 0xffff00,\n  PHE: 0xa600a6,\n  PRO: 0x804c00,\n  SER: 0xffff00,\n  THR: 0xe666b3,\n  TRP: 0x999999,\n  TYR: 0x00ff00,\n  VAL: 0x808033,\n  A: 0x0000ff,\n  C: 0xff8000,\n  G: 0xffff00,\n  T: 0xa600a6,\n  U: 0x00ff00,\n  DA: 0x0000ff,\n  DC: 0xff8000,\n  DG: 0xffff00,\n  DT: 0xa600a6,\n  DU: 0x00ff00,\n  '+A': 0x0000ff,\n  '+C': 0xff8000,\n  '+G': 0xffff00,\n  '+T': 0xa600a6,\n  '+U': 0x00ff00,\n  WAT: 0x40c0c0,\n  H2O: 0x40c0c0,\n  HOH: 0x40c0c0\n  /* eslint-enable no-magic-numbers */\n}\n\npalette.chainColors = [0xffffff].concat(palette.colors)\n\nconst StructuralElementType = StructuralElement.Type\n\npalette.secondaryColors = {\n  [StructuralElementType.HELIX_ALPHA]: 0xa600a6,\n  [StructuralElementType.HELIX_310]: 0x0000ff,\n  [StructuralElementType.HELIX_PI]: 0xff0000,\n  [StructuralElementType.STRAND]: 0xffff00,\n  [StructuralElementType.BRIDGE]: 0x808033,\n  [StructuralElementType.TURN]: 0x40c0c0\n}\n\nexport default palette\n","import EntityList from '../utils/EntityList'\n\nimport cpkPalette from './palettes/cpkPalette'\nimport jmolPalette from './palettes/jmolPalette'\nimport vmdPalette from './palettes/vmdPalette'\n\nconst palettes = new EntityList([cpkPalette, jmolPalette, vmdPalette])\n\nexport default palettes\n","import _ from 'lodash'\nimport settings from '../../settings'\nimport utils from '../../utils'\nimport palettes from '../palettes'\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with.\n *\n *   These options are copied locally and not kept by reference, so the created instance will not reflect further\n *   changes to the `opts` object. However, changes in defaults **will** affect the colorer after its creation.\n *\n * @exports Colorer\n * @this Colorer\n * @abstract\n * @constructor\n * @classdesc Basic class for all available coloring algorithms used for building and displaying molecule geometry.\n */\nclass Colorer {\n  constructor(opts) {\n    if (this.constructor === Colorer) {\n      throw new Error('Can not instantiate abstract class!')\n    }\n    /**\n     * Colorer options inherited (prototyped) from defaults.\n     * @type {object}\n     */\n    this.opts = _.merge(\n      utils.deriveDeep(settings.now.colorers[this.id], true),\n      opts\n    )\n    /**\n     * Palette in use.\n     * @type {Palette}\n     */\n    this.palette = palettes.first\n  }\n\n  /**\n   * Get Colorer identification, probably with options.\n   * @returns {string|Array} Colorer identifier string ({@link Colorer#id}) or two-element array containing both colorer\n   *   identifier and options ({@link Colorer#opts}).\n   * Options are returned if they were changed during or after colorer creation.\n   */\n  identify() {\n    const diff = utils.objectsDiff(this.opts, settings.now.colorers[this.id])\n    if (!_.isEmpty(diff)) {\n      return [this.id, diff]\n    }\n    return this.id\n  }\n}\n\n/**\n * Colorer identifier.\n * @type {string}\n */\n\nColorer.prototype.id = '__'\n\nexport default Colorer\n","import Colorer from './Colorer'\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @see Element\n *\n * @exports ElementColorer\n * @augments Colorer\n * @constructor\n * @classdesc Coloring algorithm based on chemical element.\n */\nclass ElementColorer extends Colorer {\n  static id = 'EL'\n\n  getAtomColor(atom, _complex) {\n    const type = atom.element.name\n    if (type === 'C' && this.opts.carbon >= 0) {\n      return this.opts.carbon\n    }\n    return this.palette.getElementColor(type)\n  }\n\n  getResidueColor(_residue, _complex) {\n    return this.palette.defaultResidueColor\n  }\n}\n\nElementColorer.prototype.id = 'EL'\nElementColorer.prototype.name = 'Element'\nElementColorer.prototype.shortName = 'Element'\n\nexport default ElementColorer\n","import Colorer from './Colorer'\n\n/**\n * Coloring algorithm based on residue type.\n *\n * @see ResidueType\n *\n * @exports ResidueTypeColorer\n * @constructor\n */\nclass ResidueTypeColorer extends Colorer {\n  static id = 'RT'\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex)\n  }\n\n  getResidueColor(residue, _complex) {\n    return this.palette.getResidueColor(residue._type._name)\n  }\n}\n\nResidueTypeColorer.prototype.id = 'RT'\nResidueTypeColorer.prototype.name = 'Residue Type'\nResidueTypeColorer.prototype.shortName = 'Residue'\n\nexport default ResidueTypeColorer\n","import Colorer from './Colorer'\n\nclass SequenceColorer extends Colorer {\n  static id = 'SQ'\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex)\n  }\n\n  getResidueColor(residue, _complex) {\n    const chain = residue._chain\n    if (\n      chain.minSequence === Number.POSITIVE_INFINITY &&\n      chain.maxSequence === Number.NEGATIVE_INFINITY\n    ) {\n      return this.palette.defaultNamedColor\n    }\n    const min = chain.minSequence\n    const max = chain.maxSequence > min ? chain.maxSequence : min + 1\n    return this.palette.getGradientColor(\n      (residue._sequence - min) / (max - min),\n      this.opts.gradient\n    )\n  }\n}\n\nSequenceColorer.prototype.id = 'SQ'\nSequenceColorer.prototype.name = 'Sequence'\nSequenceColorer.prototype.shortName = 'Sequence'\n\nexport default SequenceColorer\n","import Colorer from './Colorer'\n\nclass ChainColorer extends Colorer {\n  static id = 'CH'\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex)\n  }\n\n  getResidueColor(residue, _complex) {\n    return this.palette.getChainColor(residue.getChain()._name)\n  }\n}\n\nChainColorer.prototype.id = 'CH'\nChainColorer.prototype.name = 'Chain'\nChainColorer.prototype.shortName = 'Chain'\n\nexport default ChainColorer\n","import Colorer from './Colorer'\nimport ResidueType from '../../chem/ResidueType'\n\nclass SecondaryStructureColorer extends Colorer {\n  static id = 'SS'\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex)\n  }\n\n  getResidueColor(residue, _complex) {\n    if (residue._type.flags & ResidueType.Flags.DNA) {\n      return this.palette.getSecondaryColor('dna')\n    }\n    if (residue._type.flags & ResidueType.Flags.RNA) {\n      return this.palette.getSecondaryColor('rna')\n    }\n    const secondary = residue.getSecondary()\n    if (secondary) {\n      let color = this.palette.getSecondaryColor(secondary.type, true)\n      if (color === undefined) {\n        color = this.palette.getSecondaryColor(secondary.generic)\n      }\n      return color\n    }\n    return this.palette.defaultSecondaryColor\n  }\n}\n\nSecondaryStructureColorer.prototype.id = 'SS'\nSecondaryStructureColorer.prototype.name = 'Secondary Structure'\nSecondaryStructureColorer.prototype.shortName = 'Structure'\n\nexport default SecondaryStructureColorer\n","import Colorer from './Colorer'\n\nclass UniformColorer extends Colorer {\n  static id = 'UN'\n\n  getAtomColor(_atom, _complex) {\n    return this.opts.color\n  }\n\n  getResidueColor(_residue, _complex) {\n    return this.opts.color\n  }\n}\n\nUniformColorer.prototype.id = 'UN'\nUniformColorer.prototype.name = 'Uniform'\nUniformColorer.prototype.shortName = 'Uniform'\n\nexport default UniformColorer\n","import Colorer from './Colorer'\nimport selectors from '../../chem/selectors'\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @exports ConditionalColorer\n * @augments Colorer\n * @constructor\n * @classdesc Bicolor coloring algorithm based on a selector string used as a condition.\n */\nclass ConditionalColorer extends Colorer {\n  static id = 'CO'\n\n  constructor(opts) {\n    super(opts)\n    const parsed = selectors.parse(this.opts.subset)\n    this._subsetCached = parsed.error ? selectors.none() : parsed.selector\n  }\n\n  getAtomColor(atom, _complex) {\n    return this._subsetCached.includesAtom(atom)\n      ? this.opts.color\n      : this.opts.baseColor\n  }\n\n  getResidueColor(residue, _complex) {\n    const subset = this._subsetCached\n    const atoms = residue._atoms\n    for (let i = 0, n = atoms.length; i < n; ++i) {\n      if (!subset.includesAtom(atoms[i])) {\n        return this.opts.baseColor\n      }\n    }\n    return this.opts.color\n  }\n}\n\nConditionalColorer.prototype.id = 'CO'\nConditionalColorer.prototype.name = 'Conditional'\nConditionalColorer.prototype.shortName = 'Conditional'\n\nexport default ConditionalColorer\n","import Colorer from './Colorer'\n\nclass ConformationColorer extends Colorer {\n  static id = 'CF'\n\n  getAtomColor(atom, _complex) {\n    return this.palette.getChainColor(String.fromCharCode(atom.location))\n  }\n\n  getResidueColor(_residue, _complex) {\n    return this.palette.defaultResidueColor\n  }\n}\n\nConformationColorer.prototype.id = 'CF'\nConformationColorer.prototype.name = 'Conformation'\nConformationColorer.prototype.shortName = 'Conformation'\n\nexport default ConformationColorer\n","import Colorer from './Colorer'\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @see Temperature\n *\n * @exports TemperatureColorer\n * @augments Colorer\n * @constructor\n * @classdesc Coloring algorithm based on temperature of chemical element.\n */\nclass TemperatureColorer extends Colorer {\n  static id = 'TM'\n\n  getAtomColor(atom, _complex) {\n    const { opts } = this\n    let factor = 1\n    if (atom.temperature && opts) {\n      if (opts.min === opts.max) {\n        factor = atom.temperature > opts.max ? 1 : 0\n      } else {\n        factor = (atom.temperature - opts.min) / (opts.max - opts.min)\n      }\n      return this.palette.getGradientColor(factor, opts.gradient)\n    }\n    return this.palette.defaultGradientColor\n  }\n\n  getResidueColor(residue, _complex) {\n    const { opts } = this\n    if (!opts) {\n      return this.palette.defaultGradientColor\n    }\n    if (residue.temperature) {\n      let factor = 0\n      if (opts.min === opts.max) {\n        factor = residue.temperature > opts.max ? 1 : 0\n      } else {\n        factor = (residue.temperature - opts.min) / (opts.max - opts.min)\n      }\n      return this.palette.getGradientColor(factor, opts.gradient)\n    }\n    return this.palette.defaultGradientColor\n  }\n}\n\nTemperatureColorer.prototype.id = 'TM' // [T]e[M]perature\nTemperatureColorer.prototype.name = 'Temperature'\nTemperatureColorer.prototype.shortName = 'Temperature'\n\nexport default TemperatureColorer\n","import Colorer from './Colorer'\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @see Occupancy\n *\n * @exports OccupancyColorer\n * @arguments Occupancy\n * @constructor\n * @classdesc Coloring algorithm based on occupancy of chemical element.\n */\nclass OccupancyColorer extends Colorer {\n  static id = 'OC'\n\n  _getColorByOccupancy(occupancy, opts) {\n    if (occupancy !== undefined) {\n      const factor = 1 - occupancy\n      return this.palette.getGradientColor(factor, opts.gradient)\n    }\n    return this.palette.defaultGradientColor\n  }\n\n  getAtomColor(atom, _complex) {\n    const { opts } = this\n    return this._getColorByOccupancy(atom.occupancy, opts)\n  }\n\n  getResidueColor(residue, _complex) {\n    const { opts } = this\n    return this._getColorByOccupancy(residue.occupancy, opts)\n  }\n}\n\nOccupancyColorer.prototype.id = 'OC' // [OC]cupancy\nOccupancyColorer.prototype.name = 'Occupancy'\nOccupancyColorer.prototype.shortName = 'Occupancy'\n\nexport default OccupancyColorer\n","import Colorer from './Colorer'\n\nclass HydrophobicityColorer extends Colorer {\n  static id = 'HY'\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex)\n  }\n\n  getResidueColor(residue, _complex) {\n    let color = this.palette.defaultResidueColor\n    if (residue._type.hydrophobicity !== undefined) {\n      // Kyte Doolitle hydro [-4.5,4.5]->[0.1]\n      const min = -4.5\n      const max = 4.5\n      color = this.palette.getGradientColor(\n        (residue._type.hydrophobicity - min) / (max - min),\n        this.opts.gradient\n      )\n    }\n    return color\n  }\n}\n\nHydrophobicityColorer.prototype.id = 'HY'\nHydrophobicityColorer.prototype.name = 'Hydrophobicity'\nHydrophobicityColorer.prototype.shortName = 'Hydrophobicity'\n\nexport default HydrophobicityColorer\n","import Colorer from './Colorer'\n\nclass MoleculeColorer extends Colorer {\n  static id = 'MO'\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex)\n  }\n\n  getResidueColor(residue, _complex) {\n    const molecule = residue._molecule\n    const count = _complex.getMoleculeCount()\n    if (count > 1) {\n      return this.palette.getGradientColor(\n        (molecule.index - 1) / (count - 1),\n        this.opts.gradient\n      )\n    }\n    return this.palette.getGradientColor(0, this.opts.gradient)\n  }\n}\n\nMoleculeColorer.prototype.id = 'MO'\nMoleculeColorer.prototype.name = 'Molecule'\nMoleculeColorer.prototype.shortName = 'Molecule'\n\nexport default MoleculeColorer\n","import Colorer from './Colorer'\nimport Atom from '../../chem/Atom'\n\nfunction scaleColor(c, factor) {\n  const r1 = (c >> 16) & 0xff\n  const g1 = (c >> 8) & 0xff\n  const b1 = c & 0xff\n  const r = factor * r1\n  const g = factor * g1\n  const b = factor * b1\n  return (r << 16) | (g << 8) | b\n}\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @exports CarbonColorer\n * @augments Colorer\n * @constructor\n * @classdesc Bicolor coloring algorithm based on selection carbon atoms.\n */\nclass CarbonColorer extends Colorer {\n  static id = 'CB'\n\n  getAtomColor(atom, _complex) {\n    const colorCarbon = this.opts.color\n    const colorNotCarbon = scaleColor(colorCarbon, this.opts.factor)\n    return atom.flags & Atom.Flags.CARBON ? colorCarbon : colorNotCarbon\n  }\n\n  getResidueColor(_residue, _complex) {\n    return this.opts.color\n  }\n}\n\nCarbonColorer.prototype.id = 'CB'\nCarbonColorer.prototype.name = 'Carbon'\nCarbonColorer.prototype.shortName = 'Carbon'\n\nexport default CarbonColorer\n","import EntityList from '../utils/EntityList'\n\nimport ElementColorer from './colorers/ElementColorer'\nimport ResidueTypeColorer from './colorers/ResidueTypeColorer'\nimport SequenceColorer from './colorers/SequenceColorer'\nimport ChainColorer from './colorers/ChainColorer'\nimport SecondaryStructureColorer from './colorers/SecondaryStructureColorer'\nimport UniformColorer from './colorers/UniformColorer'\nimport ConditionalColorer from './colorers/ConditionalColorer'\nimport ConformationColorer from './colorers/ConformationColorer'\nimport TemperatureColorer from './colorers/TemperatureColorer'\nimport OccupancyColorer from './colorers/OccupancyColorer'\nimport HydrophobicityColorer from './colorers/HydrophobicityColorer'\nimport MoleculeColorer from './colorers/MoleculeColorer'\nimport CarbonColorer from './colorers/CarbonColorer'\n\nconst colorers = new EntityList([\n  ElementColorer,\n  ResidueTypeColorer,\n  SequenceColorer,\n  ChainColorer,\n  SecondaryStructureColorer,\n  UniformColorer,\n  ConditionalColorer,\n  ConformationColorer,\n  TemperatureColorer,\n  OccupancyColorer,\n  HydrophobicityColorer,\n  MoleculeColorer,\n  CarbonColorer\n])\n\nexport default colorers\n","import * as THREE from 'three'\nimport EntityList from '../utils/EntityList'\n\nfunction neutralColor(intensity) {\n  return new THREE.Color(intensity, intensity, intensity)\n}\n\nconst materialList = [\n  {\n    id: 'DF',\n    name: 'Diffuse',\n    shortName: 'Diffuse',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 1,\n      opacity: 1.0\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: false\n    }\n  },\n  {\n    id: 'SF',\n    name: 'Soft Plastic',\n    shortName: 'Soft',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.1),\n      shininess: 30,\n      opacity: 1.0\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: false\n    }\n  },\n  {\n    id: 'PL',\n    name: 'Glossy Plastic',\n    shortName: 'Glossy',\n    uberOptions: {\n      diffuse: neutralColor(0.56),\n      specular: neutralColor(0.28),\n      shininess: 100,\n      opacity: 1.0\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: false\n    }\n  },\n  {\n    id: 'ME',\n    name: 'Metal',\n    shortName: 'Metal',\n    uberOptions: {\n      diffuse: neutralColor(0.56),\n      specular: neutralColor(0.55),\n      shininess: 30,\n      opacity: 1.0\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: false\n    }\n  },\n  {\n    id: 'TR',\n    name: 'Transparent',\n    shortName: 'Transparent',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 1,\n      opacity: 0.5\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: true,\n      toonShading: false\n    }\n  },\n  {\n    id: 'GL',\n    name: 'Glass',\n    shortName: 'Glass',\n    uberOptions: {\n      diffuse: neutralColor(0.5),\n      specular: neutralColor(0.65),\n      shininess: 100,\n      opacity: 0.5\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: true,\n      toonShading: false\n    }\n  },\n  {\n    id: 'BA',\n    name: 'Backdrop',\n    shortName: 'Backdrop',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 1,\n      opacity: 1.0\n    },\n    values: {\n      lights: false,\n      fog: false,\n      depthWrite: false,\n      transparent: false,\n      toonShading: false\n    }\n  },\n  {\n    id: 'TN',\n    name: 'Toon',\n    shortName: 'Toon',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 1,\n      opacity: 1.0\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: true\n    }\n  },\n  {\n    id: 'FL',\n    name: 'Flat',\n    shortName: 'Flat',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 0,\n      opacity: 1.0\n    },\n    values: {\n      lights: false,\n      fog: true,\n      depthWrite: true,\n      transparent: false\n    }\n  }\n]\n\nconst materials = new EntityList(materialList)\n\nexport default materials\n","/**\n * Utils functions which is worked with meshes\n *\n * functions for doing something with all/specified meshes\n * functions for traversihg tree and create auxiliary meshes for transparency/shadowmaps...\n * functions for calculating data connected with meshes\n */\nimport * as THREE from 'three'\nimport UberMaterial from './shaders/UberMaterial'\nimport gfxutils from './gfxutils'\n\nfunction _gatherObjects(root, meshTypes) {\n  const meshes = []\n  root.traverse((object) => {\n    for (let i = 0; i < meshTypes.length; i++) {\n      if (object instanceof meshTypes[i]) {\n        meshes[meshes.length] = object\n        break\n      }\n    }\n  })\n  return meshes\n}\n\n// new mesh with the same geometry and specified material values and layer\nfunction createDerivativeMesh(mesh, values, layer) {\n  const material = mesh.material.createInstance()\n  material.setValues(values)\n\n  const newMesh = new mesh.constructor(mesh.geometry, material)\n  newMesh.material.needsUpdate = true\n  newMesh.applyMatrix4(mesh.matrix)\n  newMesh.layers.set(layer)\n  return newMesh\n}\n\nfunction traverseMeshes(root, meshTypes, func) {\n  const meshes = _gatherObjects(root, meshTypes)\n\n  for (let i = 0, n = meshes.length; i < n; ++i) {\n    const mesh = meshes[i]\n    if (!mesh.parent) {\n      continue\n    }\n    func(mesh)\n  }\n}\n\nfunction applyTransformsToMeshes(root, mtc) {\n  const mtcCount = mtc.length\n  if (mtcCount < 1) {\n    return\n  }\n\n  const meshTypes = [THREE.Mesh, THREE.LineSegments, THREE.Line]\n  traverseMeshes(root, meshTypes, (mesh) => {\n    mesh.applyMatrix4(mtc[0])\n    for (let j = 1; j < mtcCount; ++j) {\n      const newMesh = new mesh.constructor(mesh.geometry, mesh.material)\n      mesh.parent.add(newMesh)\n      newMesh.applyMatrix4(mtc[j])\n    }\n  })\n}\n\nconst processTransparentMaterial = (function () {\n  const matValues = {\n    prepassTransparancy: true,\n    fakeOpacity: false,\n    transparent: false,\n    colorFromDepth: false,\n    lights: false,\n    shadowmap: false,\n    fog: false\n  }\n\n  return function (root, material) {\n    if (!(material instanceof UberMaterial)) {\n      return\n    }\n\n    traverseMeshes(root, [THREE.Mesh, THREE.LineSegments], (mesh) => {\n      mesh.material.setValues({\n        prepassTransparancy: false,\n        fakeOpacity: false\n      })\n      mesh.material.needsUpdate = true\n      mesh.layers.set(gfxutils.LAYERS.TRANSPARENT)\n\n      const prepassTranspMesh = createDerivativeMesh(\n        mesh,\n        matValues,\n        gfxutils.LAYERS.PREPASS_TRANSPARENT\n      )\n      mesh.parent.add(prepassTranspMesh)\n    })\n  }\n})()\n\nconst processColFromPosMaterial = (function () {\n  const matValues = {\n    colorFromPos: true,\n    transparent: false,\n    colorFromDepth: false,\n    lights: false,\n    shadowmap: false,\n    fog: false,\n    overrideColor: false,\n    fogTransparent: false,\n    attrColor: false,\n    attrColor2: false,\n    attrAlphaColor: false,\n    fakeOpacity: false\n  }\n\n  return function (root, material) {\n    if (!(material instanceof UberMaterial)) {\n      return\n    }\n\n    traverseMeshes(root, [THREE.Mesh, THREE.LineSegments], (mesh) => {\n      const colFromPosMesh = createDerivativeMesh(\n        mesh,\n        matValues,\n        gfxutils.LAYERS.COLOR_FROM_POSITION\n      )\n      mesh.parent.add(colFromPosMesh)\n    })\n  }\n})()\n\nconst createShadowmapMaterial = (function () {\n  const matValues = {\n    colorFromDepth: true,\n    orthoCam: true,\n    lights: false,\n    shadowmap: false,\n    fog: false\n  }\n\n  return function (root, material) {\n    if (!(material instanceof UberMaterial)) {\n      return\n    }\n    traverseMeshes(root, [THREE.Mesh, THREE.LineSegments], (mesh) => {\n      if (!mesh.receiveShadow && mesh.material.shadowmap) {\n        // remove shadow from non-receivers\n        mesh.material.setValues({ shadowmap: false })\n      }\n      if (!mesh.material.lights) {\n        // skip creating shadowmap meshes for materials without lighting\n        return\n      }\n      if (!mesh.castShadow) {\n        // skip creating shadowmap meshes for non-casters\n        return\n      }\n      if (!gfxutils.belongToSelectLayers(mesh)) {\n        // skip creating shadowmap meshes for selection layer\n        return\n      }\n\n      const shadowmapMesh = createDerivativeMesh(\n        mesh,\n        matValues,\n        gfxutils.LAYERS.SHADOWMAP\n      )\n      shadowmapMesh.isShadowmapMesh = true\n      mesh.parent.add(shadowmapMesh)\n    })\n  }\n})()\n\nfunction removeShadowmapMaterial(root, material) {\n  if (!(material instanceof UberMaterial)) {\n    return\n  }\n\n  traverseMeshes(root, [THREE.Mesh, THREE.LineSegments], (mesh) => {\n    if (mesh.isShadowmapMesh) {\n      mesh.parent.remove(mesh)\n    }\n  })\n}\n\nfunction forEachMeshInGroup(group, process) {\n  function processObj(object) {\n    if (object instanceof THREE.Mesh) {\n      process(object)\n    }\n    for (let i = 0, l = object.children.length; i < l; i++) {\n      processObj(object.children[i])\n    }\n  }\n  processObj(group)\n}\n\nfunction _countMeshTriangles(mesh) {\n  const geom = mesh.geometry\n  if (geom instanceof THREE.InstancedBufferGeometry) {\n    const attribs = geom.attributes\n    for (const property in attribs) {\n      if (\n        attribs.hasOwnProperty(property) &&\n        attribs[property] instanceof THREE.InstancedBufferAttribute\n      ) {\n        const currAttr = attribs[property]\n        const indexSize = geom.index ? geom.index.array.length / 3 : 0\n        return (indexSize * currAttr.array.length) / currAttr.itemSize\n      }\n    }\n    return 0\n  }\n  if (geom instanceof THREE.BufferGeometry) {\n    return geom.index ? geom.index.array.length / 3 : 0\n  }\n  return geom.faces ? geom.faces.length : 0\n}\n\nfunction countTriangles(group) {\n  let totalCount = 0\n  forEachMeshInGroup(group, (mesh) => {\n    totalCount += _countMeshTriangles(mesh)\n  })\n  return totalCount\n}\n\nexport default {\n  applyTransformsToMeshes,\n  processTransparentMaterial,\n  processColFromPosMaterial,\n  createShadowmapMaterial,\n  removeShadowmapMaterial,\n  forEachMeshInGroup,\n  countTriangles\n}\n","import _ from 'lodash'\nimport * as THREE from 'three'\nimport UberMaterial from './shaders/UberMaterial'\nimport gfxutils from './gfxutils'\nimport meshutils from './meshutils'\nimport settings from '../settings'\nimport materials from './materials'\nimport chem from '../chem'\n\nconst { selectors } = chem\n\nclass Representation {\n  constructor(index, mode, colorer, selector) {\n    const startMaterialValues = {\n      clipPlane: settings.now.draft.clipPlane,\n      fogTransparent: settings.now.bg.transparent,\n      shadowmap: settings.now.shadow.on,\n      shadowmapType: settings.now.shadow.type\n    }\n    this.index = index\n    this.mode = mode\n    this.colorer = colorer\n    this.selector = selector\n    this.selectorString = ''\n    this.count = 0\n    this.material = new UberMaterial()\n    this.material.setValues(startMaterialValues)\n    this.material.setUberOptions({ fogAlpha: settings.now.fogAlpha })\n    this.materialPreset = materials.first\n    this.needsRebuild = true\n    this.visible = true\n\n    // apply mode params & preset\n    this.setMode(mode)\n  }\n\n  markAtoms(complex) {\n    this.count = complex.markAtoms(this.selector, 1 << this.index)\n    this.needsRebuild = true\n    return this.count\n  }\n\n  unmarkAtoms(complex) {\n    complex.clearAtomBits(1 << this.index)\n    this.count = 0\n  }\n\n  setMode(mode) {\n    this.mode = mode\n  }\n\n  setMaterialPreset(preset) {\n    this.materialPreset = preset\n    this.material.setUberOptions(preset.uberOptions)\n    this.material.setValues(preset.values)\n  }\n\n  reset() {\n    this.geo = null\n    this.selectionGeo = null\n  }\n\n  buildGeometry(complex) {\n    this.reset()\n    this.needsRebuild = false\n\n    if (settings.now.ao) {\n      this.material.setValues({ normalsToGBuffer: settings.now.ao })\n    }\n\n    this.geo = this.mode.buildGeometry(\n      complex,\n      this.colorer,\n      1 << this.index,\n      this.material\n    )\n\n    if (\n      this.material.uberOptions.opacity < 0.99 &&\n      settings.now.transparency === 'prepass'\n    ) {\n      meshutils.processTransparentMaterial(this.geo, this.material)\n    }\n    this.geo.visible = this.visible\n\n    gfxutils.processObjRenderOrder(this.geo, this.materialPreset.id)\n    meshutils.processColFromPosMaterial(this.geo, this.material)\n\n    if (settings.now.shadow.on) {\n      meshutils.createShadowmapMaterial(this.geo, this.material)\n    }\n\n    return this.geo\n  }\n\n  buildSelectionGeometry(mask) {\n    let sg = null\n\n    if (this.geo && 'getSubset' in this.geo) {\n      const meshes = this.geo.getSubset(mask)\n      if (meshes && meshes.length > 0) {\n        sg = new THREE.Group()\n        sg.matrixAutoUpdate = false\n        sg.matrix = this.geo.matrix\n\n        for (let j = 0; j < meshes.length; j++) {\n          const m = meshes[j]\n          sg.add(m)\n        }\n      }\n    }\n\n    if (sg) {\n      sg.visible = this.visible\n    }\n\n    this.selectionGeo = sg\n    return this.selectionGeo\n  }\n\n  /**\n   * Create object that represents difference between current and another rep\n   * anotherRep could be undefined. In this case everything is reported.\n   */\n  compare(repSettings) {\n    const diff = {}\n\n    const selStr = String(this.selector)\n    if (\n      !repSettings ||\n      selStr.valueOf() !== String(repSettings.selector).valueOf()\n    ) {\n      diff.selector = selStr\n    }\n\n    const modeDiff = this.mode.identify()\n    if (\n      !repSettings ||\n      Array.isArray(modeDiff) ||\n      modeDiff !== repSettings.mode\n    ) {\n      diff.mode = modeDiff\n    }\n\n    const colorerDiff = this.colorer.identify()\n    if (\n      !repSettings ||\n      Array.isArray(colorerDiff) ||\n      colorerDiff !== repSettings.colorer\n    ) {\n      diff.colorer = colorerDiff\n    }\n\n    if (!repSettings || this.materialPreset.id !== repSettings.material) {\n      diff.material = this.materialPreset.id\n    }\n\n    return diff\n  }\n\n  /**\n   * Change representation. Write fields what was changed into new object, return it.\n   */\n  change(repSettings, complex, mode, color) {\n    const diff = {}\n\n    // modify selector\n    if (repSettings.selector) {\n      const newSelectorObject = selectors.parse(repSettings.selector).selector\n      const newSelector = String(newSelectorObject)\n      if (this.selectorString !== newSelector) {\n        diff.selector = newSelector\n        this.selectorString = newSelector\n        this.selector = newSelectorObject\n        this.markAtoms(complex)\n      }\n    }\n\n    // modify mode\n    if (repSettings.mode) {\n      const newMode = repSettings.mode\n      if (!_.isEqual(this.mode.identify(), newMode)) {\n        diff.mode = newMode\n        this.setMode(mode)\n      }\n    }\n\n    // modify colorer\n    if (repSettings.colorer) {\n      const newColorer = repSettings.colorer\n      if (!_.isEqual(this.colorer.identify(), newColorer)) {\n        diff.colorer = newColorer\n        this.colorer = color\n      }\n    }\n\n    // modify material\n    if (repSettings.material) {\n      const newMaterial = repSettings.material\n      if (!_.isEqual(this.materialPreset.id, newMaterial)) {\n        diff.material = newMaterial\n        this.setMaterialPreset(materials.get(repSettings.material))\n      }\n    }\n\n    return diff\n  }\n\n  show(visible) {\n    this.visible = visible\n    if (this.geo) {\n      this.geo.visible = visible\n    }\n    if (this.selectionGeo) {\n      this.selectionGeo.visible = visible\n    }\n  }\n}\n\nexport default Representation\n","import * as THREE from 'three'\nimport logger from './utils/logger'\nimport gfxutils from './gfx/gfxutils'\nimport './gfx/modes'\n\nfunction _traverseComponentGroups(root, component, callback) {\n  const { children } = root\n  if (!children) {\n    return\n  }\n\n  for (let i = 0, n = children.length; i < n; ++i) {\n    const child = children[i]\n    if (child._component === component) {\n      callback(child)\n    }\n    if (child instanceof gfxutils.RCGroup) {\n      _traverseComponentGroups(child, component, callback)\n    }\n  }\n}\n\nfunction ComplexEditor() {}\n\nclass ComplexComponentEditor extends ComplexEditor {\n  constructor(complexVisual) {\n    super()\n    this._complexVisual = complexVisual\n    this._inProgress = false\n  }\n\n  begin() {\n    const complex = this._complexVisual.getComplex()\n\n    // init component matrices\n    this._componentTransforms = []\n    for (let i = 0; i < complex._components.length; ++i) {\n      const component = complex._components[i]\n      this._componentTransforms[component._index] = new THREE.Object3D()\n    }\n\n    this._inProgress = true\n\n    return true\n  }\n\n  apply() {\n    if (!this._inProgress) {\n      return\n    }\n\n    const complex = this._complexVisual.getComplex()\n\n    for (let i = 0; i < complex._components.length; ++i) {\n      this._bakeComponentTransform(complex._components[i])\n    }\n\n    complex.onAtomPositionChanged()\n\n    this._resetComponentTransform()\n\n    this._complexVisual.finalizeEdit()\n  }\n\n  discard() {\n    if (!this._inProgress) {\n      return\n    }\n\n    this._resetComponentTransform()\n\n    this._complexVisual.finalizeEdit()\n  }\n\n  getAltObj() {\n    const res = {\n      objects: [],\n      pivot: new THREE.Vector3(0, 0, 0)\n    }\n\n    const visual = this._complexVisual\n    const component = visual.getSelectedComponent()\n\n    if (component === null) {\n      return res\n    }\n\n    const selection = this._complexVisual.getSelectionGeo()\n    const selectionMask = 1 << visual.getSelectionBit()\n    let i\n    let j\n    let reprNode\n    let geo\n\n    // find all geo nodes for this component\n    _traverseComponentGroups(visual, component, (child) => {\n      res.objects.push(child)\n    })\n\n    // find all selection nodes for this component\n    for (i = 0; i < selection.children.length; ++i) {\n      reprNode = selection.children[i]\n      for (j = 0; j < reprNode.children.length; ++j) {\n        geo = reprNode.children[j]\n        if (geo.hasOwnProperty('_component') && geo._component === component) {\n          res.objects.push(geo)\n        }\n      }\n    }\n\n    // add dummy object that stores component transformation\n    res.objects.push(this._componentTransforms[component._index])\n\n    const bbmin = new THREE.Vector3(\n      Number.MAX_VALUE,\n      Number.MAX_VALUE,\n      Number.MAX_VALUE\n    )\n    const bbmax = new THREE.Vector3(\n      -Number.MAX_VALUE,\n      -Number.MAX_VALUE,\n      -Number.MAX_VALUE\n    )\n\n    component.forEachResidue((residue) => {\n      const atoms = residue._atoms\n      for (j = 0; j < atoms.length; ++j) {\n        if (atoms[j].mask & selectionMask) {\n          bbmin.min(atoms[j].position)\n          bbmax.max(atoms[j].position)\n        }\n      }\n    })\n\n    res.pivot.lerpVectors(bbmin, bbmax, 0.5)\n    return res\n  }\n\n  _bakeComponentTransform(component) {\n    const t = this._componentTransforms[component._index]\n    if (\n      t &&\n      (!(t.position.x === 0 && t.position.y === 0 && t.position.z === 0) ||\n        !(\n          t.quaternion.x === 0 &&\n          t.quaternion.y === 0 &&\n          t.quaternion.z === 0 &&\n          t.quaternion.w === 1\n        ))\n    ) {\n      t.updateMatrix()\n\n      component.forEachResidue((residue) => {\n        const atoms = residue._atoms\n        for (let j = 0; j < atoms.length; ++j) {\n          atoms[j].position.applyMatrix4(t.matrix)\n        }\n      })\n    }\n  }\n\n  _resetComponentTransform() {\n    const visual = this._complexVisual\n    const selection = this._complexVisual.getSelectionGeo()\n    let i\n    let j\n    let reprNode\n    let geo\n\n    for (i = 0; i < this._componentTransforms.length; ++i) {\n      geo = this._componentTransforms[i]\n      geo.position.set(0, 0, 0)\n      geo.quaternion.set(0, 0, 0, 1)\n    }\n\n    // reset all geo nodes\n    for (i = 0; i < visual.children.length; ++i) {\n      reprNode = visual.children[i]\n      for (j = 0; j < reprNode.children.length; ++j) {\n        geo = reprNode.children[j]\n        if (geo.hasOwnProperty('_component')) {\n          geo.position.set(0, 0, 0)\n          geo.quaternion.set(0, 0, 0, 1)\n        }\n      }\n    }\n\n    // reset all selection nodes\n    for (i = 0; i < selection.children.length; ++i) {\n      reprNode = selection.children[i]\n      for (j = 0; j < reprNode.children.length; ++j) {\n        geo = reprNode.children[j]\n        if (geo.hasOwnProperty('_component')) {\n          geo.position.set(0, 0, 0)\n          geo.quaternion.set(0, 0, 0, 1)\n        }\n      }\n    }\n  }\n}\n\nclass ComplexFragmentEditor extends ComplexEditor {\n  constructor(complexVisual) {\n    super()\n    this._complexVisual = complexVisual\n    this._inProgress = false\n  }\n\n  begin() {\n    const visual = this._complexVisual\n    const selection = this._complexVisual.getSelectionGeo()\n\n    const atoms = this._getSelectionBorderAtoms()\n    if (atoms.length < 1 || atoms.length > 2) {\n      logger.error('Can only edit fragments with one or two bound atoms.')\n      return false\n    }\n\n    this._fragmentBoundAtoms = atoms\n\n    const selectionMask = 1 << visual.getSelectionBit()\n\n    // hide selected fragment in main model\n    visual.disableSubset(selectionMask, true)\n\n    // hide selection geo in main model\n    for (let k = 0; k < selection.children.length; ++k) {\n      selection.children[k].visible = false\n    }\n\n    // create visible fragment representation to rotate\n    const pivotPos = atoms[0].position.clone()\n\n    if (atoms.length === 2) {\n      pivotPos.lerp(atoms[1].position, 0.5)\n    }\n\n    this._fragmentGeo = new THREE.Group()\n    visual.add(this._fragmentGeo)\n    this._fragmentGeo.position.copy(pivotPos)\n\n    this._fragmentSelectionGeo = new THREE.Group()\n    selection.add(this._fragmentSelectionGeo)\n    this._fragmentSelectionGeo.position.copy(pivotPos)\n\n    const offset = pivotPos.clone()\n    offset.negate()\n\n    for (let i = 0; i < visual.children.length; ++i) {\n      const g = visual.children[i]\n      if (!('getSubset' in g)) {\n        continue\n      }\n\n      const vg = new THREE.Group()\n      this._fragmentGeo.add(vg)\n\n      const sg = new THREE.Group()\n      this._fragmentSelectionGeo.add(sg)\n\n      const meshes = g.getSubset(selectionMask, true)\n      for (let j = 0; j < meshes.length; j++) {\n        const m = meshes[j]\n        vg.add(m)\n        m.position.copy(offset)\n      }\n\n      const smeshes = g.getSubset(selectionMask, true)\n      for (let h = 0; h < smeshes.length; h++) {\n        const sm = smeshes[h]\n        sg.add(sm)\n        sm.position.copy(offset)\n      }\n    }\n\n    gfxutils.applySelectionMaterial(this._fragmentSelectionGeo)\n\n    this._inProgress = true\n    return true\n  }\n\n  apply() {\n    if (!this._inProgress) {\n      return\n    }\n\n    const visual = this._complexVisual\n    const selectionBit = visual.getSelectionBit()\n\n    const p = this._fragmentGeo.position\n    const m = this._fragmentGeo.matrix.clone()\n    m.multiply(new THREE.Matrix4().makeTranslation(-p.x, -p.y, -p.z))\n\n    this._bakeAtomTransform(m, 1 << selectionBit)\n\n    // show selected fragment in main model\n    visual.enableSubset(1 << selectionBit, true)\n\n    visual.getComplex().onAtomPositionChanged()\n\n    visual.finalizeEdit()\n  }\n\n  discard() {\n    if (!this._inProgress) {\n      return\n    }\n\n    const visual = this._complexVisual\n    const selection = this._complexVisual.getSelectionGeo()\n\n    this._fragmentGeo.parent.remove(this._fragmentGeo)\n\n    // show selected fragment in main model\n    visual.enableSubset(1 << visual.getSelectionBit(), true)\n\n    // show selection geo in main model (+ remove fragment selection geo)\n    for (let i = 0; i < selection.children.length; ++i) {\n      const node = selection.children[i]\n      if (node.visible) {\n        selection.remove(node)\n      } else {\n        node.visible = true\n      }\n    }\n\n    visual.finalizeEdit()\n  }\n\n  isFreeRotationAllowed() {\n    return this._fragmentBoundAtoms.length < 2\n  }\n\n  getAltObj() {\n    const res = {\n      objects: [],\n      pivot: new THREE.Vector3(0, 0, 0)\n    }\n\n    res.objects.push(this._fragmentGeo, this._fragmentSelectionGeo)\n\n    const boundAtoms = this._fragmentBoundAtoms\n    if (boundAtoms.length === 1) {\n      if (boundAtoms[0].bonds.length === 1) {\n        // single external bond allows rotation about bond axis\n        const bond = boundAtoms[0].bonds[0]\n        res.axis = new THREE.Vector3().subVectors(\n          bond._right.position,\n          bond._left.position\n        )\n        res.axis.normalize()\n        res.axis.transformDirection(this._complexVisual.matrixWorld)\n      }\n    } else if (boundAtoms.length === 2) {\n      // two bound atoms allow rotation only about axis running through their centers\n      res.axis = new THREE.Vector3().subVectors(\n        boundAtoms[1].position,\n        boundAtoms[0].position\n      )\n      res.axis.normalize()\n      res.axis.transformDirection(this._complexVisual.matrixWorld)\n    }\n\n    return res\n  }\n\n  _getSelectionBorderAtoms() {\n    const complex = this._complexVisual.getComplex()\n\n    const selectionMask = 1 << this._complexVisual.getSelectionBit()\n    const atomHash = {}\n\n    complex.forEachBond((bond) => {\n      if (bond._left.mask & selectionMask) {\n        if ((bond._right.mask & selectionMask) === 0) {\n          atomHash[bond._left.index] = 1\n        }\n      } else if (bond._right.mask & selectionMask) {\n        atomHash[bond._right.index] = 1\n      }\n    })\n\n    const atoms = []\n    const keys = Object.keys(atomHash)\n    for (let i = 0, n = keys.length; i < n; ++i) {\n      const idx = keys[i]\n      atoms.push(complex._atoms[idx])\n    }\n\n    return atoms\n  }\n\n  _bakeAtomTransform(matrix, mask) {\n    this._complexVisual.getComplex().forEachAtom((atom) => {\n      if (atom.mask & mask) {\n        atom.position.applyMatrix4(matrix)\n      }\n    })\n  }\n}\n\nexport default {\n  ComponentEditor: ComplexComponentEditor,\n  FragmentEditor: ComplexFragmentEditor\n}\n","import _ from 'lodash'\nimport * as THREE from 'three'\nimport utils from './utils'\nimport logger from './utils/logger'\nimport chem from './chem'\nimport settings from './settings'\nimport gfxutils from './gfx/gfxutils'\nimport modes from './gfx/modes'\nimport colorers from './gfx/colorers'\nimport palettes from './gfx/palettes'\nimport materials from './gfx/materials'\nimport Representation from './gfx/Representation'\nimport Visual from './Visual'\nimport ComplexVisualEdit from './ComplexVisualEdit'\nimport meshutils from './gfx/meshutils'\n\nconst { selectors } = chem\n\nfunction lookupAndCreate(entityList, specs) {\n  if (!Array.isArray(specs)) {\n    specs = [specs]\n  }\n  const [id, opts] = specs\n  const Entity = entityList.get(id) || entityList.first\n  return new Entity(opts)\n}\n\nclass ComplexVisual extends Visual {\n  constructor(name, dataSource) {\n    super(name, dataSource)\n    this._complex = dataSource\n\n    /** @type {Representation[]} */\n    this._reprList = []\n    /** @type {?Representation} */\n    this._repr = null\n    this._reprListChanged = true\n\n    this._selectionBit = 0\n    this._reprUsedBits = 0\n    this._selectionCount = 0\n\n    this._selectionGeometry = new THREE.Group()\n  }\n\n  getBoundaries() {\n    return this._complex.getBoundaries()\n  }\n\n  release() {\n    if (this._selectionGeometry.parent) {\n      this._selectionGeometry.remove(this._selectionGeometry)\n    }\n    Visual.prototype.release.call(this)\n  }\n\n  getComplex() {\n    return this._complex\n  }\n\n  getSelectionCount() {\n    return this._selectionCount\n  }\n\n  getSelectionGeo() {\n    return this._selectionGeometry\n  }\n\n  getSelectionBit() {\n    return this._selectionBit\n  }\n\n  getEditor() {\n    return this._editor\n  }\n\n  resetReps(reps) {\n    // Create all necessary representations\n    if (this._complex) {\n      this._complex.clearAtomBits(~0)\n    }\n    this._reprListChanged = true\n    this._reprUsedBits = 0\n    this._reprList.length = reps.length\n    for (let i = 0, n = reps.length; i < n; ++i) {\n      const rep = reps[i]\n\n      let selector\n      let selectorString\n      if (typeof rep.selector === 'string') {\n        selectorString = rep.selector\n        ;({ selector } = selectors.parse(selectorString))\n      } else if (typeof rep.selector === 'undefined') {\n        selectorString = settings.now.presets.default[0].selector\n        ;({ selector } = selectors.parse(selectorString))\n      } else {\n        ;({ selector } = rep)\n        selectorString = selector.toString()\n      }\n      const mode = lookupAndCreate(modes, rep.mode)\n      const colorer = lookupAndCreate(colorers, rep.colorer)\n      const material = materials.get(rep.material) || materials.first\n\n      this._reprList[i] = new Representation(i, mode, colorer, selector)\n      this._reprList[i].setMaterialPreset(material)\n      this._reprList[i].selectorString = selectorString\n\n      if (this._complex) {\n        this._complex.markAtoms(selector, 1 << i)\n      }\n\n      this._reprUsedBits |= 1 << i\n    }\n    this._repr = reps.length > 0 ? this._reprList[0] : null\n\n    this._selectionBit = reps.length\n    this._reprUsedBits |= 1 << this._selectionBit // selection uses one bit\n    this._selectionCount = 0\n\n    if (this._complex) {\n      this._complex.update()\n    }\n  }\n\n  /**\n   * Get number of representations created so far.\n   * @returns {number} Number of reps.\n   */\n  repCount() {\n    return this._reprList.length\n  }\n\n  /**\n   * Get or set the current representation index.\n   * @param {number=} index - Zero-based index, up to {@link Miew#repCount()}. Defaults to the current one.\n   * @returns {number} The current index.\n   */\n  repCurrent(index) {\n    if (index >= 0 && index < this._reprList.length) {\n      this._repr = this._reprList[index]\n    } else {\n      index = this._reprList.indexOf(this._repr)\n    }\n    return index\n  }\n\n  /**\n   * Get or set representation by index.\n   * @param {number=} index - Zero-based index, up to {@link Miew#repCount()}. Defaults to the current one.\n   * @param {object=} rep - Optional representation description.\n   * @param {string=} rep.selector - Selector string.\n   * @param {string=} rep.mode - Mode id.\n   * @param {string=} rep.colorer - Colorer id.\n   * @param {string=} rep.material - Material id.\n   * @returns {Object} {desc, index, status} field desc contains rep description, index - index of correspondent rep,\n   * status - one of three strings: 'created', 'changed', ''. 'created' means new rep was created during this function,\n   * 'changed' - rep was changed during this function. '' - something else.\n   */\n  rep(index, rep) {\n    // if index is missing then it is the current\n    if (!rep && (index === undefined || index instanceof Object)) {\n      rep = index\n      index = this.repCurrent()\n    }\n\n    // fail if out of bounds\n    if (index < 0 || index > this._reprList.length) {\n      logger.error(`Rep ${index} does not exist!`)\n      return null\n    }\n\n    // a special case of adding just after the end\n    if (index === this._reprList.length) {\n      const res = this.repAdd(rep)\n      logger.warn(\n        `Rep ${index} does not exist! New representation was created.`\n      )\n      return { desc: res.desc, index, status: 'created' }\n    }\n\n    // gather description\n    const target = this._reprList[index]\n    const desc = {\n      selector: target.selectorString,\n      mode: target.mode.identify(),\n      colorer: target.colorer.identify(),\n      material: target.materialPreset.id\n    }\n\n    // modification is requested\n    if (rep) {\n      // modify\n      const diff = target.change(\n        rep,\n        this._complex,\n        lookupAndCreate(modes, rep.mode),\n        lookupAndCreate(colorers, rep.colorer)\n      )\n\n      // something was changed\n      if (!_.isEmpty(diff)) {\n        target.needsRebuild = true\n        for (const key in diff) {\n          if (diff.hasOwnProperty(key)) {\n            desc[key] = diff[key]\n            logger.debug(`rep[${index}].${key} changed to ${diff[key]}`)\n          }\n        }\n\n        // safety trick: lower resolution for surface modes\n        if (\n          diff.mode &&\n          target.mode.isSurface &&\n          (settings.now.resolution === 'ultra' ||\n            settings.now.resolution === 'high')\n        ) {\n          logger.report(\n            'Surface resolution was changed to \"medium\" to avoid hang-ups.'\n          )\n          settings.set('resolution', 'medium')\n        }\n        return { desc, index, status: 'changed' }\n      }\n    }\n    return { desc, index, status: '' }\n  }\n\n  /**\n   * Get representation (not just description) by index.\n   * @param {number=} index - Zero-based index, up to {@link Miew#repCount()}. Defaults to the current one.\n   * @returns {?object} Representation.\n   */\n  repGet(index) {\n    // if index is missing then it is the current\n    if (index === undefined || index instanceof Object) {\n      index = this.repCurrent()\n    }\n\n    // fail if out of bounds\n    if (index < 0 || index >= this._reprList.length) {\n      return null\n    }\n\n    return this._reprList[index]\n  }\n\n  _getFreeReprIdx() {\n    let bits = this._reprUsedBits\n    for (\n      let i = 0;\n      i <= ComplexVisual.NUM_REPRESENTATION_BITS;\n      ++i, bits >>= 1\n    ) {\n      if ((bits & 1) === 0) {\n        return i\n      }\n    }\n    return -1\n  }\n\n  /**\n   * Add new representation.\n   * @param {object=} rep - Representation description.\n   * @returns {Object} {desc, index} field desc contains added rep description, index - index of this rep.\n   */\n  repAdd(rep) {\n    if (this._reprList.length >= ComplexVisual.NUM_REPRESENTATION_BITS) {\n      return null\n    }\n\n    const newSelectionBit = this._getFreeReprIdx()\n    if (newSelectionBit < 0) {\n      return null // no more slots for representations\n    }\n\n    const originalSelection = this.buildSelectorFromMask(\n      1 << this._selectionBit\n    )\n\n    // Fill in default values\n    const def = settings.now.presets.default[0]\n    const desc = _.merge(\n      {\n        selector: def.selector,\n        mode: def.mode,\n        colorer: def.colorer,\n        material: def.material\n      },\n      rep\n    )\n\n    const selector =\n      typeof desc.selector === 'string'\n        ? selectors.parse(desc.selector).selector\n        : desc.selector\n    const target = new Representation(\n      this._selectionBit,\n      lookupAndCreate(modes, desc.mode),\n      lookupAndCreate(colorers, desc.colorer),\n      selector\n    )\n    target.selectorString = selector.toString()\n    target.setMaterialPreset(materials.get(desc.material))\n    target.markAtoms(this._complex)\n    this._reprList.push(target)\n\n    // change selection bit\n    this._selectionBit = newSelectionBit\n    this._reprUsedBits |= 1 << this._selectionBit\n\n    // restore selection using new selection bit\n    this._complex.markAtoms(originalSelection, 1 << this._selectionBit)\n\n    return { desc, index: this._reprList.length - 1 }\n  }\n\n  /**\n   * Remove representation.\n   * @param {number=} index - Zero-based representation index.\n   */\n  repRemove(index) {\n    if (index === undefined) {\n      index = this.repCurrent()\n    }\n\n    // catch out of bounds case\n    let count = this._reprList.length\n    if (index < 0 || index >= count || count <= 1) {\n      // do not allow to remove the single rep\n      return\n    }\n\n    const target = this._reprList[index]\n    target.unmarkAtoms(this._complex)\n    this._reprUsedBits &= ~(1 << target.index)\n\n    this._reprList.splice(index, 1)\n\n    // update current rep\n    if (target === this._repr) {\n      --count\n      index = index < count ? index : count - 1\n      this._repr = this._reprList[index]\n    }\n    this._reprListChanged = true\n  }\n\n  /**\n   * Hide representation.\n   * @param {number} index - Zero-based representation index.\n   * @param {boolean=} hide - Specify false to make rep visible, true to hide (by default).\n   */\n  repHide(index, hide) {\n    if (hide === undefined) {\n      hide = true\n    }\n\n    // fail if out of bounds\n    if (index < 0 || index >= this._reprList.length) {\n      return\n    }\n\n    const target = this._reprList[index]\n    target.show(!hide)\n  }\n\n  /**\n   * Select atoms with selector\n   * @param {Selector} selector - selector\n   * @param {boolean=} append - true to append selection atoms to current selection, false to rewrite selection\n   */\n  select(selector, append) {\n    if (append) {\n      this._selectionCount += this._complex.markAtomsAdditionally(\n        selector,\n        1 << this._selectionBit\n      )\n    } else {\n      this._selectionCount = this._complex.markAtoms(\n        selector,\n        1 << this._selectionBit\n      )\n    }\n    this._complex.updateStructuresMask()\n    this.rebuildSelectionGeometry()\n  }\n\n  resetSelectionMask() {\n    if (this._selectionCount !== 0) {\n      this._selectionCount = 0\n      if (this._complex) {\n        this._complex.clearAtomBits(1 << this._selectionBit)\n      }\n    }\n  }\n\n  updateSelectionMask(pickedObj) {\n    const self = this\n    const { atom } = pickedObj\n    let { residue, chain, molecule } = pickedObj\n    const setMask = 1 << this._selectionBit\n    const clearMask = ~setMask\n\n    if (atom) {\n      residue = atom.residue\n      chain = residue._chain\n      molecule = residue._molecule\n\n      if (atom.mask & setMask) {\n        atom.mask &= clearMask\n        residue._mask &= clearMask\n        chain._mask &= clearMask\n        if (molecule) {\n          molecule.mask &= clearMask\n        }\n        this._selectionCount--\n      } else {\n        atom.mask |= setMask\n        this._selectionCount++\n\n        // select residue if all atoms in it are selected\n        residue.collectMask()\n        // select chain and molecule if all residues in it are selected\n        chain.collectMask()\n        if (molecule) {\n          molecule.collectMask()\n        }\n      }\n    } else if (residue) {\n      chain = residue._chain\n      molecule = residue._molecule\n\n      if (residue._mask & setMask) {\n        residue._mask &= clearMask\n        chain._mask &= clearMask\n        residue.forEachAtom((a) => {\n          if (a.mask & setMask) {\n            a.mask &= clearMask\n            self._selectionCount--\n          }\n        })\n      } else {\n        residue._mask |= setMask\n        residue.forEachAtom((a) => {\n          if (!(a.mask & setMask)) {\n            a.mask |= setMask\n            self._selectionCount++\n          }\n        })\n\n        // select chain and molecule if all residues in it are selected\n        chain.collectMask()\n        if (molecule) {\n          molecule.collectMask()\n        }\n      }\n    } else if (chain || molecule) {\n      const obj = chain || molecule\n      if (obj._mask & setMask) {\n        obj._mask &= clearMask\n        obj.forEachResidue((r) => {\n          if (r._mask & setMask) {\n            r._mask &= clearMask\n            r.forEachAtom((a) => {\n              if (a.mask & setMask) {\n                a.mask &= clearMask\n                self._selectionCount--\n              }\n            })\n            r._mask &= clearMask\n          }\n        })\n      } else {\n        obj._mask |= setMask\n        obj.forEachResidue((r) => {\n          if (!(r._mask & setMask)) {\n            r._mask |= setMask\n            r.forEachAtom((a) => {\n              if (!(a.mask & setMask)) {\n                a.mask |= setMask\n                self._selectionCount++\n              }\n            })\n            const otherObj = chain ? r.getMolecule() : r.getChain()\n            if (otherObj) {\n              otherObj.collectMask()\n            }\n          }\n        })\n      }\n    } else {\n      this.resetSelectionMask()\n    }\n  }\n\n  expandSelection() {\n    const self = this\n    const selectionMask = 1 << this._selectionBit\n    const tmpMask = 1 << 31\n\n    // mark atoms to add\n    this._complex.forEachBond((bond) => {\n      if (bond._left.mask & selectionMask) {\n        if ((bond._right.mask & selectionMask) === 0) {\n          bond._right.mask |= tmpMask\n        }\n      } else if (bond._right.mask & selectionMask) {\n        bond._left.mask |= tmpMask\n      }\n    })\n\n    // select marked atoms\n    const deselectionMask = ~tmpMask\n    this._complex.forEachAtom((atom) => {\n      if (atom.mask & tmpMask) {\n        atom.mask = (atom.mask & deselectionMask) | selectionMask\n        ++self._selectionCount\n      }\n    })\n\n    this._complex.updateStructuresMask()\n  }\n\n  shrinkSelection() {\n    const self = this\n    const selectionMask = 1 << this._selectionBit\n    const tmpMask = 1 << 31\n\n    // mark atoms neighbouring to unselected ones\n    this._complex.forEachBond((bond) => {\n      if (bond._left.mask & selectionMask) {\n        if ((bond._right.mask & selectionMask) === 0) {\n          bond._left.mask |= tmpMask\n        }\n      } else if (bond._right.mask & selectionMask) {\n        bond._right.mask |= tmpMask\n      }\n    })\n\n    // mark hanging atoms\n    this._complex.forEachAtom((atom) => {\n      if (atom.mask & selectionMask && atom.bonds.length === 1) {\n        atom.mask |= tmpMask\n      }\n    })\n\n    // deselect marked atoms\n    const deselectionMask = ~(selectionMask | tmpMask)\n    this._complex.forEachAtom((atom) => {\n      if (atom.mask & tmpMask) {\n        atom.mask &= deselectionMask\n        --self._selectionCount\n      }\n    })\n\n    this._complex.updateStructuresMask()\n  }\n\n  getSelectedComponent() {\n    const selectionMask = 1 << this._selectionBit\n\n    let component = null\n    let multiple = false\n\n    // find which component is selected (exclusively)\n    this._complex.forEachAtom((atom) => {\n      if (atom.mask & selectionMask) {\n        if (component === null) {\n          component = atom.residue._component\n        } else if (component !== atom.residue._component) {\n          multiple = true\n        }\n      }\n    })\n\n    return multiple ? null : component\n  }\n\n  getSelectionCenter(center, includesAtom, selRule) {\n    center.set(0.0, 0.0, 0.0)\n    let count = 0\n\n    this._complex.forEachAtom((atom) => {\n      if (includesAtom(atom, selRule)) {\n        center.add(atom.position)\n        count++\n      }\n    })\n    if (count === 0) {\n      return false\n    }\n    center.divideScalar(count)\n    center.applyMatrix4(this.matrix)\n    return true\n  }\n\n  needsRebuild() {\n    if (this._reprListChanged) {\n      return true\n    }\n    const reprList = this._reprList\n    for (let i = 0, n = reprList.length; i < n; ++i) {\n      const repr = reprList[i]\n      if (repr.needsRebuild) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * Rebuild molecule geometry asynchronously.\n   */\n  rebuild() {\n    const self = this\n\n    // Destroy current geometry\n    gfxutils.clearTree(this)\n\n    return new Promise((resolve) => {\n      // Nothing to do?\n      const complex = self._complex\n      if (!complex) {\n        resolve()\n        return\n      }\n\n      let errorOccured = false\n      setTimeout(() => {\n        console.time('build')\n        const reprList = self._reprList\n        const palette = palettes.get(settings.now.palette) || palettes.first\n        let hasGeometry = false\n        for (let i = 0, n = reprList.length; i < n; ++i) {\n          const repr = reprList[i]\n          repr.colorer.palette = palette\n\n          if (repr.needsRebuild) {\n            repr.reset()\n\n            try {\n              repr.buildGeometry(complex)\n            } catch (e) {\n              if (e instanceof utils.OutOfMemoryError) {\n                repr.needsRebuild = false\n                repr.reset()\n                logger.error(\n                  `Not enough memory to build geometry for representation ${\n                    repr.index + 1\n                  }`\n                )\n                errorOccured = true\n              } else {\n                throw e\n              }\n            }\n\n            if (DEBUG && !errorOccured) {\n              logger.debug(\n                `Triangles count: ${meshutils.countTriangles(repr.geo)}`\n              )\n            }\n          }\n\n          hasGeometry =\n            errorOccured ||\n            hasGeometry ||\n            gfxutils.groupHasGeometryToRender(repr.geo)\n\n          if (repr.geo) {\n            self.add(repr.geo)\n          }\n        }\n\n        self._reprListChanged = false\n\n        console.timeEnd('build')\n        resolve()\n      }, 10)\n    })\n  }\n\n  setNeedsRebuild() {\n    // invalidate all representations\n    const reprList = this._reprList\n    for (let i = 0, n = reprList.length; i < n; ++i) {\n      reprList[i].needsRebuild = true\n    }\n  }\n\n  rebuildSelectionGeometry() {\n    const mask = 1 << this._selectionBit\n\n    gfxutils.clearTree(this._selectionGeometry)\n\n    for (let i = 0, n = this._reprList.length; i < n; ++i) {\n      const repr = this._reprList[i]\n      const sg = repr.buildSelectionGeometry(mask)\n      if (!sg) {\n        continue\n      }\n\n      this._selectionGeometry.add(sg)\n      for (let j = 0; j < sg.children.length; j++) {\n        const m = sg.children[j]\n\n        // copy component transform (that's not applied yet)\n        // TODO make this code obsolete, accessing editor is bad\n        if (this._editor && this._editor._componentTransforms) {\n          const t = this._editor._componentTransforms[m._component._index]\n          if (t) {\n            m.position.copy(t.position)\n            m.quaternion.copy(t.quaternion)\n          }\n        }\n      }\n\n      gfxutils.applySelectionMaterial(sg)\n    }\n  }\n\n  _buildSelectorFromSortedLists(atoms, residues, chains) {\n    const complex = this._complex\n\n    function optimizeList(list) {\n      const result = []\n      let k = 0\n      let first = NaN\n      let last = NaN\n      for (let i = 0, n = list.length; i < n; ++i) {\n        const value = list[i]\n        if (value === last + 1) {\n          last = value\n        } else {\n          if (!Number.isNaN(first)) {\n            result[k++] = new selectors.Range(first, last)\n          }\n          first = last = value\n        }\n      }\n      if (!Number.isNaN(first)) {\n        result[k] = new selectors.Range(first, last)\n      }\n      return result\n    }\n\n    let expression = null\n    if (chains.length === complex._chains.length) {\n      expression = selectors.all()\n    } else {\n      let selector\n      if (chains.length > 0) {\n        selector = selectors.chain(chains)\n        expression = expression ? selectors.or(expression, selector) : selector // NOSONAR\n      }\n      if (Object.keys(residues).length > 0) {\n        for (const ch in residues) {\n          if (residues.hasOwnProperty(ch)) {\n            selector = selectors.and(\n              selectors.chain(ch),\n              selectors.residx(optimizeList(residues[ch]))\n            )\n            expression = expression\n              ? selectors.or(expression, selector)\n              : selector\n          }\n        }\n      }\n      if (atoms.length > 0) {\n        selector = selectors.serial(optimizeList(atoms))\n        expression = expression ? selectors.or(expression, selector) : selector\n      }\n\n      if (!expression) {\n        expression = selectors.none()\n      }\n    }\n\n    return expression\n  }\n\n  buildSelectorFromMask(mask) {\n    const complex = this._complex\n    const chains = []\n    const residues = {}\n    const atoms = []\n\n    complex.forEachChain((chain) => {\n      if (chain._mask & mask) {\n        chains.push(chain._name)\n      }\n    })\n\n    complex.forEachResidue((residue) => {\n      if (residue._mask & mask && !(residue._chain._mask & mask)) {\n        const c = residue._chain._name\n        if (!(c in residues)) {\n          residues[c] = [residue._index]\n        } else {\n          residues[c].push(residue._index)\n        }\n      }\n    })\n\n    complex.forEachAtom((atom) => {\n      if (atom.mask & mask && !(atom.residue._mask & mask)) {\n        atoms.push(atom.serial)\n      }\n    })\n\n    return this._buildSelectorFromSortedLists(atoms, residues, chains)\n  }\n\n  forSelectedResidues(process) {\n    const selectionMask = 1 << this._selectionBit\n    this._complex.forEachResidue((residue) => {\n      if (residue._mask & selectionMask) {\n        process(residue)\n      }\n    })\n  }\n\n  beginComponentEdit() {\n    if (this._editor) {\n      return null\n    }\n\n    const editor = new ComplexVisualEdit.ComponentEditor(this)\n    if (!editor.begin()) {\n      return null\n    }\n\n    this._editor = editor\n    return editor\n  }\n\n  beginFragmentEdit() {\n    if (this._editor) {\n      return null\n    }\n\n    const editor = new ComplexVisualEdit.FragmentEditor(this)\n    if (!editor.begin()) {\n      return null\n    }\n\n    this._editor = editor\n    return editor\n  }\n\n  // should only be called by editors\n  finalizeEdit() {\n    this._editor = null\n  }\n\n  setMaterialValues(values, needTraverse = false, process = undefined) {\n    for (let i = 0, n = this._reprList.length; i < n; ++i) {\n      const rep = this._reprList[i]\n      rep.material.setValues(values)\n      if (needTraverse) {\n        rep.geo.traverse((object) => {\n          if (object instanceof THREE.Mesh) {\n            object.material.setValues(values)\n\n            if (process !== undefined) {\n              process(object)\n            }\n\n            object.material.needsUpdate = true\n          }\n        })\n      }\n    }\n  }\n\n  setUberOptions(values) {\n    for (let i = 0, n = this._reprList.length; i < n; ++i) {\n      const rep = this._reprList[i]\n      rep.material.setUberOptions(values)\n    }\n  }\n\n  /**\n   * Build selector that contains all atoms within given distance from group of atoms\n   * @param {Selector} selector - selector describing source group of atoms\n   * @param {number} radius - distance\n   * @returns {Selector} selector describing result group of atoms\n   */\n  within(selector, radius) {\n    const vw = this._complex.getVoxelWorld()\n    if (vw === null) {\n      return false\n    }\n\n    // mark atoms of the group as selected\n    const selectionMask = 1 << this._selectionBit\n    this._complex.markAtoms(selector, selectionMask)\n\n    // mark all atoms within distance as selected\n    if (vw) {\n      vw.forEachAtomWithinDistFromMasked(\n        this._complex,\n        selectionMask,\n        Number(radius),\n        (atom) => {\n          atom.mask |= selectionMask\n        }\n      )\n    }\n\n    // update selection count\n    this._selectionCount = this._complex.countAtomsByMask(selectionMask)\n\n    // update secondary structure mask\n    this._complex.updateStructuresMask()\n\n    return this.buildSelectorFromMask(selectionMask)\n  }\n}\n// 32 bits = 30 bits for reps + 1 for selection + 1 for selection expansion\nComplexVisual.NUM_REPRESENTATION_BITS = 30\n\nexport default ComplexVisual\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three'\nimport vertexVolumeFaces from './VolumeFaces.vert'\nimport fragmentVolumeFaces from './VolumeFaces.frag'\nimport vertexVolume from './Volume.vert'\nimport fragmentVolume from './Volume.frag'\nimport vertexFarPlane from './VolumeFarPlane.vert'\nimport fragmentFarPlane from './VolumeFarPlane.frag'\nimport settings from '../../settings'\n\nconst volumeUniforms = THREE.UniformsUtils.merge([\n  {\n    volumeDim: { type: 'v3', value: new THREE.Vector3(512, 512, 512) },\n    tileTex: { type: 't', value: null },\n    tileTexSize: { type: 'v2', value: new THREE.Vector2(512, 512) },\n    tileStride: { type: 'v2', value: new THREE.Vector2(512, 512) },\n\n    boxAngles: { type: 'v3', value: new THREE.Vector3(1, 1, 1) },\n    delta: { type: 'v3', value: new THREE.Vector3(0, 0, 0) },\n\n    _isoLevel0: { type: 'v2', value: new THREE.Vector3(0.5, 0.75, 1.0) },\n    _flipV: { type: 'f', value: 0.0 },\n    _BFLeft: { type: 't', value: null },\n    _BFRight: { type: 't', value: null },\n    _FFLeft: { type: 't', value: null },\n    _FFRight: { type: 't', value: null },\n    _WFFLeft: { type: 't', value: null },\n    _WFFRight: { type: 't', value: null }\n  }\n])\n\nfunction overrideUniforms(params, defUniforms) {\n  const uniforms = THREE.UniformsUtils.clone(defUniforms)\n  for (const p in params) {\n    if (uniforms.hasOwnProperty(p)) {\n      uniforms[p].value = params[p]\n    }\n  }\n  return uniforms\n}\n\nfunction facesPosMaterialParams(params, sideType) {\n  return {\n    uniforms: overrideUniforms(params, {}),\n    vertexShader: vertexVolumeFaces,\n    fragmentShader: fragmentVolumeFaces,\n    transparent: false,\n    depthTest: false,\n    depthWrite: false,\n    side: sideType\n  }\n}\n\nclass BackFacePosMaterial extends THREE.ShaderMaterial {\n  constructor(params) {\n    const backFaceParams = facesPosMaterialParams(params, THREE.BackSide)\n    super(backFaceParams)\n  }\n}\n\nclass ShaderParams {\n  constructor(params, uniforms, vertexShader, fragmentShader) {\n    this.uniforms = overrideUniforms(params, uniforms)\n    this.vertexShader = vertexShader\n    this.fragmentShader = fragmentShader\n    this.transparent = false\n    this.depthTest = false\n    this.depthWrite = false\n    this.side = THREE.FrontSide\n  }\n}\n\nclass BackFacePosMaterialFarPlane extends THREE.ShaderMaterial {\n  constructor(params) {\n    const matUniforms = THREE.UniformsUtils.merge([\n      {\n        aspectRatio: { type: 'f', value: 0.0 },\n        farZ: { type: 'f', value: 0.0 },\n        tanHalfFOV: { type: 'f', value: 0.0 },\n        matWorld2Volume: { type: '4fv', value: new THREE.Matrix4() }\n      }\n    ])\n\n    const shaderParams = new ShaderParams(\n      params,\n      matUniforms,\n      vertexFarPlane,\n      fragmentFarPlane\n    )\n    super(shaderParams)\n  }\n}\n\nclass FrontFacePosMaterial extends THREE.ShaderMaterial {\n  constructor(params) {\n    const frontFaceParams = facesPosMaterialParams(params, THREE.FrontSide)\n    super(frontFaceParams)\n  }\n}\n\nclass VolumeMaterial extends THREE.ShaderMaterial {\n  constructor(params) {\n    const shaderParams = new ShaderParams(\n      params,\n      volumeUniforms,\n      vertexVolume,\n      fragmentVolume\n    )\n    shaderParams.transparent = true\n    shaderParams.depthTest = true\n\n    super(shaderParams)\n    this.updateDefines()\n  }\n\n  updateDefines() {\n    this.defines = {\n      ISO_MODE: settings.now.modes.VD.isoMode,\n      STEPS_COUNT:\n        settings.now.modes.VD.polyComplexity[settings.now.resolution] * 100\n    }\n    this.needsUpdate = true\n  }\n}\n\nexport default {\n  BackFacePosMaterial,\n  BackFacePosMaterialFarPlane,\n  FrontFacePosMaterial,\n  VolumeMaterial\n}\n","import * as THREE from 'three'\nimport VolumeMaterial from './shaders/VolumeMaterial'\nimport settings from '../settings'\n\nclass VolumeMesh extends THREE.Mesh {\n  volumeInfo = {} // data for noise filter\n\n  constructor() {\n    const geo = new THREE.BufferGeometry()\n    super(geo)\n    this.clipPlane = new THREE.Plane()\n    const size = new THREE.Vector3(0.5, 0.5, 0.5)\n    this.size = size\n\n    this.cullFlag = [\n      true,\n      true,\n      true,\n      true,\n      true,\n      true,\n      true,\n      true,\n      false,\n      false,\n      false,\n      false,\n      false,\n      false\n    ]\n\n    this.faces = [\n      { indices: [], norm: new THREE.Vector3(0, 0, -1) },\n      { indices: [], norm: new THREE.Vector3(0, 0, 1) },\n      { indices: [], norm: new THREE.Vector3(0, -1, 0) },\n      { indices: [], norm: new THREE.Vector3(0, 1, 0) },\n      { indices: [], norm: new THREE.Vector3(-1, 0, 0) },\n      { indices: [], norm: new THREE.Vector3(1, 0, 0) },\n      { indices: [], norm: new THREE.Vector3(0, 0, 0) }\n    ]\n\n    this.vertices = [\n      new THREE.Vector3(-size.x, -size.y, -size.z),\n      new THREE.Vector3(-size.x, size.y, -size.z),\n      new THREE.Vector3(size.x, -size.y, -size.z),\n      new THREE.Vector3(size.x, size.y, -size.z),\n      new THREE.Vector3(-size.x, -size.y, size.z),\n      new THREE.Vector3(-size.x, size.y, size.z),\n      new THREE.Vector3(size.x, -size.y, size.z),\n      new THREE.Vector3(size.x, size.y, size.z),\n      new THREE.Vector3(0.0, 0.0, 0.0), // Placeholder for section\n      new THREE.Vector3(0.0, 0.0, 0.0),\n      new THREE.Vector3(0.0, 0.0, 0.0),\n      new THREE.Vector3(0.0, 0.0, 0.0),\n      new THREE.Vector3(0.0, 0.0, 0.0),\n      new THREE.Vector3(0.0, 0.0, 0.0)\n    ]\n\n    geo.setAttribute(\n      'position',\n      new THREE.BufferAttribute(new Float32Array(this.vertices.length * 3), 3)\n    )\n\n    this.name = 'VolumeMesh'\n  }\n\n  static _corners = [\n    // x, y, z, edge1, edge2, edge3\n    [-1, -1, -1, 0, 4, 8],\n    [1, -1, -1, 0, 5, 9],\n    [1, 1, -1, 1, 5, 10],\n    [-1, 1, -1, 1, 4, 11],\n    [-1, -1, 1, 2, 6, 8],\n    [1, -1, 1, 2, 7, 9],\n    [1, 1, 1, 3, 7, 10],\n    [-1, 1, 1, 3, 6, 11]\n  ]\n\n  static _edges = [\n    // corner1, corner2, center_x, center_y, center_z\n    [0, 1, 0, -1, -1],\n    [2, 3, 0, 1, -1],\n    [4, 5, 0, -1, 1],\n    [6, 7, 0, 1, 1],\n    [0, 3, -1, 0, -1],\n    [1, 2, 1, 0, -1],\n    [4, 7, -1, 0, 1],\n    [5, 6, 1, 0, 1],\n    [0, 4, -1, -1, 0],\n    [1, 5, 1, -1, 0],\n    [2, 6, -1, 1, 0],\n    [3, 7, 1, 1, 0]\n  ]\n\n  static _edgeIntersections = (function () {\n    const edgeIntersections = []\n    for (let j = 0; j < 12; ++j) {\n      edgeIntersections.push(new THREE.Vector3())\n    }\n    return edgeIntersections\n  })()\n\n  _updateVertices() {\n    // Algorithm:\n    // 1. Get plane parameters\n    // 2. Compute culling flags for all vertices\n    // 3. If intersection occurs => compute from 3 to 6 intersection points\n    const corners = VolumeMesh._corners\n    const edges = VolumeMesh._edges\n    const edgeIntersections = VolumeMesh._edgeIntersections\n\n    let i\n\n    const norm = this.clipPlane.normal\n    const D = this.clipPlane.constant\n\n    const vert = this.vertices\n    const { size } = this\n\n    const cornerMark = [0, 0, 0, 0, 0, 0, 0, 0]\n    const edgeMark = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]\n\n    const curEdge = new THREE.Vector3()\n    let curEdgeInter = null\n\n    function CheckX() {\n      if (norm.x === 0) return 0\n      const x = -(norm.dot(curEdge) + D) / norm.x\n      if (-size.x <= x && x <= size.x) {\n        curEdgeInter.set(x, curEdge.y, curEdge.z)\n        if (x === size.x) return 2\n        if (x === -size.x) return -2\n        return 1\n      }\n      return 0\n    }\n\n    function CheckY() {\n      if (norm.y === 0) return 0\n      const y = -(norm.dot(curEdge) + D) / norm.y\n      if (-size.y <= y && y <= size.y) {\n        curEdgeInter.set(curEdge.x, y, curEdge.z)\n        if (y === size.y) return 2\n        if (y === -size.y) return -2\n        return 1\n      }\n      return 0\n    }\n\n    function CheckZ() {\n      if (norm.z === 0) return 0\n      const z = -(norm.dot(curEdge) + D) / norm.z\n      if (-size.z <= z && z <= size.z) {\n        curEdgeInter.set(curEdge.x, curEdge.y, z)\n        if (z === size.z) return 2\n        if (z === -size.z) return -2\n        return 1\n      }\n      return 0\n    }\n\n    // for each edge\n    for (let curEdgeIdx = 0; curEdgeIdx < 12; ++curEdgeIdx) {\n      const curEdgeSource = edges[curEdgeIdx]\n      curEdgeInter = edgeIntersections[curEdgeIdx]\n\n      curEdge.set(curEdgeSource[2], curEdgeSource[3], curEdgeSource[4])\n      curEdge.multiply(size)\n\n      // calculate intersection point\n      let flag = 0\n      if (curEdgeSource[2] === 0) flag = CheckX()\n      if (curEdgeSource[3] === 0) flag = CheckY()\n      if (curEdgeSource[4] === 0) flag = CheckZ()\n\n      // mark corresponding corner (if plane cuts through one)\n      if (flag === -2) {\n        cornerMark[curEdgeSource[0]] = 1\n      } else if (flag === 2) {\n        cornerMark[curEdgeSource[1]] = 1\n      } else if (flag === 0) {\n        // edge is not intersected by the plane (doesn't produce a vertex)\n        edgeMark[curEdgeIdx] = 0\n      }\n    }\n\n    const face = {\n      indices: [],\n      norm: norm.clone().negate()\n    }\n\n    let nextVertex = 8\n\n    // for each marked corner\n    for (i = 0; i < 8; ++i) {\n      if (cornerMark[i] === 1) {\n        // add corner as vertex to the face\n        vert[nextVertex]\n          .set(corners[i][0], corners[i][1], corners[i][2])\n          .multiply(size)\n        face.indices.push(nextVertex++)\n        // skip adjacent edges\n        edgeMark[corners[i][3]] = 0\n        edgeMark[corners[i][4]] = 0\n        edgeMark[corners[i][5]] = 0\n      }\n    }\n\n    // for each edge that has internal intersection\n    for (i = 0; i < 12; ++i) {\n      if (edgeMark[i] === 1) {\n        // add intersection point as vertex to the face\n        vert[nextVertex].copy(edgeIntersections[i])\n        face.indices.push(nextVertex++)\n      }\n    }\n\n    this.faces[6] = face\n\n    const diff = new THREE.Vector3()\n    const coplanarPoint = new THREE.Vector3()\n    this.clipPlane.coplanarPoint(coplanarPoint)\n    for (i = 0; i < vert.length; ++i) {\n      this.cullFlag[i] = false\n      if (i < 8) {\n        // corners should be culled by clipping plane\n        diff.subVectors(vert[i], coplanarPoint)\n        this.cullFlag[i] = norm.dot(diff) >= 0.0\n      } else if (i < 8 + face.indices.length) {\n        // cross section vertices don't get culled\n        this.cullFlag[i] = true\n      }\n    }\n\n    // write data to vertex buffer\n    const positions = this.geometry.getAttribute('position')\n    let idx = 0\n    for (i = 0; i < vert.length; ++i) {\n      positions.array[idx++] = vert[i].x\n      positions.array[idx++] = vert[i].y\n      positions.array[idx++] = vert[i].z\n    }\n    positions.needsUpdate = true\n  }\n\n  _collectVertices(face, filter) {\n    let i\n    const vert = this.vertices\n    face.indices = []\n    for (i = 0; i < vert.length; ++i) {\n      if (this.cullFlag[i] && filter(vert[i])) {\n        face.indices.push(i)\n      }\n    }\n  }\n\n  _sortIndices(face, right) {\n    let i\n    let j\n    const vert = this.vertices\n    const angle = []\n\n    const dir = new THREE.Vector3()\n    for (i = 1; i < face.indices.length; ++i) {\n      dir.subVectors(vert[face.indices[i]], vert[face.indices[0]])\n      dir.normalize()\n      dir.cross(right)\n      dir.negate()\n      angle[i] = face.norm.dot(dir)\n    }\n\n    // Exchange sort\n    for (i = 1; i < face.indices.length - 1; ++i) {\n      for (j = i + 1; j < face.indices.length; ++j) {\n        if (angle[j] < angle[i]) {\n          // swap\n          let t = angle[i]\n          angle[i] = angle[j]\n          angle[j] = t\n\n          t = face.indices[i]\n          face.indices[i] = face.indices[j]\n          face.indices[j] = t\n        }\n      }\n    }\n  }\n\n  _updateIndices() {\n    // Algorithm:\n    // 1. Get plane vertices (from 3 to 6 vertices)\n    // 2. Get \"right\" vector in plane\n    // 3. Sort vertices using Graham-like method\n    // 4. Create indices\n\n    let i\n    let faceIdx\n    let face\n    const vert = this.vertices\n    const { size } = this\n\n    this._collectVertices(this.faces[0], (vertex) => vertex.z === -size.z)\n    this._collectVertices(this.faces[1], (vertex) => vertex.z === size.z)\n    this._collectVertices(this.faces[2], (vertex) => vertex.y === -size.y)\n    this._collectVertices(this.faces[3], (vertex) => vertex.y === size.y)\n    this._collectVertices(this.faces[4], (vertex) => vertex.x === -size.x)\n    this._collectVertices(this.faces[5], (vertex) => vertex.x === size.x)\n\n    const vCenter = new THREE.Vector3()\n    const vRight = new THREE.Vector3()\n    const vDir = new THREE.Vector3()\n\n    for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n      face = this.faces[faceIdx]\n\n      if (face.indices.length === 0) continue\n\n      vCenter.set(0, 0, 0)\n      for (i = 0; i < face.indices.length; ++i) {\n        vCenter.add(vert[face.indices[i]])\n      }\n      vCenter.multiplyScalar(1.0 / face.indices.length)\n      vRight.subVectors(vert[face.indices[0]], vCenter)\n      vRight.normalize()\n\n      const rightProj = []\n      for (i = 0; i < face.indices.length; ++i) {\n        vDir.subVectors(vert[face.indices[i]], vCenter)\n        rightProj[i] = vDir.dot(vRight)\n      }\n      for (i = 1; i < face.indices.length; ++i) {\n        if (rightProj[i] < rightProj[0]) {\n          // swap\n          let t = rightProj[0]\n          rightProj[0] = rightProj[i]\n          rightProj[i] = t\n          ;[t] = face.indices\n          face.indices[0] = face.indices[i]\n          face.indices[i] = t\n        }\n      }\n\n      this._sortIndices(face, vRight)\n    }\n\n    let numIndices = 0\n    for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n      face = this.faces[faceIdx]\n      if (face.indices.length >= 3) {\n        numIndices += 3 * (face.indices.length - 2)\n      }\n    }\n    let offset = 0\n    const indices = new Uint16Array(numIndices)\n    for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n      face = this.faces[faceIdx]\n      for (i = 0; i < face.indices.length - 2; ++i) {\n        indices[offset] = face.indices[0] // eslint-disable-line prefer-destructuring\n        indices[offset + 1] = face.indices[i + 1]\n        indices[offset + 2] = face.indices[i + 2]\n        offset += 3\n      }\n    }\n\n    this.geometry.setIndex(new THREE.BufferAttribute(indices, 1))\n  }\n\n  setDataSource(dataSource) {\n    const vm = new VolumeMaterial.VolumeMaterial()\n    const dim = dataSource.getDimensions()\n    const stride = dataSource.getTiledTextureStride()\n    const texture = dataSource.buildTiledTexture()\n    const bbox = dataSource.getBox()\n    vm.uniforms.volumeDim.value.set(dim[0], dim[1], dim[2])\n    vm.uniforms.tileTex.value = texture\n    vm.uniforms.tileTexSize.value.set(texture.image.width, texture.image.height)\n    vm.uniforms.tileStride.value.set(stride[0], stride[1])\n    Object.assign(this.volumeInfo, dataSource.getVolumeInfo())\n\n    const volInfo = this.volumeInfo\n    vm.uniforms.delta.value.copy(volInfo.delta)\n    vm.uniforms.boxAngles.value.set(\n      volInfo.obtuseAngle[0],\n      volInfo.obtuseAngle[1],\n      volInfo.obtuseAngle[2]\n    )\n\n    this.material = vm\n\n    bbox.getSize(this.scale)\n    bbox.getCenter(this.position)\n  }\n\n  _updateIsoLevel() {\n    const { kSigma, kSigmaMed, kSigmaMax } = settings.now.modes.VD\n    const volInfo = this.volumeInfo\n    const mean = volInfo.dmean - volInfo.dmin\n    const span = volInfo.dmax - volInfo.dmin\n    const level = (k) => (mean + k * volInfo.sd) / span\n    this.material.uniforms._isoLevel0.value.set(\n      level(kSigma),\n      level(kSigmaMed),\n      level(kSigmaMax)\n    )\n  }\n\n  static _nearClipPlaneOffset = 0.2\n\n  static _pos = new THREE.Vector3()\n\n  static _norm = new THREE.Vector3()\n\n  static _norm4D = new THREE.Vector4()\n\n  static _matrixWorldToLocal = new THREE.Matrix4()\n\n  static _clipPlane = new THREE.Plane()\n\n  rebuild(camera) {\n    const nearClipPlaneOffset = VolumeMesh._nearClipPlaneOffset\n    const pos = VolumeMesh._pos\n    const norm = VolumeMesh._norm\n    const norm4D = VolumeMesh._norm4D\n    const matrixWorldToLocal = VolumeMesh._matrixWorldToLocal\n    const clipPlane = VolumeMesh._clipPlane\n\n    this._updateIsoLevel()\n\n    // get clip plane in local space\n    camera.getWorldDirection(norm)\n    camera.getWorldPosition(pos)\n    pos.addScaledVector(norm, camera.near + nearClipPlaneOffset)\n\n    // transform pos to local CS\n    matrixWorldToLocal.copy(this.matrixWorld).invert()\n    pos.applyMatrix4(matrixWorldToLocal)\n\n    // transform norm to local CS\n    norm4D.set(norm.x, norm.y, norm.z, 0.0) // NOTE: use homogeneous norm for proper transformation\n    norm4D.applyMatrix4(matrixWorldToLocal)\n    norm.copy(norm4D)\n    norm.normalize()\n\n    clipPlane.setFromNormalAndCoplanarPoint(norm, pos)\n\n    if (!this.clipPlane.equals(clipPlane)) {\n      this.clipPlane = clipPlane.clone()\n      this._updateVertices()\n      this._updateIndices()\n    }\n  }\n}\n\nexport default VolumeMesh\n","import * as THREE from 'three'\nimport gfxutils from './gfxutils'\n\nfunction _flattenArray(input) {\n  const n = input.length\n  const output = new Float32Array(n * 3)\n  for (let i = 0; i < n; ++i) {\n    const j = 3 * i\n    const v = input[i]\n    output[j] = v.x\n    output[j + 1] = v.y\n    output[j + 2] = v.z\n  }\n  return output\n}\n\nclass VolumeBounds {\n  static _projectionTable = {\n    // corresponds between (origin axes and angles between them) and between saving vector coordinates\n    XY: ['x', 2],\n    XZ: ['y', 1],\n    YZ: ['z', 0]\n  }\n\n  constructor(bBox, volInfo) {\n    const { delta } = volInfo // {x: XY, y : XZ, z: YZ}\n    const { obtuseAngle } = volInfo // 1 - obtuse, 0 - acute\n\n    const bSize = new THREE.Vector3()\n    bBox.getSize(bSize)\n    bSize.multiplyScalar(0.5)\n\n    const offsetVert = this._getBaseVertices(delta, obtuseAngle)\n\n    const geometry = new THREE.BufferGeometry()\n    const vertices = []\n\n    for (let i = 0; i < 4; i++) {\n      vertices.push(offsetVert[i].clone().multiply(bSize))\n      vertices.push(offsetVert[(i + 1) % 4].clone().multiply(bSize))\n    }\n    const translation = new THREE.Vector3(\n      2 * bSize.x * (1 - delta.x - delta.y),\n      0,\n      0\n    )\n    for (let i = 0; i < 8; i++) {\n      vertices.push(vertices[i].clone().add(translation))\n    }\n    for (let i = 0; i < 4; i++) {\n      vertices.push(vertices[i * 2].clone())\n      vertices.push(vertices[i * 2 + 8].clone())\n    }\n    const center = new THREE.Vector3()\n    bBox.getCenter(center)\n    vertices.forEach((vertex) => vertex.add(center)) // pivot shift\n\n    const flatVertices = _flattenArray(vertices)\n    geometry.setAttribute(\n      'position',\n      new THREE.BufferAttribute(flatVertices, 3)\n    )\n\n    this._lines = new THREE.LineSegments(\n      geometry,\n      new THREE.LineBasicMaterial({ color: 0xffffff })\n    )\n    this._lines.layers.set(gfxutils.LAYERS.VOLUME)\n  }\n\n  // Set one edge (4 points) of frame, from which with parallel transfer  the rest of the frame points can be obtained\n  _getBaseVertices(delta, obtuseAngle) {\n    const projTable = VolumeBounds._projectionTable\n\n    const proj = (index, inv) => {\n      // tricky function to take account of projections: their position(related to box) and sign\n      const currDelta = delta[projTable[index][0]]\n      const angleValue =\n        -0.5 * (inv - 1) + inv * obtuseAngle[projTable[index][1]] // inv = 1: alpha; inv = -1: 1 - alpha\n      return angleValue * currDelta\n    }\n\n    const offsetVert = [\n      new THREE.Vector3(\n        -1 + 2 * (proj('XZ', 1) + proj('XY', 1)),\n        -1 + 2 * proj('YZ', 1),\n        -1\n      ),\n      new THREE.Vector3(\n        -1 + 2 * (proj('XZ', -1) + proj('XY', 1)),\n        -1 + 2 * proj('YZ', -1),\n        1\n      ),\n      new THREE.Vector3(\n        -1 + 2 * (proj('XZ', -1) + proj('XY', -1)),\n        1 - 2 * proj('YZ', 1),\n        1\n      ),\n      new THREE.Vector3(\n        -1 + 2 * (proj('XZ', 1) + proj('XY', -1)),\n        1 - 2 * proj('YZ', -1),\n        -1\n      )\n    ]\n\n    return offsetVert\n  }\n\n  getMesh() {\n    return this._lines\n  }\n}\n\nexport default VolumeBounds\n","import * as THREE from 'three'\nimport VolumeMaterial from './shaders/VolumeMaterial'\nimport meshes from './meshes/meshes'\nimport gfxutils from './gfxutils'\n\n// Thes geometric far plane is required for correct filling in the BFTexture in case, when far plane cuts the volume\n// cube. In cut place of cube there is no correct data in BFTexture and volume rendering integral is calculated\n// with errors.\n// Far plane cuts the cube in case of large volume scale (zoom), because farplane doesn't change\nclass VolumeFarPlane {\n  // create plane with unit corners coords (for future rescale in vshader according to camera properties)\n  constructor(volume, width, height) {\n    const planeGeo = this._initPlaneGeo(width, height)\n\n    const mat = new VolumeMaterial.BackFacePosMaterialFarPlane()\n    this._plane = new meshes.Mesh(planeGeo, mat)\n    this._plane.frustumCulled = false\n    this._plane.doubleSided = true\n    const matWorldToVolume = new THREE.Matrix4()\n\n    this._plane._onBeforeRender = function (\n      _renderer,\n      _scene,\n      camera,\n      _geometry,\n      _material,\n      _group\n    ) {\n      const { material } = this\n      if (!volume || !material) {\n        return\n      }\n\n      // count point in world at farplane place\n      const planeCamPos = new THREE.Vector4(0, 0, -(camera.far - 0.1), 1)\n      planeCamPos.applyMatrix4(camera.matrixWorld)\n\n      // recalc matrices to make plane be placed as farplane in the World relative to camera\n      this.matrix.identity()\n      this.matrix.makeTranslation(planeCamPos.x, planeCamPos.y, planeCamPos.z)\n      this.matrixWorld.copy(this.matrix)\n      this.modelViewMatrix.multiplyMatrices(\n        camera.matrixWorldInverse,\n        this.matrixWorld\n      )\n      this.normalMatrix.getNormalMatrix(this.modelViewMatrix)\n\n      // build worldToVolume matrix to transform plane into volumeCS (volumeCS coords are written to BackFaceTexture)\n      const volumeMatrix = volume.matrixWorld\n      matWorldToVolume.copy(volumeMatrix).invert()\n\n      // update material props\n      material.uniforms.aspectRatio.value = camera.aspect\n      material.uniforms.farZ.value = camera.far\n      material.uniforms.tanHalfFOV.value = Math.tan(\n        THREE.MathUtils.DEG2RAD * 0.5 * camera.fov\n      )\n      material.uniforms.matWorld2Volume.value = matWorldToVolume\n    }\n\n    // set it to special layer to draw only into BFTexture\n    this._plane.layers.set(gfxutils.LAYERS.VOLUME_BFPLANE)\n  }\n\n  _initPlaneGeo(width, height) {\n    const planeGeo = new THREE.BufferGeometry()\n\n    width = width || 1\n    height = height || 1\n\n    const vertices = new Float32Array([\n      -0.5 * width,\n      0.5 * height,\n      0,\n      0.5 * width,\n      0.5 * height,\n      0,\n      -0.5 * width,\n      -0.5 * height,\n      0,\n      0.5 * width,\n      -0.5 * height,\n      0\n    ])\n\n    planeGeo.setAttribute('position', new THREE.BufferAttribute(vertices, 3))\n    planeGeo.setIndex([0, 2, 1, 2, 3, 1])\n\n    return planeGeo\n  }\n\n  getMesh() {\n    return this._plane\n  }\n}\n\nexport default VolumeFarPlane\n","import * as THREE from 'three'\nimport VolumeMesh from './gfx/VolumeMesh'\nimport VolumeBounds from './gfx/VolumeBounds'\nimport VolumeFarPlane from './gfx/VolumeFarPlane'\nimport Visual from './Visual'\nimport settings from './settings'\n\nclass VolumeVisual extends Visual {\n  constructor(name, dataSource) {\n    super(name, dataSource)\n    this._mesh = new VolumeMesh()\n    this._mesh.setDataSource(dataSource)\n    this.add(this._mesh)\n\n    this._frame = new VolumeBounds(\n      this.getBoundaries().boundingBox,\n      this._mesh.volumeInfo\n    )\n    this.add(this._frame.getMesh())\n    this.showFrame(settings.now.modes.VD.frame)\n\n    this._farPlane = new VolumeFarPlane(this._mesh, 2, 2)\n    this.add(this._farPlane.getMesh())\n  }\n\n  getBoundaries() {\n    const box = this._dataSource.getBox()\n    const sphere = new THREE.Sphere()\n    box.getBoundingSphere(sphere)\n\n    return {\n      boundingBox: box,\n      boundingSphere: sphere\n    }\n  }\n\n  getMesh() {\n    return this._mesh\n  }\n\n  showFrame(needShow) {\n    this._frame.getMesh().material.visible = needShow\n  }\n}\n\nexport default VolumeVisual\n","import EntityList from '../../utils/EntityList'\n\n/**\n * A list of available loaders.\n * @extends EntityList\n */\nclass LoaderList extends EntityList {\n  /**\n   * Create a list of loaders.\n   * The loaders are indexed by supported source types (`.types` property of a Loader\n   * subclass).\n   * The loaders can be retrieved later by matching against specs (see {@link LoaderList#find}).\n   *\n   * @param {!Array<function(new:Loader)>=} someLoaders A list of {@link Loader} subclasses to\n   *   automatically register at creation time.\n   * @see LoaderList#register\n   */\n  constructor(someLoaders = []) {\n    super(someLoaders, ['types'])\n  }\n\n  /**\n   * Find a suitable loader for a source type.\n   *\n   * @param {Object} specs Loader specifications.\n   * @param {string=} specs.type Supported source type.\n   * @param {*=} specs.source Source to load from.\n   */\n  find(specs) {\n    let list = []\n    if (specs.type) {\n      list = this._dict.types[specs.type.toLowerCase()] || []\n    } else if (specs.source) {\n      return this._list.filter(\n        (SomeLoader) =>\n          SomeLoader.canProbablyLoad && SomeLoader.canProbablyLoad(specs.source)\n      )\n    }\n    return [...list]\n  }\n}\n\nexport default LoaderList\n","import EventDispatcher from '../../utils/EventDispatcher'\nimport makeContextDependent from '../../utils/makeContextDependent'\n\nexport default class Loader extends EventDispatcher {\n  constructor(source, options) {\n    super()\n    this._source = source\n    this._options = options || {}\n    this._abort = false\n    this._agent = null\n  }\n\n  load() {\n    return Promise.reject(\n      new Error('Loading from this source is not implemented')\n    )\n  }\n\n  abort() {\n    this._abort = true\n    if (this._agent) {\n      this._agent.abort()\n    }\n  }\n\n  static extractName(_source) {\n    return undefined\n  }\n}\n\nmakeContextDependent(Loader.prototype)\n","import Loader from './Loader'\n\nexport default class FileLoader extends Loader {\n  constructor(source, options) {\n    super(source, options)\n\n    options = this._options\n    this._binary = options.binary === true\n  }\n\n  load() {\n    return new Promise((resolve, reject) => {\n      if (this._abort) {\n        throw new Error('Loading aborted')\n      }\n\n      const blob = this._source\n      const reader = (this._agent = new FileReader())\n\n      reader.addEventListener('load', () => {\n        resolve(reader.result)\n      })\n      reader.addEventListener('error', () => {\n        reject(reader.error)\n      })\n      reader.addEventListener('abort', () => {\n        reject(new Error('Loading aborted'))\n      })\n      reader.addEventListener('progress', (event) => {\n        this.dispatchEvent(event)\n      })\n\n      if (this._binary) {\n        reader.readAsArrayBuffer(blob)\n      } else {\n        reader.readAsText(blob)\n      }\n    })\n  }\n\n  static canProbablyLoad(source) {\n    return (File && source instanceof File) || (Blob && source instanceof Blob)\n  }\n\n  static extractName(source) {\n    return source && source.name\n  }\n}\n\nFileLoader.types = ['file', 'blob']\n","import _ from 'lodash'\nimport Loader from './Loader'\n\n// we don't need to detect all kinds of URLs, just the evident ones\nconst urlStartRegexp = /^(https?|ftp):\\/\\//i\n\nexport default class XHRLoader extends Loader {\n  constructor(source, options) {\n    super(source, options)\n\n    options = this._options\n    this._binary = options.binary === true\n  }\n\n  load() {\n    return new Promise((resolve, reject) => {\n      if (this._abort) {\n        throw new Error('Loading aborted')\n      }\n\n      const url = this._source\n      const request = (this._agent = new XMLHttpRequest())\n\n      request.addEventListener('load', () => {\n        if (request.status === 200) {\n          resolve(request.response)\n        } else {\n          reject(new Error(`HTTP ${request.status} while fetching ${url}`))\n        }\n      })\n      request.addEventListener('error', () => {\n        reject(new Error('HTTP request failed'))\n      })\n      request.addEventListener('abort', () => {\n        reject(new Error('Loading aborted'))\n      })\n      request.addEventListener('progress', (event) => {\n        this.dispatchEvent(event)\n      })\n\n      request.open('GET', url)\n      if (this._binary) {\n        request.responseType = 'arraybuffer'\n      } else {\n        request.responseType = 'text'\n      }\n      request.send()\n    })\n  }\n\n  static canProbablyLoad(source) {\n    return _.isString(source) && urlStartRegexp.test(source)\n  }\n\n  static extractName(source) {\n    if (source) {\n      const last =\n        (source.indexOf('?') + 1 ||\n          source.lastIndexOf('#') + 1 ||\n          source.length + 1) - 1\n      return source.slice(source.lastIndexOf('/', last) + 1, last)\n    }\n    return undefined\n  }\n}\n\nXHRLoader.types = ['url']\n","import Loader from './Loader'\n\nexport default class ImmediateLoader extends Loader {\n  load() {\n    return new Promise((resolve) => {\n      if (this._abort) {\n        throw new Error('Loading aborted')\n      }\n      resolve(this._source)\n    })\n  }\n\n  static canProbablyLoad(_source) {\n    return false\n  }\n}\n\nImmediateLoader.types = ['immediate']\n","import LoaderList from './loaders/LoaderList'\n\nimport FileLoader from './loaders/FileLoader'\nimport XHRLoader from './loaders/XHRLoader'\nimport ImmediateLoader from './loaders/ImmediateLoader'\n\nexport default new LoaderList([\n  // note: order might be important\n  FileLoader,\n  XHRLoader,\n  ImmediateLoader\n])\n","import EntityList from '../../utils/EntityList'\n\n/**\n * A list of available parsers.\n * @extends EntityList\n */\nclass ParserList extends EntityList {\n  /**\n   * Create a list of parsers.\n   * The parsers are indexed by supported data formats and file extensions (`.formats` and\n   * `.extensions` properties of a Parser subclass).\n   * The parsers can be retrieved later by matching against specs (see {@link ParsrerList#find}).\n   *\n   * @param {!Array<function(new:Parser)>=} someParsers A list of {@link Parser} subclasses to\n   *   automatically register at creation time.\n   * @see ParserList#register\n   */\n  constructor(someParsers = []) {\n    super(someParsers, ['formats', 'extensions'])\n  }\n\n  /**\n   * Find a suitable parser for data.\n   *\n   * @param {Object} specs Parser specifications.\n   * @param {string=} specs.format Supported data format.\n   * @param {string=} specs.ext Supported filename extension.\n   * @param {*=} specs.data Data to parse.\n   */\n  find(specs) {\n    let list = []\n    if (specs.format) {\n      list = this._dict.formats[specs.format.toLowerCase()] || []\n    } else if (specs.ext) {\n      list = this._dict.extensions[specs.ext.toLowerCase()] || []\n    }\n    // autodetect only if no format is forced\n    if (list.length === 0 && !specs.format && specs.data) {\n      return this._list.filter(\n        (SomeParser) =>\n          SomeParser.canProbablyParse && SomeParser.canProbablyParse(specs.data)\n      )\n    }\n    return [...list]\n  }\n}\n\nexport default ParserList\n","import makeContextDependent from '../../utils/makeContextDependent'\n\nexport default class Parser {\n  constructor(data, options) {\n    this._data = data\n    this._options = options || {}\n    this._abort = false\n  }\n\n  parseSync() {\n    throw new Error('Parsing this type of data is not implemented')\n  }\n\n  parse() {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        try {\n          if (this._abort) {\n            return reject(new Error('Parsing aborted'))\n          }\n          return resolve(this.parseSync())\n        } catch (error) {\n          return reject(error)\n        }\n      })\n    })\n  }\n\n  // only for volume Parsers\n  getModel() {\n    this.model._parseHeader(this._data)\n    return this.model\n  }\n\n  abort() {\n    this._abort = true\n  }\n}\n\nmakeContextDependent(Parser.prototype)\n","import * as THREE from 'three'\n\n/**\n * Parser helper for PDB tag \"REMARK 290\".\n *\n * @exports Remark290\n * @constructor\n */\nclass Remark290 {\n  constructor() {\n    /** @type {THREE.Matrix4[]} */\n    this.matrices = []\n\n    /** @type {?THREE.Matrix4} */\n    this._matrix = null\n    /** @type {number} */\n    this._matrixIndex = -1\n  }\n\n  /**\n   * Parse a single line of a stream.\n   * @param {PDBStream} stream - stream to parse\n   */\n\n  parse(stream) {\n    /** @type {?THREE.Matrix4} */\n    let matrix = this._matrix\n\n    if (stream.readString(12, 18) === '  SMTRY') {\n      const matrixRow = stream.readCharCode(19) - 49 // convert '1', '2', or '3' -> 0, 1, or 2\n      const matrixData = stream.readString(20, 80).trim().split(/\\s+/)\n      const matrixIndex = parseInt(matrixData[0], 10)\n      if (this._matrix === null || matrixIndex !== this._matrixIndex) {\n        // TODO: assert(matrixIndex === this.matrices.length + 1);\n        this._matrixIndex = matrixIndex\n        this._matrix = matrix = new THREE.Matrix4()\n        this.matrices[this.matrices.length] = matrix\n      }\n\n      const { elements } = matrix\n      elements[matrixRow] = parseFloat(matrixData[1])\n      elements[matrixRow + 4] = parseFloat(matrixData[2])\n      elements[matrixRow + 8] = parseFloat(matrixData[3])\n      elements[matrixRow + 12] = parseFloat(matrixData[4])\n    }\n  }\n}\n\nRemark290.prototype.id = 290\n\nexport default Remark290\n","import * as THREE from 'three'\nimport chem from '../../../chem'\n\nconst { Assembly } = chem\n\n/**\n * Parser helper for PDB tag \"REMARK 350\".\n *\n * @exports Remark350\n * @constructor\n */\nclass Remark350 {\n  constructor(complex) {\n    /** @type {Complex} */\n    this._complex = complex\n    /** @type {Assembly[]} */\n    this.assemblies = []\n\n    /** @type {?Assembly} */\n    this._assembly = null\n    /** @type {?THREE.Matrix4} */\n    this._matrix = null\n    /** @type {number} */\n    this._matrixIndex = -1\n  }\n\n  /**\n   * Parse a single line of a stream.\n   * @param {PDBStream} stream - stream to parse\n   */\n\n  parse(stream) {\n    /** @type {?Assembly} */\n    let assembly = this._assembly\n    /** @type {?THREE.Matrix4} */\n    let matrix = this._matrix\n\n    if (assembly && stream.readString(12, 18) === '  BIOMT') {\n      const matrixRow = stream.readCharCode(19) - 49 // convert '1', '2', or '3' -> 0, 1, or 2\n      const matrixData = stream.readString(20, 80).trim().split(/\\s+/)\n      const matrixIndex = parseInt(matrixData[0], 10)\n      if (this._matrix === null || matrixIndex !== this._matrixIndex) {\n        // TODO: assert(matrixIndex === assembly.matrices.length + 1);\n        this._matrixIndex = matrixIndex\n        this._matrix = matrix = new THREE.Matrix4()\n        assembly.addMatrix(matrix)\n      }\n\n      const { elements } = matrix\n      elements[matrixRow] = parseFloat(matrixData[1])\n      elements[matrixRow + 4] = parseFloat(matrixData[2])\n      elements[matrixRow + 8] = parseFloat(matrixData[3])\n      elements[matrixRow + 12] = parseFloat(matrixData[4])\n    } else if (assembly && stream.readString(35, 41) === 'CHAINS:') {\n      const entries = stream.readString(42, 80).split(',')\n      for (let i = 0, n = entries.length; i < n; ++i) {\n        const chain = entries[i].trim()\n        if (chain.length > 0) {\n          assembly.addChain(chain)\n        }\n      }\n    } else if (stream.readString(12, 23) === 'BIOMOLECULE:') {\n      // assert molIndex === this.assemblies.length + 1\n      this._matrix = null\n      this._matrixIndex = -1\n      this._assembly = assembly = new Assembly(this._complex)\n      this.assemblies.push(assembly)\n    }\n  }\n}\n\nRemark350.prototype.id = 350\n\nexport default Remark350\n","/** Helper class for stream-like reading input files. */\nclass PDBStream {\n  /**\n   * Create a stream\n   * @param {String} data Input data\n   */\n  constructor(data) {\n    /** @type String */\n    this._data = data // Input file\n    /** @type Number */\n    this._start = 0 // Starting position of line\n    /** @type Number */\n    this._nextCR = -1 // Position of next CR (0x0D)\n    /** @type Number */\n    this._nextLF = -1 // Position of next LF (0x0A)\n    /** @type Number */\n    this._next = -1 // End position of line\n    /** @type Number */\n    this._end = data.length // End of data\n\n    this.next()\n  }\n\n  /**\n   * Reading next line.\n   * @returns {String} Next line in data (ending with LF or CR)\n   */\n  readLine() {\n    return this._data.slice(this._start, this._next)\n  }\n\n  /**\n   * Reading character from position.\n   * @param {Number} pos - Position in current line.\n   * @returns {String} Character from position\n   */\n  readChar(pos) {\n    pos = this._start + pos - 1\n    return pos < this._next ? this._data[pos] : ' '\n  }\n\n  /**\n   * Reading character code from position.\n   * @param {Number} pos - Position in current line.\n   * @returns {Number} Character code from position\n   */\n  readCharCode(pos) {\n    pos = this._start + pos - 1\n    return pos < this._next ? this._data.charCodeAt(pos) : 32\n  }\n\n  /**\n   * Reading string from begin to end points.\n   * For a reason unknown, numbering assumed not to start from 0, but from 1.\n   * @param {Number} begin - Begin point in current line.\n   * @param {Number} end - End point in current line.\n   * @returns {String} String from begin to end\n   */\n  readString(begin, end) {\n    const from = this._start + begin - 1\n    const to = this._start + end\n    return this._data.slice(from, to < this._next ? to : this._next)\n  }\n\n  /**\n   * Reading integer from begin to end points.\n   * @param {Number} begin - Begin point in current line.\n   * @param {Number} end - End point in current line.\n   * @returns {Number} Integer from begin to end\n   */\n  readInt(begin, end) {\n    return parseInt(this.readString(begin, end), 10)\n  }\n\n  /**\n   * Reading float from begin to end points.\n   * @param {Number} begin - Begin point in current line.\n   * @param {Number} end - End point in current line.\n   * @returns {Number} Float from begin to end\n   */\n  readFloat(begin, end) {\n    return parseFloat(this.readString(begin, end))\n  }\n\n  /**\n   * Checking for end of data.\n   * @returns {boolean} True if data is ended, false otherwise\n   */\n  end() {\n    return this._start >= this._end\n  }\n\n  /**\n   * Procedure to re-arrange current pointers in data.\n   */\n  next() {\n    const start = this._next + 1\n    this._start = start < this._end ? start : this._end\n\n    // support CR, LF, CR+LF line endings\n    // do not support LF+CR, CR+CR+LF, and other strange combinations\n\n    if (this._start > this._nextCR) {\n      this._nextCR =\n        (this._data.indexOf('\\r', this._start) + 1 || this._end + 1) - 1\n    }\n    if (this._start > this._nextLF) {\n      this._nextLF =\n        (this._data.indexOf('\\n', this._start) + 1 || this._end + 1) - 1\n    }\n    this._next = this._nextCR + 1 < this._nextLF ? this._nextCR : this._nextLF\n  }\n}\n\nexport default PDBStream\n","import * as THREE from 'three'\nimport _ from 'lodash'\nimport Parser from './Parser'\nimport chem from '../../chem'\nimport Remark290 from './pdb/Remark290'\nimport Remark350 from './pdb/Remark350'\nimport PDBStream from './PDBStream'\n\nconst { Complex, Element, Helix, Sheet, Strand, Bond, Molecule } = chem\n\nconst TAG_LENGTH = 6\n\nfunction nameToElement(name) {\n  // http://www.wwpdb.org/documentation/file-format-content/format33/sect9.html#ATOM\n  //\n  // http://www.cgl.ucsf.edu/chimera/docs/UsersGuide/tutorials/pdbintro.html#note1\n  //\n  // Atom names start with element symbols right-justified in columns 13-14\n  // as permitted by the length of the name. For example, the symbol FE for\n  // iron appears in columns 13-14, whereas the symbol C for carbon appears\n  // in column 14 (see Misaligned Atom Names). If an atom name has four\n  // characters, however, it must start in column 13 even if the element\n  // symbol is a single character (for example, see Hydrogen Atoms).\n\n  const veryLong = name.trim().length === 4\n  return name.slice(0, veryLong ? 1 : 2).trim()\n}\n\n// the most frequently used beginnings; although HEADER is mandatory, it is often missing in handmade files\nconst pdbStartRegexp = /^(HEADER\\s|COMPND\\s|REMARK\\s|ATOM {2}|HETATM|MODEL )/i\n\nconst remarkParsers = {\n  // NOTE: please forget the idea to build the method name in runtime, it can be obfuscated.\n  290: Remark290,\n  350: Remark350\n}\n\nclass PDBParser extends Parser {\n  constructor(data, options) {\n    super(data, options)\n\n    this._complex = null\n    this._chain = null\n    this._residue = null\n    this._sheet = null\n    this._serialAtomMap = null\n    this._modelId = 1\n    this._compaundFound = false\n    this._biomoleculeFound = false\n    this._allowedChainsIDs = null\n    this._lastMolId = -1\n\n    this._remarks = {}\n    this._remark = null\n\n    this._molecules = []\n    this._molecule = null\n    this._compndCurrToken = ''\n\n    this._options.fileType = 'pdb'\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && pdbStartRegexp.test(data)\n  }\n\n  _finalize() {\n    this._fixBondsArray()\n    this._fixChains()\n\n    // keep crystallographic symmetry transformations\n    const remark290 = this._remarks[290]\n    this._complex.symmetry = _.isUndefined(remark290) ? [] : remark290.matrices\n\n    // add loaded biological assemblies\n    const remark350 = this._remarks[350]\n    this._complex.units = this._complex.units.concat(\n      _.isUndefined(remark350) ? [] : remark350.assemblies\n    )\n\n    // add loaded macromolecules\n    this._finalizeMolecules()\n\n    // create secondary structure etc.\n    this._complex.finalize({\n      needAutoBonding: true,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap\n    })\n  }\n\n  _finalizeMolecules() {\n    // get chains from complex\n    const chainDict = {}\n    let i\n    const chains = this._complex._chains\n    for (i = 0; i < chains.length; ++i) {\n      const chainObj = chains[i]\n      const chainName = chainObj._name\n      chainDict[chainName] = chainObj\n    }\n\n    // aggregate residues from chains\n    for (i = 0; i < this._molecules.length; i++) {\n      const m = this._molecules[i]\n      let residues = []\n      for (let j = 0; j < m._chains.length; j++) {\n        const name = m._chains[j]\n        const chain = chainDict[name]\n        residues = residues.concat(chain._residues.slice())\n      }\n      const molecule = new Molecule(this._complex, m._name, i + 1)\n      molecule.residues = residues\n      this._complex._molecules[i] = molecule\n    }\n  }\n\n  _fixChains() {\n    const idChainMap = {}\n    const complex = this._complex\n\n    // prepare\n    for (let i = 0; i < complex._chains.length; i++) {\n      const chain = complex._chains[i]\n      idChainMap[chain._name.charCodeAt(0)] = chain\n    }\n  }\n\n  // FIXME: This function is redundant, CONECT records always follow ATOM and HETATM. Build the map online.\n  _fixBondsArray() {\n    const serialAtomMap = (this._serialAtomMap = {})\n    const complex = this._complex\n\n    const atoms = complex._atoms\n    for (let i = 0, ni = atoms.length; i < ni; ++i) {\n      const atom = atoms[i]\n      serialAtomMap[atom.serial] = atom\n    }\n\n    const bonds = complex._bonds\n    const { logger } = this\n    for (let j = 0, nj = bonds.length; j < nj; ++j) {\n      const bond = bonds[j]\n      if (bond._right < bond._left) {\n        logger.debug('_fixBondsArray: Logic error.')\n      }\n      bond._left = serialAtomMap[bond._left] || null\n      bond._right = serialAtomMap[bond._right] || null\n    }\n  }\n\n  _parseATOM(stream) {\n    if (this._modelId !== 1) {\n      return\n    }\n\n    /* eslint-disable no-magic-numbers */\n    const het = stream.readCharCode(1) === 0x48\n\n    // field names according to wwPDB Format\n    // NOTE: Chimera allows (nonstandard) use of columns 6-11 for the integer atom serial number in ATOM records.\n    const serial = het ? stream.readInt(7, 11) : stream.readInt(6, 11)\n    let name = stream.readString(13, 16)\n    const altLoc = stream.readChar(17)\n    const resName = stream.readString(18, 20).trim()\n    const chainID = stream.readChar(22)\n    const resSeq = stream.readInt(23, 26)\n    const iCode = stream.readChar(27)\n    const x = stream.readFloat(31, 38)\n    const y = stream.readFloat(39, 46)\n    const z = stream.readFloat(47, 54)\n    const occupancy = stream.readFloat(55, 60)\n    const tempFactor = stream.readFloat(61, 66)\n    const element = stream.readString(77, 78).trim() || nameToElement(name)\n    const charge = stream.readInt(79, 80) || 0\n    /* eslint-enable no-magic-numbers */\n    // skip waters (there may be lots of them)\n    if (this.settings.now.nowater) {\n      if (resName === 'HOH' || resName === 'WAT') {\n        return\n      }\n    }\n\n    // PDB uses positional system for atom names. It helps derive element type from the name\n    // but names may include extra spaces. From this point on we don't need those spaces anymore.\n    name = name.trim()\n\n    const type = Element.getByName(element)\n    const role = Element.Role[name] // FIXME: Maybe should use type as additional index (\" CA \" vs. \"CA  \")\n\n    // NOTE: Residues of a particular chain are not required to be listed next to each other.\n    // https://github.com/biasmv/pv/commit/7319b898b7473ba380c26699e3b028b2b1a7e1a1\n    let chain = this._chain\n    if (!chain || chain.getName() !== chainID) {\n      this._chain = chain =\n        this._complex.getChain(chainID) || this._complex.addChain(chainID)\n      this._residue = null\n    }\n\n    let residue = this._residue\n    if (\n      !residue ||\n      residue.getSequence() !== resSeq ||\n      residue.getICode() !== iCode\n    ) {\n      this._residue = residue = chain.addResidue(resName, resSeq, iCode)\n    }\n\n    const xyz = new THREE.Vector3(x, y, z)\n    residue.addAtom(\n      name,\n      type,\n      xyz,\n      role,\n      het,\n      serial,\n      altLoc,\n      occupancy,\n      tempFactor,\n      charge\n    )\n  }\n\n  _parseENDMDL() {\n    this._modelId += 1\n  }\n\n  _parseCONECT(stream) {\n    /* eslint-disable no-magic-numbers */\n    const serial0 = stream.readInt(7, 11)\n    const serial1 = stream.readInt(12, 16)\n    const serial2 = stream.readInt(17, 21)\n    const serial3 = stream.readInt(22, 26)\n    const serial4 = stream.readInt(27, 31)\n    /* eslint-enable no-magic-numbers */\n\n    const complex = this._complex\n\n    // Keep bonds ordered by atom serial\n    if (serial1 && serial1 > serial0) {\n      complex.addBond(serial0, serial1, 0, Bond.BondType.UNKNOWN, true)\n    }\n    if (serial2 && serial2 > serial0) {\n      complex.addBond(serial0, serial2, 0, Bond.BondType.UNKNOWN, true)\n    }\n    if (serial3 && serial3 > serial0) {\n      complex.addBond(serial0, serial3, 0, Bond.BondType.UNKNOWN, true)\n    }\n    if (serial4 && serial4 > serial0) {\n      complex.addBond(serial0, serial4, 0, Bond.BondType.UNKNOWN, true)\n    }\n  }\n\n  _parseCOMPND(stream) {\n    /* eslint-disable no-magic-numbers */\n    const str = stream.readString(11, 80)\n    const tokenIdx = str.indexOf(':')\n    this._compndCurrToken =\n      tokenIdx > 0 ? str.substring(0, tokenIdx).trim() : this._compndCurrToken\n    /* eslint-enable no-magic-numbers */\n\n    // start reading new molecule\n    if (this._compndCurrToken === 'MOL_ID') {\n      this._molecule = { _index: '', _chains: [] }\n      this._molecule._index = parseInt(\n        str.substring(tokenIdx + 1, str.indexOf(';')),\n        10\n      )\n      this._molecules.push(this._molecule)\n      // parse molecule name\n    } else if (this._compndCurrToken === 'MOLECULE' && this._molecule != null) {\n      this._molecule._name = str\n        .substring(tokenIdx + 1, str.indexOf(';'))\n        .trim()\n      // parse molecule chains\n    } else if (this._compndCurrToken === 'CHAIN' && this._molecule != null) {\n      let chainStr = str.substring(tokenIdx + 1, 80).trim()\n      const lastChar = chainStr[chainStr.length - 1]\n      if (lastChar === ';' || lastChar === ',') {\n        chainStr = chainStr.slice(0, -1)\n      }\n      chainStr = chainStr.replace(/\\s+/g, '')\n      const chains = chainStr.split(',')\n      this._molecule._chains = this._molecule._chains.concat(chains)\n    }\n  }\n\n  _parseREMARK(stream) {\n    /* eslint-disable no-magic-numbers */\n    const remarkNum = stream.readInt(8, 10)\n    /* eslint-enable no-magic-numbers */\n\n    // create remark parser if needed\n    let remark = this._remarks[remarkNum]\n    if (_.isUndefined(remark)) {\n      const RemarkParser = remarkParsers[remarkNum]\n      if (typeof RemarkParser === 'function') {\n        this._remarks[remarkNum] = remark = new RemarkParser(this._complex)\n      }\n    }\n\n    // delegate parsing\n    if (!_.isUndefined(remark)) {\n      remark.parse(stream)\n    }\n  }\n\n  _parseHELIX(stream) {\n    /* eslint-disable no-magic-numbers */\n    const fields = [20, 22, 32, 34]\n    /* eslint-enable no-magic-numbers */\n    this._parseSTRUCTURE(stream, fields, (obj) => {\n      this._complex.addHelix(obj)\n      this._complex.structures.push(obj)\n    })\n  }\n\n  _parseSHEET(stream) {\n    /* eslint-disable no-magic-numbers */\n    const fields = [22, 23, 33, 34]\n    /* eslint-enable no-magic-numbers */\n    this._parseSTRUCTURE(stream, fields, (obj) => {\n      this._complex.addSheet(obj)\n    })\n  }\n\n  _parseSTRUCTURE(stream, pars, adder) {\n    const startId = 0\n    const startIndex = 1\n    const endId = 2\n    const endIndex = 3\n\n    // identify fields: debugging and stuff\n    /* eslint-disable no-magic-numbers */\n    const codeOfS = 0x53\n    const serialNumber = stream.readInt(8, 10)\n    const structureName = stream.readString(12, 14).trim() // FIXME: LString(3) forbids trim()\n    const comment = stream.readString(41, 70).trim()\n    const helLength = stream.readInt(72, 76)\n    const helixClass = stream.readInt(39, 40)\n    const shWidth = stream.readInt(15, 16)\n    const shCur = stream.readInt(42, 45)\n    const shPrev = stream.readInt(57, 60)\n    /* eslint-enable no-magic-numbers */\n    // file fields\n    const startChainID = stream\n      .readString(pars[startId], pars[endId] + 1)\n      .charCodeAt(0)\n    const endChainID = stream\n      .readString(pars[endId], pars[endId] + 1)\n      .charCodeAt(0)\n    const startSequenceNumber = stream.readInt(\n      pars[startIndex],\n      pars[startIndex] + 3\n    )\n    let iCodeStr = stream.readString(pars[startIndex] + 4, pars[startIndex] + 4)\n    let startICode = 0\n\n    if (iCodeStr.length > 0) {\n      startICode = iCodeStr.charCodeAt(0)\n    }\n    const endSequenceNumber = stream.readInt(pars[endIndex], pars[endIndex] + 3)\n    iCodeStr = stream.readString(pars[endIndex] + 4, pars[endIndex] + 4)\n    let endICode = 0\n    if (iCodeStr.length > 0) {\n      endICode = iCodeStr.charCodeAt(0)\n    }\n\n    let obj\n    let cs = this._sheet\n    if (stream.readCharCode(1) === codeOfS) {\n      if (cs !== null && cs.getName() !== structureName) {\n        cs = null\n        this._sheet = null\n      }\n      if (cs === null) {\n        this._sheet = obj = new Sheet(structureName, shWidth)\n        adder(obj)\n      } else {\n        obj = cs\n      }\n      const strand = new Strand(\n        obj,\n        this._complex.getUnifiedSerial(\n          startChainID,\n          startSequenceNumber,\n          startICode\n        ),\n        this._complex.getUnifiedSerial(endChainID, endSequenceNumber, endICode),\n        helixClass,\n        shCur,\n        shPrev\n      )\n      obj.addStrand(strand)\n      this._complex.structures.push(strand)\n    } else {\n      obj = new Helix(\n        helixClass,\n        this._complex.getUnifiedSerial(\n          startChainID,\n          startSequenceNumber,\n          startICode\n        ),\n        this._complex.getUnifiedSerial(endChainID, endSequenceNumber, endICode),\n        serialNumber,\n        structureName,\n        comment,\n        helLength\n      )\n      adder(obj)\n    }\n  }\n\n  _parseHEADER(stream) {\n    const { metadata } = this._complex\n    metadata.classification = stream.readString(11, 50).trim()\n    metadata.date = stream.readString(51, 59).trim()\n\n    const id = stream.readString(63, 66).trim()\n    metadata.id = id\n    if (id) {\n      this._complex.name = id\n    }\n    metadata.format = 'pdb'\n  }\n\n  _parseTITLE(stream) {\n    const { metadata } = this._complex\n    metadata.title = metadata.title || []\n\n    const line = stream.readInt(9, 10) || 1\n    metadata.title[line - 1] = stream.readString(11, 80).trim()\n  }\n\n  static tagParsers = {\n    HEADER: PDBParser.prototype._parseHEADER,\n    'TITLE ': PDBParser.prototype._parseTITLE,\n    'ATOM  ': PDBParser.prototype._parseATOM,\n    HETATM: PDBParser.prototype._parseATOM,\n    ENDMDL: PDBParser.prototype._parseENDMDL,\n    CONECT: PDBParser.prototype._parseCONECT,\n    COMPND: PDBParser.prototype._parseCOMPND,\n    REMARK: PDBParser.prototype._parseREMARK,\n    // 'SOURCE': PDBParser.prototype._parseSOURCE,\n    'HELIX ': PDBParser.prototype._parseHELIX,\n    'SHEET ': PDBParser.prototype._parseSHEET,\n\n    // nonstandard extension to allow range 100,000 - 999,999\n    'ATOM 1': PDBParser.prototype._parseATOM,\n    'ATOM 2': PDBParser.prototype._parseATOM,\n    'ATOM 3': PDBParser.prototype._parseATOM,\n    'ATOM 4': PDBParser.prototype._parseATOM,\n    'ATOM 5': PDBParser.prototype._parseATOM,\n    'ATOM 6': PDBParser.prototype._parseATOM,\n    'ATOM 7': PDBParser.prototype._parseATOM,\n    'ATOM 8': PDBParser.prototype._parseATOM,\n    'ATOM 9': PDBParser.prototype._parseATOM\n  }\n\n  parseSync() {\n    const stream = new PDBStream(this._data)\n    const result = (this._complex = new Complex())\n\n    // parse PDB line by line\n    while (!stream.end()) {\n      const tag = stream.readString(1, TAG_LENGTH)\n      const func = PDBParser.tagParsers[tag]\n      if (typeof func === 'function') {\n        func.call(this, stream)\n      }\n      stream.next()\n    }\n\n    // Resolve indices and serials to objects\n    this._finalize()\n\n    // cleanup\n    this._serialAtomMap = null\n    this._sheet = null\n    this._residue = null\n    this._chain = null\n    this._complex = null\n\n    if (result.getAtomCount() === 0) {\n      throw new Error('The data does not contain valid atoms')\n    }\n\n    return result\n  }\n}\n\nPDBParser.formats = ['pdb']\nPDBParser.extensions = ['.pdb', '.ent']\n\nexport default PDBParser\n","import _ from 'lodash'\nimport * as THREE from 'three'\nimport Parser from './Parser'\nimport chem from '../../chem'\n\nconst { Complex, Element, SGroup, Bond } = chem\n\nconst cOrderCharCodes = {\n  A: 0,\n  S: 1,\n  D: 2,\n  T: 3\n}\n\nconst cmlStartRegexp = /\\s*<\\?xml\\b[^?>]*\\?>\\s*<(?:cml|molecule)\\b/i\n\nclass CMLParser extends Parser {\n  constructor(data, options) {\n    super(data, options)\n    this._complex = null\n    this._residue = null\n    this._serialAtomMap = null\n    this._modelId = 1\n    this._lastMolId = -1\n    this._readOnlyOneMolecule = false\n    this._options.fileType = 'cml'\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && cmlStartRegexp.test(data)\n  }\n\n  _rebuidBondIndexes(atoms, bonds) {\n    const count = atoms.length\n    for (let i = 0; i < count; i++) {\n      const atomId = atoms[i].id\n\n      const countBonds = bonds.length\n      for (let j = 0; j < countBonds; j++) {\n        const idxs = bonds[j].atomRefs2.split(' ')\n        if (idxs[0] === atomId) {\n          bonds[j].start = i\n        }\n\n        if (idxs[1] === atomId) {\n          bonds[j].end = i\n        }\n      }\n    }\n  }\n\n  _createSGroup(molecule, moleculeArr) {\n    const newGroup = new SGroup(\n      molecule.id,\n      molecule.fieldData,\n      new THREE.Vector3(parseFloat(molecule.x), parseFloat(molecule.y), 0),\n      molecule.atomRefs,\n      molecule\n    )\n    if (molecule.placement === 'Relative') {\n      newGroup._center = new THREE.Vector3(0, 0, 0)\n    }\n    if (molecule.fieldName === 'MDLBG_FRAGMENT_CHARGE') {\n      newGroup._charge = parseInt(molecule.fieldData, 10) || 0\n    }\n    if (molecule.fieldName === 'MDLBG_FRAGMENT_COEFFICIENT') {\n      newGroup._repeat = parseInt(molecule.fieldData, 10) || 1\n    }\n    moleculeArr.push(newGroup)\n  }\n\n  _extractSGroup(molecule, moleculeArr) {\n    if (!Array.isArray(moleculeArr)) {\n      moleculeArr = []\n    }\n\n    if (molecule) {\n      if (Array.isArray(molecule)) {\n        const count = molecule.length\n        for (let i = 0; i < count; i++) {\n          if (molecule[i].molecule) {\n            moleculeArr = moleculeArr.concat(\n              this._extractSGroup(molecule[i].molecule)\n            )\n          }\n          this._createSGroup(molecule[i], moleculeArr)\n        }\n      } else {\n        if (molecule.molecule) {\n          if (molecule.molecule) {\n            moleculeArr = moleculeArr.concat(\n              this._extractSGroup(molecule.molecule)\n            )\n          }\n        }\n        this._createSGroup(molecule, moleculeArr)\n      }\n    }\n\n    return moleculeArr\n  }\n\n  _extractSGroups(molecule, atoms) {\n    const moleculeArr = this._extractSGroup(molecule)\n\n    const count = atoms.length\n    let i\n    let j\n\n    for (i = 0; i < count; i++) {\n      const atomId = atoms[i].id\n      for (j = 0; j < moleculeArr.length; j++) {\n        const firstAtomRef = moleculeArr[j]._atoms.split(' ')[0]\n        if (firstAtomRef === atomId) {\n          if (!atoms[i].sgroupRef) {\n            atoms[i].sgroupRef = []\n          }\n          atoms[i].sgroupRef.push(moleculeArr[j])\n        }\n      }\n    }\n    // build sGroups centers\n    let atomMap = {} // sgrpmap cache\n    let mapEntry = null\n    const nLimon = 100000000\n    const bLow = new THREE.Vector3(nLimon, nLimon, nLimon)\n    const bHight = new THREE.Vector3(-nLimon, -nLimon, -nLimon)\n\n    function cycleFuncInner(e) {\n      mapEntry = atomMap[e]\n      if (mapEntry) {\n        moleculeArr[j]._atoms.push(mapEntry.a)\n      }\n    }\n\n    function cycleFunc(e) {\n      mapEntry = atomMap[e]\n      if (mapEntry) {\n        bLow.set(\n          Math.min(bLow.x, mapEntry.x),\n          Math.min(bLow.y, mapEntry.y),\n          Math.min(bLow.z, mapEntry.z)\n        )\n        bHight.set(\n          Math.max(bHight.x, mapEntry.x),\n          Math.max(bHight.y, mapEntry.y),\n          Math.max(bHight.z, mapEntry.z)\n        )\n        cycleFuncInner(e)\n      }\n    }\n\n    for (i = 0; i < atoms.length; i++) {\n      atomMap[atoms[i].id] = {}\n      atomMap[atoms[i].id].x = atoms[i].x2\n      if (atoms[i].x3) {\n        atomMap[atoms[i].id].x = atoms[i].x3\n      }\n      atomMap[atoms[i].id].x = parseFloat(atomMap[atoms[i].id].x)\n      atomMap[atoms[i].id].y = atoms[i].y2\n      if (atoms[i].y3) {\n        atomMap[atoms[i].id].y = atoms[i].y3\n      }\n      atomMap[atoms[i].id].y = parseFloat(atomMap[atoms[i].id].y)\n      atomMap[atoms[i].id].z = '0.0'\n      if (atoms[i].z3) {\n        atomMap[atoms[i].id].z = atoms[i].z3\n      }\n      atomMap[atoms[i].id].z = parseFloat(atomMap[atoms[i].id].z)\n      atomMap[atoms[i].id].a = atoms[i]\n    }\n\n    let atomsRef\n    for (j = 0; j < moleculeArr.length; j++) {\n      if (moleculeArr[j]._center !== null) {\n        bLow.set(nLimon, nLimon, nLimon)\n        bHight.set(-nLimon, -nLimon, -nLimon)\n        atomsRef = moleculeArr[j]._atoms.split(' ')\n        moleculeArr[j]._atoms = []\n        atomsRef.forEach(cycleFunc)\n\n        moleculeArr[j]._center.addVectors(bLow, bHight)\n        moleculeArr[j]._center.multiplyScalar(0.5)\n      } else {\n        atomsRef = moleculeArr[j]._atoms.split(' ')\n        moleculeArr[j]._atoms = []\n        atomsRef.forEach(cycleFuncInner)\n      }\n    }\n    atomMap = null\n  }\n\n  _traverseData(dom) {\n    function isArray(o) {\n      return Object.prototype.toString.apply(o) === '[object Array]'\n    }\n\n    function parseNode(xmlNode, result) {\n      if (xmlNode.nodeName === '#text' && xmlNode.nodeValue.trim() === '') {\n        return\n      }\n\n      const jsonNode = {}\n      jsonNode.xmlNode = xmlNode\n      const existing = result[xmlNode.nodeName]\n      if (existing) {\n        if (!isArray(existing)) {\n          result[xmlNode.nodeName] = [existing, jsonNode]\n        } else {\n          result[xmlNode.nodeName].push(jsonNode)\n        }\n      } else {\n        result[xmlNode.nodeName] = jsonNode\n      }\n\n      let length\n      let i\n      if (xmlNode.attributes) {\n        ;({ length } = xmlNode.attributes)\n        for (i = 0; i < length; i++) {\n          const attribute = xmlNode.attributes[i]\n          jsonNode[attribute.nodeName] = attribute.nodeValue\n        }\n      }\n\n      ;({ length } = xmlNode.childNodes)\n      for (i = 0; i < length; i++) {\n        parseNode(xmlNode.childNodes[i], jsonNode)\n      }\n    }\n\n    const result = {}\n    if (dom.childNodes.length) {\n      parseNode(dom.childNodes[0], result)\n    }\n\n    return result\n  }\n\n  _findSuitableMolecule(data, molSet) {\n    for (const key in data) {\n      if (key === 'xmlNode') {\n        continue\n      } else if (key === 'molecule') {\n        if (data.molecule) {\n          if (data.molecule.atomArray && data.molecule.atomArray.atom) {\n            molSet.push(data)\n          }\n          if (Array.isArray(data.molecule)) {\n            for (let i = 0; i < data.molecule.length; i++) {\n              if (\n                data.molecule[i].atomArray &&\n                data.molecule[i].atomArray.atom\n              ) {\n                molSet.push({ molecule: data.molecule[i] })\n              }\n            }\n          }\n        }\n      } else if (\n        data[key] &&\n        data[key] !== null &&\n        typeof data[key] === 'object'\n      ) {\n        this._findSuitableMolecule(data[key], molSet)\n      }\n    }\n  }\n\n  _selectComponents(text) {\n    const parser = new DOMParser()\n    const doc = parser.parseFromString(text, 'application/xml')\n    const traversedData = this._traverseData(doc)\n    let rawData\n    const self = this\n\n    function prepareComponentCompound(data) {\n      let atoms = []\n      if (\n        data.molecule &&\n        data.molecule.atomArray &&\n        data.molecule.atomArray.atom\n      ) {\n        if (!Array.isArray(data.molecule.atomArray.atom)) {\n          atoms.push(data.molecule.atomArray.atom)\n        } else {\n          atoms = data.molecule.atomArray.atom\n        }\n      } else if (!data.molecule) {\n        const ret = {}\n        ret.atomLabels = null\n        ret.labelsCount = 1\n        return ret\n      }\n\n      if (data.molecule.molecule) {\n        self._extractSGroups(data.molecule.molecule, atoms)\n      }\n\n      let atom\n      let count = atoms.length\n      for (let i = 0; i < count; i++) {\n        atom = atoms[i]\n        atom.edges = []\n      }\n\n      let localBond = []\n      if (data.molecule.bondArray && data.molecule.bondArray.bond) {\n        if (!Array.isArray(data.molecule.bondArray.bond)) {\n          localBond.push(data.molecule.bondArray.bond)\n        } else {\n          localBond = data.molecule.bondArray.bond\n        }\n      }\n      let bond\n      count = localBond.length\n      self._rebuidBondIndexes(atoms, localBond)\n\n      function addCurrBond(index) {\n        bond = localBond[index]\n        atom = atoms[bond.start]\n        if (!atom) {\n          return false\n        }\n        atom.edges.push(bond.end)\n        atom = atoms[bond.end]\n        if (!atom) {\n          return false\n        }\n        atom.edges.push(bond.start)\n        return true\n      }\n\n      for (let i = 0; i < count; i++) {\n        if (!addCurrBond(i)) {\n          // ignore invalid bond\n          continue\n        }\n        const orderAttr = bond.xmlNode.getAttribute('order')\n        const tc = parseInt(orderAttr, 10)\n        // the default bond order is unknown\n        localBond[i].order = 0\n        localBond[i].type = Bond.BondType.UNKNOWN\n        if (tc > 1) {\n          localBond[i].order = tc\n        } else {\n          // another option - bond order is a string\n          const order = cOrderCharCodes[orderAttr]\n          if (order !== undefined) {\n            localBond[i].order = order\n            if (orderAttr === 'A') {\n              localBond[i].type = Bond.BondType.AROMATIC\n            }\n          }\n        }\n      }\n\n      count = atoms.length\n      for (let i = 0; i < count; i++) {\n        atom = atoms[i]\n        atom.edges.sort()\n      }\n\n      const labels = self._breadWidthSearch(atoms, 0) // for now\n\n      const retStruct = {}\n      retStruct.atoms = atoms\n      retStruct.bonds = localBond\n      retStruct.labels = labels.atomLabels\n      retStruct.count = Math.min(1, labels.labelsCount) // for now\n      retStruct.curr = -1\n      retStruct.originalCML = doc\n\n      return retStruct\n    }\n\n    if (traversedData.cml) {\n      rawData = traversedData.cml\n    } else {\n      rawData = traversedData\n    }\n    const retData = []\n    const filteredData = []\n    this._findSuitableMolecule(rawData, filteredData)\n    if (this._readOnlyOneMolecule && filteredData.length > 1) {\n      filteredData.splice(1, filteredData.length - 1)\n    }\n    filteredData.forEach((d) => {\n      const rd = prepareComponentCompound(d)\n      if (rd.atoms.length > 0) {\n        retData.push(rd)\n      }\n    })\n    return retData\n  }\n\n  _packLabel(compId, molId) {\n    const shift = 16\n    return (molId << shift) + compId\n  }\n\n  _unpackLabel(l) {\n    const shift = 16\n    const mask = (1 << shift) - 1\n    return { molId: l >>> shift, compId: l & mask }\n  }\n\n  _breadWidthSearch(atoms, molID) {\n    const atomLabels = new Array(atoms.length)\n\n    let id\n    for (id = 0; id < atomLabels.length; id++) {\n      atomLabels[id] = this._packLabel(0, molID)\n    }\n\n    const breadthQueue = []\n    let componentID = 0\n    let labeledAtoms = atoms.length\n\n    while (labeledAtoms > 0) {\n      componentID++\n\n      let startID = -1\n      for (id = 0; id < atomLabels.length; id++) {\n        if (this._unpackLabel(atomLabels[id]).compId === 0) {\n          startID = id\n          break\n        }\n      }\n\n      if (startID < 0) {\n        break\n      }\n\n      // Bread first search\n      breadthQueue.push(atoms[startID])\n      atomLabels[startID] = this._packLabel(componentID, molID)\n      labeledAtoms--\n\n      while (breadthQueue.length > 0) {\n        const curr = breadthQueue.shift()\n        if (!curr) {\n          continue\n        }\n\n        for (let i = 0; i < curr.edges.length; i++) {\n          if (atomLabels[curr.edges[i]] !== componentID) {\n            breadthQueue.push(atoms[curr.edges[i]])\n            atomLabels[curr.edges[i]] = componentID\n            labeledAtoms--\n          }\n        }\n      }\n    }\n    const ret = {}\n    ret.atomLabels = atomLabels\n    ret.labelsCount = componentID\n    return ret\n  }\n\n  _parseBond(eAtom, mainAtom, order, type) {\n    if (eAtom >= 0) {\n      const h = [Math.min(eAtom, mainAtom), Math.max(eAtom, mainAtom)]\n      this._complex.addBond(h[0], h[1], order, type, true)\n    }\n  }\n\n  _fixBondsArray() {\n    const serialAtomMap = (this._serialAtomMap = {})\n    const complex = this._complex\n\n    const atoms = complex._atoms\n    for (let i = 0, ni = atoms.length; i < ni; ++i) {\n      const atom = atoms[i]\n      serialAtomMap[atom.serial] = atom\n    }\n\n    const bonds = complex._bonds\n    const { logger } = this\n    for (let j = 0, nj = bonds.length; j < nj; ++j) {\n      const bond = bonds[j]\n      if (bond._right < bond._left) {\n        logger.debug('_fixBondsArray: Logic error.')\n      }\n      bond._left = serialAtomMap[bond._left] || null\n      bond._right = serialAtomMap[bond._right] || null\n    }\n  }\n\n  _parseSet(varData) {\n    const complex = (this._complex = new Complex())\n    const data = varData\n    const currentLabel = data.curr\n    const { atoms, labels } = data\n    let atom = null\n    let i\n    let j\n    const count = atoms.length\n\n    function addFunc(a) {\n      a.xmlNodeRef = atom\n      if (atom.x2) {\n        atom.x3 = atom.x2\n        delete atom.x2\n      }\n      if (atom.y2) {\n        atom.y3 = atom.y2\n        delete atom.y2\n      }\n      if (!atom.z3) {\n        atom.z3 = '0.0'\n      }\n      atom.complexAtom = a\n    }\n\n    let chains = {}\n    // parse atoms in label order\n    const reorder = []\n    for (i = 0; i < count; i++) {\n      reorder.push(i)\n    }\n    reorder.sort((a, b) => labels[a] - labels[b])\n    for (i = 0; i < count; i++) {\n      const atomCharge = 0\n      const lLabel = labels[reorder[i]]\n      if (\n        this._unpackLabel(lLabel).molId ===\n        this._unpackLabel(currentLabel).molId\n      ) {\n        atom = atoms[reorder[i]]\n        const atomFullNameStruct = atom.elementType\n\n        if (atom.sgroupRef) {\n          const countRef = atom.sgroupRef.length\n          for (let k = 0; k < countRef; ++k) {\n            complex._sgroups.push(atom.sgroupRef[k])\n          }\n        }\n\n        if (atom.x3 || atom.x2) {\n          const currAtomComp = this._unpackLabel(lLabel).compId\n          // use ' ' by default instead of synthetic creation of chain names\n          const chainID = ' ' //= String.fromCharCode('A'.charCodeAt(0) + currAtomComp);\n          const resSeq = currAtomComp\n          const iCode = ' '\n          let strLabel = currAtomComp.toString()\n          if (strLabel.length === 1) {\n            strLabel = `0${strLabel}`\n          }\n          const resName = `N${strLabel}`\n          let chain = chains[chainID]\n          if (!chain || chain.getName() !== chainID) {\n            chains[chainID] = chain =\n              this._complex.getChain(chainID) || this._complex.addChain(chainID)\n            this._residue = null\n          }\n\n          let residue = this._residue\n          if (\n            !residue ||\n            residue.getSequence() !== resSeq ||\n            residue.getICode() !== iCode\n          ) {\n            this._residue = residue = chain.addResidue(resName, resSeq, iCode)\n          }\n\n          // _x, _y, _z, mname, mindex, atomNameFull, atomName, chainID, serial, isHet, atlLocInd, atomNameToTypeF\n          let xyz = null\n          if (atom.x3) {\n            xyz = new THREE.Vector3(\n              parseFloat(atom.x3),\n              parseFloat(atom.y3),\n              parseFloat(atom.z3)\n            )\n          } else if (atom.x2) {\n            xyz = new THREE.Vector3(parseFloat(atom.x2), parseFloat(atom.y2), 0)\n          }\n          let element = Element.ByName[atom.elementType.toUpperCase()]\n          if (!element) {\n            element = JSON.parse(\n              JSON.stringify(\n                Element.ByName[\n                  Object.keys(Element.ByName)[\n                    Object.keys(Element.ByName).length - 1\n                  ]\n                ]\n              )\n            )\n            element.number += 1\n            element.name = atom.elementType.toUpperCase()\n            element.fullName = 'Unknown'\n            Element.ByName[atom.elementType.toUpperCase()] = element\n          }\n          const atomSerial = parseInt(atom.id.replace(/[^0-9]/, ''), 10)\n          const added = residue.addAtom(\n            atomFullNameStruct,\n            element,\n            xyz,\n            Element.Role.SG,\n            true,\n            atomSerial,\n            ' ',\n            1.0,\n            0.0,\n            atomCharge\n          )\n          if (atom.hydrogenCount) {\n            added.hydrogenCount = parseInt(atom.hydrogenCount, 10)\n          }\n          if (atom.mrvValence) {\n            added.valence = parseInt(atom.mrvValence, 10)\n          }\n          addFunc(added)\n        }\n      }\n    }\n    chains = null // NOSONAR\n    for (i = 0; i < data.bonds.length; i++) {\n      const cb = data.bonds[i]\n      if (\n        this._unpackLabel(labels[cb.start]).molId ===\n          this._unpackLabel(currentLabel).molId &&\n        this._unpackLabel(labels[cb.end]).molId ===\n          this._unpackLabel(currentLabel).molId\n      ) {\n        atom = atoms[cb.start]\n        if (!atom || !atoms[cb.end]) {\n          continue // skip invalid\n        }\n        this._parseBond(\n          parseInt(atom.id.replace(/[^0-9]/, ''), 10),\n          parseInt(atoms[cb.end].id.replace(/[^0-9]/, ''), 10),\n          cb.order,\n          cb.type\n        )\n      }\n    }\n\n    for (i = 0; i < this._complex.getSGroupCount(); i++) {\n      const sGrp = this._complex.getSGroups()[i]\n      for (j = 0; j < sGrp._atoms.length; j++) {\n        sGrp._atoms[j] = sGrp._atoms[j].complexAtom\n      }\n    }\n    for (i = 0; i < count; i++) {\n      if (\n        this._unpackLabel(labels[i]).molId ===\n        this._unpackLabel(currentLabel).molId\n      ) {\n        atom = atoms[i]\n        atom.complexAtom = null\n        delete atom.complexAtom\n      }\n    }\n    this._complex.originalCML = data.originalCML\n    this._fixBondsArray()\n    complex.finalize({\n      needAutoBonding: false,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap\n    })\n    this._serialAtomMap = null\n    this._complex = null\n    return complex\n  }\n\n  parseSync() {\n    const complexes = []\n    const self = this\n    const moleculaSet = this._selectComponents(this._data)\n    moleculaSet.forEach((molSet) => {\n      molSet.curr = 2\n      if (molSet.count === 0) {\n        molSet.count = 1\n      }\n      for (let i = 0; i < molSet.count; i++) {\n        molSet.curr = i + 1\n        complexes.push(self._parseSet(molSet, false))\n      }\n    })\n\n    let totalAtomsParsed = 0\n    complexes.forEach((c) => {\n      totalAtomsParsed += c.getAtomCount()\n    })\n    if (totalAtomsParsed <= 0) {\n      throw new Error('The data does not contain valid atoms')\n    }\n\n    if (complexes.length > 1) {\n      const joinedComplex = new Complex()\n      joinedComplex.joinComplexes(complexes)\n      joinedComplex.originalCML = complexes[0].originalCML\n      return joinedComplex\n    }\n    if (complexes.length === 1) {\n      return complexes[0]\n    }\n    return new Complex()\n  }\n}\n\nCMLParser.formats = ['cml']\nCMLParser.extensions = ['.cml']\n\nexport default CMLParser\n","!function(r,t){if(\"function\"==typeof define&&define.amd)define([\"exports\"],t);else if(\"object\"==typeof exports&&\"undefined\"!=typeof module)t(exports);else t(r.MMTF=r.MMTF||{})}(this,function(r){\"use strict\";function t(r,t,n){for(var e=(r.byteLength,0),i=n.length;i>e;e++){var o=n.charCodeAt(e);if(128>o)r.setUint8(t++,o>>>0&127|0);else if(2048>o)r.setUint8(t++,o>>>6&31|192),r.setUint8(t++,o>>>0&63|128);else if(65536>o)r.setUint8(t++,o>>>12&15|224),r.setUint8(t++,o>>>6&63|128),r.setUint8(t++,o>>>0&63|128);else{if(!(1114112>o))throw new Error(\"bad codepoint \"+o);r.setUint8(t++,o>>>18&7|240),r.setUint8(t++,o>>>12&63|128),r.setUint8(t++,o>>>6&63|128),r.setUint8(t++,o>>>0&63|128)}}}function n(r){for(var t=0,n=0,e=r.length;e>n;n++){var i=r.charCodeAt(n);if(128>i)t+=1;else if(2048>i)t+=2;else if(65536>i)t+=3;else{if(!(1114112>i))throw new Error(\"bad codepoint \"+i);t+=4}}return t}function e(r,i,o){var a=typeof r;if(\"string\"===a){var u=n(r);if(32>u)return i.setUint8(o,160|u),t(i,o+1,r),1+u;if(256>u)return i.setUint8(o,217),i.setUint8(o+1,u),t(i,o+2,r),2+u;if(65536>u)return i.setUint8(o,218),i.setUint16(o+1,u),t(i,o+3,r),3+u;if(4294967296>u)return i.setUint8(o,219),i.setUint32(o+1,u),t(i,o+5,r),5+u}if(r instanceof Uint8Array){var u=r.byteLength,s=new Uint8Array(i.buffer);if(256>u)return i.setUint8(o,196),i.setUint8(o+1,u),s.set(r,o+2),2+u;if(65536>u)return i.setUint8(o,197),i.setUint16(o+1,u),s.set(r,o+3),3+u;if(4294967296>u)return i.setUint8(o,198),i.setUint32(o+1,u),s.set(r,o+5),5+u}if(\"number\"===a){if(!isFinite(r))throw new Error(\"Number not finite: \"+r);if(Math.floor(r)!==r)return i.setUint8(o,203),i.setFloat64(o+1,r),9;if(r>=0){if(128>r)return i.setUint8(o,r),1;if(256>r)return i.setUint8(o,204),i.setUint8(o+1,r),2;if(65536>r)return i.setUint8(o,205),i.setUint16(o+1,r),3;if(4294967296>r)return i.setUint8(o,206),i.setUint32(o+1,r),5;throw new Error(\"Number too big 0x\"+r.toString(16))}if(r>=-32)return i.setInt8(o,r),1;if(r>=-128)return i.setUint8(o,208),i.setInt8(o+1,r),2;if(r>=-32768)return i.setUint8(o,209),i.setInt16(o+1,r),3;if(r>=-2147483648)return i.setUint8(o,210),i.setInt32(o+1,r),5;throw new Error(\"Number too small -0x\"+(-r).toString(16).substr(1))}if(null===r)return i.setUint8(o,192),1;if(\"boolean\"===a)return i.setUint8(o,r?195:194),1;if(\"object\"===a){var u,f=0,c=Array.isArray(r);if(c)u=r.length;else{var d=Object.keys(r);u=d.length}var f;if(16>u?(i.setUint8(o,u|(c?144:128)),f=1):65536>u?(i.setUint8(o,c?220:222),i.setUint16(o+1,u),f=3):4294967296>u&&(i.setUint8(o,c?221:223),i.setUint32(o+1,u),f=5),c)for(var l=0;u>l;l++)f+=e(r[l],i,o+f);else for(var l=0;u>l;l++){var v=d[l];f+=e(v,i,o+f),f+=e(r[v],i,o+f)}return f}throw new Error(\"Unknown type \"+a)}function i(r){var t=typeof r;if(\"string\"===t){var e=n(r);if(32>e)return 1+e;if(256>e)return 2+e;if(65536>e)return 3+e;if(4294967296>e)return 5+e}if(r instanceof Uint8Array){var e=r.byteLength;if(256>e)return 2+e;if(65536>e)return 3+e;if(4294967296>e)return 5+e}if(\"number\"===t){if(Math.floor(r)!==r)return 9;if(r>=0){if(128>r)return 1;if(256>r)return 2;if(65536>r)return 3;if(4294967296>r)return 5;throw new Error(\"Number too big 0x\"+r.toString(16))}if(r>=-32)return 1;if(r>=-128)return 2;if(r>=-32768)return 3;if(r>=-2147483648)return 5;throw new Error(\"Number too small -0x\"+r.toString(16).substr(1))}if(\"boolean\"===t||null===r)return 1;if(\"object\"===t){var e,o=0;if(Array.isArray(r)){e=r.length;for(var a=0;e>a;a++)o+=i(r[a])}else{var u=Object.keys(r);e=u.length;for(var a=0;e>a;a++){var s=u[a];o+=i(s)+i(r[s])}}if(16>e)return 1+o;if(65536>e)return 3+o;if(4294967296>e)return 5+o;throw new Error(\"Array or object too long 0x\"+e.toString(16))}throw new Error(\"Unknown type \"+t)}function o(r){var t=new ArrayBuffer(i(r)),n=new DataView(t);return e(r,n,0),new Uint8Array(t)}function a(r,t,n){return t?new r(t.buffer,t.byteOffset,t.byteLength/(n||1)):void 0}function u(r){return a(DataView,r)}function s(r){return a(Uint8Array,r)}function f(r){return a(Int8Array,r)}function c(r){return a(Int32Array,r,4)}function d(r){return a(Float32Array,r,4)}function l(r,t){var n=r.length/2;t||(t=new Int16Array(n));for(var e=0,i=0;n>e;++e,i+=2)t[e]=r[i]<<8^r[i+1]<<0;return t}function v(r,t){var n=r.length;t||(t=new Uint8Array(2*n));for(var e=u(t),i=0;n>i;++i)e.setInt16(2*i,r[i]);return s(t)}function g(r,t){var n=r.length/4;t||(t=new Int32Array(n));for(var e=0,i=0;n>e;++e,i+=4)t[e]=r[i]<<24^r[i+1]<<16^r[i+2]<<8^r[i+3]<<0;return t}function L(r,t){var n=r.length;t||(t=new Uint8Array(4*n));for(var e=u(t),i=0;n>i;++i)e.setInt32(4*i,r[i]);return s(t)}function h(r,t){var n=r.length;t||(t=new Float32Array(n/4));for(var e=u(t),i=u(r),o=0,a=0,s=n/4;s>o;++o,a+=4)e.setFloat32(a,i.getFloat32(a),!0);return t}function y(r,t,n){var e=r.length,i=1/t;n||(n=new Float32Array(e));for(var o=0;e>o;++o)n[o]=r[o]*i;return n}function m(r,t,n){var e=r.length;n||(n=new Int32Array(e));for(var i=0;e>i;++i)n[i]=Math.round(r[i]*t);return n}function p(r,t){var n,e;if(!t){var i=0;for(n=0,e=r.length;e>n;n+=2)i+=r[n+1];t=new r.constructor(i)}var o=0;for(n=0,e=r.length;e>n;n+=2)for(var a=r[n],u=r[n+1],s=0;u>s;++s)t[o]=a,++o;return t}function U(r){if(0===r.length)return new Int32Array;var t,n,e=2;for(t=1,n=r.length;n>t;++t)r[t-1]!==r[t]&&(e+=2);var i=new Int32Array(e),o=0,a=1;for(t=1,n=r.length;n>t;++t)r[t-1]!==r[t]?(i[o]=r[t-1],i[o+1]=a,a=1,o+=2):++a;return i[o]=r[r.length-1],i[o+1]=a,i}function b(r,t){var n=r.length;t||(t=new r.constructor(n)),n&&(t[0]=r[0]);for(var e=1;n>e;++e)t[e]=r[e]+t[e-1];return t}function I(r,t){var n=r.length;t||(t=new r.constructor(n)),t[0]=r[0];for(var e=1;n>e;++e)t[e]=r[e]-r[e-1];return t}function w(r,t){var n,e,i=r instanceof Int8Array?127:32767,o=-i-1,a=r.length;if(!t){var u=0;for(n=0;a>n;++n)r[n]<i&&r[n]>o&&++u;t=new Int32Array(u)}for(n=0,e=0;a>n;){for(var s=0;r[n]===i||r[n]===o;)s+=r[n],++n;s+=r[n],++n,t[e]=s,++e}return t}function C(r,t){var n,e=t?127:32767,i=-e-1,o=r.length,a=0;for(n=0;o>n;++n){var u=r[n];0===u?++a:a+=u===e||u===i?2:u>0?Math.ceil(u/e):Math.ceil(u/i)}var s=t?new Int8Array(a):new Int16Array(a),f=0;for(n=0;o>n;++n){var u=r[n];if(u>=0)for(;u>=e;)s[f]=e,++f,u-=e;else for(;i>=u;)s[f]=i,++f,u-=i;s[f]=u,++f}return s}function A(r,t){return b(p(r),t)}function x(r){return U(I(r))}function M(r,t,n){return y(p(r,c(n)),t,n)}function F(r,t){return U(m(r,t))}function S(r,t,n){return y(b(r,c(n)),t,n)}function E(r,t,n){return I(m(r,t),n)}function N(r,t,n){return y(w(r,c(n)),t,n)}function O(r,t,n){var e=w(r,c(n));return S(e,t,d(e))}function T(r,t,n){return C(E(r,t),n)}function k(r){var t=u(r),n=t.getInt32(0),e=t.getInt32(4),i=r.subarray(8,12),r=r.subarray(12);return[n,r,e,i]}function j(r,t,n,e){var i=new ArrayBuffer(12+e.byteLength),o=new Uint8Array(i),a=new DataView(i);return a.setInt32(0,r),a.setInt32(4,t),n&&o.set(n,8),o.set(e,12),o}function q(r){var t=r.length,n=s(r);return j(2,t,void 0,n)}function D(r){var t=r.length,n=L(r);return j(4,t,void 0,n)}function P(r,t){var n=r.length/t,e=L([t]),i=s(r);return j(5,n,e,i)}function z(r){var t=r.length,n=L(U(r));return j(6,t,void 0,n)}function B(r){var t=r.length,n=L(x(r));return j(8,t,void 0,n)}function V(r,t){var n=r.length,e=L([t]),i=L(F(r,t));return j(9,n,e,i)}function G(r,t){var n=r.length,e=L([t]),i=v(T(r,t));return j(10,n,e,i)}function R(r){var t={};return rr.forEach(function(n){void 0!==r[n]&&(t[n]=r[n])}),r.bondAtomList&&(t.bondAtomList=D(r.bondAtomList)),r.bondOrderList&&(t.bondOrderList=q(r.bondOrderList)),t.xCoordList=G(r.xCoordList,1e3),t.yCoordList=G(r.yCoordList,1e3),t.zCoordList=G(r.zCoordList,1e3),r.bFactorList&&(t.bFactorList=G(r.bFactorList,100)),r.atomIdList&&(t.atomIdList=B(r.atomIdList)),r.altLocList&&(t.altLocList=z(r.altLocList)),r.occupancyList&&(t.occupancyList=V(r.occupancyList,100)),t.groupIdList=B(r.groupIdList),t.groupTypeList=D(r.groupTypeList),r.secStructList&&(t.secStructList=q(r.secStructList,1)),r.insCodeList&&(t.insCodeList=z(r.insCodeList)),r.sequenceIndexList&&(t.sequenceIndexList=B(r.sequenceIndexList)),t.chainIdList=P(r.chainIdList,4),r.chainNameList&&(t.chainNameList=P(r.chainNameList,4)),t}function H(r){function t(r){for(var t={},n=0;r>n;n++){var e=o();t[e]=o()}return t}function n(t){var n=r.subarray(a,a+t);return a+=t,n}function e(t){var n=r.subarray(a,a+t);a+=t;var e=65535;if(t>e){for(var i=[],o=0;o<n.length;o+=e)i.push(String.fromCharCode.apply(null,n.subarray(o,o+e)));return i.join(\"\")}return String.fromCharCode.apply(null,n)}function i(r){for(var t=new Array(r),n=0;r>n;n++)t[n]=o();return t}function o(){var o,s,f=r[a];if(0===(128&f))return a++,f;if(128===(240&f))return s=15&f,a++,t(s);if(144===(240&f))return s=15&f,a++,i(s);if(160===(224&f))return s=31&f,a++,e(s);if(224===(224&f))return o=u.getInt8(a),a++,o;switch(f){case 192:return a++,null;case 194:return a++,!1;case 195:return a++,!0;case 196:return s=u.getUint8(a+1),a+=2,n(s);case 197:return s=u.getUint16(a+1),a+=3,n(s);case 198:return s=u.getUint32(a+1),a+=5,n(s);case 202:return o=u.getFloat32(a+1),a+=5,o;case 203:return o=u.getFloat64(a+1),a+=9,o;case 204:return o=r[a+1],a+=2,o;case 205:return o=u.getUint16(a+1),a+=3,o;case 206:return o=u.getUint32(a+1),a+=5,o;case 208:return o=u.getInt8(a+1),a+=2,o;case 209:return o=u.getInt16(a+1),a+=3,o;case 210:return o=u.getInt32(a+1),a+=5,o;case 217:return s=u.getUint8(a+1),a+=2,e(s);case 218:return s=u.getUint16(a+1),a+=3,e(s);case 219:return s=u.getUint32(a+1),a+=5,e(s);case 220:return s=u.getUint16(a+1),a+=3,i(s);case 221:return s=u.getUint32(a+1),a+=5,i(s);case 222:return s=u.getUint16(a+1),a+=3,t(s);case 223:return s=u.getUint32(a+1),a+=5,t(s)}throw new Error(\"Unknown type 0x\"+f.toString(16))}var a=0,u=new DataView(r.buffer);return o()}function W(r,t,n,e){switch(r){case 1:return h(t);case 2:return f(t);case 3:return l(t);case 4:return g(t);case 5:return s(t);case 6:return p(g(t),new Uint8Array(n));case 7:return p(g(t));case 8:return A(g(t));case 9:return M(g(t),g(e)[0]);case 10:return O(l(t),g(e)[0]);case 11:return y(l(t),g(e)[0]);case 12:return N(l(t),g(e)[0]);case 13:return N(f(t),g(e)[0]);case 14:return w(l(t));case 15:return w(f(t))}}function X(r,t){t=t||{};var n=t.ignoreFields,e={};return nr.forEach(function(t){var i=n?-1!==n.indexOf(t):!1,o=r[t];i||void 0===o||(o instanceof Uint8Array?e[t]=W.apply(null,k(o)):e[t]=o)}),e}function J(r){return String.fromCharCode.apply(null,r).replace(/\\0/g,\"\")}function K(r,t,n){n=n||{};var e,i,o,a,u,s,f=n.firstModelOnly,c=t.onModel,d=t.onChain,l=t.onGroup,v=t.onAtom,g=t.onBond,L=0,h=0,y=0,m=0,p=0,U=-1,b=r.chainNameList,I=r.secStructList,w=r.insCodeList,C=r.sequenceIndexList,A=r.atomIdList,x=r.bFactorList,M=r.altLocList,F=r.occupancyList,S=r.bondAtomList,E=r.bondOrderList;for(e=0,i=r.chainsPerModel.length;i>e&&!(f&&L>0);++e){var N=r.chainsPerModel[L];for(c&&c({chainCount:N,modelIndex:L}),o=0;N>o;++o){var O=r.groupsPerChain[h];if(d){var T=J(r.chainIdList.subarray(4*h,4*h+4)),k=null;b&&(k=J(b.subarray(4*h,4*h+4))),d({groupCount:O,chainIndex:h,modelIndex:L,chainId:T,chainName:k})}for(a=0;O>a;++a){var j=r.groupList[r.groupTypeList[y]],q=j.atomNameList.length;if(l){var D=null;I&&(D=I[y]);var P=null;r.insCodeList&&(P=String.fromCharCode(w[y]));var z=null;C&&(z=C[y]),l({atomCount:q,groupIndex:y,chainIndex:h,modelIndex:L,groupId:r.groupIdList[y],groupType:r.groupTypeList[y],groupName:j.groupName,singleLetterCode:j.singleLetterCode,chemCompType:j.chemCompType,secStruct:D,insCode:P,sequenceIndex:z})}for(u=0;q>u;++u){if(v){var B=null;A&&(B=A[m]);var V=null;x&&(V=x[m]);var G=null;M&&(G=String.fromCharCode(M[m]));var R=null;F&&(R=F[m]),v({atomIndex:m,groupIndex:y,chainIndex:h,modelIndex:L,atomId:B,element:j.elementList[u],atomName:j.atomNameList[u],formalCharge:j.formalChargeList[u],xCoord:r.xCoordList[m],yCoord:r.yCoordList[m],zCoord:r.zCoordList[m],bFactor:V,altLoc:G,occupancy:R})}m+=1}if(g){var H=j.bondAtomList;for(u=0,s=j.bondOrderList.length;s>u;++u)g({atomIndex1:m-q+H[2*u],atomIndex2:m-q+H[2*u+1],bondOrder:j.bondOrderList[u]})}y+=1}h+=1}if(p=U+1,U=m-1,g&&S)for(u=0,s=S.length;s>u;u+=2){var W=S[u],X=S[u+1];(W>=p&&U>=W||X>=p&&U>=X)&&g({atomIndex1:W,atomIndex2:X,bondOrder:E?E[u/2]:null})}L+=1}}function Q(r){return o(R(r))}function Y(r,t){r instanceof ArrayBuffer&&(r=new Uint8Array(r));var n;return n=r instanceof Uint8Array?H(r):r,X(n,t)}function Z(r,t,n,e){function i(){try{var r=Y(o.response);n(r)}catch(t){e(t)}}var o=new XMLHttpRequest;o.addEventListener(\"load\",i,!0),o.addEventListener(\"error\",e,!0),o.responseType=\"arraybuffer\",o.open(\"GET\",t+r.toUpperCase()),o.send()}function $(r,t,n){Z(r,or,t,n)}function _(r,t,n){Z(r,ar,t,n)}var rr=[\"mmtfVersion\",\"mmtfProducer\",\"unitCell\",\"spaceGroup\",\"structureId\",\"title\",\"depositionDate\",\"releaseDate\",\"experimentalMethods\",\"resolution\",\"rFree\",\"rWork\",\"bioAssemblyList\",\"ncsOperatorList\",\"entityList\",\"groupList\",\"numBonds\",\"numAtoms\",\"numGroups\",\"numChains\",\"numModels\",\"groupsPerChain\",\"chainsPerModel\"],tr=[\"xCoordList\",\"yCoordList\",\"zCoordList\",\"groupIdList\",\"groupTypeList\",\"chainIdList\",\"bFactorList\",\"atomIdList\",\"altLocList\",\"occupancyList\",\"secStructList\",\"insCodeList\",\"sequenceIndexList\",\"chainNameList\",\"bondAtomList\",\"bondOrderList\"],nr=rr.concat(tr),er=\"v1.1.0dev\",ir=\"//mmtf.rcsb.org/v1.0/\",or=ir+\"full/\",ar=ir+\"reduced/\";r.encode=Q,r.decode=Y,r.traverse=K,r.fetch=$,r.fetchReduced=_,r.version=er,r.fetchUrl=or,r.fetchReducedUrl=ar,r.encodeMsgpack=o,r.encodeMmtf=R,r.decodeMsgpack=H,r.decodeMmtf=X});","import * as THREE from 'three'\nimport _ from 'lodash'\nimport Parser from './Parser'\nimport chem from '../../chem'\nimport MMTF from '../../../vendor/js/mmtf'\nimport StructuralElement from '../../chem/StructuralElement'\n\nconst {\n  Complex,\n  Chain,\n  Atom,\n  Element,\n  Helix,\n  Sheet,\n  Strand,\n  Bond,\n  Assembly,\n  Molecule\n} = chem\n\nclass ArrayComparator {\n  constructor(original) {\n    this._original = Array.from(original)\n    this._original.sort()\n\n    this._sum = 0\n    for (let i = 0; i < this._original.length; ++i) {\n      this._sum += this._original[i]\n    }\n  }\n\n  compare(candidate) {\n    const len = candidate.length\n    if (len !== this._original.length) {\n      return false\n    }\n\n    let sum = 0\n    let i\n    for (i = 0; i < len; ++i) {\n      sum += candidate[i]\n    }\n\n    if (sum !== this._sum) {\n      return false\n    }\n\n    const sorted = Array.from(candidate)\n    sorted.sort()\n\n    for (i = 0; i < len; ++i) {\n      if (sorted[i] !== this._original[i]) {\n        return false\n      }\n    }\n\n    return true\n  }\n}\n\nArrayComparator.prototype.constructor = ArrayComparator\n\nconst StructuralElementType = StructuralElement.Type\n\n// see https://github.com/rcsb/mmtf-javascript/blob/master/src/mmtf-traverse.js\nconst secStructToType = [\n  StructuralElementType.HELIX_PI, // 0\n  StructuralElementType.BEND, // 1\n  StructuralElementType.HELIX_ALPHA, // 2\n  StructuralElementType.STRAND, // 3\n  StructuralElementType.HELIX_310, // 4\n  StructuralElementType.BRIDGE, // 5\n  StructuralElementType.TURN, // 6\n  StructuralElementType.COIL // 7\n]\n\nfunction getFirstByte(buf) {\n  const bytes = new Uint8Array(buf, 0, 1)\n  return bytes[0]\n}\n\nclass MMTFParser extends Parser {\n  constructor(data, options) {\n    super(data, options)\n    this._options.fileType = 'mmtf'\n  }\n\n  static canProbablyParse(data) {\n    // check if it's binary MessagePack format containing a map (dictionary)\n    // see https://github.com/msgpack/msgpack/blob/master/spec.md\n    return _.isArrayBuffer(data) && (getFirstByte(data) | 1) === 0xdf\n  }\n\n  _onModel(_modelData) {}\n\n  _onChain(chainData) {\n    if (chainData.modelIndex !== 0) {\n      return\n    }\n\n    const chain = new Chain(this._complex, chainData.chainName)\n    this._complex._chains[chainData.chainIndex] = chain\n    chain._index = chainData.chainIndex\n  }\n\n  _onGroup(groupData) {\n    if (groupData.modelIndex !== 0) {\n      return\n    }\n\n    if (this.settings.now.nowater) {\n      // skip water\n      if (groupData.groupName === 'HOH' || groupData.groupName === 'WAT') {\n        return\n      }\n    }\n\n    const chain = this._complex._chains[groupData.chainIndex]\n    const icode = !groupData.insCode.charCodeAt(0) ? '' : groupData.insCode\n    const residue = chain.addResidue(\n      groupData.groupName,\n      groupData.groupId,\n      icode\n    )\n    residue._index = groupData.groupIndex\n\n    this._updateSecStructure(this._complex, residue, groupData)\n  }\n\n  _onAtom(atomData) {\n    if (atomData.modelIndex !== 0) {\n      return\n    }\n\n    const altLoc = !atomData.altLoc.charCodeAt(0) ? '' : atomData.altLoc\n    const atom = new Atom(\n      atomData.groupIndex, // we store residue index here to replace it later with actual reference\n      atomData.atomName,\n      Element.getByName(atomData.element.toUpperCase()),\n      new THREE.Vector3(atomData.xCoord, atomData.yCoord, atomData.zCoord),\n      Element.Role[atomData.atomName],\n      false, // hetero atoms will be marked later\n      atomData.atomId,\n      altLoc,\n      atomData.occupancy,\n      atomData.bFactor,\n      atomData.formalCharge\n    )\n\n    this._complex._atoms[atomData.atomIndex] = atom\n    atom.index = atomData.atomIndex\n\n    this._serialAtomMap[atomData.atomId] = atom\n  }\n\n  _onBond(bondData) {\n    const right = Math.max(bondData.atomIndex1, bondData.atomIndex2)\n    if (right >= this._complex._atoms.length) {\n      return\n    }\n    const left = Math.min(bondData.atomIndex1, bondData.atomIndex2)\n    this._complex.addBond(\n      this._complex._atoms[left],\n      this._complex._atoms[right],\n      bondData.bondOrder,\n      Bond.BondType.UNKNOWN,\n      true\n    )\n  }\n\n  _updateSecStructure(complex, residue, groupData) {\n    const helixClasses = [3, -1, 1, -1, 5]\n\n    if (!_.isUndefined(groupData) && groupData.secStruct === this._ssType) {\n      residue._secondary = this._ssStruct\n      if (this._ssStruct) {\n        this._ssStruct.term = residue\n      }\n      return\n    }\n\n    if (!_.isUndefined(groupData)) {\n      // start new secondary structure\n      const type = secStructToType[groupData.secStruct]\n      this._ssType = groupData.secStruct\n      this._ssStart = residue\n\n      let struct = null\n      switch (this._ssType) {\n        case -1: // undefined\n        case 7: // coil\n          break\n        case 0: // pi helix\n        case 2: // alpha helix\n        case 4: // 3-10 helix\n          struct = new Helix(\n            helixClasses[this._ssType],\n            residue,\n            residue,\n            0,\n            '',\n            '',\n            0\n          )\n          complex._helices.push(struct)\n          break\n        case 3: {\n          // extended\n          const sheet = new Sheet('', 0)\n          complex._sheets.push(sheet)\n          struct = new Strand(sheet, residue, residue, 0, null, null)\n          break\n        }\n        default:\n          if (type !== undefined) {\n            struct = new StructuralElement(type, residue, residue)\n          }\n          break\n      }\n\n      this._ssStruct = struct\n      residue._secondary = struct\n      if (struct) {\n        complex.structures.push(struct)\n      }\n    }\n  }\n\n  _updateMolecules(mmtfData) {\n    const entities = mmtfData.entityList\n    if (!entities) {\n      return\n    }\n\n    const chainsInModel0 = mmtfData.chainsPerModel[0]\n    for (let i = 0; i < entities.length; i++) {\n      const entity = entities[i]\n      const chains = entity.chainIndexList\n      let residues = []\n      for (let j = 0; j < chains.length; j++) {\n        const chainIndex = chains[j]\n        // skip chains in models other than the first one\n        if (chainIndex >= chainsInModel0) {\n          continue\n        }\n        const chain = this._complex._chains[chainIndex]\n        residues = residues.concat(chain._residues.slice())\n      }\n      const molecule = new Molecule(this._complex, entity.description, i + 1)\n      molecule.residues = residues\n      this._complex._molecules[i] = molecule\n    }\n  }\n\n  // populate complex with chains, residues and atoms\n  _traverse(mmtfData) {\n    const self = this\n\n    // get metadata\n    const { metadata } = this._complex\n    metadata.id = mmtfData.structureId\n    metadata.title = []\n    metadata.title[0] = mmtfData.title\n    metadata.date = mmtfData.releaseDate\n    metadata.format = 'mmtf'\n\n    // create event callback functions\n    const eventCallbacks = {\n      onModel(modelData) {\n        self._onModel(modelData)\n      },\n      onChain(chainData) {\n        self._onChain(chainData)\n      },\n      onGroup(groupData) {\n        self._onGroup(groupData)\n      },\n      onAtom(atomData) {\n        self._onAtom(atomData)\n      },\n      onBond(bondData) {\n        self._onBond(bondData)\n      }\n    }\n\n    // temporary variables used during traversal to track secondary structures\n    this._ssType = -1\n    this._ssStruct = null\n    this._ssStart = null\n\n    // traverse the structure and listen to the events\n    MMTF.traverse(mmtfData, eventCallbacks)\n\n    this._updateSecStructure(this._complex)\n    this._updateMolecules(mmtfData)\n  }\n\n  // During traversal atoms and residues don't come sequentially\n  // so a residue for certain atom can be unavailable. Thus we\n  // store residue index in atom.\n  // This function being called after traversal replaces the index\n  // with actual reference, and also populates atom lists in residues.\n  _linkAtomsToResidues() {\n    for (let i = 0; i < this._complex._atoms.length; ++i) {\n      const atom = this._complex._atoms[i]\n      const residue = this._complex._residues[atom.residue]\n      atom.residue = residue\n      residue._atoms.push(atom)\n    }\n  }\n\n  _findSynonymousChains() {\n    const named = {}\n    for (let i = 0; i < this._complex._chains.length; ++i) {\n      const chain = this._complex._chains[i]\n      const name = chain.getName()\n      if (!named.hasOwnProperty(name)) {\n        named[name] = []\n      }\n\n      named[name].push(chain._index)\n    }\n\n    return named\n  }\n\n  // NOTE: This function relies on original chain indices, so it must be called before any magic happens to chains.\n  _parseAssemblyInfo(mmtfData) {\n    let i\n    let j\n    let k\n    const assemblies = []\n    const { logger } = this\n\n    for (i = 0; i < mmtfData.bioAssemblyList.length; ++i) {\n      const baInfo = mmtfData.bioAssemblyList[i]\n      if (baInfo.transformList.length === 0) {\n        continue\n      }\n\n      const chains = baInfo.transformList[0].chainIndexList\n      const chainListCheck = new ArrayComparator(chains)\n\n      // build list of chain names\n      const chainNames = {}\n      for (j = 0; j < chains.length; ++j) {\n        chainNames[this._complex._chains[chains[j]].getName()] = 1\n      }\n\n      // all chains with the same name should belong to assembly if one of them belongs\n      const allChains = []\n      let name\n      for (name in chainNames) {\n        if (chainNames.hasOwnProperty(name)) {\n          // just concat arrays -- there should be no duplicates\n          Array.prototype.push.apply(allChains, this._chainsByName[name])\n        }\n      }\n      if (!chainListCheck.compare(allChains)) {\n        // assembly is missing some of the chains\n        logger.debug(\n          'MMTF: Assembly is missing some of the synonymous chains. Skipping...'\n        )\n      }\n\n      const a = new Assembly(this._complex)\n\n      // add chains to assembly\n      for (name in chainNames) {\n        if (chainNames.hasOwnProperty(name)) {\n          a.addChain(name)\n        }\n      }\n\n      // add unique matrices to assembly\n      a.addMatrix(\n        new THREE.Matrix4()\n          .fromArray(baInfo.transformList[0].matrix)\n          .transpose()\n      )\n      for (j = 1; j < baInfo.transformList.length; ++j) {\n        const transform = baInfo.transformList[j]\n\n        if (!chainListCheck.compare(transform.chainIndexList)) {\n          // list of chains for this transform doesn't match that for other transforms\n          // this is illegal in our structure\n          logger.debug(\n            'MMTF: Chain lists differ for different transforms in one assembly. Skipping...'\n          )\n          continue\n        }\n\n        const m = new THREE.Matrix4().fromArray(transform.matrix).transpose()\n\n        // check if matrix is already in the list\n        for (k = 0; k < a.matrices.length; ++k) {\n          if (a.matrices[k].equals(m)) {\n            break\n          }\n        }\n\n        if (k === a.matrices.length) {\n          a.addMatrix(m)\n        }\n      }\n\n      a.finalize()\n      assemblies.push(a)\n    }\n\n    return assemblies\n  }\n\n  // NOTE: This function relies on original chain indices, so it must be called before any magic happens to chains.\n  _markHeteroAtoms(mmtfData) {\n    const chainsInModel0 = mmtfData.chainsPerModel[0]\n    for (let i = 0; i < mmtfData.entityList.length; ++i) {\n      const entity = mmtfData.entityList[i]\n      if (entity.type !== 'polymer') {\n        for (let j = 0; j < entity.chainIndexList.length; ++j) {\n          const chainIndex = entity.chainIndexList[j]\n          // skip chains in models other than the first one\n          if (chainIndex >= chainsInModel0) {\n            continue\n          }\n          const chain = this._complex._chains[chainIndex]\n          for (let k = 0; k < chain._residues.length; ++k) {\n            const res = chain._residues[k]\n            for (let m = 0; m < res._atoms.length; ++m) {\n              res._atoms[m].het = true\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // joins chains with the same name into single chain\n  _joinSynonymousChains() {\n    let i\n    let j\n\n    const primaryChainsArray = []\n    const primaryChainsHash = {}\n\n    // join chains\n    for (i = 0; i < this._complex._chains.length; ++i) {\n      const chain = this._complex._chains[i]\n      const name = chain.getName()\n      if (!primaryChainsHash.hasOwnProperty(name)) {\n        // new name -- this is a primary chain\n        primaryChainsHash[name] = chain\n        chain._index = primaryChainsArray.length // update index as this array will later replace original chain list\n        primaryChainsArray.push(chain)\n        continue\n      }\n\n      // this chain should be joined with the primary chain of the same name\n      const primary = primaryChainsHash[name]\n      for (j = 0; j < chain._residues.length; ++j) {\n        const residue = chain._residues[j]\n        primary._residues.push(residue)\n        residue._chain = primary\n      }\n    }\n\n    // replace chains list with one containing only primary chains\n    // dropping references to all chains but primary\n    this._complex._chains = primaryChainsArray\n  }\n\n  parseSync() {\n    const mmtfData = MMTF.decode(this._data)\n\n    this._complex = new Complex()\n    this._serialAtomMap = {} // filled during traversal\n\n    this._traverse(mmtfData)\n    this._linkAtomsToResidues()\n    this._markHeteroAtoms(mmtfData)\n    this._chainsByName = this._findSynonymousChains()\n    Array.prototype.push.apply(\n      this._complex.units,\n      this._parseAssemblyInfo(mmtfData)\n    )\n    this._joinSynonymousChains()\n\n    this._complex.finalize({\n      needAutoBonding: false,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap\n    })\n\n    return this._complex\n  }\n}\n\nMMTFParser.formats = ['mmtf']\nMMTFParser.extensions = ['.mmtf']\nMMTFParser.binary = true\n\nexport default MMTFParser\n","class ParsingError extends Error {\n  constructor(message, line, column) {\n    super(`data:${line}:${column}: ${message}`)\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ParsingError)\n    }\n\n    this.name = 'ParsingError'\n    this.parseLine = line\n    this.parseColumn = column\n  }\n}\n\nexport default ParsingError\n","import _ from 'lodash'\nimport ParsingError from './ParsingError'\n\n// Implemented and being tested against: https://www.iucr.org/resources/cif/spec/version1.1/cifsyntax\n\nfunction _isWhitespace(ch) {\n  return ch === 32 || ch === 10 || ch === 13 || ch === 9\n}\n\nfunction _inlineIndexOf(ch0, str, idx) {\n  const len = str.length\n  let ch = -1\n  while (idx < len) {\n    ch = str.charCodeAt(idx)\n    if (ch === ch0 || ch === 10) {\n      break\n    }\n    ++idx\n  }\n  return ch === ch0 ? idx : -1\n}\n\nexport default function readCIF(source) {\n  let i = 0\n  let j = 0\n  const n = source.length\n  let code = NaN\n  let newline = true\n  let line = 1\n  let column = 1\n  let begin\n  let state = 0 // 0 - start, 1 - block, 2 - item, 3 - loop, 4 - values, 5 - value\n  const result = {}\n  let block = {}\n  let keys = []\n  let keysCount = 0\n  let key = ''\n  let values = []\n  let valuesCount = 0\n  let value\n\n  function _parseValue() {\n    let val\n    if (\n      (code === 46 || code === 63) &&\n      (i + 1 >= n || _isWhitespace(source.charCodeAt(i + 1)))\n    ) {\n      // '.' or '?' .....\n      // it's a missing value\n      ++column\n      ++i\n      return undefined\n    }\n    if (newline && code === 59) {\n      // ';' ......................................................................\n      // parse multi-line string\n      j = i\n      let lines = 0\n      do {\n        j = _inlineIndexOf(10, source, j + 1) // '\\n'\n        if (j === -1) {\n          throw new ParsingError('Unterminated text block found', line, column)\n        }\n        ++lines\n      } while ((j + 1 < n && source.charCodeAt(j + 1) !== code) || j + 1 >= n)\n      val = source.substring(i + 1, j).replace(/\\r/g, '')\n      i = j + 2\n      line += lines\n      column = 1\n      newline = false\n      return val\n    }\n    if (code === 39 || code === 34) {\n      // ''' or '\"' ...........................................................\n      // parse quoted string\n      j = i\n      do {\n        j = _inlineIndexOf(code, source, j + 1)\n        if (j === -1) {\n          throw new ParsingError(\n            'Unterminated quoted string found',\n            line,\n            column\n          )\n        }\n      } while (j + 1 < n && !_isWhitespace(source.charCodeAt(j + 1)))\n      val = source.substring(i + 1, j)\n      column += j - i + 1\n      i = j + 1\n      return val\n    } // ......................................................................................................\n    // parse until the first whitespace\n    j = i\n    while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n      ++j\n    }\n    val = source.substring(i, j)\n    column += j - i\n    i = j\n    // try to convert to a number\n    const num = Number(val)\n    if (!Number.isNaN(num)) {\n      return num\n    }\n    // or leave as an unquoted string\n    return val\n  }\n\n  function _storeKey(tag) {\n    keys[keysCount++] = tag\n  }\n\n  function _storeValue(val) {\n    const keyIndex = valuesCount % keysCount\n    values[keyIndex].push(val)\n    ++valuesCount\n    return val\n  }\n\n  while (i <= n) {\n    code = source.charCodeAt(i) // 'NaN' in place of '<eof>'\n    if (code === 13) {\n      // '\\r' .......................................................................................\n      // just ignore\n    } else if (code === 10) {\n      // '\\n' ................................................................................\n      // take note of new lines\n      newline = true\n      ++line\n      column = 1\n    } else {\n      // process inline characters\n      if (code === 32 || code === 9) {\n        // ' ' or '\\t' ................................................................\n        // just ignore\n      } else if (code === 35) {\n        // '#' ...............................................................................\n        // skip the comment until before the end of the line\n        i = _inlineIndexOf(10, source, i + 1) // '\\n'\n        if (i === -1) {\n          break\n        } else {\n          continue // don't forget to process the new line\n        }\n      } else if (state === 0) {\n        // start =============================================================================\n        if (\n          (code === 68 || code === 100) &&\n          source.substr(i + 1, 4).toLowerCase() === 'ata_'\n        ) {\n          // 'data_' ..........\n          j = i + 5\n          begin = j\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j\n          }\n          column += j - i\n          i = j\n          if (begin < i) {\n            // add new data block\n            result[source.substring(begin, i)] = block = {}\n            state = 1 // block\n            continue // don't forget to process the whitespace\n          } else {\n            throw new ParsingError('Data block name missing', line, column)\n          }\n        } else if (Number.isNaN(code)) {\n          // <eof> ....................................................................\n          break\n        } else {\n          // ..................................................................................................\n          throw new ParsingError(\n            `Unexpected character in state ${state}`,\n            line,\n            column\n          )\n        }\n      } else if (state === 1) {\n        // block =============================================================================\n        if (\n          (code === 68 || code === 100) &&\n          source.substr(i + 1, 4).toLowerCase() === 'ata_'\n        ) {\n          // 'data_' ..........\n          state = 0 // start\n          continue // parse again in a different state\n        } else if (code === 95) {\n          // '_' .............................................................................\n          j = i + 1\n          begin = j\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j\n          }\n          column += j - i\n          i = j\n          if (begin < i) {\n            // start new item\n            key = source.substring(begin, i)\n            state = 2 // item\n            continue // don't forget to process the whitespace\n          } else {\n            throw new ParsingError('Tag name missing', line, column)\n          }\n        } else if (\n          (code === 76 || code === 108) &&\n          source.substr(i + 1, 4).toLowerCase() === 'oop_'\n        ) {\n          // 'loop_' ...\n          i += 5\n          column += 5\n          if (i < n && !_isWhitespace(source.charCodeAt(i))) {\n            throw new ParsingError(\n              `Unexpected character in state ${state}`,\n              line,\n              column\n            )\n          } else {\n            // start new loop\n            keys = []\n            keysCount = 0\n            values = []\n            valuesCount = 0\n            state = 3 // loop\n            continue // don't forget to process the whitespace\n          }\n        } else if (Number.isNaN(code)) {\n          // <eof> ....................................................................\n          break\n        } else {\n          // ..................................................................................................\n          throw new ParsingError(\n            `Unexpected character in state ${state}`,\n            line,\n            column\n          )\n        }\n      } else if (state === 2) {\n        // item ==============================================================================\n        if (Number.isNaN(code)) {\n          break\n        }\n        value = _parseValue()\n        _.set(block, key, value)\n        state = 1 // block\n        continue\n      } else if (state === 3) {\n        // loop ==============================================================================\n        if (code === 95) {\n          // '_' ....................................................................................\n          j = i + 1\n          begin = j\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j\n          }\n          column += j - i\n          i = j\n          if (begin < i) {\n            // add new key\n            _storeKey(source.substring(begin, i))\n            continue // don't forget to process the whitespace\n          } else {\n            throw new ParsingError('Tag name missing', line, column)\n          }\n        } else {\n          // ..................................................................................................\n          if (keysCount > 0) {\n            for (let keyIndex = 0; keyIndex < keysCount; ++keyIndex) {\n              value = []\n              values[keyIndex] = value\n              _.set(block, keys[keyIndex], value)\n            }\n            state = 4\n            continue // parse again in a different state\n          }\n          throw new ParsingError(\n            'Data tags are missing inside a loop',\n            line,\n            column\n          )\n        }\n      } else if (state === 4) {\n        // values ============================================================================\n        if (\n          (code === 68 || code === 100) &&\n          source.substr(i + 1, 4).toLowerCase() === 'ata_'\n        ) {\n          // 'data_' ..........\n          state = 0 // start\n        } else if (code === 95) {\n          // '_' .............................................................................\n          state = 1 // block\n        } else if (\n          (code === 76 || code === 108) &&\n          source.substr(i + 1, 4).toLowerCase() === 'oop_'\n        ) {\n          // 'loop_' ...\n          state = 1 // block\n        } else if (Number.isNaN(code)) {\n          // <eof> ....................................................................\n          state = 0\n        } else {\n          // ..................................................................................................\n          _storeValue(_parseValue())\n        }\n        continue // parse again in a different state\n      } else {\n        // ====================================================================================================\n        throw new ParsingError(\n          `Unexpected internal state ${state}`,\n          line,\n          column\n        )\n      }\n\n      newline = false\n      ++column\n    }\n    ++i\n  }\n\n  if (state === 2) {\n    // item\n    throw new ParsingError(\n      `Unexpected end of file in state ${state}`,\n      line,\n      column\n    )\n  }\n\n  return result\n}\n","import * as THREE from 'three'\nimport _ from 'lodash'\nimport Parser from './Parser'\nimport chem from '../../chem'\nimport StructuralElement from '../../chem/StructuralElement'\nimport readCIF from './readCIF'\n\nconst { Complex, Element, Helix, Sheet, Strand, Assembly, Molecule } = chem\n\nconst cRequiredAtomFields = [\n  'auth_seq_id',\n  'Cartn_x',\n  'Cartn_y',\n  'Cartn_z',\n  'label_atom_id'\n]\n\nconst cSecondaryCoding = {\n  helx: 'helix',\n  turn: 'turn',\n  strn: 'strand'\n}\n\nfunction getTypeFromId(string) {\n  const typeId = /[A-Za-z]+/.exec(string)\n  if (!typeId) {\n    return null\n  }\n\n  return cSecondaryCoding[typeId[0].toLowerCase()]\n}\n\n/**\n * Make valid object an array\n * @param arrayLikeObject\n * @return {array, object} array or object\n */\nfunction arrize(arrayLikeObject) {\n  if (\n    arrayLikeObject === null ||\n    arrayLikeObject === undefined ||\n    _.isArray(arrayLikeObject)\n  ) {\n    return arrayLikeObject\n  }\n  return [arrayLikeObject]\n}\n\nfunction nameToElement(name) {\n  // http://www.wwpdb.org/documentation/file-format-content/format33/sect9.html#ATOM\n  //\n  // http://www.cgl.ucsf.edu/chimera/docs/UsersGuide/tutorials/pdbintro.html#note1\n  //\n  // Atom names start with element symbols right-justified in columns 13-14\n  // as permitted by the length of the name. For example, the symbol FE for\n  // iron appears in columns 13-14, whereas the symbol C for carbon appears\n  // in column 14 (see Misaligned Atom Names). If an atom name has four\n  // characters, however, it must start in column 13 even if the element\n  // symbol is a single character (for example, see Hydrogen Atoms).\n\n  const veryLong = name.trim().length === 4\n  return name.slice(0, veryLong ? 1 : 2).trim()\n}\n\nclass AtomDataError extends Error {\n  constructor(message) {\n    super()\n    this.name = 'AtomDataError'\n    this.message = message\n  }\n}\n\nfunction _getOperations(operList) {\n  if (!operList) {\n    return null\n  }\n  const idc = arrize(operList.id)\n  const { matrix, vector } = operList\n  if (!idc || !matrix || !vector) {\n    return null\n  }\n\n  const ops = []\n  for (let i = 0, n = idc.length; i < n; ++i) {\n    const mtx = new THREE.Matrix4()\n    const { elements } = mtx\n\n    for (let row = 0; row < 3; ++row) {\n      const matrixData = matrix[row + 1]\n      elements[row] = arrize(matrixData[1])[i]\n      elements[row + 4] = arrize(matrixData[2])[i]\n      elements[row + 8] = arrize(matrixData[3])[i]\n      elements[row + 12] = arrize(vector[row + 1])[i]\n    }\n    ops[idc[i]] = mtx\n  }\n  return ops\n}\n\nfunction _extractOperations(assemblyGen, opsDict) {\n  assemblyGen = _.isString(assemblyGen) ? assemblyGen : `${assemblyGen}`\n  const l = assemblyGen.replace(/\\)\\s*\\(/g, '!').replace(/[()']/g, '')\n  const groupStr = l.split('!')\n  const gps = []\n\n  for (let grIdx = 0, grCount = groupStr.length; grIdx < grCount; ++grIdx) {\n    const gr = groupStr[grIdx].split(',')\n    const gp = []\n    let idx = 0\n    for (let i = 0, n = gr.length; i < n; ++i) {\n      const s = gr[i]\n      if (s.includes('-')) {\n        const es = s.split('-')\n        let j = parseInt(es[0], 10)\n        const m = parseInt(es[1], 10)\n        for (; j <= m; ++j) {\n          gp[idx++] = opsDict[j]\n        }\n      } else {\n        gp[idx++] = opsDict[s]\n      }\n    }\n    gps.push(gp)\n  }\n\n  // traverse all groups from the end of array and make all mults\n  const matrices = []\n  let cnt = 0\n  function traverse(level, mtx) {\n    for (let ii = 0, nn = gps[level].length; ii < nn; ++ii) {\n      const newMtx = mtx ? mtx.clone() : new THREE.Matrix4()\n      newMtx.multiplyMatrices(gps[level][ii], newMtx)\n      if (level === 0) {\n        matrices[cnt++] = newMtx\n      } else {\n        traverse(level - 1, newMtx)\n      }\n    }\n  }\n  traverse(gps.length - 1)\n  return matrices\n}\n\nclass CIFParser extends Parser {\n  constructor(data, options) {\n    super(data, options)\n    this.asymDict = {}\n    this.molecules = []\n    this._options.fileType = 'cif'\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && /^\\s*data_/i.test(data)\n  }\n\n  parseSync() {\n    this.logger.info('Parsing CIF file..')\n    const data = readCIF(this._data)\n    return this._toComplex(data)\n  }\n\n  /**\n   * Convert intermediate structure into our valid Complex object\n   * @param cifData intermediate CIF object\n   * @returns {Complex} complex\n   * @private\n   */\n  _toComplex(cifData) {\n    const complex = new Complex()\n    const complexData = cifData[Object.keys(cifData)[0]]\n    this._extractAtoms(complex, complexData)\n    this._extractSecondary(complex, complexData)\n    this._extractAssemblies(complex, complexData)\n    this._extractMolecules(complex, complexData)\n    this._extractMetadata(complex, complexData)\n    complex.finalize({\n      needAutoBonding: true,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing\n    })\n\n    return complex\n  }\n\n  /**\n   * Extract metadata\n   * @param complex structure to fill\n   * @param complexData complex data from CIF file\n   * @private\n   */\n\n  _extractMetadata(complex, complexData) {\n    const { metadata } = complex\n    metadata.id = complexData.entry.id\n    metadata.classification = complexData.struct_keywords.pdbx_keywords\n    const databaserev = complexData.database_PDB_rev\n    metadata.date =\n      databaserev && databaserev.date_original ? databaserev.date_original : ''\n    metadata.format = 'cif'\n    metadata.title = []\n    metadata.title[0] = complexData.struct.title\n  }\n\n  /**\n   * Extract molecules information from CIF structure (should be called strictly after _extractAtoms)\n   * @param complexData complex data from CIF file\n   * @private\n   */\n  _extractMolecules(complex, complexData) {\n    const molData = complexData.entity\n    const names = arrize(molData.pdbx_description)\n    const count = names.length\n    let i\n\n    // molecules names from cif\n    for (i = 0; i < count; i++) {\n      if (this.molecules[i]) {\n        // molecule was created during atoms processing\n        this.molecules[i].name = names[i]\n      } else {\n        // molecule wasn't created, because there is no atom which is contained\n        this.molecules[i] = { name: names[i], residues: [] }\n      }\n    }\n\n    // reorganize molecules for complex and check chains\n    const molecules = complex.getMolecules()\n    for (i = 0; i < count; i++) {\n      const molecule = this.molecules[i]\n      molecules[i] = new Molecule(complex, molecule.name, i + 1)\n      molecules[i].residues = molecule.residues\n    }\n  }\n\n  /**\n   * Extract atom information from CIF structure and fill complex\n   * @param {Complex} complex\n   * @param complexData complex data from CIF file\n   * @private\n   */\n  _extractAtoms(complex, complexData) {\n    const atomData = complexData.atom_site\n    if (!atomData) {\n      throw new AtomDataError('CIF parsing error: atom_site is not specified!')\n    }\n\n    for (let f = 0, n = cRequiredAtomFields.length; f < n; ++f) {\n      if (!atomData[cRequiredAtomFields[f]]) {\n        throw new AtomDataError(\n          `CIF parsing error: requires field ${cRequiredAtomFields[f]} not found!`\n        )\n      }\n    }\n\n    const { asymDict } = this\n    // required fields\n    const resIdc = arrize(atomData.auth_seq_id)\n    const x = arrize(atomData.Cartn_x)\n    const y = arrize(atomData.Cartn_y)\n    const z = arrize(atomData.Cartn_z)\n    const names = arrize(atomData.label_atom_id)\n    const count = names.length\n    // optional fields\n    const group = arrize(atomData.group_PDB) || []\n    const chainIdc = arrize(atomData.auth_asym_id) || []\n    const chainLabelIdc = arrize(atomData.label_asym_id) || []\n    const serials = arrize(atomData.id) || []\n    const iCodes = arrize(atomData.pdbx_PDB_ins_code) || []\n    const resNames = arrize(atomData.label_comp_id) || []\n    const elements = arrize(atomData.type_symbol) || []\n    const tempFactors = arrize(atomData.B_iso_or_equiv) || []\n    const occupancies = arrize(atomData.occupancy) || []\n    const charges = arrize(atomData.pdbx_formal_charge) || []\n    const altLocs = arrize(atomData.label_alt_id) || []\n    const models = arrize(atomData.pdbx_PDB_model_num) || []\n    const molecules = arrize(atomData.label_entity_id) || []\n\n    let chain = null\n    let residue = null\n    for (let i = 0; i < count; ++i) {\n      const model = models[i] || 1\n      if (model !== 1) {\n        continue\n      }\n      const chainID = String(chainIdc[i] || ' ')\n\n      if (!chain || chain.getName() !== chainID) {\n        chain = complex.getChain(chainID) || complex.addChain(chainID)\n      }\n      asymDict[String(chainLabelIdc[i] || ' ')] = chainID\n      const resSeq = resIdc[i]\n      const iCode = String(iCodes[i] || ' ')\n      const resName = String(resNames[i] || '')\n      if (\n        !residue ||\n        residue.getSequence() !== resSeq ||\n        residue.getICode() !== iCode\n      ) {\n        residue = chain.addResidue(resName, resSeq, iCode)\n\n        // store residue in appropriate molecule\n        const moleculeIdx = molecules[i] - 1\n        let entity = this.molecules[moleculeIdx]\n        if (!entity) {\n          // create new molecule if it hasn't been created\n          this.molecules[moleculeIdx] = { name: '', residues: [] }\n          entity = this.molecules[moleculeIdx]\n        }\n        entity.residues.push(residue)\n      }\n\n      const name = names[i]\n      const element = elements[i] || nameToElement(name)\n      const type = Element.getByName(element)\n      const role = Element.Role[name.trim()]\n      const xyz = new THREE.Vector3(x[i], y[i], z[i])\n      const het = group[i] === 'HETATM' || false\n      const serial = serials[i] || i\n      const tempFactor = tempFactors[i] || 0.0\n      const occupancy = occupancies[i] || 0.0\n      const altLoc = String(altLocs[i] || '')\n      const charge = charges[i] || 0\n\n      residue.addAtom(\n        name,\n        type,\n        xyz,\n        role,\n        het,\n        serial,\n        altLoc,\n        occupancy,\n        tempFactor,\n        charge\n      )\n    }\n  }\n\n  /**\n   * Extracts secondary structure information from CIF intermediate data\n   * and adds it into complex\n   * @param {Complex} complex - complex to fill\n   * @param complexData - CIF complex data\n   * @private\n   */\n  _extractSecondary(complex, complexData) {\n    if (complexData.struct_conf) {\n      this._extractConfs(complex, complexData.struct_conf)\n    }\n    if (complexData.struct_sheet_range) {\n      this._extractSheets(complex, complexData.struct_sheet_range)\n    }\n  }\n\n  /**\n   * Extracts sheets information from CIF intermediate data\n   * and adds it into complex\n   * @param {Complex} complex\n   * @param sheetData\n   * @private\n   */\n  _extractSheets(complex, sheetData) {\n    const { asymDict } = this\n    if (\n      !sheetData.sheet_id ||\n      !sheetData.id ||\n      !sheetData.beg_label_seq_id ||\n      !sheetData.end_label_seq_id ||\n      !sheetData.beg_label_asym_id\n    ) {\n      return\n    }\n    // Strand(sheet, start, end, sense, cur, prev)\n    const sheets = complex._sheets\n\n    function getSheet(name) {\n      const n = sheets.length\n      for (let i = 0; i < n; ++i) {\n        if (sheets[i]._name === name) {\n          return sheets[i]\n        }\n      }\n      sheets[n] = new Sheet(name, 0)\n      return sheets[n]\n    }\n\n    const sheetNames = arrize(sheetData.sheet_id)\n    const strandNames = arrize(sheetData.id)\n    const starts = arrize(sheetData.beg_auth_seq_id)\n    const ends = arrize(sheetData.end_auth_seq_id)\n    const chains = arrize(sheetData.beg_label_asym_id)\n    const stICodes = arrize(sheetData.pdbx_beg_PDB_ins_code) || []\n    const endICodes = arrize(sheetData.pdbx_end_PDB_ins_code) || []\n\n    for (let i = 0, n = strandNames.length; i < n; ++i) {\n      const chain = complex.getChain(asymDict[chains[i]])\n      const sheet = getSheet(sheetNames[i])\n      const startIdx = starts[i]\n      const endIdx = ends[i]\n      const startICode = stICodes[i] || ' '\n      const endICode = endICodes[i] || ' '\n\n      const start = chain.findResidue(startIdx, startICode)\n      const end = chain.findResidue(endIdx, endICode)\n\n      // TODO think about last condition\n      if (!start || !end) {\n        continue\n      }\n\n      const strand = new Strand(sheet, start[0], end[0], 0, null, null)\n      const residues = chain.getResidues()\n      for (let r = start[1]; r <= end[1]; ++r) {\n        residues[r]._secondary = strand\n      }\n      sheet.addStrand(strand)\n      complex.structures.push(strand)\n    }\n  }\n\n  /**\n   * Extracts helix/turn/strand(?) information from CIF intermediate data\n   * and adds it into complex\n   * @param {Complex} complex\n   * @param helicesData\n   * @private\n   */\n  _extractConfs(complex, helicesData) {\n    const { asymDict } = this\n    if (\n      !helicesData.conf_type_id ||\n      !helicesData.beg_label_seq_id ||\n      !helicesData.end_label_seq_id ||\n      !helicesData.beg_label_asym_id\n    ) {\n      return\n    }\n\n    const types = arrize(helicesData.conf_type_id)\n    const starts = arrize(helicesData.beg_auth_seq_id)\n    const stICodes = arrize(helicesData.pdbx_beg_PDB_ins_code) || []\n    const ends = arrize(helicesData.end_auth_seq_id)\n    const endICodes = arrize(helicesData.pdbx_end_PDB_ins_code) || []\n    const comments = arrize(helicesData.details) || []\n    const lengths = arrize(helicesData.pdbx_PDB_helix_length) || []\n    const helixClasses = arrize(helicesData.pdbx_PDB_helix_class) || []\n    const names = arrize(helicesData.id) || []\n    const chains = arrize(helicesData.beg_label_asym_id)\n\n    for (let i = 0, n = types.length; i < n; ++i) {\n      const type = getTypeFromId(types[i])\n      if (!type) {\n        continue\n      }\n      const name = names[i] || types[i]\n      const chain = complex.getChain(asymDict[chains[i]])\n\n      const startIdx = starts[i]\n      const endIdx = ends[i]\n      const startICode = stICodes[i] || ' '\n      const endICode = endICodes[i] || ' '\n\n      const start = chain.findResidue(startIdx, startICode)\n      const end = chain.findResidue(endIdx, endICode)\n\n      // TODO think about last condition\n      if (!start || !end) {\n        continue\n      }\n      const comment = comments[i] || ''\n      const length = lengths[i] || 0\n      const helixClass = helixClasses[i] || ' '\n      let struct\n      if (type === 'helix') {\n        const idx = complex._helices.length\n        struct = new Helix(\n          helixClass,\n          start[0],\n          end[0],\n          idx,\n          name,\n          comment,\n          length\n        )\n        complex.addHelix(struct)\n        complex.structures.push(struct)\n      } else if (type === 'turn') {\n        struct = new StructuralElement(\n          StructuralElement.Type.TURN,\n          start[0],\n          end[0]\n        )\n        complex.structures.push(struct)\n      } else {\n        struct = null\n      }\n      if (!struct) {\n        continue\n      }\n      const residues = chain.getResidues()\n      for (let r = start[1]; r <= end[1]; ++r) {\n        residues[r]._secondary = struct\n      }\n    }\n  }\n\n  /**\n   * Extract biological assemblies information from CIF structure and fill complex\n   * @param {Complex} complex\n   * @param complexData complex data from CIF file\n   * @private\n   */\n  _extractAssemblies(complex, complexData) {\n    const { asymDict } = this\n    const asmGen = complexData.pdbx_struct_assembly_gen\n    if (!asmGen) {\n      return\n    }\n\n    const asmIdx = arrize(asmGen.assembly_id)\n    const asmOper = arrize(asmGen.oper_expression)\n    const asmList = arrize(asmGen.asym_id_list)\n    if (!asmIdx || !asmOper || !asmList) {\n      return\n    }\n\n    const operList = _getOperations(complexData.pdbx_struct_oper_list)\n    if (!operList) {\n      return\n    }\n\n    for (let i = 0, n = asmIdx.length; i < n; ++i) {\n      const asm = new Assembly(complex)\n      const assemblyOps = _extractOperations(asmOper[i], operList)\n      const entries = asmList[i].split(',')\n      for (let ii = 0, nn = entries.length; ii < nn; ++ii) {\n        const chain = entries[ii].trim()\n        if (chain.length > 0) {\n          asm.addChain(asymDict[chain])\n        }\n      }\n      asm.matrices = assemblyOps\n      complex.units.push(asm)\n    }\n  }\n}\n\nCIFParser.formats = ['cif', 'mmcif']\nCIFParser.extensions = ['.cif', '.mmcif']\n\nexport default CIFParser\n","import * as THREE from 'three'\nimport _ from 'lodash'\nimport Volume from '../../chem/Volume'\n\nexport const valueType = {\n  singular: 0,\n  vector: 1,\n  array: 2,\n  buffer: 3\n}\n\nclass VolumeModel {\n  _xyz2crs = []\n\n  _origin = new THREE.Vector3(0, 0, 0)\n\n  constructor() {\n    this._header = {}\n    this._boxSize = new THREE.Vector3()\n    this._boxStart = new THREE.Vector3()\n    this._header.delta = {}\n    this._header.extent = []\n    this._header.nstart = []\n    this._header.grid = []\n    this._header.crs2xyz = []\n    this._header.cellDims = new THREE.Vector3()\n    this._header.angles = []\n    this._header.origin = new THREE.Vector3(0, 0, 0)\n    this._header.dmin = 0\n    this._header.dmean = 0\n    this._header.dmax = 0\n  }\n\n  _typedCheck() {\n    if (_.isTypedArray(this._buff)) {\n      this._buff = this._buff.buffer\n    } else if (!_.isArrayBuffer(this._buff)) {\n      throw new TypeError('Expected ArrayBuffer or TypedArray')\n    }\n  }\n\n  _fillHeader(headerFormat, arrays) {\n    for (const key in headerFormat) {\n      if (headerFormat.hasOwnProperty(key)) {\n        switch (headerFormat[key][0]) {\n          case valueType.singular:\n            this._header[key] =\n              arrays[headerFormat[key][1]][headerFormat[key][2]]\n            break\n\n          case valueType.array:\n            this._parseArray(\n              this._header[key],\n              arrays[headerFormat[key][1]],\n              headerFormat[key][2]\n            )\n            break\n\n          case valueType.vector:\n            this._parseVector(\n              this._header[key],\n              arrays[headerFormat[key][1]],\n              headerFormat[key][2]\n            )\n            break\n\n          case valueType.buffer:\n            this._header[key] = new Uint8Array(\n              arrays[headerFormat[key][1]],\n              [headerFormat[key][2]] * 4,\n              [headerFormat[key][3]] * 4\n            )\n            break\n\n          default:\n            break\n        }\n      }\n    }\n  }\n\n  _parseVector(vector, arr, pos) {\n    ;[vector.x, vector.y, vector.z] = [arr[pos], arr[pos + 1], arr[pos + 2]]\n  }\n\n  _parseArray(vector, arr, pos) {\n    vector[0] = arr[pos]\n    vector[1] = arr[pos + 1]\n    vector[2] = arr[pos + 2]\n  }\n\n  _parseHeader(_buffer) {}\n\n  _setAxisIndices() {}\n\n  _setOrigins() {}\n\n  _getAxis() {\n    const header = this._header\n\n    const xScale = header.cellDims.x / header.grid[0]\n    const yScale = header.cellDims.y / header.grid[1]\n    const zScale = header.cellDims.z / header.grid[2]\n\n    const [alpha, beta, gamma] = header.angles\n\n    const z1 = Math.cos(beta)\n    const z2 =\n      (Math.cos(alpha) - Math.cos(beta) * Math.cos(gamma)) / Math.sin(gamma)\n    const z3 = Math.sqrt(1.0 - z1 * z1 - z2 * z2)\n\n    const xaxis = new THREE.Vector3(xScale, 0, 0)\n    const yaxis = new THREE.Vector3(\n      Math.cos(gamma) * yScale,\n      Math.sin(gamma) * yScale,\n      0\n    )\n    const zaxis = new THREE.Vector3(z1 * zScale, z2 * zScale, z3 * zScale)\n\n    return [xaxis, yaxis, zaxis]\n  }\n\n  _getXYZdim() {\n    return [\n      this._header.extent[this._xyz2crs[0]],\n      this._header.extent[this._xyz2crs[1]],\n      this._header.extent[this._xyz2crs[2]]\n    ]\n  }\n\n  _getVolumeInfo() {\n    const volInfo = _.pick(this._header, [\n      'dmean',\n      'dmin',\n      'dmax',\n      'sd',\n      'delta'\n    ])\n    volInfo.obtuseAngle = this._header.angles.map((angle) =>\n      Number(angle >= Math.PI / 2)\n    )\n    return volInfo\n  }\n\n  _setBoxParams(xaxis, yaxis, zaxis) {\n    // if axes are not orthogonal, the origins might not match with box coordinates - need to make shift\n    let shiftX = 0\n    let shiftY = 0\n    const [alpha, beta, gamma] = this._header.angles\n\n    if (gamma >= Math.PI / 2) {\n      shiftX += Math.abs(yaxis.x)\n    }\n    if (beta >= Math.PI / 2) {\n      shiftX += Math.abs(zaxis.x)\n    }\n    if (alpha >= Math.PI / 2) {\n      shiftY += Math.abs(zaxis.y)\n    }\n\n    this._boxStart = new THREE.Vector3(\n      this._origin.x - shiftX,\n      this._origin.y - shiftY,\n      this._origin.z\n    )\n    this._boxSize = new THREE.Vector3(\n      Math.abs(xaxis.x) + Math.abs(yaxis.x) + Math.abs(zaxis.x),\n      Math.abs(yaxis.y) + Math.abs(zaxis.y),\n      Math.abs(zaxis.z)\n    )\n\n    const delta = (axe, proj) => Math.abs(axe[proj]) / this._boxSize[proj]\n    this._header.delta.x = delta(yaxis, 'x')\n    this._header.delta.y = delta(zaxis, 'x')\n    this._header.delta.z = delta(zaxis, 'y')\n  }\n\n  _getXYZbox() {\n    return new THREE.Box3(\n      this._boxStart.clone(),\n      this._boxStart.clone().add(this._boxSize)\n    )\n  }\n\n  _toXYZData() {}\n\n  parse(data) {\n    this._parseHeader(data)\n    this._setOrigins()\n    return new Volume(\n      Float32Array,\n      this._getXYZdim(),\n      this._getXYZbox(),\n      1,\n      this._toXYZData(),\n      this._getVolumeInfo()\n    )\n  }\n}\n\nexport default VolumeModel\n","import Parser from './Parser'\nimport VolumeModel, { valueType } from './VolumeModel'\n\nconst CCP4Header = {\n  extent: [valueType.array, 'u32', 0],\n  type: [valueType.singular, 'u32', 3],\n  nstart: [valueType.array, 'i32', 4],\n  grid: [valueType.array, 'u32', 7],\n  cellDims: [valueType.vector, 'f32', 10],\n  angles: [valueType.array, 'f32', 13],\n  crs2xyz: [valueType.array, 'i32', 16],\n  dmin: [valueType.singular, 'f32', 19],\n  dmax: [valueType.singular, 'f32', 20],\n  dmean: [valueType.singular, 'f32', 21],\n  ispg: [valueType.singular, 'u32', 22],\n  nsymbt: [valueType.singular, 'u32', 23],\n  lksflg: [valueType.singular, 'u32', 24],\n  customData: [valueType.buffer, 'buffer', 25, 9],\n  origin: [valueType.vector, 'f32', 34],\n  map: [valueType.buffer, 'buffer', 52, 1],\n  machine: [valueType.singular, 'u32', 53],\n  sd: [valueType.singular, 'f32', 54],\n  nlabel: [valueType.singular, 'f32', 55],\n  label: [valueType.buffer, 'buffer', 56, 200]\n}\n\nclass Ccp4Model extends VolumeModel {\n  // read header (http://www.ccp4.ac.uk/html/maplib.html)\n  _parseHeader(_buffer) {\n    this._buff = _buffer\n    this._typedCheck()\n    const arrays = {}\n    arrays.u32 = new Uint32Array(this._buff, 0, 56)\n    arrays.i32 = new Int32Array(this._buff, 0, 56)\n    arrays.f32 = new Float32Array(this._buff, 0, 56)\n    arrays.buffer = this._buff\n    const header = this._header\n\n    this._fillHeader(CCP4Header, arrays)\n\n    // calculate non-orthogonal unit cell coordinates\n    header.angles.forEach((angle, i, a) => {\n      a[i] *= Math.PI / 180.0\n    })\n  }\n\n  _setAxisIndices() {\n    const header = this._header\n\n    if (\n      header.cellDims.x === 0.0 &&\n      header.cellDims.y === 0.0 &&\n      header.cellDims.z === 0.0\n    ) {\n      header.cellDims.set(1.0, 1.0, 1.0)\n    }\n    // Apply header conversion\n    // Mapping between CCP4 column, row, section and VMD x, y, z.\n    const { crs2xyz } = this._header\n    if (crs2xyz[0] === 0 && crs2xyz[1] === 0 && crs2xyz[2] === 0) {\n      crs2xyz[0] = 1\n      crs2xyz[1] = 2\n      crs2xyz[2] = 3\n    }\n\n    const xyz2crs = this._xyz2crs\n    xyz2crs[crs2xyz[0] - 1] = 0 // column\n    xyz2crs[crs2xyz[1] - 1] = 1 // row\n    xyz2crs[crs2xyz[2] - 1] = 2 // section\n  }\n\n  _setOrigins() {\n    const [xaxis, yaxis, zaxis] = this._getAxis()\n    this._setAxisIndices()\n\n    const header = this._header\n    const xyz2crs = this._xyz2crs\n    // Handle both MRC-2000 and older format maps\n    if (\n      header.origin.x === 0.0 &&\n      header.origin.y === 0.0 &&\n      header.origin.z === 0.0\n    ) {\n      this._origin.addScaledVector(xaxis, header.nstart[xyz2crs[0]])\n      this._origin.addScaledVector(yaxis, header.nstart[xyz2crs[1]])\n      this._origin.addScaledVector(zaxis, header.nstart[xyz2crs[2]])\n    } else {\n      this._origin = header.origin\n      // Use ORIGIN records rather than old n[xyz]start records\n      //   http://www2.mrc-lmb.cam.ac.uk/image2000.html\n      // XXX the ORIGIN field is only used by the EM community, and\n      // has undefined meaning for non-orthogonal maps and/or non-cubic voxels, etc.\n    }\n    xaxis.multiplyScalar(header.extent[xyz2crs[0]] - 1)\n    yaxis.multiplyScalar(header.extent[xyz2crs[1]] - 1)\n    zaxis.multiplyScalar(header.extent[xyz2crs[2]] - 1)\n\n    if (header.type === 2) {\n      this._data = new Float32Array(\n        this._buff,\n        1024 + header.nsymbt,\n        header.extent[0] * header.extent[1] * header.extent[2]\n      )\n    } else {\n      throw new Error(`CCP4: Unsupported format ${header.type}`)\n    }\n\n    this._setBoxParams(xaxis, yaxis, zaxis)\n  }\n\n  _toXYZData() {\n    const header = this._header\n    const data = this._data\n    const xyz2crs = this._xyz2crs\n    const xyzData = new Float32Array(data.length)\n\n    const dim = this._getXYZdim()\n    const xSize = dim[0]\n    const ySize = dim[1]\n\n    let crsIdx = 0\n    const coord = []\n    let x\n    let y\n    let z\n    for (coord[2] = 0; coord[2] < header.extent[2]; coord[2]++) {\n      // Site\n      for (coord[1] = 0; coord[1] < header.extent[1]; coord[1]++) {\n        // Row\n        for (coord[0] = 0; coord[0] < header.extent[0]; coord[0]++, crsIdx++) {\n          // Column\n          x = coord[xyz2crs[0]]\n          y = coord[xyz2crs[1]]\n          z = coord[xyz2crs[2]]\n          xyzData[x + xSize * (y + ySize * z)] = data[crsIdx]\n        }\n      }\n    }\n\n    return xyzData\n  }\n}\n\nclass CCP4Parser extends Parser {\n  constructor(data, options) {\n    super(data, options)\n    this._options.fileType = 'ccp4'\n    this.model = new Ccp4Model()\n  }\n\n  static canProbablyParse(_data) {\n    return false // Autodetection is not implemented yet\n  }\n\n  parseSync() {\n    return this.model.parse(this._data)\n  }\n}\n\nCCP4Parser.formats = ['ccp4']\nCCP4Parser.extensions = ['.ccp4', '.map', '.mrc']\nCCP4Parser.binary = true\n\nexport default CCP4Parser\n","import * as THREE from 'three'\nimport _ from 'lodash'\nimport Parser from './Parser'\nimport chem from '../../chem'\n\nconst { Complex, Element, Molecule } = chem\n\nclass XYZParser extends Parser {\n  constructor(data, options) {\n    super(data, options)\n\n    this._complex = null\n    this._atomsInf = null\n\n    this._options.fileType = 'xyz'\n    this._fileName = options.name\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && /^\\s*\\d+ *\\n[^\\n]*\\n\\s*\\w{1,3}\\s+-?\\d/.test(data)\n  }\n\n  _parseToAtomsInf(source) {\n    const endnAtoms = source.indexOf('\\n')\n    const nAtoms = parseInt(source.substring(0, endnAtoms), 10)\n    const endComment = source.indexOf('\\n', endnAtoms + 1)\n    let comment = source.slice(endnAtoms + 1, endComment).trim()\n    if (comment.length === 0) {\n      comment = this._fileName\n    }\n\n    const startAtomsInf = endComment + source.substring(endComment).search(/\\S/)\n    this._atomsInf = source.substring(startAtomsInf).split(/[\\s,]*\\n[\\s,]*/)\n    if (!Number.isNaN(nAtoms) && this._atomsInf.length - 1 !== nAtoms) {\n      this._complex.error = {\n        message: 'wrong number of atoms'\n      }\n      return\n    }\n\n    this._complex.metadata.format = 'xyz'\n    this._complex.name = comment\n  }\n\n  _parseAtomsInf() {\n    const het = true\n    const altLoc = ' '\n    const occupancy = 1\n    const tempFactor = 1\n    const charge = 0\n\n    const chain = this._complex.addChain('A')\n    const residue = chain.addResidue('UNK', 1, ' ')\n\n    for (let i = 0; i < this._atomsInf.length - 1; i++) {\n      const words = this._atomsInf[i].split(/[\\s,]+/)\n\n      if (words.length !== 4) {\n        this._complex.error = {\n          message: 'missed parameters'\n        }\n        break\n      }\n\n      const serial = i + 1\n      const name = words[0]\n      const xyz = new THREE.Vector3(\n        parseFloat(words[1]),\n        parseFloat(words[2]),\n        parseFloat(words[3])\n      )\n      const type = Element.getByName(name)\n      const role = undefined\n\n      residue.addAtom(\n        name,\n        type,\n        xyz,\n        role,\n        het,\n        serial,\n        altLoc,\n        occupancy,\n        tempFactor,\n        charge\n      )\n    }\n\n    const molecule = new Molecule(this._complex, this._complex.name, 1)\n    molecule.residues = residue\n    this._complex._molecules[0] = molecule\n  }\n\n  parseSync() {\n    const result = (this._complex = new Complex())\n\n    this._parseToAtomsInf(this._data)\n    this._parseAtomsInf()\n\n    this._complex.finalize({\n      needAutoBonding: true,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap\n    })\n\n    this._complex = null\n    this._atomsInf = null\n\n    if (result.error) {\n      throw new Error(result.error.message)\n    }\n    return result\n  }\n\n  static formats = ['xyz']\n\n  static extensions = ['.xyz']\n}\n\nexport default XYZParser\n","import * as THREE from 'three'\nimport _ from 'lodash'\nimport Parser from './Parser'\nimport chem from '../../chem'\n\nconst { Complex, Element } = chem\n\nclass PubChemParser extends Parser {\n  constructor(data, options) {\n    super(data, options)\n    this._options.fileType = 'pubchem+json'\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && data[0] === '{'\n  }\n\n  parseSync() {\n    this.logger.info('Parsing PubChem JSON file...')\n    return this._toComplex(JSON.parse(this._data))\n  }\n\n  _toComplex(jsonData) {\n    const complex = new Complex()\n    const complexData = jsonData.PC_Compounds && jsonData.PC_Compounds[0]\n    if (complexData) {\n      this._extractAtoms(complex, complexData)\n      complex.finalize({\n        needAutoBonding: false,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing\n      })\n    }\n    return complex\n  }\n\n  _extractAtoms(complex, complexData) {\n    let aids = complexData.atoms && complexData.atoms.aid\n    let elements = aids && complexData.atoms.element\n    if (!elements || aids.length !== elements.length) {\n      throw new Error('Unable to parse atom elements')\n    }\n    elements = _.fromPairs(_.zip(aids, elements))\n    const atoms = {}\n\n    const coords = complexData.coords && complexData.coords[0]\n    const model = coords && coords.conformers && coords.conformers[0]\n    const xs = model && model.x\n    const ys = model && model.y\n    const zs = (model && model.z) || []\n    aids = coords && coords.aid\n    if (!aids || !xs || !ys) {\n      throw new Error('Coordinates are not found in the file')\n    }\n\n    const chain = complex.addChain(' ')\n    const residue = chain.addResidue('UNK', 1, ' ')\n\n    for (let i = 0, n = aids.length; i < n; ++i) {\n      const aid = aids[i]\n      const element = Element.ByAtomicNumber[elements[aid]]\n      const xyz = new THREE.Vector3(xs[i], ys[i], zs[i] || 0.0)\n      atoms[aid] = residue.addAtom(\n        element.name,\n        element,\n        xyz,\n        undefined,\n        true,\n        aid,\n        ' ',\n        1.0,\n        0.0,\n        0\n      )\n    }\n\n    const aids1 = complexData.bonds && complexData.bonds.aid1\n    const aids2 = complexData.bonds && complexData.bonds.aid2\n    const orders = (complexData.bonds && complexData.bonds.order) || []\n    if (!aids1 || !aids2 || aids1.length !== aids2.length) {\n      return\n    }\n\n    for (let j = 0, m = aids1.length; j < m; ++j) {\n      complex.addBond(atoms[aids1[j]], atoms[aids2[j]], orders[j] || 1, 0, true)\n    }\n  }\n}\n\nPubChemParser.formats = ['pubchem', 'pubchem+json', 'pc']\nPubChemParser.extensions = ['.json']\n\nexport default PubChemParser\n","import _ from 'lodash'\n\nexport default class SDFStream {\n  constructor(data) {\n    this._strings = data.split(/\\r?\\n|\\r/)\n    this._currentStart = 0\n    this._currentStringIndx = 0\n  }\n\n  setStart(start) {\n    if (start >= this._strings.length) {\n      this._currentStart = this._strings.length - 1\n      this._currentStringIndx = this._strings.length - 1\n    } else {\n      this._currentStart = start\n      this._currentStringIndx = start\n    }\n  }\n\n  getNextString() {\n    return this._strings[++this._currentStringIndx]\n  }\n\n  getCurrentString() {\n    return this._strings[this._currentStringIndx]\n  }\n\n  getStringFromStart(numb) {\n    this._currentStringIndx = this._currentStart + numb\n    return this._strings[this._currentStart + numb]\n  }\n\n  findNextDataItem() {\n    let curStr = this.getNextString()\n    let res = false\n    while (!_.isUndefined(curStr) && curStr.trim() !== '$$$$') {\n      if (curStr.match(/>\\s+<(.*)>/)) {\n        res = true\n        break\n      }\n      curStr = this.getNextString()\n    }\n\n    return res\n  }\n\n  findNextCompoundStart() {\n    let curStr = this.getCurrentString()\n    while (!_.isUndefined(curStr) && curStr.trim() !== '$$$$') {\n      curStr = this.getNextString()\n    }\n    this.setStart(++this._currentStringIndx)\n    return this.probablyHaveDataToParse()\n  }\n\n  probablyHaveDataToParse() {\n    return this._currentStringIndx < this._strings.length - 2\n  }\n}\n","import * as THREE from 'three'\nimport _ from 'lodash'\nimport Parser from './Parser'\nimport chem from '../../chem'\nimport SDFStream from './SDFStream'\nimport Assembly from '../../chem/Assembly'\n\nconst { Complex, Element, Bond, Molecule } = chem\n\nconst chargeMap = [0, 3, 2, 1, 0, -1, -2, -3]\nconst orderMap = [0, 1, 2, 3, 1, 1, 1, 2]\nconst typeMap = [\n  Bond.BondType.UNKNOWN, // 0 - error\n  Bond.BondType.COVALENT, // 1 - single\n  Bond.BondType.COVALENT, // 2 - double\n  Bond.BondType.COVALENT, // 3 - triple\n  Bond.BondType.AROMATIC, // 4 - aromatic\n  Bond.BondType.UNKNOWN, // 5 - single or double\n  Bond.BondType.AROMATIC, // 6 - single or aromatic\n  Bond.BondType.AROMATIC // 7 - double or aromatic\n  // 8 - any\n  // 9 - coordination\n  // 10 - hydrogen\n]\n\nconst sdfAndMolRegexp = /.*(M\\s\\sEND).*|.*(^$$$$).*|.*>\\s+<(.+)>.*/\nconst sdfRegExp = /.*($$$$).*|.*>\\s+<(.+)>.*/\n\nconst fileFormat = { SDF: 'sdf', MOL: 'mol' }\n\nconst possibleNameTags = [\n  'PUBCHEM_IUPAC_TRADITIONAL_NAME',\n  /PUBCHEM_(.+)_NAME/,\n  /(.+)name/,\n  /(.+)NAME/\n]\nconst possibleIDTags = [\n  'PUBCHEM_COMPOUND_CID',\n  'id',\n  'ID',\n  /.*CID/,\n  /.*ID/,\n  /.*id/\n]\nconst possibleTitleTags = [\n  'msg',\n  'MSG',\n  'message',\n  'title',\n  'description',\n  'desc'\n]\nconst tagsNames = ['name', 'id', 'title']\nconst tags = {\n  name: possibleNameTags,\n  id: possibleIDTags,\n  title: possibleTitleTags\n}\n\nfunction buildChainID(index) {\n  if (!index) {\n    return 'A'\n  }\n\n  const codes = []\n  while (index) {\n    codes.push(65 + (index % 26))\n    index = Math.trunc(index / 26)\n  }\n  if (codes.length > 1) {\n    codes.reverse()\n    codes[0] -= 1\n  }\n\n  return String.fromCharCode(...codes)\n}\n\nexport default class SDFParser extends Parser {\n  constructor(data, options) {\n    super(data, options)\n    this._format = 'sdf'\n    this._complex = null\n    this._chain = null\n    this._residue = null\n    this._molecules = null\n    this._metadata = {}\n    this._metadata.molecules = []\n    this._currentMolProps = {}\n    this._compoundIndx = -1\n    this._assemblies = []\n    this._atomsParsed = 0\n    this._atomsIndexes = []\n  }\n\n  canProbablyParse(data) {\n    return _.isString(data) && sdfAndMolRegexp.test(data)\n  }\n\n  _parseHeader(stream) {\n    const molecule = {}\n    molecule.name = stream.getStringFromStart(0)\n    const date = parseInt(stream.getStringFromStart(1).substr(10, 6).trim(), 10)\n    molecule.date = date.toString() || ''\n    molecule.title = stream.getStringFromStart(2)\n    this._metadata.molecules.push(molecule)\n  }\n\n  _parseAtoms(stream, atomsNum) {\n    let curStr\n    let serial = this._atomsParsed\n\n    // each molecule = chain\\residue\n    const chainID = buildChainID(this._compoundIndx)\n    const resName = 'UNK'\n    const resSeq = 1\n\n    this._chain =\n      this._complex.getChain(chainID) || this._complex.addChain(chainID)\n    this._residue = this._chain.addResidue(resName, resSeq, ' ')\n\n    for (let i = 0; i < atomsNum; i++) {\n      curStr = stream.getNextString()\n      serial++\n      const x = parseFloat(curStr.substr(0, 10))\n      const y = parseFloat(curStr.substr(10, 10))\n      const z = parseFloat(curStr.substr(20, 10))\n      const charge = chargeMap[parseInt(curStr.substr(36, 3), 10)]\n      const xyz = new THREE.Vector3(x, y, z)\n      let name = curStr.substr(31, 3).trim().toUpperCase()\n      const type = Element.getByName(name)\n      if (!this._atomsIndexes[name]) {\n        this._atomsIndexes[name] = 0\n      }\n      this._atomsIndexes[name] += 1\n      name += this._atomsIndexes[name] // every atom need to have unique name.\n\n      this._residue.addAtom(\n        name,\n        type,\n        xyz,\n        undefined,\n        true,\n        serial,\n        ' ',\n        1.0,\n        0.0,\n        charge\n      )\n    }\n  }\n\n  _parseBonds(stream, bondsNum) {\n    let curStr\n\n    for (let i = 0; i < bondsNum; i++) {\n      curStr = stream.getNextString()\n      let atom1 = parseInt(curStr.substr(0, 3), 10) + this._atomsParsed\n      let atom2 = parseInt(curStr.substr(3, 3), 10) + this._atomsParsed\n      const bondType = parseInt(curStr.substr(6, 3), 10)\n\n      if (atom1 > atom2) {\n        ;[atom1, atom2] = [atom2, atom1]\n      }\n      this._complex.addBond(\n        atom1,\n        atom2,\n        orderMap[bondType] || 1,\n        typeMap[bondType] || Bond.BondType.UNKNOWN,\n        true\n      )\n    }\n  }\n\n  _parseMOL(stream) {\n    this._compoundIndx++\n\n    this._parseHeader(stream)\n    const countsLine = stream.getStringFromStart(3)\n    const atomsNum = parseInt(countsLine.substr(0, 3), 10)\n    const bondsNum = parseInt(countsLine.substr(3, 3), 10)\n    this._parseAtoms(stream, atomsNum)\n    this._parseBonds(stream, bondsNum)\n\n    this._atomsParsed += atomsNum\n\n    this._metadata.molecules[this._compoundIndx]._residues = []\n    this._metadata.molecules[this._compoundIndx]._residues.push(this._residue)\n  }\n\n  _parseDataItem(stream) {\n    const tag = stream.getCurrentString()\n\n    let data = []\n    let curStr = stream.getNextString()\n\n    // read data\n    while (curStr.trim() !== '') {\n      data.push(curStr)\n      curStr = stream.getNextString()\n    }\n    if (data.length === 1) {\n      ;[data] = data\n    }\n    this._currentMolProps[tag.replace(/[<>]/g, '').trim()] = data\n  }\n\n  _parseCompound(stream) {\n    this._parseMOL(stream)\n\n    // parse data items block\n    if (this._format === fileFormat.SDF) {\n      this._currentMolProps = {}\n      while (stream.findNextDataItem()) {\n        this._parseDataItem(stream)\n      }\n      if (Object.keys(this._currentMolProps).length !== 0) {\n        const molecule = this._metadata.molecules[this._compoundIndx]\n        molecule.props = this._currentMolProps\n        this._tryToUpdateMoleculeData(molecule)\n      }\n    }\n  }\n\n  _fixBondsArray() {\n    const serialAtomMap = this._serialAtomMap\n    const complex = this._complex\n\n    const bonds = complex._bonds\n    for (let j = 0; j < bonds.length; j++) {\n      const bond = bonds[j]\n      if (bond._right < bond._left) {\n        console.log('_fixBondsArray: Logic error.')\n      }\n      bond._left = serialAtomMap[bond._left] || null\n      bond._right = serialAtomMap[bond._right] || null\n    }\n  }\n\n  _buildAssemblies() {\n    const chains = this._complex._chains\n\n    if (chains.length === 1) {\n      return this._assemblies\n    }\n\n    for (let i = 0; i < chains.length; i++) {\n      const assembly = new Assembly(this._complex)\n      const matrix = new THREE.Matrix4()\n      assembly.addMatrix(matrix)\n      assembly.addChain(chains[i]._name)\n      this._assemblies.push(assembly)\n    }\n\n    return this._assemblies\n  }\n\n  _buildMolecules() {\n    this._complex._molecules = []\n    const { molecules } = this._metadata\n    for (let i = 0; i < molecules.length; i++) {\n      const molecule = new Molecule(this._complex, molecules[i].name, i + 1)\n      molecule.residues = molecules[i]._residues\n      this._complex._molecules[i] = molecule\n    }\n\n    return this._complex._molecules\n  }\n\n  _searchTag(tag, props) {\n    for (let i = 0; i < props.length; i++) {\n      if (\n        (tag instanceof RegExp && tag.test(props[i].tag)) ||\n        tag === props[i].tag\n      ) {\n        return props[i].data\n      }\n    }\n    return undefined\n  }\n\n  _tryToFind(tagsList, props) {\n    for (let j = 0; j < tagsList.length; j++) {\n      const res = this._searchTag(tagsList[j], props)\n      if (res) {\n        return res\n      }\n    }\n    return undefined\n  }\n\n  _tryToUpdateMoleculeData(molecule) {\n    let res = false\n    for (let i = 0; i < tagsNames.length; i++) {\n      const tagPossibleNames = tags[tagsNames[i]]\n      const data = this._tryToFind(tagPossibleNames, molecule.props)\n      if (data) {\n        molecule[tagsNames[i]] = data\n        res = true\n      }\n    }\n\n    molecule.name = molecule.name || molecule.id\n    if (molecule.name.match(/^\\d+$/)) {\n      molecule.name = `CID: ${molecule.name}`\n    }\n\n    return res\n  }\n\n  _finalizeMetadata() {\n    const { molecules } = this._metadata\n    const { metadata } = this._complex\n    const complex = this._complex\n\n    if (molecules.length === 1) {\n      complex.name = molecules[0].name\n      metadata.title = molecules[0].title\n      metadata.date = molecules[0].date\n      metadata.properties = molecules[0].props\n    } else if (molecules.length > 1) {\n      metadata.molecules = []\n      for (let i = 0; i < molecules.length; i++) {\n        metadata.molecules.push({\n          name: molecules[i].name,\n          date: molecules[i].date,\n          title: molecules[i].title,\n          properties: molecules[i].props\n        })\n      }\n    }\n  }\n\n  _finalize() {\n    const serialAtomMap = (this._serialAtomMap = {})\n    const atoms = this._complex._atoms\n\n    for (let i = 0; i < atoms.length; i++) {\n      const atom = atoms[i]\n      serialAtomMap[atom.serial] = atom\n    }\n\n    this._complex._finalizeBonds()\n    this._fixBondsArray()\n    this._finalizeMetadata()\n    this._buildAssemblies()\n    this._complex.units = this._complex.units.concat(this._assemblies)\n    this._buildMolecules()\n    this._complex.finalize({\n      needAutoBonding: false,\n      detectAromaticLoops: false,\n      enableEditing: false,\n      serialAtomMap: this._serialAtomMap\n    })\n  }\n\n  defineFormat(data) {\n    let format\n    if (sdfRegExp.test(data)) {\n      format = fileFormat.SDF\n    } else {\n      format = fileFormat.MOL\n    }\n\n    return format\n  }\n\n  parseSync() {\n    const result = (this._complex = new Complex())\n    const stream = new SDFStream(this._data)\n\n    this._format = this.defineFormat(this._data)\n    result.metadata.format = this._format\n\n    do {\n      this._parseCompound(stream)\n    } while (stream.findNextCompoundStart())\n\n    this._finalize()\n\n    return result\n  }\n}\n\nSDFParser.formats = ['mol', 'sdf']\nSDFParser.extensions = ['.mol', '.sdf']\n","import * as THREE from 'three'\nimport Parser from './Parser'\nimport VolumeModel, { valueType } from './VolumeModel'\n\n// http://www.uoxray.uoregon.edu/tnt/manual/node104.html\nconst DSN6Header = {\n  nstart: [valueType.array, 'i16', 0],\n  extent: [valueType.array, 'i16', 3],\n  grid: [valueType.array, 'i16', 6],\n  cellDims: [valueType.vector, 'i16', 9],\n  angles: [valueType.array, 'i16', 12],\n  div: [valueType.singular, 'i16', 15],\n  adder: [valueType.singular, 'i16', 16],\n  scaleFactor: [valueType.singular, 'i16', 17]\n}\n\nclass DSN6Model extends VolumeModel {\n  _parseHeader(_buffer) {\n    this._buff = _buffer\n    this._typedCheck()\n\n    const arrays = {}\n    arrays.i16 = new Int16Array(this._buff)\n\n    // check and reverse if big endian\n    if (arrays.i16[18] !== 100) {\n      for (let i = 0, n = arrays.i16.length; i < n; ++i) {\n        const val = arrays.i16[i]\n        arrays.i16[i] = ((val & 0xff) << 8) | ((val >> 8) & 0xff)\n      }\n    }\n    if (arrays.i16[18] !== 100) {\n      throw new Error('DSN6: Incorrect format ')\n    }\n\n    const header = this._header\n\n    this._fillHeader(DSN6Header, arrays)\n    header.cellDims.multiplyScalar(1.0 / header.scaleFactor)\n    header.angles.forEach((angle, i, a) => {\n      a[i] *= Math.PI / 180.0 / header.scaleFactor\n    })\n    header.div /= 100\n  }\n\n  _setAxisIndices() {\n    this._xyz2crs[0] = 0\n    this._xyz2crs[1] = 1\n    this._xyz2crs[2] = 2\n  }\n\n  _setOrigins() {\n    const header = this._header\n    const [xaxis, yaxis, zaxis] = this._getAxis()\n    this._setAxisIndices()\n\n    this._origin.addScaledVector(xaxis, header.nstart[0])\n    this._origin.addScaledVector(yaxis, header.nstart[1])\n    this._origin.addScaledVector(zaxis, header.nstart[2])\n\n    xaxis.multiplyScalar(header.extent[0])\n    yaxis.multiplyScalar(header.extent[1])\n    zaxis.multiplyScalar(header.extent[2])\n\n    this._setBoxParams(xaxis, yaxis, zaxis)\n  }\n\n  _pointCalculate(xyzData, byteBuffer, z, y, x, pos, i) {\n    const header = this._header\n\n    if (x < header.extent[0] && y < header.extent[1] && z < header.extent[2]) {\n      const idx = x + header.extent[0] * (y + header.extent[1] * z)\n      xyzData[idx] = (byteBuffer[pos.counter] - header.adder) / header.div\n      ++pos.counter\n    } else {\n      pos.counter += 8 - i\n      return false\n    }\n    return true\n  }\n\n  _blockCalculate(xyzData, byteBuffer, zBlock, yBlock, xBlock, pos) {\n    for (let k = 0; k < 8; ++k) {\n      const z = 8 * zBlock + k\n      for (let j = 0; j < 8; ++j) {\n        const y = 8 * yBlock + j\n        let inRange = true\n        let i = 0\n        while (inRange && i < 8) {\n          const x = 8 * xBlock + i\n          inRange = this._pointCalculate(xyzData, byteBuffer, z, y, x, pos, i)\n          i++\n        }\n      }\n    }\n  }\n\n  _toXYZData() {\n    const header = this._header\n    const byteBuffer = new Uint8Array(this._buff)\n    const xyzData = new Float32Array(\n      header.extent[0] * header.extent[1] * header.extent[2]\n    )\n\n    const blocks = new THREE.Vector3(\n      header.extent[0] / 8,\n      header.extent[1] / 8,\n      header.extent[2] / 8\n    )\n\n    const pos = {}\n    pos.counter = 512\n\n    for (let zBlock = 0; zBlock < blocks.z; ++zBlock) {\n      for (let yBlock = 0; yBlock < blocks.y; ++yBlock) {\n        for (let xBlock = 0; xBlock < blocks.x; ++xBlock) {\n          this._blockCalculate(xyzData, byteBuffer, zBlock, yBlock, xBlock, pos)\n        }\n      }\n    }\n    this._calculateInfoParams(xyzData)\n    return xyzData\n  }\n\n  _calculateInfoParams(xyzData) {\n    this._header.dmean /= xyzData.length\n    let dispersion = 0\n    let minDensity = xyzData[0]\n    let maxDensity = xyzData[0]\n    for (let j = 0; j < xyzData.length; j++) {\n      dispersion += (this._header.dmean - xyzData[j]) ** 2\n\n      if (xyzData[j] < minDensity) {\n        minDensity = xyzData[j]\n      }\n      if (xyzData[j] > maxDensity) {\n        maxDensity = xyzData[j]\n      }\n    }\n    this._header.sd = Math.sqrt(dispersion / xyzData.length)\n    this._header.dmax = maxDensity\n    this._header.dmin = minDensity\n  }\n}\n\nclass DSN6Parser extends Parser {\n  constructor(data, options) {\n    super(data, options)\n    this._options.fileType = 'dsn6'\n    this.model = new DSN6Model()\n  }\n\n  static canParse(data, options) {\n    if (!data) {\n      return false\n    }\n    return (\n      data instanceof ArrayBuffer &&\n      Parser.checkDataTypeOptions(options, 'dsn6')\n    )\n  }\n\n  static canProbablyParse(_data) {\n    return false\n  }\n\n  parseSync() {\n    return this.model.parse(this._data)\n  }\n}\n\nDSN6Parser.formats = ['dsn6']\nDSN6Parser.extensions = ['.dsn6', '.omap']\nDSN6Parser.binary = true\n\nexport default DSN6Parser\n","import PDBStream from './PDBStream'\n\n/**\n * Little helper class for GRO Parser usage.\n * @extends PDBStream\n */\nclass GROReader extends PDBStream {\n  constructor(data) {\n    super(data)\n    /** @type Number */\n    this._next = -1 // End position of line\n    this.next()\n  }\n\n  /**\n   * Getting end of string.\n   * @returns {Number} Pointer to end of string\n   */\n  getNext() {\n    return this._next\n  }\n}\n\nexport default GROReader\n","import * as THREE from 'three'\nimport _ from 'lodash'\nimport Parser from './Parser'\nimport chem from '../../chem'\nimport GROReader from './GROReader'\n\nconst { Complex, Element, Molecule } = chem\n\n/**\n * Gromos87 file format parser.\n * @extends Parser\n */\nclass GROParser extends Parser {\n  /**\n   * Create parser for .gro file format\n   *\n   * @param {String} data Input file\n   * @param {String} options Input options (optional field)\n   */\n  constructor(data, options) {\n    super(data, options)\n    /** @type Date */\n    this._time = null // Time in ps, optional field for animations\n    /** @type Number */\n    this._numAtoms = null // Number of atoms in complex\n    /** @type Number */\n    this._residueNumber = null // Number of exact residue\n    /** @type String */\n    this._residueName = '' // Scientific name of exact residue\n    /** @type String */\n    this._atomName = '' // Scientific name of exact atom\n    /** @type Number */\n    this._atomNumber = null // Sorted number of exact atom\n    /** @type Array */\n    this._atomPosition = [] // Array which contains x, y, z position of exact atom\n    /** @type Array */\n    this._atomVelocity = [] // Array which contains x, y, z velocity of exact atom (optional)\n    /** @type Complex */\n    this._complex = null // Complex structure for unified molecule representation\n    /** @type Vector3 */\n    this._molecules = [] // Molecules array\n    /** @type Molecule */\n    this._molecule = null // Single molecule\n    /** @type String */\n    this._options.filetype = 'gro' // Extension of data file.\n  }\n\n  /**\n   * General check for possibility of parsing.\n   * @param {String} data - Input file\n   * @returns {boolean} true if this file is in ascii, false otherwise\n   */\n  canProbablyParse(data) {\n    return (\n      _.isString(this._data) &&\n      /^\\s*[^\\n]*\\n\\s*\\d+ *\\n\\s*\\d+[^\\n\\d]{3}\\s*\\w+\\s*\\d+\\s*-?\\d/.test(data)\n    )\n  }\n\n  /**\n   * Parsing title of molecule complex.\n   * NOTE: that names are ESTIMATES, there is no strict rules in Gromos87 standard for first line in input file.\n   * @param {GROReader} line - Line containing title and time.\n   */\n  _parseTitle(line) {\n    const { metadata } = this._complex\n    metadata.id = line.readLine().trim()\n    metadata.name = metadata.id.slice(\n      metadata.id.lastIndexOf('\\\\') + 1,\n      metadata.id.lastIndexOf('.')\n    )\n    metadata.format = 'gro'\n  }\n\n  /**\n   * Parsing line containing number of atoms information.\n   * @param {GROReader} line - Line containing number of atoms.\n   */\n  _parseNumberOfAtoms(line) {\n    this._numAtoms = line.readInt(0, line.getNext())\n    if (Number.isNaN(this._numAtoms)) {\n      throw new Error(\n        'Line 2 is not representing atom number. Consider checking input file'\n      )\n    }\n  }\n\n  /**\n   * Parsing line containing information about residues, atoms etc. Also information about box vectors.\n   * Format of atoms MUST (by Gromos87 standard) be this: (note that numbering starts not from 0, but from 1!)\n   * ResidueNumber[1 - 5]  ResidueName[6 - 10] AtomName[11 - 15] AtomNumber[16 - 20] Position[21 - 45] Velocity[46 - 69]\n   * @param {GROReader} line - Line containing information about atom.\n   */\n  _parseAtom(line) {\n    this._residueNumber = line.readInt(1, 5)\n    this._residueName = line.readString(6, 10).trim()\n    this._atomName = line.readString(11, 15).trim()\n    this._atomNumber = line.readInt(16, 20)\n    const positionX = line.readFloat(21, 28) * 10\n    const positionY = line.readFloat(29, 36) * 10\n    const positionZ = line.readFloat(37, 45) * 10\n    if (\n      Number.isNaN(positionX) ||\n      Number.isNaN(positionY) ||\n      Number.isNaN(positionZ)\n    ) {\n      this._complex.error = {\n        message: `Atom position is invalid in \"${line.readLine()}\"`\n      }\n      return\n    }\n    /* const velocityX = line.readFloat(46, 53);\n    const velocityY = line.readFloat(54, 61);\n    const velocityZ = line.readFloat(62, 69); */\n    /* Adding residue and atom to complex structure */\n    const type = Element.getByName(\n      this._atomName[0]\n    ) /* MAGIC 0. REASONS: This name is something like \"CA\", where\n     C - is an element an A is something else. But what about Calcium? */\n    if (type.fullName === 'Unknown') {\n      this._complex.error = {\n        message: `${this._atomName[0]} hasn't been recognised as an atom name.`\n      }\n      return\n    }\n    const role = Element.Role[this._atomName]\n    /* Firstly, create a dummy chain */\n    let chain = this._chain\n    if (!chain) {\n      this._chain = chain = this._complex.addChain('A')\n    }\n    /* Secondly, add residue to that chain */\n    let residue = this._residue\n    if (!residue || residue.getSequence() !== this._residueNumber) {\n      this._residue = residue = chain.addResidue(\n        this._residueName,\n        this._residueNumber,\n        ' '\n      )\n    }\n    /* Lastly, add atom to that residue */\n    this._atomPosition = new THREE.Vector3(positionX, positionY, positionZ)\n    /* Adding default constants to correct atom addition process */\n    const het = true\n    const altLoc = ' '\n    const occupancy = 1\n    const tempFactor = 1\n    const charge = 0\n    residue.addAtom(\n      this._atomName,\n      type,\n      this._atomPosition,\n      role,\n      het,\n      this._atomNumber,\n      altLoc,\n      occupancy,\n      tempFactor,\n      charge\n    )\n  }\n\n  /**\n   * Some finalizing procedures. In '.gro' file format there is only 1 chain and 1 molecule.\n   */\n  _finalize() {\n    const molecule = new Molecule(this._complex, this._complex.metadata.name, 1)\n    // aggregate residues from chain\n    molecule.residues = this._chain._residues\n    molecule._chains = this._chain\n    this._complex._molecules[0] = molecule\n    this._molecules.push(molecule)\n    this._complex.finalize({\n      needAutoBonding: true,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap\n    })\n  }\n\n  /**\n   * Main parsing procedure.\n   * @returns {Complex} Complex structure for visualizing.\n   */\n  parseSync() {\n    /* Create \"Complex\" variable */\n    const result = (this._complex = new Complex())\n    /* Parse input file line-by-line */\n    const reader = new GROReader(this._data)\n    let counter = 0 /* Simple counter regarding to format of .gro file */\n    /* First two lines - technical information, other lines - Atoms */\n    this._parseTitle(reader)\n    reader.next()\n    this._parseNumberOfAtoms(reader)\n    reader.next()\n    for (counter = 0; counter < this._numAtoms; ++counter) {\n      if (!reader.end()) {\n        this._parseAtom(reader)\n        reader.next()\n      } else break\n    }\n    /* If number of atoms in second line is less then actual atoms in file */\n    if (counter < this._numAtoms) {\n      this._complex.error = {\n        message: 'File ended unexpectedly.'\n      }\n    }\n    /* Catch errors occurred in parsing process */\n    if (result.error) {\n      throw new Error(result.error.message)\n    }\n\n    /* Finalizing data */\n    this._finalize()\n\n    /* Cleaning up */\n    this._atomPosition = null\n    this._complex = null\n    this._molecules = null\n    this._molecule = null\n\n    /* Return resulting Complex variable */\n    return result\n  }\n}\n\nGROParser.formats = ['gro']\nGROParser.extensions = ['.gro']\n\nexport default GROParser\n","import * as THREE from 'three'\nimport Parser from './Parser'\nimport chem from '../../chem'\n\nconst { Complex, Element, Bond, Molecule } = chem\n\nconst orderMap = {\n  un: 0,\n  1: 1,\n  2: 2,\n  3: 3,\n  ar: 1,\n  am: 1,\n  nc: 0,\n  du: 1\n}\nconst typeMap = {\n  un: Bond.BondType.UNKNOWN, // unknown (cannot be determined from the parameter tables)\n  1: Bond.BondType.COVALENT, // single\n  2: Bond.BondType.COVALENT, // double\n  3: Bond.BondType.COVALENT, // triple\n  ar: Bond.BondType.AROMATIC, // aromatic\n  am: Bond.BondType.COVALENT, // amide\n  nc: Bond.BondType.UNKNOWN, // not connected\n  du: Bond.BondType.COVALENT // dummy\n}\n\nconst resNumberRegex = /\\d+$/\nconst spacesRegex = /\\s+/\n\nfunction splitToFields(str) {\n  return str.trim().split(spacesRegex)\n}\n/* There is no jsdoc documentation because of eslint corrections:\n * not all Parser methods are implemented\n */\n\nclass MOL2Parser extends Parser {\n  constructor(data, options) {\n    super(data, options)\n\n    this._complex = null\n    this._chain = null\n    this._residue = null\n    this._compoundIndx = -1\n\n    this._molecules = []\n    this._molecule = null\n\n    this._currPosIdx = 0\n    this._currStartIdx = 0\n\n    this._serialAtomMap = {}\n\n    this._options.fileType = 'mol2'\n  }\n\n  _parseRawStrings(data) {\n    return data.split(/\\r?\\n|\\r/)\n  }\n\n  _toStringFromStart(numb, MOL2Data) {\n    const newPosIdx = this._currStartIdx + numb\n    this._currPosIdx =\n      newPosIdx < MOL2Data.length ? newPosIdx : this._currStartIdx\n  }\n\n  _toHeaderString(header, MOL2Data) {\n    this._toStringFromStart(0, MOL2Data)\n    while (this._currPosIdx < MOL2Data.length) {\n      if (MOL2Data[this._currPosIdx].match(`@<TRIPOS>${header}`)) {\n        return\n      }\n      this._currPosIdx++\n    }\n    this._toStringFromStart(0, MOL2Data)\n  }\n\n  _toStringFromHeader(header, numb, MOL2Data) {\n    this._toHeaderString(header, MOL2Data)\n    const newPosIdx = this._currPosIdx + numb\n\n    if (\n      MOL2Data[this._currPosIdx].match(`@<TRIPOS>${header}`) &&\n      newPosIdx < MOL2Data.length\n    ) {\n      this._currPosIdx = newPosIdx\n    }\n  }\n\n  _setStart(startPos, MOL2Data) {\n    if (startPos >= MOL2Data.length) {\n      this._currStartIdx = this._currPosIdx = MOL2Data.length - 1\n    } else {\n      this._currStartIdx = this._currPosIdx = startPos\n    }\n  }\n\n  _probablyHaveDataToParse(MOL2Data) {\n    return this._currPosIdx < MOL2Data.length - 2\n  }\n\n  _findNextCompoundStart(MOL2Data) {\n    while (\n      this._currPosIdx < MOL2Data.length &&\n      MOL2Data[this._currPosIdx].trim() !== '@<TRIPOS>MOLECULE>'\n    ) {\n      this._currPosIdx++\n    }\n    this._setStart(++this._currPosIdx, MOL2Data)\n    return this._probablyHaveDataToParse(MOL2Data)\n  }\n\n  _parseMolecule(MOL2Data) {\n    this._toHeaderString('MOLECULE', MOL2Data)\n\n    const { metadata } = this._complex\n    metadata.name = MOL2Data[++this._currPosIdx]\n    metadata.format = 'mol2'\n\n    this._molecule = { _index: '', _chains: [] }\n    this._molecule._index = this._compoundIndx + 1\n    this._molecules.push(this._molecule)\n  }\n\n  /* Atom format description:\n   * atomId atomName x y z element [resSeq [resName [charge [statusBit]]]]\n   * statusBits is the internal SYBYL status bits associated with the atom.\n   * These should never be set by the user.\n   * Source: http://chemyang.ccnu.edu.cn/ccb/server/AIMMS/mol2.pdf\n   */\n  _parseAtoms(atomsNum, MOL2Data) {\n    this._toHeaderString('ATOM', MOL2Data)\n\n    for (let i = 0; i < atomsNum; i++) {\n      const parsedStr = splitToFields(MOL2Data[++this._currPosIdx])\n\n      if (parsedStr.length < 6) {\n        throw new Error(\n          'MOL2 parsing error: Not enough information to create atom!'\n        )\n      }\n      const atomId = parseInt(parsedStr[0], 10)\n      const atomName = parsedStr[1]\n\n      const x = parseFloat(parsedStr[2])\n      const y = parseFloat(parsedStr[3])\n      const z = parseFloat(parsedStr[4])\n\n      const element = parsedStr[5].split('.')[0].toUpperCase()\n\n      let charge = 0\n      if (parsedStr.length >= 9) {\n        charge = parseFloat(parsedStr[8]) || 0.0\n      }\n\n      let chain = this._chain\n      if (!chain) {\n        // .mol2 may contain information about multiple molecules, but they can't be visualized\n        // at the same time now. There is no need to create different chain IDs then.\n        this._chain = chain =\n          this._complex.getChain('A') || this._complex.addChain('A')\n        this._residue = null\n      }\n      if (!this._setResidue(parsedStr)) {\n        continue\n      }\n\n      // These fields are not listed in mol2 format. Set them default.\n      // Atoms and het atoms doesn't differ in .mol2,\n      // but het atoms have special residues. It can be used in next updates\n      const het = false\n      const altLoc = ' '\n      const occupancy = 1.0\n      const tempFactor = 0.0\n      const type = Element.getByName(element)\n      const role = Element.Role[atomName]\n\n      const xyz = new THREE.Vector3(x, y, z)\n      this._residue.addAtom(\n        atomName,\n        type,\n        xyz,\n        role,\n        het,\n        atomId,\n        altLoc,\n        occupancy,\n        tempFactor,\n        charge\n      )\n    }\n  }\n\n  _setResidue(parsedStr) {\n    let resSeq = 1\n    let resName = 'UNK' // The same meaning has '<0>' in some mol2 files\n\n    if (parsedStr.length >= 7) {\n      resSeq = parseInt(parsedStr[6], 10)\n    }\n    if (parsedStr.length >= 8 && parsedStr[7] !== '<0>') {\n      resName = parsedStr[7].replace(resNumberRegex, '')\n    }\n    if (this.settings.now.nowater) {\n      if (resName === 'HOH' || resName === 'WAT') {\n        return false\n      }\n    }\n    const residue = this._residue\n    const chain = this._chain\n    if (!residue || residue.getSequence() !== resSeq) {\n      this._residue = chain.addResidue(resName, resSeq, 'A')\n    }\n    return true\n  }\n\n  /* Bond format description\n   * bondId originAtomId targetAtomId bondType [statusBits]\n   */\n  _parseBonds(bondsNum, MOL2Data) {\n    this._toHeaderString('BOND', MOL2Data)\n\n    for (let i = 0; i < bondsNum; i++) {\n      const parsedStr = splitToFields(MOL2Data[++this._currPosIdx])\n\n      if (parsedStr.length < 3) {\n        throw new Error('MOL2 parsing error: Missing information about bonds!')\n      }\n\n      let originAtomId = parseInt(parsedStr[1], 10)\n      let targetAtomId = parseInt(parsedStr[2], 10)\n      const bondType = parsedStr[3]\n\n      if (originAtomId > targetAtomId) {\n        ;[originAtomId, targetAtomId] = [targetAtomId, originAtomId]\n      }\n      this._complex.addBond(\n        originAtomId,\n        targetAtomId,\n        orderMap[bondType] || 0,\n        typeMap[bondType] || Bond.BondType.UNKNOWN,\n        true\n      )\n    }\n  }\n\n  _fixSerialAtoms() {\n    const atoms = this._complex._atoms\n    for (let i = 0; i < atoms.length; i++) {\n      const atom = atoms[i]\n      this._serialAtomMap[atom.serial] = atom\n    }\n  }\n\n  _fixBondsArray() {\n    const serialAtomMap = this._serialAtomMap\n    const complex = this._complex\n\n    if (Object.keys(serialAtomMap).length === 0) {\n      throw new Error('MOL2 parsing error: Missing atom information!')\n    }\n\n    const bonds = complex._bonds\n    for (let j = 0; j < bonds.length; j++) {\n      const bond = bonds[j]\n      bond._left = serialAtomMap[bond._left] || null\n      bond._right = serialAtomMap[bond._right] || null\n    }\n  }\n\n  _finalizeMolecules() {\n    // Get chain from complex\n    const chain = this._complex._chains[0]\n    this._complex._molecules = []\n\n    // Aggregate residues from chains\n    // (to be precise from the chain 'A')\n    for (let i = 0; i < this._molecules.length; i++) {\n      const currMolecule = this._molecules[i]\n      const molResidues = chain._residues\n      const molecule = new Molecule(this._complex, currMolecule._name, i + 1)\n      molecule.residues = molResidues\n      this._complex._molecules[i] = molecule\n    }\n  }\n\n  _finalize() {\n    this._complex._finalizeBonds()\n    this._fixSerialAtoms()\n    this._fixBondsArray()\n    this._finalizeMolecules()\n\n    this._complex.finalize({\n      needAutoBonding: false,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap\n    })\n  }\n\n  _parseCompound(MOL2Data) {\n    this._compoundIndx++\n    this._parseMolecule(MOL2Data)\n\n    // Ignoring comments and everything before @<TRIPOS>MOLECULE block\n    this._toStringFromHeader('MOLECULE', 2, MOL2Data)\n\n    const parsedStr = MOL2Data[this._currPosIdx].trim().split(spacesRegex)\n    const atomsNum = parsedStr[0]\n    const bondsNum = parsedStr[1]\n\n    this._parseAtoms(atomsNum, MOL2Data)\n    this._parseBonds(bondsNum, MOL2Data)\n  }\n\n  parseSync() {\n    const result = (this._complex = new Complex())\n    const MOL2Data = this._parseRawStrings(this._data)\n    do {\n      this._parseCompound(MOL2Data)\n    } while (this._findNextCompoundStart(MOL2Data))\n\n    this._finalize()\n\n    return result\n  }\n}\n\nMOL2Parser.formats = ['mol2']\nMOL2Parser.extensions = ['.mol2', '.ml2', '.sy2']\n\nexport default MOL2Parser\n","import ParserList from './parsers/ParserList'\n\nimport PDBParser from './parsers/PDBParser'\nimport CMLParser from './parsers/CMLParser'\nimport MMTFParser from './parsers/MMTFParser'\nimport CIFParser from './parsers/CIFParser'\nimport CCP4Parser from './parsers/CCP4Parser'\nimport XYZParser from './parsers/XYZParser'\nimport PubChemParser from './parsers/PubChemParser'\nimport SDFParser from './parsers/SDFParser'\nimport DSN6Parser from './parsers/DSN6Parser'\nimport GROParser from './parsers/GROParser'\nimport MOL2Parser from './parsers/MOL2Parser'\n\nexport default new ParserList([\n  // note: order might be important\n  PDBParser,\n  CIFParser,\n  MMTFParser,\n  XYZParser,\n  CMLParser,\n  PubChemParser,\n  SDFParser,\n  CCP4Parser,\n  DSN6Parser,\n  GROParser,\n  MOL2Parser\n])\n","import EntityList from '../../utils/EntityList'\n\n/**\n * A list of available exporters.\n * @extends EntityList\n */\nclass ExporterList extends EntityList {\n  /**\n   * Create a list of exporters.\n   * The exporters are indexed by supported data formats (`.formats` and\n   * `.extensions` properties of a Exporter subclass).\n   * The Exporters can be retrieved later by matching against specs (see {@link ExporterList#find}).\n   *\n   * @param {!Array<function(new:Exporter)>=} someExporters A list of {@link Exporter} subclasses to\n   *   automatically register at creation time.\n   * @see ExporterList#register\n   */\n  constructor(someExporters = []) {\n    super(someExporters, ['formats'])\n  }\n\n  /**\n   * Find a suitable exporter for data.\n   *\n   * @param {Object} specs Exporter specifications.\n   * @param {string=} specs.format Supported data format.\n   * @param {*=} specs.data Data to export.\n   */\n  find(specs) {\n    let list = []\n    if (specs.format) {\n      list = this._dict.formats[specs.format.toLowerCase()] || []\n    }\n    return [...list]\n  }\n}\n\nexport default ExporterList\n","import makeContextDependent from '../../utils/makeContextDependent'\n\nexport default class Exporter {\n  constructor(source, options) {\n    this._source = source\n    this._options = options || {}\n    this._abort = false\n  }\n\n  exportSync() {\n    throw new Error('Exporting to this source is not implemented')\n  }\n\n  export() {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        try {\n          if (this._abort) {\n            return reject(new Error('Export aborted'))\n          }\n          return resolve(this.exportSync())\n        } catch (error) {\n          return reject(error)\n        }\n      })\n    })\n  }\n\n  abort() {\n    this._abort = true\n  }\n}\n\nmakeContextDependent(Exporter.prototype)\n","import _ from 'lodash'\nimport { Matrix4 } from 'three'\n\nexport default class PDBResult {\n  constructor() {\n    this._resultArray = []\n    this._currentStr = -1\n    this._tag = null\n    this._fixedNumeration = false\n    this._numeration = false\n    this._tagStrNum = 0\n  }\n\n  getResult() {\n    this.writeString('\\n', 81, 81)\n    return this._resultArray.join('')\n  }\n\n  _currentStrLength() {\n    const curStr = this._resultArray[this._currentStr]\n    return curStr ? curStr.length : 0\n  }\n\n  // numeration can be number or boolean\n  // if numeration is number then just put this number to 8-10 pos in string\n  // if numeration is boolean then increase number for all new strings\n  newTag(tag, numeration) {\n    if (!tag) {\n      this._tag = null\n    } else {\n      this._tag = tag\n    }\n    if (!_.isUndefined(numeration)) {\n      if (_.isNumber(numeration)) {\n        this._tagStrNum = numeration\n        this._numeration = true\n        this._fixedNumeration = true\n      } else if (_.isBoolean(numeration)) {\n        this._tagStrNum = 0\n        this._numeration = numeration\n        this._fixedNumeration = false\n      }\n    } else {\n      this._numeration = false\n      this._fixedNumeration = false\n      this._tagStrNum = 0\n    }\n  }\n\n  newString(tag) {\n    this.writeString('\\n', 81, 81)\n    this._currentStr++\n    this._resultArray.push('')\n\n    if (tag) {\n      this.writeString(tag, 1, 6)\n    } else if (this._tag) {\n      this.writeString(this._tag, 1, 6)\n    }\n\n    if (this._numeration) {\n      if (!this._fixedNumeration) {\n        this._tagStrNum++\n      }\n      if (this._tagStrNum !== 1) {\n        this.writeString(this._tagStrNum.toString(), 10, 8)\n      }\n    }\n  }\n\n  writeEntireString(string, maxStrPos, concat) {\n    if (!maxStrPos) {\n      maxStrPos = 81\n    }\n    for (let j = 0; j < string.length; j++) {\n      if (this._currentStrLength() === maxStrPos && j !== string.length - 1) {\n        this.newString()\n        if (concat) {\n          // pretty hardcoddy\n          this.writeString(concat.tag, concat.begin, concat.end)\n        }\n      }\n      if (string[j] === '\\n') {\n        this.newString()\n      } else {\n        this.writeString(string[j])\n      }\n    }\n  }\n\n  writeString(string, begin, end) {\n    let curStr = this._resultArray[this._currentStr]\n    let str\n\n    const curStrLength = curStr ? curStr.length : 0\n\n    if (_.isUndefined(string)) {\n      return\n    }\n\n    if (!_.isNumber(begin)) {\n      begin = curStrLength + 1\n    }\n\n    if (!_.isNumber(end)) {\n      end = curStrLength + string.length\n    }\n\n    if (!_.isString(string)) {\n      str = string.toString()\n    } else {\n      str = string\n    }\n\n    const finish = begin < end ? end : begin\n    const start = begin < end ? begin : end\n\n    if (str.length > Math.abs(begin - end) + 1) {\n      str = str.substr(0, Math.abs(begin - end + 1))\n    }\n\n    // spaces before start of new data\n    if (start > curStrLength + 1) {\n      this._resultArray[this._currentStr] += ' '.repeat(\n        start - curStrLength - 1\n      )\n    } else if (start <= curStrLength) {\n      const cStr = this._resultArray[this._currentStr]\n      this._resultArray[this._currentStr] = cStr.slice(0, start - 1)\n    }\n\n    // if reverse order\n    // reverse order of end and begin means that user wants to align text right\n    if (end < begin) {\n      const len = begin - end + 1\n      str = ' '.repeat(len - str.length) + str\n    }\n\n    // some hardcode fix for space between string numeration and data\n    // (see pdb file format description)\n    if (start === 11 && this._numeration && this._tagStrNum !== 1) {\n      str = ` ${str}`\n    }\n\n    // append new data to string\n    this._resultArray[this._currentStr] += str\n    curStr = this._resultArray[this._currentStr]\n\n    if (finish > curStr.length) {\n      this._resultArray[this._currentStr] += ' '.repeat(finish - curStr.length)\n    }\n  }\n\n  writeBondsArray(bonds, atom) {\n    const bondsArrays = this._getSubArrays(bonds, 4)\n\n    for (let k = 0; k < bondsArrays.length; k++) {\n      this.newString()\n      this.writeString(atom.serial, 11, 7)\n\n      for (let j = 0; j < bondsArrays[k].length; j++) {\n        const serial =\n          bondsArrays[k][j]._left.serial === atom.serial\n            ? bondsArrays[k][j]._right.serial\n            : bondsArrays[k][j]._left.serial\n\n        this.writeString(serial, 16 + 5 * j, 12 + 5 * j)\n      }\n    }\n  }\n\n  _getSubArrays(arr, subArraySize) {\n    const subArrays = []\n    for (let i = 0; i < arr.length; i += subArraySize) {\n      subArrays.push(arr.slice(i, i + subArraySize))\n    }\n    return subArrays\n  }\n\n  // function for writing matrix in Remark290 and Remark350 tags\n  // (see pdb file description)\n  writeMatrix(matrix, matrixIndx, tag) {\n    for (let j = 0; j < 3; j++) {\n      this.newString()\n      this.writeString(tag, 14, 18)\n      this.writeString((j + 1).toString(), 19, 19)\n      this.writeString(matrixIndx.toString(), 23, 20)\n      for (let k = 0; k < 3; k++) {\n        const numb = parseFloat(matrix.elements[j * 4 + k]).toFixed(6)\n        this.writeString(numb.toString(), 33 + k * 10, 24 + k * 10)\n      }\n\n      const numb = parseFloat(matrix.elements[j * 4 + 3]).toFixed(5)\n      this.writeString(numb.toString(), 68, 55)\n    }\n  }\n\n  writeMatrices(matrices, string) {\n    if (!matrices) {\n      return\n    }\n    const matrix = new Matrix4()\n    for (let j = 0; j < matrices.length; j++) {\n      matrix.copy(matrices[j]).transpose()\n      this.writeMatrix(matrix, j + 1, string)\n    }\n  }\n}\n","import _ from 'lodash'\nimport Complex from '../../chem/Complex'\nimport Exporter from './Exporter'\nimport PDBResult from './PDBResult'\nimport Assembly from '../../chem/Assembly'\nimport { typeByPDBHelixClass } from '../../chem/Helix'\n\nexport default class PDBExporter extends Exporter {\n  constructor(source, options) {\n    super(source, options)\n    this._tags = [\n      'HEADER',\n      'TITLE',\n      'COMPND',\n      'REMARK',\n      'HELIX',\n      'SHEET',\n      'ATOM and HETATM',\n      'CONECT'\n    ]\n    this._result = null\n    this._tagExtractors = {\n      HEADER: this._extractHEADER,\n      TITLE: this._extractTITLE,\n      'ATOM and HETATM': this._extractATOM,\n      CONECT: this._extractCONECT,\n      COMPND: this._extractCOMPND,\n      REMARK: this._extractREMARK,\n      HELIX: this._extractHELIX,\n      SHEET: this._extractSHEET\n    }\n    this._stringForRemark350 =\n      'COORDINATES FOR A COMPLETE MULTIMER REPRESENTING THE KNOWN\\n' +\n      'BIOLOGICALLY SIGNIFICANT OLIGOMERIZATION STATE OF THE\\n' +\n      'MOLECULE CAN BE GENERATED BY APPLYING BIOMT TRANSFORMATIONS\\n' +\n      'GIVEN BELOW.  BOTH NON-CRYSTALLOGRAPHIC AND\\n' +\n      'CRYSTALLOGRAPHIC OPERATIONS ARE GIVEN.'\n\n    this._stringForRemark290 =\n      'CRYSTALLOGRAPHIC SYMMETRY TRANSFORMATIONS\\n' +\n      'THE FOLLOWING TRANSFORMATIONS OPERATE ON THE ATOM/HETATM\\n' +\n      'RECORDS IN THIS ENTRY TO PRODUCE CRYSTALLOGRAPHICALLY\\n' +\n      'RELATED MOLECULES.'\n  }\n\n  exportSync() {\n    const result = new PDBResult()\n    if (!this._source) {\n      return this._result\n    }\n\n    for (let i = 0; i < this._tags.length; i++) {\n      const tag = this._tags[i]\n      const func = this._tagExtractors[tag]\n      if (typeof func === 'function') {\n        func.call(this, result)\n      }\n    }\n\n    this._result = result.getResult()\n\n    return this._result\n  }\n\n  _extractHEADER(result) {\n    if (!this._source.metadata) {\n      return\n    }\n    const { metadata } = this._source\n    result.newTag('HEADER')\n    result.newString()\n    if (metadata.classification) {\n      result.writeString(metadata.classification, 11, 50)\n    }\n    if (metadata.date) {\n      result.writeString(metadata.date, 51, 59)\n    }\n    if (metadata.id) {\n      result.writeString(metadata.id, 63, 66)\n    }\n  }\n\n  _extractTITLE(result) {\n    if (!this._source.metadata) {\n      return\n    }\n    const { metadata } = this._source\n    if (!metadata.title) {\n      return\n    }\n    result.newTag('TITLE', true)\n    for (let i = 0; i < metadata.title.length; i++) {\n      result.newString()\n      result.writeString(metadata.title[i], 11, 80)\n    }\n  }\n\n  _extractCONECT(result) {\n    if (!this._source._atoms) {\n      return\n    }\n\n    const atoms = this._source._atoms\n    result.newTag('CONECT')\n\n    for (let i = 0; i < atoms.length; i++) {\n      const fixedBonds = atoms[i].bonds.filter((bond) => bond._fixed)\n      if (fixedBonds.length !== 0) {\n        result.writeBondsArray(fixedBonds.reverse(), atoms[i])\n      }\n    }\n  }\n\n  _extractSHEET(result) {\n    if (!this._source._sheets) {\n      return\n    }\n\n    result.newTag('SHEET')\n\n    const sheets = this._source._sheets\n    for (let i = 0; i < sheets.length; i++) {\n      if (sheets[i]._strands) {\n        const strands = sheets[i]._strands\n        for (let j = 0; j < strands.length; j++) {\n          result.newString()\n          result.writeString(j + 1, 10, 8)\n          result.writeString(sheets[i]._name, 14, 12)\n          result.writeString(strands.length, 16, 15)\n          result.writeString(strands[j].init._type._name, 18, 20)\n          result.writeString(strands[j].init._chain._name, 22, 22)\n          result.writeString(strands[j].init._sequence, 26, 23)\n          result.writeString(strands[j].init._icode, 27, 27)\n          result.writeString(strands[j].term._type._name, 29, 31)\n          result.writeString(strands[j].init._chain._name, 33, 33)\n          result.writeString(strands[j].term._sequence, 37, 34)\n          result.writeString(strands[j].term._icode, 38, 38)\n          result.writeString(strands[j].sense, 40, 39)\n        }\n      }\n    }\n  }\n\n  _extractHELIX(result) {\n    if (!this._source._helices) {\n      return\n    }\n\n    result.newTag('HELIX')\n    const helices = this._source._helices\n    for (let i = 0; i < helices.length; i++) {\n      const helix = helices[i]\n      const helixClass = _.invert(typeByPDBHelixClass)\n      result.newString()\n      result.writeString(helix.serial, 10, 8)\n      result.writeString(helix.name, 14, 12)\n      result.writeString(helix.init._type._name, 16, 18)\n      result.writeString(helix.init._chain._name, 20, 20)\n      result.writeString(helix.init._sequence, 25, 22)\n      result.writeString(helix.init._icode, 26, 26)\n      result.writeString(helix.term._type._name, 28, 30)\n      result.writeString(helix.term._chain._name, 32, 32)\n      result.writeString(helix.term._sequence, 37, 34)\n      result.writeString(helix.term._icode, 38, 38)\n      result.writeString(helixClass[helix.type], 40, 39)\n      result.writeString(helix.comment, 41, 70)\n      result.writeString(helix.length, 76, 72)\n    }\n  }\n\n  _extractATOM(result) {\n    if (!this._source._atoms) {\n      return\n    }\n    const atoms = this._source._atoms\n\n    for (let i = 0; i < atoms.length; i++) {\n      const tag = atoms[i].het ? 'HETATM' : 'ATOM'\n      result.newString(tag)\n      const startIndx =\n        atoms[i].element.name.length > 1 || atoms[i].name.length > 3 ? 13 : 14\n      result.writeString(atoms[i].serial, 11, 7)\n      result.writeString(atoms[i].name, startIndx, 16)\n      result.writeString(String.fromCharCode(atoms[i].location), 17, 17)\n      result.writeString(atoms[i].residue._type._name, 20, 18)\n      result.writeString(atoms[i].residue._chain._name, 22, 22)\n      result.writeString(atoms[i].residue._sequence, 26, 23)\n      result.writeString(atoms[i].residue._icode, 27, 27)\n      result.writeString(atoms[i].position.x.toFixed(3), 38, 31)\n      result.writeString(atoms[i].position.y.toFixed(3), 46, 39)\n      result.writeString(atoms[i].position.z.toFixed(3), 54, 47)\n      result.writeString(atoms[i].occupancy.toFixed(2), 60, 55)\n      result.writeString(atoms[i].temperature.toFixed(2), 66, 61)\n      result.writeString(atoms[i].element.name, 78, 77)\n      if (atoms[i].charge) {\n        result.writeString(atoms[i].charge, 79, 80)\n      }\n    }\n  }\n\n  _extractCOMPND(result) {\n    if (!this._source._molecules) {\n      return\n    }\n    const molecules = this._source._molecules\n    result.newTag('COMPND', true)\n\n    for (let i = 0; i < molecules.length; i++) {\n      const chains = this._getMoleculeChains(molecules[i])\n      result.newString()\n      result.writeString(`MOL_ID: ${molecules[i].index};`, 11, 80)\n      result.newString()\n      result.writeString(`MOLECULE: ${molecules[i].name};`, 11, 80)\n      result.newString()\n      result.writeString('CHAIN: ', 11, 18)\n      const chainsString = `${chains.join(', ')};`\n      result.writeEntireString(chainsString, 81)\n    }\n  }\n\n  _extractREMARK(result) {\n    this._Remark290(result)\n    this._Remark350(result)\n  }\n\n  _Remark290(result) {\n    if (!this._source.symmetry) {\n      return\n    }\n\n    if (this._source.symmetry.length !== 0) {\n      const matrices = this._source.symmetry\n      result.newTag('REMARK', 290)\n      result.newString()\n      result.newString()\n      result.writeEntireString(this._stringForRemark290)\n      result.writeMatrices(matrices, 'SMTRY')\n      result.newString()\n      result.newString()\n      result.writeString('REMARK: NULL', 11, 80)\n    }\n  }\n\n  _Remark350(result) {\n    if (!this._source.units) {\n      return\n    }\n    const { units } = this._source\n    let biomolIndx = 0\n\n    result.newTag('REMARK', 350)\n    result.newString()\n    result.newString()\n    result.writeEntireString(this._stringForRemark350)\n\n    const assemblies = units.filter((unit) => unit instanceof Assembly)\n\n    for (let i = 0; i < assemblies.length; i++) {\n      result.newString()\n      result.newString()\n      biomolIndx++\n      result.writeString(`BIOMOLECULE: ${biomolIndx}`, 11, 80)\n      const chains = assemblies[i].chains.join(', ')\n      result.newString()\n      result.writeString('APPLY THE FOLLOWING TO CHAINS: ')\n      result.writeEntireString(chains, 69, {\n        tag: 'AND CHAINS: ',\n        begin: 31,\n        end: 42\n      })\n\n      const { matrices } = assemblies[i]\n      result.writeMatrices(matrices, 'BIOMT')\n    }\n  }\n\n  _getMoleculeChains(molecule) {\n    function getChainName(residue) {\n      return residue._chain._name\n    }\n    const chainNames = molecule.residues.map(getChainName)\n    return chainNames.filter((item, pos) => chainNames.indexOf(item) === pos)\n  }\n}\n\nPDBExporter.formats = ['pdb']\nPDBExporter.SourceClass = Complex\n","import * as THREE from 'three'\n\nconst FBX_POS_SIZE = 3\nconst FBX_NORM_SIZE = 3\nconst FBX_COL_SIZE = 4\n\nfunction copyFbxPoint3(src, srcIdx, dst, dstIdx) {\n  dst[dstIdx] = src[srcIdx]\n  dst[dstIdx + 1] = src[srcIdx + 1]\n  dst[dstIdx + 2] = src[srcIdx + 2]\n}\n\nfunction copyFbxPoint4(src, srcIdx, dst, dstIdx, value) {\n  dst[dstIdx] = src[srcIdx]\n  dst[dstIdx + 1] = src[srcIdx + 1]\n  dst[dstIdx + 2] = src[srcIdx + 2]\n  dst[dstIdx + 3] = value\n}\n\nconst vector4 = new THREE.Vector4()\nfunction copyTransformedPoint3(src, srcIdx, dst, dstIdx, opts) {\n  vector4.set(src[srcIdx], src[srcIdx + 1], src[srcIdx + 2], opts.w)\n  vector4.applyMatrix4(opts.matrix)\n  dst[dstIdx] = vector4.x\n  dst[dstIdx + 1] = vector4.y\n  dst[dstIdx + 2] = vector4.z\n}\n\nfunction setSubArray(src, dst, count, copyFunctor, functorOpts) {\n  if (\n    (dst.array.length - dst.start) / dst.stride < count ||\n    (src.array.length - src.start) / src.stride < count\n  ) {\n    return // we've got no space\n  }\n  if (src.stride === dst.stride) {\n    // stride is the same\n    dst.array.set(src.array, dst.start)\n  } else {\n    let idx = dst.start\n    let arridx = src.start\n    for (let i = 0; i < count; ++i, idx += dst.stride, arridx += src.stride) {\n      copyFunctor(src.array, arridx, dst.array, idx, functorOpts)\n    }\n  }\n}\n\nexport default class FBXModel {\n  constructor() {\n    this.positions = null\n    this.normals = null\n    this.colors = null\n    this.indices = null\n    this.lastPos = 0\n    this.lastNorm = 0\n    this.lastCol = 0\n    this.lastIdx = 0\n  }\n\n  init(vertsCount, indsCount) {\n    this.positions = new Float32Array(vertsCount * FBX_POS_SIZE)\n    this.normals = new Float32Array(vertsCount * FBX_NORM_SIZE)\n    this.colors = new Float32Array(vertsCount * FBX_COL_SIZE)\n    this.indices = new Int32Array(indsCount)\n  }\n\n  setPositions(array, start, count, stride) {\n    const src = {\n      array,\n      start,\n      stride\n    }\n    const dst = {\n      array: this.positions,\n      start: this.lastPos,\n      stride: FBX_POS_SIZE\n    }\n    setSubArray(src, dst, count, copyFbxPoint3)\n    this.lastPos += count * FBX_POS_SIZE\n  }\n\n  setTransformedPositions(array, start, count, stride, matrix) {\n    let idx = this.lastPos\n    let arrIdx = start\n    const opts = { matrix, w: 1 }\n    for (let i = 0; i < count; ++i, arrIdx += stride, idx += FBX_POS_SIZE) {\n      copyTransformedPoint3(array, arrIdx, this.positions, idx, opts)\n    }\n    this.lastPos += count * FBX_POS_SIZE\n  }\n\n  setNormals(array, start, count, stride) {\n    const src = {\n      array,\n      start,\n      stride\n    }\n    const dst = {\n      array: this.normals,\n      start: this.lastNorm,\n      stride: FBX_NORM_SIZE\n    }\n    setSubArray(src, dst, count, copyFbxPoint3)\n    this.lastNorm += count * FBX_NORM_SIZE\n  }\n\n  setTransformedNormals(array, start, count, stride, matrix) {\n    let idx = this.lastNorm\n    let arrIdx = start\n    const opts = { matrix, w: 0 }\n    for (let i = 0; i < count; ++i, arrIdx += stride, idx += FBX_NORM_SIZE) {\n      copyTransformedPoint3(array, arrIdx, this.normals, idx, opts)\n    }\n    this.lastNorm += count * FBX_NORM_SIZE\n  }\n\n  setColors(array, start, count, stride) {\n    const src = {\n      array,\n      start,\n      stride\n    }\n    const dst = {\n      array: this.colors,\n      start: this.lastCol,\n      stride: FBX_COL_SIZE\n    }\n    setSubArray(src, dst, count, copyFbxPoint4, 1)\n    this.lastCol += count * FBX_COL_SIZE\n  }\n\n  setIndices(array, start, count) {\n    this.indices.set(array, this.lastIdx)\n    this.lastIdx += count\n  }\n\n  setShiftedIndices(array, count, shift) {\n    const shifted = array.map((x) => x + shift)\n    this.setIndices(shifted, 0, count)\n  }\n\n  getVerticesNumber() {\n    return this.lastPos / FBX_POS_SIZE\n  }\n\n  addInstance(matrix, geo) {\n    // add indices at first to take old number of vertices for shift\n    const currentCount = this.getVerticesNumber()\n    this.setShiftedIndices(geo.indices, geo.indices.length, currentCount)\n    // simply write vertices at empty space\n    const size = geo.itemSize\n    this.setTransformedPositions(\n      geo.positions,\n      0,\n      geo.vertsCount,\n      size.position,\n      matrix\n    )\n    this.setTransformedNormals(\n      geo.normals,\n      0,\n      geo.vertsCount,\n      size.normal,\n      matrix\n    )\n    this.setColors(geo.colors, 0, geo.vertsCount, size.color)\n  }\n}\n","/** Base class for fbx geometry contains simply organized attributes: positions+normals+colors, indices. */\nexport default class FBXGeometry {\n  /**\n   * Create a base geo with necessary members.\n   */\n  constructor() {\n    this.positions = null\n    this.normals = null\n    this.colors = null\n    this.indices = null\n    this.vertsCount = 0\n    this.itemSize = null\n  }\n\n  /**\n   * Initialize base geo storing items info from attributes.\n   * @param {Object} geo - THREE.BufferGeometry.\n   */\n  init(geo, _info) {\n    const { attributes } = geo\n    // save item size\n    this.itemSize = {\n      position: attributes.position.itemSize,\n      normal: attributes.normal.itemSize,\n      color: attributes.color.itemSize\n    }\n  }\n}\n","import FBXGeometry from './FBXGeometry'\n\n/**\n * Fbx geometry, that copies positions+normals, indexes and creates colors filled with defined value.\n * @extends FBXGeometry\n */\nexport default class FBX1CGeometry extends FBXGeometry {\n  /**\n   * Initialize geo storing positions, normals, indices and create colors.\n   * @param {Object} geo - THREE.BufferGeometry.\n   */\n  init(geo, _info) {\n    super.init(geo, _info)\n    const {\n      attributes: { position, normal },\n      index\n    } = geo\n    // copy vertices attributes\n    this.vertsCount = position.count\n    this.positions = position.array\n    this.normals = normal.array\n    // create color array\n    this.colors = new Float32Array(this.vertsCount * this.itemSize.color)\n    // indices\n    this.indices = index.array\n  }\n\n  /**\n   * Set defined color for all items in color attribute\n   * @param {Object} color - THREE.Color.\n   */\n  setColors(color) {\n    let offset = 0\n    for (\n      let i = 0, l = this.colors.length, cl = this.itemSize.color;\n      i < l;\n      i += cl\n    ) {\n      this.colors[offset++] = color.r\n      this.colors[offset++] = color.g\n      this.colors[offset++] = color.b\n    }\n  }\n}\n","import FBXGeometry from './FBXGeometry'\n\n/**\n * Fbx geometry, that copies positions+normals, indexes from cylinder  geometry and creates colors filled with two\n * defined values.\n * @extends FBXGeometry\n */\nexport default class FBX2CCylinder extends FBXGeometry {\n  constructor() {\n    super()\n    this._cutRawStart = 0\n    this._cutRawEnd = 0\n    this._facesPerSlice = 0\n  }\n\n  /**\n   * Initialize geo by creating new attributes, because we extend number of vertices to make cylinder two-colored.\n   * Indices remain the same. We process open- end close-ended cylinders and consider cylinders od 2 segments\n   * in height ONLY.\n   * NOTE: cylinder consists of 2 height segments and stores parts in the order: tube, topCap, bottomCap\n   * @param {Object} geo - THREE.BufferGeometry.\n   * @param {Object} info - information needed for geo extend\n   */\n  init(geo, info) {\n    super.init(geo, info)\n    const {\n      attributes: { position },\n      index\n    } = geo\n    // extend vertices arrays\n    this.vertsCount = position.count + info.addPerCylinder\n    this._facesPerSlice = info.addPerCylinder\n    this.positions = new Float32Array(this.vertsCount * position.itemSize)\n    this.normals = new Float32Array(this.vertsCount * this.itemSize.normal)\n    this.colors = new Float32Array(this.vertsCount * this.itemSize.color)\n    this._extendVertices(geo, info)\n    // number of indices stays the same\n    this.indices = new Uint32Array(index.count)\n    this._extendIndices(geo, info)\n  }\n\n  /** Extend vertex attributes to have one more slice to make sharp middle startColor-endColor line. */\n  _extendVertices(geo, info) {\n    const { position } = geo.attributes\n    const { normal } = geo.attributes\n    const geoParams = geo.getGeoParams()\n    const cutRaw = 1 // we expect cylinders of 2 segments in height => so half segment = 1\n    this._cutRawStart = cutRaw * geoParams.radialSegments\n    this._cutRawEnd = this._cutRawStart + info.addPerCylinder\n    {\n      // write first half of cylinder\n      let temp = position.array.slice(0, this._cutRawEnd * position.itemSize)\n      this.positions.set(temp, 0)\n      temp = normal.array.slice(0, this._cutRawEnd * normal.itemSize)\n      this.normals.set(temp, 0)\n    }\n    {\n      // write second part of cylinder\n      let temp = position.array.slice(\n        this._cutRawStart * position.itemSize,\n        position.array.length\n      )\n      this.positions.set(temp, this._cutRawEnd * position.itemSize)\n      temp = normal.array.slice(\n        this._cutRawStart * normal.itemSize,\n        normal.array.length\n      )\n      this.normals.set(temp, this._cutRawEnd * normal.itemSize)\n    }\n  }\n\n  /** Shift values of second part (+caps) indices by newly added vertices count. Number of faces remains the same. */\n  _extendIndices(geo, info) {\n    const { index } = geo\n    const indicesPerQuad = 6 // quad = 2 triangles => 6 indices\n    const startToShift = info.addPerCylinder * indicesPerQuad\n    const shift = info.addPerCylinder\n    let shifted = index.array.slice(startToShift, index.count)\n    shifted = shifted.map((x) => x + shift) // shift only the endings\n    this.indices.set(index.array, 0)\n    this.indices.set(shifted, startToShift)\n  }\n\n  /**\n   * Set defined colors: (first part + bottom cap), (second part + top cap)\n   * @param {number} start - start color index\n   * @param {number} end - start color index\n   * @param {array} array - array of colors\n   * @param {array} color - color value components\n   */\n  _setColorRange(start, end, array, color) {\n    const colorSize = color.length\n    for (let i = start; i < end; i += colorSize) {\n      array.set(color, i)\n    }\n  }\n\n  /**\n   * Set defined colors: (first part + bottom cap), (second part + top cap)\n   * @param {Object} color1 - THREE.Color.\n   * @param {Object} color2 - THREE.Color.\n   */\n  setColors(color1, color2) {\n    const colorSize = this.itemSize.color\n    const part1End = this._cutRawEnd * colorSize\n    const part2End = part1End * 2\n    this._setColorRange(0, part1End, this.colors, color1.toArray())\n    this._setColorRange(part1End, part2End, this.colors, color2.toArray())\n    if (part2End < this.colors.length) {\n      // cylinder has caps, lets paint them\n      const capSize = (this._facesPerSlice + 1) * colorSize\n      const cap1End = part2End + capSize\n      this._setColorRange(part2End, cap1End, this.colors, color2.toArray())\n      const cap2End = cap1End + capSize // should be equal to this.colors.length;\n      this._setColorRange(cap1End, cap2End, this.colors, color1.toArray())\n    }\n  }\n}\n","import _ from 'lodash'\nimport * as THREE from 'three'\n\nimport utils from '../../../utils'\nimport gfxutils from '../../../gfx/gfxutils'\nimport logger from '../../../utils/logger'\n\nimport FBXModel from './FBXModel'\nimport ThickLineMesh from '../../../gfx/meshes/ThickLineMesh'\nimport ZSpriteMesh from '../../../gfx/meshes/ZSpriteMesh'\nimport InstancedSpheresGeometry from '../../../gfx/geometries/InstancedSpheresGeometry'\nimport Instanced2CCylindersGeometry from '../../../gfx/geometries/Instanced2CCylindersGeometry'\nimport FBX1CGeometry from './FBX1CGeometry'\nimport FBX2CCylinder from './FBX2CCylinder'\n\nexport default class FBXInfoExtractor {\n  constructor() {\n    this._materials = []\n    this._models = []\n  }\n\n  process(data) {\n    this._extractModelsAndMaterials(data)\n    const models = this._flattenModels()\n\n    return {\n      name: data.name,\n      models,\n      materials: this._materials\n    }\n  }\n\n  /**\n   * Extract fbx object information from ComplexVisual\n   * @param {object} data - complexVisual to get geometry info from\n   */\n  _extractModelsAndMaterials(data) {\n    const layersOfInterest = new THREE.Layers()\n    layersOfInterest.set(gfxutils.LAYERS.DEFAULT)\n    layersOfInterest.enable(gfxutils.LAYERS.TRANSPARENT)\n    data.traverse((object) => {\n      if (\n        object instanceof THREE.Mesh &&\n        object.layers.test(layersOfInterest) &&\n        this.checkExportAbility(object)\n      ) {\n        if (object.geometry.type === 'InstancedBufferGeometry') {\n          this._collectInstancedGeoInfo(object)\n        } else {\n          this._collectGeoInfo(object)\n        }\n      }\n    })\n  }\n\n  /**\n   * Reworking indices buffer, see https://banexdevblog.wordpress.com/2014/06/23/a-quick-tutorial-about-the-fbx-ascii-format/\n   * basically, every triangle in Miew has been represented hat way (e.g.) : 0,1,7, but we must (for FBX) rework that\n   * into: 0,1,-8.\n   * @param {array} indices - belongs to [0, maxVertIndex]\n   */\n  _reworkIndices(indices) {\n    const faceSize = 3\n    for (let i = faceSize - 1; i < indices.length; i += faceSize) {\n      indices[i] *= -1\n      indices[i]--\n    }\n  }\n\n  /**\n   * Combine geometry from several models having the same material into one Model and finally prepare indices\n   * @returns {array} models, combined by material id\n   */\n  _flattenModels() {\n    let overallVertsCount = 0\n    function shift(x) {\n      return x + overallVertsCount\n    }\n    const combined = []\n    // flatten models geometry\n    for (let i = 0, n = this._models.length; i < n; i++) {\n      const models = this._models[i]\n      let indices = []\n      let positions = []\n      let normals = []\n      let colors = []\n      // reorganize every attributes as array of arrays\n      overallVertsCount = 0\n      for (let j = 0; j < models.length; j++) {\n        const m = models[j]\n        indices.push(m.indices.map(shift))\n        overallVertsCount += m.getVerticesNumber()\n        positions.push(m.positions)\n        normals.push(m.normals)\n        colors.push(m.colors)\n      }\n      // join all subarrays into one\n      indices = utils.mergeTypedArraysUnsafe(indices)\n      this._reworkIndices(indices)\n      positions = utils.mergeTypedArraysUnsafe(positions)\n      normals = utils.mergeTypedArraysUnsafe(normals)\n      colors = utils.mergeTypedArraysUnsafe(colors)\n      combined.push({\n        indices,\n        positions,\n        normals,\n        colors,\n        verticesCount: overallVertsCount\n      })\n    }\n    return combined\n  }\n\n  /**\n   * Check ability to export the kind of mesh.\n   * @param {object} mesh - given mesh to check\n   * @returns {boolean} result of check\n   */\n  checkExportAbility(mesh) {\n    // check mesh on not being empty\n    if (mesh.geometry.attributes.position.count === 0) {\n      return false\n    }\n    // check type of mesh\n    // if (mesh.geometry.isInstancedBufferGeometry && settings.now.zSprites) {\n    if (mesh instanceof ZSpriteMesh) {\n      logger.warn(\n        \"Currently we cannot export 'sprites' modes, like BS, WV, LC. Please turn of settings 'zSprites' and try again\"\n      )\n      return false\n    }\n    if (mesh instanceof ThickLineMesh) {\n      logger.warn('Currently we cannot export Lines mode')\n      return false\n    }\n    return true\n  }\n\n  /**\n   * Save geometry info from common mesh, like Surface or Cartoon\n   */\n  _collectGeoInfo(mesh) {\n    const {\n      geometry: {\n        attributes: { position, color, normal },\n        index\n      },\n      matrix\n    } = mesh\n\n    const model = new FBXModel()\n    const vertCount = position.count\n    model.init(vertCount, index.count)\n    if (matrix.isIdentity()) {\n      model.setPositions(position.array, 0, vertCount, position.itemSize)\n      model.setNormals(normal.array, 0, vertCount, normal.itemSize)\n    } else {\n      model.setTransformedPositions(\n        position.array,\n        0,\n        vertCount,\n        position.itemSize,\n        matrix\n      )\n      model.setTransformedNormals(\n        normal.array,\n        0,\n        vertCount,\n        normal.itemSize,\n        matrix\n      )\n    }\n    model.setColors(color.array, 0, vertCount, color.itemSize)\n    model.setIndices(index.array, 0, index.count)\n    const material = this._collectMaterialInfo(mesh)\n    this._addToPool(model, material)\n  }\n\n  /**\n   * Collect instanced spheres geometry and materials.\n   * @param {object} mesh - mesh with instanced spheres info\n   */\n  _collectSpheresInfo(mesh) {\n    const {\n      geometry: {\n        attributes: { position, color },\n        index\n      },\n      matrix\n    } = mesh\n\n    const model = new FBXModel()\n    const instCount = mesh.geometry.instanceCount\n    const vertCount = position.count\n    const indsCount = index.count\n    model.init(instCount * vertCount, instCount * indsCount)\n    const geo = new FBX1CGeometry()\n    geo.init(mesh.geometry)\n    const instMatrix = new THREE.Matrix4()\n    const objMatrix = new THREE.Matrix4()\n    const sphereColor = new THREE.Color()\n    for (let instanceIndex = 0; instanceIndex < instCount; ++instanceIndex) {\n      // update colors in geometry\n      const colorIdx = instanceIndex * color.itemSize\n      sphereColor.fromArray(color.array, colorIdx)\n      geo.setColors(sphereColor)\n      // add instance to the model\n      this._getSphereInstanceMatrix(mesh.geometry, instanceIndex, instMatrix)\n      objMatrix.multiplyMatrices(matrix, instMatrix)\n      model.addInstance(objMatrix, geo)\n    }\n    const material = this._collectMaterialInfo(mesh)\n    this._addToPool(model, material)\n  }\n\n  /**\n   * Getting all instanced cylinders from given mesh.\n   * Divide cylinder (add additional vertexes) for prettiness therefore algorithm is a bit complicated\n   * @param {object} mesh - given mesh with instanced cylinders\n   */\n  _collectCylindersInfo(mesh) {\n    const {\n      geometry: {\n        attributes: { position, color, color2 },\n        index\n      },\n      matrix\n    } = mesh\n\n    const model = new FBXModel()\n    const instCount = mesh.geometry.instanceCount\n    const oneCCylinder = new FBX1CGeometry()\n    oneCCylinder.init(mesh.geometry)\n    const splittingInfo = this._gatherCylindersColoringInfo(mesh.geometry)\n    let twoCCylinder = null\n    if (splittingInfo.needToSplit > 0) {\n      twoCCylinder = new FBX2CCylinder()\n      twoCCylinder.init(mesh.geometry, splittingInfo)\n    }\n    const additionalVertsCount =\n      splittingInfo.addPerCylinder * splittingInfo.needToSplit\n    const vertCount = position.count\n    const indsCount = index.count\n    model.init(\n      instCount * vertCount + additionalVertsCount,\n      instCount * indsCount\n    )\n    const instMatrix = new THREE.Matrix4()\n    const objMatrix = new THREE.Matrix4()\n    const colorStart = new THREE.Color()\n    const colorEnd = new THREE.Color()\n    let geo = {}\n    for (let instanceIndex = 0; instanceIndex < instCount; ++instanceIndex) {\n      // update colors in geometry\n      const colorIdx = instanceIndex * color.itemSize\n      if (splittingInfo.is2Colored[instanceIndex]) {\n        // .color2 contains starting color, and .color contains starting color (see uber.frag ATTR_COLOR2)\n        colorStart.fromArray(color2.array, colorIdx)\n        colorEnd.fromArray(color.array, colorIdx)\n        if (twoCCylinder) {\n          twoCCylinder.setColors(colorStart, colorEnd)\n          geo = twoCCylinder\n        }\n      } else {\n        // has one color per cylinder\n        colorStart.fromArray(color.array, colorIdx)\n        oneCCylinder.setColors(colorStart)\n        geo = oneCCylinder\n      }\n      // add instance to the model\n      this._getCylinderInstanceMatrix(mesh.geometry, instanceIndex, instMatrix)\n      objMatrix.multiplyMatrices(matrix, instMatrix)\n      model.addInstance(objMatrix, geo)\n    }\n    const material = this._collectMaterialInfo(mesh)\n    this._addToPool(model, material)\n  }\n\n  /**\n   * Adding model to pool of models or extend existing ones\n   * @param {object} model - model to add\n   * @param {object} material - material to add\n   */\n  _addToPool(model, material) {\n    const materialIdx = this._checkExistingMaterial(material)\n    if (materialIdx < 0) {\n      // new model-material pair\n      this._models.push([model])\n      this._materials.push(material)\n    } else {\n      // add model to existing model-material pair\n      const models = this._models[materialIdx]\n      models.push(model)\n    }\n  }\n\n  /**\n   * Checking if given material already was registered in materials pool (no need to create new one)\n   * @param {object} material - given material\n   * @returns {number} number of model-material pair\n   */\n  _checkExistingMaterial(material) {\n    return _.findIndex(this._materials, (m) => _.isEqual(m, material))\n  }\n\n  _gatherCylindersColoringInfo(geo) {\n    const instCount = geo.instanceCount\n    const color1 = geo.attributes.color.array\n    const color2 = geo.attributes.color2.array\n    const stride = geo.attributes.color.itemSize\n    const is2Colored = new Array(instCount)\n    // analyze color instance attributes\n    let needToSplit = 0\n    let colIdx = 0\n    for (let i = 0; i < instCount; i++, colIdx += stride) {\n      const differs =\n        Math.abs(color1[colIdx] - color2[colIdx]) > 0.0000001 || // compare ending colors\n        Math.abs(color1[colIdx + 1] - color2[colIdx + 1]) > 0.0000001 ||\n        Math.abs(color1[colIdx + 2] - color2[colIdx + 2]) > 0.0000001\n      is2Colored[i] = differs\n      needToSplit += differs // count number of 2-colored cylinders\n    }\n    // calc number of vertices to add into 2-colored\n    const geoParams = geo.getGeoParams()\n    const addPerCylinder = geoParams.radialSegments\n    return { is2Colored, needToSplit, addPerCylinder }\n  }\n\n  /**\n   * Collect instanced models and materials.\n   * @param {object} mesh - given mesh with instanced something (spheres or cylinders)\n   */\n  _collectInstancedGeoInfo(mesh) {\n    if (mesh.geometry instanceof InstancedSpheresGeometry) {\n      this._collectSpheresInfo(mesh)\n    } else if (mesh.geometry instanceof Instanced2CCylindersGeometry) {\n      this._collectCylindersInfo(mesh)\n    }\n  }\n\n  /**\n   * Collect Material info from given mesh.\n   * @param {object} mesh - given mesh with material info\n   * @returns {object} material\n   */\n  _collectMaterialInfo(mesh) {\n    const { uberOptions } = mesh.material\n    return {\n      diffuse: uberOptions.diffuse.toArray(),\n      opacity: uberOptions.opacity,\n      shininess: uberOptions.shininess,\n      specular: uberOptions.specular.toArray()\n    }\n  }\n\n  _getCylinderInstanceMatrix(geo, instIdx, matrix) {\n    const matVector1 = geo.attributes.matVector1.array\n    const matVector2 = geo.attributes.matVector2.array\n    const matVector3 = geo.attributes.matVector3.array\n    const idxOffset = instIdx * 4 // used 4 because offset arrays are stored in quads\n    matrix.set(\n      matVector1[idxOffset],\n      matVector1[idxOffset + 1],\n      matVector1[idxOffset + 2],\n      matVector1[idxOffset + 3],\n      matVector2[idxOffset],\n      matVector2[idxOffset + 1],\n      matVector2[idxOffset + 2],\n      matVector2[idxOffset + 3],\n      matVector3[idxOffset],\n      matVector3[idxOffset + 1],\n      matVector3[idxOffset + 2],\n      matVector3[idxOffset + 3],\n      0,\n      0,\n      0,\n      1\n    )\n  }\n\n  _getSphereInstanceMatrix(geo, instIdx, matrix) {\n    const { offset } = geo.attributes\n    const idx = instIdx * offset.itemSize\n    const x = offset.array[idx]\n    const y = offset.array[idx + 1]\n    const z = offset.array[idx + 2]\n    const scale = offset.array[idx + 3]\n    matrix.set(scale, 0, 0, x, 0, scale, 0, y, 0, 0, scale, z, 0, 0, 0, 1)\n  }\n}\n","// Forming default definitions block\nconst defaultDefinitions = `\nDefinitions:  {\n  Version: 100\n  Count: 3\n  ObjectType: \"Model\" {\n    Count: 1\n  }\n  ObjectType: \"Geometry\" {\n    Count: 1\n  }\n  ObjectType: \"Material\" {\n    Count: 1\n  }\n  ObjectType: \"Pose\" {\n    Count: 1\n  }\n  ObjectType: \"GlobalSettings\" {\n    Count: 1\n  }\n} `\n\n// Default model properties\nconst defaultProperties = `Properties60: {\n      Property: \"QuaternionInterpolate\", \"bool\", \"\",0\n      Property: \"Visibility\", \"Visibility\", \"A\",1\n      Property: \"Lcl Translation\", \"Lcl Translation\", \"A\",0.000000000000000,0.000000000000000,-1789.238037109375000\n      Property: \"Lcl Rotation\", \"Lcl Rotation\", \"A\",0.000009334667643,-0.000000000000000,0.000000000000000\n      Property: \"Lcl Scaling\", \"Lcl Scaling\", \"A\",1.000000000000000,1.000000000000000,1.000000000000000\n      Property: \"RotationOffset\", \"Vector3D\", \"\",0,0,0\n      Property: \"RotationPivot\", \"Vector3D\", \"\",0,0,0\n      Property: \"ScalingOffset\", \"Vector3D\", \"\",0,0,0\n      Property: \"ScalingPivot\", \"Vector3D\", \"\",0,0,0\n      Property: \"TranslationActive\", \"bool\", \"\",0\n      Property: \"TranslationMin\", \"Vector3D\", \"\",0,0,0\n      Property: \"TranslationMax\", \"Vector3D\", \"\",0,0,0\n      Property: \"TranslationMinX\", \"bool\", \"\",0\n      Property: \"TranslationMinY\", \"bool\", \"\",0\n      Property: \"TranslationMinZ\", \"bool\", \"\",0\n      Property: \"TranslationMaxX\", \"bool\", \"\",0\n      Property: \"TranslationMaxY\", \"bool\", \"\",0\n      Property: \"TranslationMaxZ\", \"bool\", \"\",0\n      Property: \"RotationOrder\", \"enum\", \"\",0\n      Property: \"RotationSpaceForLimitOnly\", \"bool\", \"\",0\n      Property: \"AxisLen\", \"double\", \"\",10\n      Property: \"PreRotation\", \"Vector3D\", \"\",0,0,0\n      Property: \"PostRotation\", \"Vector3D\", \"\",0,0,0\n      Property: \"RotationActive\", \"bool\", \"\",0\n      Property: \"RotationMin\", \"Vector3D\", \"\",0,0,0\n      Property: \"RotationMax\", \"Vector3D\", \"\",0,0,0\n      Property: \"RotationMinX\", \"bool\", \"\",0\n      Property: \"RotationMinY\", \"bool\", \"\",0\n      Property: \"RotationMinZ\", \"bool\", \"\",0\n      Property: \"RotationMaxX\", \"bool\", \"\",0\n      Property: \"RotationMaxY\", \"bool\", \"\",0\n      Property: \"RotationMaxZ\", \"bool\", \"\",0\n      Property: \"RotationStiffnessX\", \"double\", \"\",0\n      Property: \"RotationStiffnessY\", \"double\", \"\",0\n      Property: \"RotationStiffnessZ\", \"double\", \"\",0\n      Property: \"MinDampRangeX\", \"double\", \"\",0\n      Property: \"MinDampRangeY\", \"double\", \"\",0\n      Property: \"MinDampRangeZ\", \"double\", \"\",0\n      Property: \"MaxDampRangeX\", \"double\", \"\",0\n      Property: \"MaxDampRangeY\", \"double\", \"\",0\n      Property: \"MaxDampRangeZ\", \"double\", \"\",0\n      Property: \"MinDampStrengthX\", \"double\", \"\",0\n      Property: \"MinDampStrengthY\", \"double\", \"\",0\n      Property: \"MinDampStrengthZ\", \"double\", \"\",0\n      Property: \"MaxDampStrengthX\", \"double\", \"\",0\n      Property: \"MaxDampStrengthY\", \"double\", \"\",0\n      Property: \"MaxDampStrengthZ\", \"double\", \"\",0\n      Property: \"PreferedAngleX\", \"double\", \"\",0\n      Property: \"PreferedAngleY\", \"double\", \"\",0\n      Property: \"PreferedAngleZ\", \"double\", \"\",0\n      Property: \"InheritType\", \"enum\", \"\",0\n      Property: \"ScalingActive\", \"bool\", \"\",0\n      Property: \"ScalingMin\", \"Vector3D\", \"\",1,1,1\n      Property: \"ScalingMax\", \"Vector3D\", \"\",1,1,1\n      Property: \"ScalingMinX\", \"bool\", \"\",0\n      Property: \"ScalingMinY\", \"bool\", \"\",0\n      Property: \"ScalingMinZ\", \"bool\", \"\",0\n      Property: \"ScalingMaxX\", \"bool\", \"\",0\n      Property: \"ScalingMaxY\", \"bool\", \"\",0\n      Property: \"ScalingMaxZ\", \"bool\", \"\",0\n      Property: \"GeometricTranslation\", \"Vector3D\", \"\",0,0,0\n      Property: \"GeometricRotation\", \"Vector3D\", \"\",0,0,0\n      Property: \"GeometricScaling\", \"Vector3D\", \"\",1,1,1\n      Property: \"LookAtProperty\", \"object\", \"\"\n      Property: \"UpVectorProperty\", \"object\", \"\"\n      Property: \"Show\", \"bool\", \"\",1\n      Property: \"NegativePercentShapeSupport\", \"bool\", \"\",1\n      Property: \"DefaultAttributeIndex\", \"int\", \"\",0\n      Property: \"Color\", \"Color\", \"A+\",0,0,0\n      Property: \"Size\", \"double\", \"\",100\n      Property: \"Look\", \"enum\", \"\",1\n    }`\n\n// Default materials layer\nconst defaultMaterialLayer = `\n    LayerElementMaterial: 0 {\n      Version: 101\n      Name: \"\"\n      MappingInformationType: \"AllSame\"\n      ReferenceInformationType: \"Direct\"\n      Materials: 0\n    }`\n\n// Default layers block\nconst defaultLayerBlock = `\n    Layer: 0 {\n      Version: 100\n      LayerElement:  {\n        Type: \"LayerElementNormal\"\n        TypedIndex: 0\n      }\n      LayerElement:  {\n        Type: \"LayerElementColor\"\n        TypedIndex: 0\n      }\n      LayerElement:  {\n        Type: \"LayerElementMaterial\"\n        TypedIndex: 0\n      }\n    }`\n\n/**\n * globalSettings info in output file.\n */\nconst globalSettings = `GlobalSettings: {\n    Version: 1000\n    Properties60:  {\n      Property: \"UpAxis\", \"int\", \"\",1\n      Property: \"UpAxisSign\", \"int\", \"\",1\n      Property: \"FrontAxis\", \"int\", \"\",2\n      Property: \"FrontAxisSign\", \"int\", \"\",1\n      Property: \"CoordAxis\", \"int\", \"\",0\n      Property: \"CoordAxisSign\", \"int\", \"\",1\n      Property: \"UnitScaleFactor\", \"double\", \"\",1\n    }\n  }`\n\nexport default class FBXResult {\n  constructor() {\n    this._resultArray = []\n    this._info = null\n  }\n\n  getResult(info) {\n    this._info = info\n    this._resultArray.push(this._writeHeader())\n    this._resultArray.push(this._writeDefinitions())\n    this._resultArray.push(this._writeObjects(info.models, info.materials))\n    this._resultArray.push(this._writeRelations())\n    this._resultArray.push(this._writeConnections()) // connections between models and materials)\n    this._info = null\n    return this._resultArray.join('')\n  }\n\n  /**\n   * Add FBXHeader info to output file.\n   * Some fields are really confusing, but it seems that all listed fields are very informative\n   */\n  _writeHeader() {\n    const FBXHeaderVersion = 1003 // 1003 is some number which appears to present in many 6.1 ASCII files\n    const FBXVersion = 6100 // Mandatory and only supported version\n    const date = new Date()\n    const timeStampVersion = 1000\n    const creator = `Miew FBX Exporter v${this._info.version}` // Supposed to be an engine\n\n    return `; FBX 6.1.0 project file\n; Created by ${creator} Copyright (c) 2015-2020 EPAM Systems, Inc.\n; For support please contact miew@epam.com\n; ----------------------------------------------------\n\nFBXHeaderExtension:  {\n  FBXHeaderVersion: ${FBXHeaderVersion}\n  FBXVersion: ${FBXVersion}\n  CreationTimeStamp:  {\n    Version: ${timeStampVersion}\n    Year: ${date.getFullYear()}\n    Month: ${date.getMonth() + 1} \n    Day: ${date.getDate()}\n    Hour: ${date.getHours()}\n    Minute: ${date.getMinutes()}\n    Second: ${date.getSeconds()}\n    Millisecond: ${date.getMilliseconds()}\n  }\n  Creator: \"${creator}\"\n  OtherFlags:  {\n    FlagPLE: 0\n  }\n}\nCreationTime: \"${date}\"\nCreator: \"${creator}\"  \n`\n  }\n\n  /**\n   * Add Definitions info to output file.\n   * Not exactly sure if this section is template section (as it is in 7.4+) or it should every time be like this\n   */\n  _writeDefinitions() {\n    return `\n; Object definitions\n;------------------------------------------------------------------\n\n${defaultDefinitions}\n`\n  }\n\n  /**\n   * Adding gathered information about Models to resulting string.\n   * Reminder - there may be more then 1 model in scene, but we must place materials after ALL models.\n   * @returns {string} string containing all models (vertices, indices, colors, normals etc)\n   */\n  _models() {\n    const modelVersion = 232\n    let allModels = ''\n    const { models } = this._info\n    for (let i = 0; i < models.length; ++i) {\n      const model = models[i]\n      const vertCount = model.verticesCount\n      allModels += `\n  Model: \"Model::${this._info.name}_${i}\", \"Mesh\" {\n    Version: ${modelVersion} \n    ${defaultProperties}\n    ${this._verticesIndices(model.positions, model.indices)}\n    ${this._normalLayer(model.normals)} \n    ${this._colorLayer(model.colors, vertCount)} \n    ${defaultMaterialLayer}  \n    ${defaultLayerBlock}\n  }`\n    }\n    return allModels\n  }\n\n  /**\n   * Add Material info to result\n   */\n  _materials() {\n    const materialVersion = 102\n    let allMaterials = ''\n    const { materials } = this._info\n    for (let i = 0; i < materials.length; ++i) {\n      const material = materials[i]\n      allMaterials += `\n  Material: \"Material::${this._info.name}_${i}_default\", \"\" {\n    Version: ${materialVersion}\n    ShadingModel: \"lambert\"\n    MultiLayer: 0\n    ${this._materialProperties(material)}\n  }`\n    }\n    return allMaterials\n  }\n\n  /**\n   * Add Objects info to output file.\n   */\n  _writeObjects() {\n    return `\n; Object properties\n;------------------------------------------------------------------\n\nObjects:  {\n  ${this._models()}\n  ${this._materials()}\n  ${globalSettings}\n}\n`\n  }\n\n  /**\n   * Add Relations info to output file.\n   */\n  _writeRelations() {\n    let modelsList = ''\n    for (let i = 0; i < this._info.models.length; ++i) {\n      modelsList += `\n  Model: \"Model::${this._info.name}_${i}\", \"Mesh\" {\n  }`\n    }\n    let materialList = ''\n    for (let i = 0; i < this._info.materials.length; ++i) {\n      materialList += `\n  Material: \"Material::${this._info.name}_${i}_default\", \"\" {\n  }`\n    }\n\n    return `\n; Object relations\n;------------------------------------------------------------------\n\nRelations:  {\n  ${modelsList}\n  Model: \"Model::Producer Perspective\", \"Camera\" {\n  }\n  Model: \"Model::Producer Top\", \"Camera\" {\n  }\n  Model: \"Model::Producer Bottom\", \"Camera\" {\n  }\n  Model: \"Model::Producer Front\", \"Camera\" {\n  }\n  Model: \"Model::Producer Back\", \"Camera\" {\n  }\n  Model: \"Model::Producer Right\", \"Camera\" {\n  }\n  Model: \"Model::Producer Left\", \"Camera\" {\n  }\n  Model: \"Model::Camera Switcher\", \"CameraSwitcher\" {\n  }\n  ${materialList}\n}`\n  }\n\n  /**\n   * Add Connections info to output file.\n   */\n  _writeConnections() {\n    let modelsList = ''\n    const { name } = this._info\n    for (let i = 0; i < this._info.models.length; ++i) {\n      modelsList += `\n  Connect: \"OO\", \"Model::${name}_${i}\", \"Model::Scene\"`\n    }\n\n    let materialList = ''\n    for (let i = 0; i < this._info.materials.length; ++i) {\n      materialList += `\n  Connect: \"OO\", \"Material::${name}_${i}_default\", \"Model::${name}_${i}\"`\n    }\n\n    return `\n; Object connections\n;------------------------------------------------------------------\n\nConnections:  {\n  ${modelsList}\n  ${materialList}\n}`\n  }\n\n  /**\n   * Write float array to string with limited precision\n   * @param {Float32Array} array - array to be fixed\n   * @returns {String} String with fixed floats\n   */\n  _floatArrayToString(array) {\n    const str = []\n    for (let i = 0; i < array.length; ++i) {\n      str[i] = array[i].toFixed(6)\n    }\n    return str.join(',')\n  }\n\n  /**\n   * Adding color layer to resulting file\n   * @param {Float32Array} colorArray attribute\n   * @param {number} vertCount - number of vertices in the model\n   * @returns {string} color layer info\n   */\n  _colorLayer(colorArray, vertCount) {\n    const layerElementColorNumber = 0\n    const layerElementColorVersion = 101\n    const layerElementColorName = ''\n    const colorsStr = this._floatArrayToString(colorArray)\n    // Mapping Information type and Reference Information type are mandatory for our Miew! Must not be changed\n    // As said [..Array(...)] - fastest and easiest way to produce [0, 1, .....] array\n    const colorIndices = [...Array(vertCount).keys()]\n    return `\n    LayerElementColor: ${layerElementColorNumber} {\n      Version: ${layerElementColorVersion}\n      Name: \"${layerElementColorName}\"\n      MappingInformationType: \"ByVertice\"\n      ReferenceInformationType: \"Direct\"\n      Colors: ${colorsStr}\n      ColorIndex: ${colorIndices}\n    }`\n  }\n\n  /**\n   * Adding normal layer to resulting file\n   * @param {Float32Array} normalArray attribute\n   * @returns {string} normal layer info\n   */\n  _normalLayer(normalArray) {\n    const layerElementNormalNumber = 0\n    const layerElementNormalVersion = 101\n    const layerElementNormalName = ''\n    const normalsStr = this._floatArrayToString(normalArray)\n    // Mapping Information type and Reference Information type are mandatory for our Miew! Must not be changed\n    return `\n    LayerElementNormal: ${layerElementNormalNumber} {\n      Version: ${layerElementNormalVersion}\n      Name: \"${layerElementNormalName}\"\n      MappingInformationType: \"ByVertice\"\n      ReferenceInformationType: \"Direct\" \n      Normals: ${normalsStr}\n    }`\n  }\n\n  /**\n   * Adding vertices and indices to resulting string\n   * @return {string} resulting string in FBX notation\n   */\n  _verticesIndices(positions, indices) {\n    const multiLayer = 0\n    const multiTake = 1\n    const shading = 'Y'\n    const culling = 'CullingOff'\n    const geometryVersion = 124\n    const vertStr = this._floatArrayToString(positions)\n    /* About _correctArrayNotation: Float32Arrays will contains only Float32 numbers, which implies that it will be floating points with 17 numbers after point.\n     * We cannot (and it's logically incorrect) save all this information, so we convert this Float32Array into Array-like object with numbers with only 6 numbers after point\n     * Reminder - this is big memory loss (as we must save at one moment two arrays with similar information) */\n    return `MultiLayer: ${multiLayer}\n    MultiTake: ${multiTake}\n    Shading: ${shading}\n    Culling: \"${culling}\"\n    Vertices: ${vertStr}\n    PolygonVertexIndex: ${indices}\n    GeometryVersion: ${geometryVersion}`\n  }\n\n  /**\n   * Forming material properties block.\n   * @param {Object} material - given material of model\n   * @returns {String} material properties string\n   */\n  _materialProperties(material) {\n    return `Properties60:  {\n      Property: \"ShadingModel\", \"KString\", \"\", \"Lambert\"\n      Property: \"MultiLayer\", \"bool\", \"\",0\n      Property: \"EmissiveColor\", \"ColorRGB\", \"\",0,0,0\n      Property: \"EmissiveFactor\", \"double\", \"\",0.0000\n      Property: \"AmbientColor\", \"ColorRGB\", \"\",1,1,1\n      Property: \"AmbientFactor\", \"double\", \"\",0.0000\n      Property: \"DiffuseColor\", \"ColorRGB\", \"\",${material.diffuse}\n      Property: \"DiffuseFactor\", \"double\", \"\",1.0000\n      Property: \"Bump\", \"Vector3D\", \"\",0,0,0\n      Property: \"TransparentColor\", \"ColorRGB\", \"\",1,1,1\n      Property: \"TransparencyFactor\", \"double\", \"\",0.0000\n      Property: \"SpecularColor\", \"ColorRGB\", \"\",${material.specular}\n      Property: \"SpecularFactor\", \"double\", \"\",1.0000\n      Property: \"ShininessExponent\", \"double\", \"\",${material.shininess}\n      Property: \"ReflectionColor\", \"ColorRGB\", \"\",0,0,0\n      Property: \"ReflectionFactor\", \"double\", \"\",1\n      Property: \"Ambient\", \"ColorRGB\", \"\",1,1,1\n      Property: \"Diffuse\", \"ColorRGB\", \"\",${material.diffuse}\n      Property: \"Specular\", \"ColorRGB\", \"\",${material.specular}\n      Property: \"Shininess\", \"double\", \"\",${material.shininess}\n      Property: \"Opacity\", \"double\", \"\",${material.opacity}\n      Property: \"Reflectivity\", \"double\", \"\",0\n    }`\n  }\n}\n","import Exporter from './Exporter'\nimport FBXInfoExtractor from './fbx/FBXInfoExtractor'\nimport FBXResult from './fbx/FBXResult'\nimport ComplexVisual from '../../ComplexVisual'\n\nexport default class FBXExporter extends Exporter {\n  constructor(source, options) {\n    super(source, options)\n    // Data\n    this._data = source\n    this._version = options.miewVersion || '0.0-UNSPECIFIED'\n    this._extractor = new FBXInfoExtractor()\n  }\n\n  /**\n   * Entry point to exporter.\n   */\n  exportSync() {\n    // Creating mandatory blocks\n    const result = new FBXResult()\n    if (!this._source) {\n      return this._result\n    }\n\n    const info = this._extractor.process(this._data)\n    info.version = this._version\n    this._result = result.getResult(info)\n    return this._result\n  }\n}\n\nFBXExporter.formats = ['fbx']\nFBXExporter.SourceClass = ComplexVisual\n","import ExporterList from './exporters/ExporterList'\n\nimport PDBExporter from './exporters/PDBExporter'\nimport FBXExporter from './exporters/FBXExporter'\n\nexport default new ExporterList([PDBExporter, FBXExporter])\n","import loaders from './loaders'\nimport parsers from './parsers'\nimport exporters from './exporters'\n\nexport default {\n  loaders,\n  parsers,\n  exporters\n}\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nimport * as THREE from 'three'\nimport CSS2DObject from './CSS2DObject'\n\nconst tempColor = new THREE.Color()\n\nclass CSS2DRenderer {\n  constructor() {\n    this._width = 0\n    this._height = 0\n    this._widthHalf = 0\n    this._heightHalf = 0\n\n    this._vector = new THREE.Vector3()\n    this._viewMatrix = new THREE.Matrix4()\n    this._projectionMatrix = new THREE.Matrix4()\n\n    this._domElement = document.createElement('div')\n    this._domElement.style.overflow = 'hidden'\n    this._domElement.style.position = 'absolute'\n    this._domElement.style.top = '0'\n    this._domElement.style.zIndex = '0' // start a new Stacking Context to enclose all z-ordered children\n    this._domElement.style.pointerEvents = 'none'\n  }\n\n  getElement() {\n    return this._domElement\n  }\n\n  reset() {\n    const myNode = this.getElement()\n    while (myNode.firstChild) {\n      myNode.removeChild(myNode.firstChild)\n    }\n  }\n\n  setSize(width, height) {\n    this._width = width\n    this._height = height\n\n    this._widthHalf = this._width / 2\n    this._heightHalf = this._height / 2\n\n    this._domElement.style.width = `${width}px`\n    this._domElement.style.height = `${height}px`\n  }\n\n  _renderObject(object, camera, scene) {\n    function lerpColorAsHex(a, b, t) {\n      tempColor.setHex(a)\n      tempColor.lerp(b, t)\n      return `#${tempColor.getHexString()}`\n    }\n\n    function colorAsHex(a) {\n      tempColor.setHex(a)\n      return `#${tempColor.getHexString()}`\n    }\n\n    if (object instanceof CSS2DObject) {\n      this._vector.setFromMatrixPosition(object.matrixWorld)\n\n      if (\n        object.userData !== undefined &&\n        object.userData.offset !== undefined\n      ) {\n        const localOffset = new THREE.Vector3(\n          object.userData.offset.x,\n          object.userData.offset.y,\n          0\n        )\n        this._vector.add(\n          localOffset.multiplyScalar(object.matrixWorld.getMaxScaleOnAxis())\n        )\n      }\n\n      this._vector.applyMatrix4(this._viewMatrix)\n\n      const visibility = this._vector.z > -camera.near ? 'hidden' : 'visible'\n      const zIndex =\n        (10000 * (camera.far - -this._vector.z)) / (camera.far - camera.near)\n\n      const element = object.getElement()\n      if (typeof scene.fog === 'undefined') {\n        element.style.color = colorAsHex(object.userData.color)\n        if (object.userData.background !== 'transparent') {\n          element.style.background = colorAsHex(object.userData.background)\n        }\n      } else {\n        const fogFactor = THREE.MathUtils.smoothstep(\n          -this._vector.z,\n          scene.fog.near,\n          scene.fog.far\n        )\n        element.style.color = lerpColorAsHex(\n          object.userData.color,\n          scene.fog.color,\n          fogFactor\n        )\n        if (object.userData.background !== 'transparent') {\n          element.style.background = lerpColorAsHex(\n            object.userData.background,\n            scene.fog.color,\n            fogFactor\n          )\n        }\n      }\n\n      this._vector.applyMatrix4(this._projectionMatrix)\n\n      const style = `${\n        object.userData !== {}\n          ? object.userData.translation\n          : 'translate(-50%, -50%) '\n      }translate(${this._vector.x * this._widthHalf + this._widthHalf}px,${\n        -this._vector.y * this._heightHalf + this._heightHalf\n      }px)`\n      element.style.visibility = visibility\n      element.style.WebkitTransform = style\n      element.style.MozTransform = style\n      element.style.oTransform = style\n      element.style.transform = style\n      element.style.zIndex = Number(zIndex).toFixed(0)\n\n      if (element.parentNode !== this._domElement) {\n        this._domElement.appendChild(element)\n      }\n    }\n\n    for (let i = 0, l = object.children.length; i < l; i++) {\n      this._renderObject(object.children[i], camera, scene)\n    }\n  }\n\n  render(scene, camera) {\n    scene.updateMatrixWorld()\n\n    if (camera.parent === null) {\n      camera.updateMatrixWorld()\n    }\n\n    camera.matrixWorldInverse.copy(camera.matrixWorld).invert()\n\n    this._viewMatrix.copy(camera.matrixWorldInverse)\n    this._projectionMatrix.copy(camera.projectionMatrix)\n\n    this._renderObject(scene, camera, scene)\n  }\n}\nexport default CSS2DRenderer\n","import * as THREE from 'three'\nimport Timer from '../Timer'\nimport settings from '../settings'\nimport EventDispatcher from '../utils/EventDispatcher'\n\nconst VK_LEFT = 37\nconst VK_UP = 38\nconst VK_RIGHT = 39\nconst VK_DOWN = 40\n\nconst STATE = {\n  NONE: -1,\n  ROTATE: 0,\n  TRANSLATE: 1,\n  SCALE: 2,\n  TRANSLATE_PIVOT: 3\n}\n\n// pausing for this amount of time before releasing mouse button prevents inertial rotation (seconds)\nconst FULL_STOP_THRESHOLD = 0.1\n\nconst quaternion = new THREE.Quaternion()\nconst matrix4 = new THREE.Matrix4()\n\n// pivot -- local offset of the rotation pivot point\nfunction ObjectHandler(objects, camera, pivot, options) {\n  this.objects = objects\n  ;[this.object] = objects\n  this.camera = camera\n  this.pivot = pivot\n  this.axis = new THREE.Vector3(0, 0, 1)\n  this.options = options\n\n  this.lastRotation = {\n    axis: new THREE.Vector3(),\n    angle: 0.0\n  }\n}\n\nObjectHandler.prototype._rotate = (function () {\n  const p = new THREE.Vector3()\n  const q = new THREE.Quaternion()\n  const s = new THREE.Vector3()\n\n  const m = new THREE.Matrix4()\n\n  return function (quat) {\n    const zeroPivot =\n      this.pivot.x === 0.0 && this.pivot.y === 0.0 && this.pivot.z === 0.0\n\n    m.copy(this.object.matrix)\n\n    if (zeroPivot) {\n      m.multiply(matrix4.makeRotationFromQuaternion(quat))\n    } else {\n      m.multiply(\n        matrix4.makeTranslation(this.pivot.x, this.pivot.y, this.pivot.z)\n      )\n      m.multiply(matrix4.makeRotationFromQuaternion(quat))\n      m.multiply(\n        matrix4.makeTranslation(-this.pivot.x, -this.pivot.y, -this.pivot.z)\n      )\n    }\n\n    m.decompose(p, q, s)\n\n    // update objects\n    if (!zeroPivot) {\n      for (let i = 0; i < this.objects.length; ++i) {\n        this.objects[i].position.copy(p)\n      }\n    }\n\n    for (let j = 0; j < this.objects.length; ++j) {\n      this.objects[j].quaternion.copy(q)\n      this.objects[j].updateMatrix()\n    }\n  }\n})()\n\nObjectHandler.prototype.setObjects = function (objects) {\n  this.objects = objects\n  ;[this.object] = objects\n}\n\nObjectHandler.prototype.rotate = (function () {\n  const rot = {\n    axis: new THREE.Vector3(),\n    angle: 0.0\n  }\n\n  return function (quat, mousePrevPos, mouseCurPos, aboutAxis) {\n    this.mouse2rotation(rot, mousePrevPos, mouseCurPos, aboutAxis)\n    quat.setFromAxisAngle(rot.axis, rot.angle)\n\n    if (rot.angle) {\n      this._rotate(quat)\n    }\n\n    this.lastRotation = rot\n  }\n})()\n\nObjectHandler.prototype.translate = (function () {\n  const dir = new THREE.Vector3()\n  const pivot = new THREE.Vector3()\n\n  return function (delta) {\n    // reverse-project viewport movement to view coords (compensate for screen aspect ratio)\n    dir.set(\n      delta.x / this.camera.projectionMatrix.elements[0],\n      delta.y / this.camera.projectionMatrix.elements[5],\n      0\n    )\n    let dist = dir.length()\n    dir.normalize()\n\n    // transform movement direction to object local coords\n    dir.transformDirection(matrix4.copy(this.object.matrixWorld).invert())\n\n    // visible translate distance shouldn't depend on camera-to-object distance\n    pivot.copy(this.pivot)\n    this.object.localToWorld(pivot)\n    dist *= Math.abs(pivot.z - this.camera.position.z)\n\n    // visible translate distance shouldn't depend on object scale\n    dist /= this.object.matrixWorld.getMaxScaleOnAxis()\n\n    // all objects are translated similar to principal object\n    // (we assume they all have identical pivot and scale)\n    for (let i = 0; i < this.objects.length; ++i) {\n      this.objects[i].translateOnAxis(dir, dist)\n    }\n  }\n})()\n\nObjectHandler.prototype.update = (function () {\n  const axis = new THREE.Vector3()\n\n  return function (timeSinceLastUpdate, timeSinceMove) {\n    if (settings.now.autoRotation !== 0.0) {\n      // auto-rotation with constant speed\n\n      // if rotation axis is fixed or hasn't been defined yet\n      if (\n        settings.now.autoRotationAxisFixed ||\n        this.lastRotation.axis.length() === 0.0\n      ) {\n        // use Y-axis (transformed to local object coords)\n        axis\n          .set(0, 1, 0)\n          .transformDirection(matrix4.copy(this.object.matrixWorld).invert())\n      } else {\n        // use axis defined by last user rotation\n        axis.copy(this.lastRotation.axis)\n      }\n\n      this._rotate(\n        quaternion.setFromAxisAngle(\n          axis,\n          settings.now.autoRotation * timeSinceLastUpdate\n        )\n      )\n      return true\n    }\n\n    if (this.options.intertia && this.lastRotation.angle) {\n      // inertial object rotation\n      const angle =\n        this.lastRotation.angle *\n        (1.0 - this.options.dynamicDampingFactor) ** (40.0 * timeSinceMove)\n\n      if (Math.abs(angle) <= this.options.intertiaThreshold) {\n        this.lastRotation.angle = 0.0\n      } else {\n        this._rotate(quaternion.setFromAxisAngle(this.lastRotation.axis, angle))\n        return true\n      }\n    }\n\n    return false\n  }\n})()\n\nObjectHandler.prototype.stop = function () {\n  this.lastRotation.angle = 0.0\n}\n\n// calculate (axis, angle) pair from mouse/touch movement\nObjectHandler.prototype.mouse2rotation = (function () {\n  const center = new THREE.Vector3()\n\n  const eye = new THREE.Vector3()\n  const eyeDirection = new THREE.Vector3()\n\n  const cameraUpDirection = new THREE.Vector3()\n  const cameraSidewaysDirection = new THREE.Vector3()\n\n  const moveDirection = new THREE.Vector3()\n\n  const mouseDelta = new THREE.Vector2()\n\n  return function (rot, mousePrev, mouseCur, aboutAxis) {\n    if (aboutAxis) {\n      rot.axis.copy(this.axis)\n      rot.angle = this.options.axisRotateFactor * (mouseCur.y - mousePrev.y)\n\n      /* cool method that allows rotation around Z axis to be \"tied\" to mouse cursor\n\n        res.axis.copy(this.axis);\n\n        var pivot = this.pivot.clone();\n        this.object.localToWorld(pivot);\n        pivot.project(this.camera);\n\n        var v1 = new THREE.Vector3(mousePrev.x, mousePrev.y, this.camera.position.z);\n        v1.sub(pivot);\n        var v2 = new THREE.Vector3(mouseCur.x, mouseCur.y, this.camera.position.z);\n        v2.sub(pivot);\n\n        v1.sub(res.axis.clone().multiplyScalar(v1.dot(res.axis)));\n        v2.sub(res.axis.clone().multiplyScalar(v2.dot(res.axis)));\n\n        var abs = v1.length() * v2.length();\n        if (abs > 0) {\n          res.angle = res.axis.dot(v1.cross(v2)) / abs;\n        }\n      */\n    } else {\n      mouseDelta.subVectors(mouseCur, mousePrev)\n      const angle = mouseDelta.length()\n      if (angle === 0.0) {\n        return\n      }\n\n      center.copy(this.pivot)\n      this.object.localToWorld(center)\n      eye.subVectors(this.camera.position, center)\n      eyeDirection.copy(eye).normalize()\n\n      cameraUpDirection.copy(this.camera.up).normalize()\n      cameraSidewaysDirection\n        .crossVectors(cameraUpDirection, eyeDirection)\n        .normalize()\n\n      cameraUpDirection.setLength(mouseDelta.y)\n      cameraSidewaysDirection.setLength(mouseDelta.x)\n\n      moveDirection.copy(cameraUpDirection.add(cameraSidewaysDirection))\n\n      rot.axis.crossVectors(moveDirection, eye)\n\n      rot.angle = -angle * this.options.rotateFactor\n    }\n\n    rot.axis.transformDirection(matrix4.copy(this.object.matrixWorld).invert())\n\n    // make sure angle is always positive (thus 'axis' defines both axis and direction of rotation)\n    if (rot.angle < 0.0) {\n      rot.axis.negate()\n      rot.angle = -rot.angle\n    }\n  }\n})()\n\nfunction ObjectControls(object, objectPivot, camera, domElement, getAltObj) {\n  EventDispatcher.call(this)\n  const self = this\n\n  this.object = object\n  this.objectPivot = objectPivot\n  this.camera = camera\n  this.domElement = typeof domElement !== 'undefined' ? domElement : document\n  this.getAltObj = getAltObj\n\n  // API\n\n  this.enabled = true\n  this.hotkeysEnabled = true\n\n  this.screen = {\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0\n  }\n\n  this.options = {\n    rotateFactor: Math.PI, // full screen slide (along short side) would roughly mean 180 deg. rotation\n    axisRotateFactor: 4 * Math.PI, // full screen slide (along short side) would roughly mean 720 deg. rotation\n    intertia: true,\n    dynamicDampingFactor: 0.1,\n    intertiaThreshold: 1e-3\n  }\n\n  // internals\n\n  this._state = STATE.NONE\n\n  this._mousePrevPos = new THREE.Vector2()\n  this._mouseCurPos = new THREE.Vector2()\n\n  this._mainObj = new ObjectHandler(\n    [this.object],\n    this.camera,\n    new THREE.Vector3(0, 0, 0),\n    this.options\n  )\n  this._altObj = new ObjectHandler(\n    [this.object],\n    this.camera,\n    new THREE.Vector3(0, 0, 0),\n    this.options\n  )\n  this._affectedObj = this._mainObj\n  this._isAltObjFreeRotationAllowed = true\n  this._isTranslationAllowed = true\n  this._isKeysTranslatingObj = false\n\n  this._pressedKeys = []\n\n  this._clock = new Timer()\n  this._clock.start()\n  this._lastUpdateTime = this._clock.getElapsedTime()\n\n  // events\n  this._listeners = [\n    {\n      obj: self.domElement,\n      type: 'mousedown',\n      handler(e) {\n        self.mousedown(e)\n      }\n    },\n    {\n      obj: self.domElement,\n      type: 'mouseup',\n      handler(e) {\n        self.mouseup(e)\n      }\n    },\n    {\n      obj: self.domElement,\n      type: 'mousemove',\n      handler(e) {\n        self.mousemove(e)\n      }\n    },\n    {\n      obj: self.domElement,\n      type: 'mousewheel',\n      handler(e) {\n        self.mousewheel(e)\n      }\n    },\n    {\n      obj: self.domElement,\n      type: 'DOMMouseScroll',\n      handler(e) {\n        self.mousewheel(e)\n      }\n    },\n    {\n      obj: self.domElement,\n      type: 'mouseout',\n      handler(e) {\n        self.mouseup(e)\n      }\n    },\n    {\n      obj: self.domElement,\n      type: 'touchstart',\n      handler(e) {\n        self.touchstartend(e)\n      }\n    },\n    {\n      obj: self.domElement,\n      type: 'touchend',\n      handler(e) {\n        self.touchstartend(e)\n      }\n    },\n    {\n      obj: self.domElement,\n      type: 'touchmove',\n      handler(e) {\n        self.touchmove(e)\n      }\n    },\n    {\n      obj: self.getKeyBindObject(),\n      type: 'keydown',\n      handler(e) {\n        self.keydownup(e)\n      }\n    },\n    {\n      obj: self.getKeyBindObject(),\n      type: 'keyup',\n      handler(e) {\n        self.keydownup(e)\n      }\n    },\n    {\n      obj: window,\n      type: 'resize',\n      handler() {\n        self.handleResize()\n      }\n    },\n    {\n      obj: window,\n      type: 'blur',\n      handler() {\n        self.resetKeys()\n      }\n    },\n    {\n      obj: self.domElement,\n      type: 'contextmenu',\n      handler(e) {\n        self.contextmenu(e)\n      }\n    }\n  ]\n\n  for (let i = 0; i < this._listeners.length; i++) {\n    const l = this._listeners[i]\n    l.obj.addEventListener(l.type, l.handler)\n  }\n\n  this.handleResize()\n\n  this.resetKeys()\n\n  // force an update at start\n  this.update()\n}\n\n// methods\n\nObjectControls.prototype = Object.create(EventDispatcher.prototype)\nObjectControls.prototype.constructor = ObjectControls\n\nObjectControls.prototype.resetKeys = function () {\n  this._pressedKeys[VK_LEFT] = false\n  this._pressedKeys[VK_UP] = false\n  this._pressedKeys[VK_RIGHT] = false\n  this._pressedKeys[VK_DOWN] = false\n}\n\nObjectControls.prototype.contextmenu = function (e) {\n  e.stopPropagation()\n  e.preventDefault()\n}\n\nObjectControls.prototype.handleResize = function () {\n  if (this.domElement === document) {\n    this.screen.left = 0\n    this.screen.top = 0\n    this.screen.width = window.innerWidth\n    this.screen.height = window.innerHeight\n  } else {\n    const box = this.domElement.getBoundingClientRect()\n    // adjustments come from similar code in the jquery offset() function\n    const d = this.domElement.ownerDocument.documentElement\n    this.screen.left = box.left + window.pageXOffset - d.clientLeft\n    this.screen.top = box.top + window.pageYOffset - d.clientTop\n    this.screen.width = box.width\n    this.screen.height = box.height\n  }\n}\n\nObjectControls.prototype.enable = function (enable) {\n  this.enabled = enable\n}\n\nObjectControls.prototype.enableHotkeys = function (enable) {\n  this.hotkeysEnabled = enable\n}\n\nObjectControls.prototype.allowTranslation = function (allow) {\n  this._isTranslationAllowed = allow\n}\n\nObjectControls.prototype.allowAltObjFreeRotation = function (allow) {\n  this._isAltObjFreeRotationAllowed = allow\n}\n\nObjectControls.prototype.keysTranslateObj = function (on) {\n  this._isKeysTranslatingObj = on\n}\n\nObjectControls.prototype.isEditingAltObj = function () {\n  return (\n    (this._state === STATE.ROTATE || this._state === STATE.TRANSLATE) &&\n    this._affectedObj === this._altObj\n  )\n}\n\n// convert page coords of mouse/touch to uniform coords with smaller side being [-0.5, 0.5]\n// (uniform coords keep direct proportion with screen distance travelled by mouse regardless of screen aspect ratio)\nObjectControls.prototype.convertMouseToOnCircle = function (\n  coords,\n  pageX,\n  pageY\n) {\n  const screenSize = Math.min(this.screen.width, this.screen.height)\n\n  if (screenSize === 0) {\n    coords.set(0, 0)\n    return\n  }\n\n  coords.set(\n    (pageX - this.screen.width * 0.5 - this.screen.left) / screenSize,\n    (0.5 * this.screen.height + this.screen.top - pageY) / screenSize\n  )\n}\n\n// convert page coords of mouse/touch to viewport coords with both sides being [-1, 1]\n// (those are non-uniform coords affected by screen aspect ratio)\nObjectControls.prototype.convertMouseToViewport = function (\n  coords,\n  pageX,\n  pageY\n) {\n  if (this.screen.width === 0 || this.screen.height === 0) {\n    coords.set(0, 0)\n    return\n  }\n\n  coords.set(\n    (2.0 * (pageX - this.screen.width * 0.5 - this.screen.left)) /\n      this.screen.width,\n    (2.0 * (0.5 * this.screen.height + this.screen.top - pageY)) /\n      this.screen.height\n  )\n}\n\nObjectControls.prototype.stop = function () {\n  this._mainObj.stop()\n  this._altObj.stop()\n}\n\n// rotate object based on latest mouse/touch movement\nObjectControls.prototype.rotateByMouse = (function () {\n  const quat = new THREE.Quaternion()\n\n  return function (aboutZAxis) {\n    this._affectedObj.rotate(\n      quat,\n      this._mousePrevPos,\n      this._mouseCurPos,\n      aboutZAxis\n    )\n    this.dispatchEvent({ type: 'change', action: 'rotate', quaternion: quat })\n  }\n})()\n\n// rotate object by specified quaternion\nObjectControls.prototype.rotate = function (quat) {\n  this.object.quaternion.multiply(quat)\n  this.dispatchEvent({ type: 'change', action: 'rotate', quaternion: quat })\n}\n\n// get object's orientation\nObjectControls.prototype.getOrientation = function () {\n  return this.object.quaternion\n}\n\n// set object's orientation\nObjectControls.prototype.setOrientation = function (quat) {\n  this.object.quaternion.copy(quat)\n}\n\n// translate object based on latest mouse/touch movement\nObjectControls.prototype.translate = (function () {\n  const delta = new THREE.Vector2()\n  return function () {\n    delta.subVectors(this._mouseCurPos, this._mousePrevPos)\n    this._affectedObj.translate(delta)\n    this.dispatchEvent({ type: 'change', action: 'translate' })\n  }\n})()\n\n// get object scale\nObjectControls.prototype.getScale = function () {\n  return this.object.scale.x\n}\n\n// set uniform object scale\nObjectControls.prototype.setScale = function (scale) {\n  this.object.scale.set(scale, scale, scale)\n}\n\n// scale object by factor (factor should be greater than zero)\nObjectControls.prototype.scale = function (factor) {\n  if (factor <= 0) {\n    return\n  }\n  this.setScale(this.object.scale.x * factor)\n  this.dispatchEvent({ type: 'change', action: 'zoom', factor })\n}\n\nObjectControls.prototype.update = (function () {\n  const shift = new THREE.Vector2()\n\n  return function () {\n    const curTime = this._clock.getElapsedTime()\n    const timeSinceLastUpdate = curTime - this._lastUpdateTime\n\n    // update object handler\n    if (this._state === STATE.NONE) {\n      const timeSinceMove = curTime - this._lastMouseMoveTime\n      if (\n        this._mainObj.update(timeSinceLastUpdate, timeSinceMove) ||\n        this._altObj.update(timeSinceLastUpdate, timeSinceMove)\n      ) {\n        this.dispatchEvent({ type: 'change', action: 'auto' })\n      }\n    }\n\n    // apply arrow keys\n    if (this._isKeysTranslatingObj) {\n      const speedX =\n        Number(this._pressedKeys[VK_RIGHT]) - Number(this._pressedKeys[VK_LEFT])\n      const speedY =\n        Number(this._pressedKeys[VK_UP]) - Number(this._pressedKeys[VK_DOWN])\n      if (speedX !== 0.0 || speedY !== 0.0) {\n        const delta = timeSinceLastUpdate\n\n        // update object translation\n        const altObj = this.getAltObj()\n        if (altObj.objects.length > 0) {\n          this._altObj.setObjects(altObj.objects)\n          this._altObj.pivot = altObj.pivot\n\n          if ('axis' in altObj) {\n            this._altObj.axis = altObj.axis.clone()\n          } else {\n            this._altObj.axis.set(0, 0, 1)\n          }\n\n          shift.set(delta * speedX, delta * speedY)\n          this._altObj.translate(shift)\n          this.dispatchEvent({ type: 'change', action: 'translate' })\n        }\n      }\n    }\n\n    this._lastUpdateTime = curTime\n  }\n})()\n\nObjectControls.prototype.reset = function () {\n  this._state = STATE.NONE\n\n  this.object.quaternion.copy(quaternion.set(0, 0, 0, 1))\n}\n\n// listeners\n\nObjectControls.prototype.mousedown = function (event) {\n  if (this.enabled === false || this._state !== STATE.NONE) {\n    return\n  }\n\n  event.preventDefault()\n  event.stopPropagation()\n\n  if (this._state === STATE.NONE) {\n    if (event.button === 0) {\n      this._affectedObj.stop() // can edit only one object at a time\n\n      let workWithAltObj = false\n\n      if (event.altKey) {\n        const altObj = this.getAltObj()\n        workWithAltObj = altObj.objects.length > 0\n        if (workWithAltObj) {\n          this._altObj.setObjects(altObj.objects)\n          this._altObj.pivot = altObj.pivot\n\n          if ('axis' in altObj) {\n            this._altObj.axis = altObj.axis.clone()\n          } else {\n            this._altObj.axis.set(0, 0, 1)\n          }\n        }\n      }\n\n      this._affectedObj = workWithAltObj ? this._altObj : this._mainObj\n\n      this._state =\n        workWithAltObj && event.ctrlKey && this._isTranslationAllowed\n          ? STATE.TRANSLATE\n          : STATE.ROTATE\n    } else if (event.button === 2) {\n      this._state = STATE.TRANSLATE_PIVOT\n    }\n  }\n\n  if (this._state === STATE.ROTATE) {\n    this.convertMouseToOnCircle(this._mouseCurPos, event.pageX, event.pageY)\n    this._mousePrevPos.copy(this._mouseCurPos)\n  }\n\n  if (\n    this._state === STATE.TRANSLATE ||\n    this._state === STATE.TRANSLATE_PIVOT\n  ) {\n    this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY)\n    this._mousePrevPos.copy(this._mouseCurPos)\n  }\n}\n\nObjectControls.prototype.mousemove = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return\n  }\n\n  event.preventDefault()\n  event.stopPropagation()\n\n  switch (this._state) {\n    case STATE.ROTATE:\n      this._mousePrevPos.copy(this._mouseCurPos)\n      this.convertMouseToOnCircle(this._mouseCurPos, event.pageX, event.pageY)\n      this.rotateByMouse(\n        (event.altKey && !this._isAltObjFreeRotationAllowed) || event.shiftKey\n      )\n      this._lastMouseMoveTime = this._clock.getElapsedTime()\n      break\n\n    case STATE.TRANSLATE:\n      this._mousePrevPos.copy(this._mouseCurPos)\n      this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY)\n      this.translate()\n      break\n\n    case STATE.TRANSLATE_PIVOT:\n      this._mousePrevPos.copy(this._mouseCurPos)\n      this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY)\n      this.translatePivotByMouse()\n      break\n\n    default:\n      break\n  }\n}\n\nObjectControls.prototype.mousewheel = function (event) {\n  if (\n    this.enabled === false ||\n    !settings.now.zooming ||\n    this._state !== STATE.NONE ||\n    event.shiftKey\n  ) {\n    return\n  }\n\n  event.preventDefault()\n\n  let delta = 0\n\n  if (event.wheelDelta) {\n    // WebKit / Opera / Explorer 9\n    delta = event.wheelDelta / 40\n  } else if (event.detail) {\n    // Firefox\n    delta = -event.detail / 3\n  }\n\n  let factor = 1.0 + delta * 0.05\n  factor = Math.max(factor, 0.01)\n  this.scale(factor)\n}\n\nObjectControls.prototype.mouseup = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return\n  }\n\n  event.preventDefault()\n  event.stopPropagation()\n\n  this._state = STATE.NONE\n\n  if (\n    this._clock.getElapsedTime() - this._lastMouseMoveTime >\n    FULL_STOP_THRESHOLD\n  ) {\n    this._affectedObj.stop()\n  }\n}\n\nObjectControls.prototype.touchstartend = function (event) {\n  if (this.enabled === false) {\n    return\n  }\n\n  event.preventDefault()\n  event.stopPropagation()\n\n  switch (event.touches.length) {\n    case 1:\n      this._state = STATE.ROTATE\n      this.convertMouseToOnCircle(\n        this._mouseCurPos,\n        event.touches[0].pageX,\n        event.touches[0].pageY\n      )\n      this._mousePrevPos.copy(this._mouseCurPos)\n      break\n\n    case 2: {\n      // prevent inertial rotation\n      this._mainObj.stop()\n      this._altObj.stop()\n\n      this._state = STATE.SCALE\n      const dx = event.touches[0].pageX - event.touches[1].pageX\n      const dy = event.touches[0].pageY - event.touches[1].pageY\n      this._touchDistanceCur = this._touchDistanceStart = Math.sqrt(\n        dx * dx + dy * dy\n      )\n      this._scaleStart = this.object.scale.x\n      break\n    }\n\n    default:\n      this._state = STATE.NONE\n  }\n}\n\nObjectControls.prototype.touchmove = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return\n  }\n\n  event.preventDefault()\n  event.stopPropagation()\n\n  switch (this._state) {\n    case STATE.ROTATE:\n      this._mousePrevPos.copy(this._mouseCurPos)\n      this.convertMouseToOnCircle(\n        this._mouseCurPos,\n        event.touches[0].pageX,\n        event.touches[0].pageY\n      )\n      this.rotateByMouse(false)\n\n      this._lastMouseMoveTime = this._clock.getElapsedTime()\n      break\n\n    case STATE.SCALE:\n      if (settings.now.zooming) {\n        // update scale\n        const dx = event.touches[0].pageX - event.touches[1].pageX\n        const dy = event.touches[0].pageY - event.touches[1].pageY\n        this._touchDistanceCur = Math.sqrt(dx * dx + dy * dy)\n        const newScale =\n          (this._scaleStart * this._touchDistanceCur) / this._touchDistanceStart\n        const factor = newScale / this.object.scale.x\n        this.scale(factor)\n      }\n      break\n\n    default:\n  }\n}\n\nObjectControls.prototype.keydownup = function (event) {\n  if (this.enabled === false || this.hotkeysEnabled === false) {\n    return\n  }\n\n  switch (event.keyCode) {\n    case VK_LEFT:\n    case VK_UP:\n    case VK_RIGHT:\n    case VK_DOWN:\n      this._pressedKeys[event.keyCode] = event.type === 'keydown'\n      event.preventDefault()\n      event.stopPropagation()\n      break\n    default:\n  }\n}\n\nObjectControls.prototype.getKeyBindObject = function () {\n  return window.top\n}\n\nObjectControls.prototype.dispose = function () {\n  for (let i = 0; i < this._listeners.length; i++) {\n    const l = this._listeners[i]\n    l.obj.removeEventListener(l.type, l.handler)\n  }\n}\n\nObjectControls.prototype.translatePivotByMouse = (function () {\n  const delta = new THREE.Vector2()\n  return function () {\n    delta.subVectors(this._mouseCurPos, this._mousePrevPos)\n    this.translatePivotInWorld(\n      settings.now.translationSpeed * delta.x,\n      settings.now.translationSpeed * delta.y,\n      0\n    )\n  }\n})()\n\n// Translate in WorldCS, translation is scaled with root scale matrix\nObjectControls.prototype.translatePivotInWorld = function (x, y, z) {\n  const pos = this.objectPivot.position\n  pos.applyMatrix4(this.object.matrixWorld)\n  pos.setX(pos.x + x)\n  pos.setY(pos.y + y)\n  pos.setZ(pos.z + z)\n  pos.applyMatrix4(matrix4.copy(this.object.matrixWorld).invert())\n\n  this.dispatchEvent({ type: 'change', action: 'translatePivot' })\n}\n\n// Translate in ModelCS, x, y, z are Ang\nObjectControls.prototype.translatePivot = function (x, y, z) {\n  const pos = this.objectPivot.position\n  pos.setX(pos.x + x)\n  pos.setY(pos.y + y)\n  pos.setZ(pos.z + z)\n\n  this.dispatchEvent({ type: 'change', action: 'translatePivot' })\n}\n\n// Set pivot\nObjectControls.prototype.setPivot = function (newPivot) {\n  this.objectPivot.position.copy(newPivot)\n\n  this.dispatchEvent({ type: 'change', action: 'translatePivot' })\n}\n\nexport default ObjectControls\n","import * as THREE from 'three'\nimport settings from '../settings'\nimport Timer from '../Timer'\nimport EventDispatcher from '../utils/EventDispatcher'\n\nfunction Picker(gfxObj, camera, domElement) {\n  EventDispatcher.call(this)\n  const self = this\n\n  this.gfxObj = gfxObj\n  this.camera = camera\n  this.domElement = typeof domElement !== 'undefined' ? domElement : document\n  this.screen = {\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0\n  }\n  this._lastMousePos = new THREE.Vector2(0, 0)\n  this._mouseTotalDist = 0.0\n  this._lastClickBeginTime = -1000.0\n  this._lastClickPos = new THREE.Vector2(0, 0)\n  this._clickBeginTime = 0.0\n\n  this._clock = new Timer()\n  this._clock.start()\n\n  this._listeners = [\n    {\n      obj: self.domElement,\n      type: 'mousedown',\n      handler(e) {\n        self.mousedown(e)\n      }\n    },\n    {\n      obj: self.domElement,\n      type: 'mouseup',\n      handler(e) {\n        self.mouseup(e)\n      }\n    },\n    {\n      obj: self.domElement,\n      type: 'mousemove',\n      handler(e) {\n        self.mousemove(e)\n      }\n    },\n    {\n      obj: self.domElement,\n      type: 'touchstart',\n      handler(e) {\n        self.touchstart(e)\n      }\n    },\n    {\n      obj: self.domElement,\n      type: 'touchend',\n      handler(e) {\n        self.touchend(e)\n      }\n    },\n    {\n      obj: window,\n      type: 'resize',\n      handler() {\n        self.handleResize()\n      }\n    }\n  ]\n\n  for (let i = 0; i < this._listeners.length; i++) {\n    const l = this._listeners[i]\n    l.obj.addEventListener(l.type, l.handler)\n  }\n\n  this.handleResize()\n}\n\nPicker.prototype = Object.create(EventDispatcher.prototype)\nPicker.prototype.constructor = Picker\n\nPicker.prototype.reset = function () {\n  this.picked = {}\n  this.dispatchEvent({ type: 'newpick', obj: {} })\n}\n\nPicker.prototype.handleResize = function () {\n  if (this.domElement === document) {\n    this.screen.left = 0\n    this.screen.top = 0\n    this.screen.width = window.innerWidth\n    this.screen.height = window.innerHeight\n  } else {\n    const box = this.domElement.getBoundingClientRect()\n    // adjustments come from similar code in the jquery offset() function\n    const d = this.domElement.ownerDocument.documentElement\n    this.screen.left = box.left + window.pageXOffset - d.clientLeft\n    this.screen.top = box.top + window.pageYOffset - d.clientTop\n    this.screen.width = box.width\n    this.screen.height = box.height\n  }\n}\n\nPicker.prototype.pickObject = function (screenPos) {\n  if (!this.gfxObj) {\n    this.picked = {}\n    this.dispatchEvent({ type: 'newpick', obj: {} })\n    return\n  }\n\n  const { gfxObj } = this\n  const rayCaster = new THREE.Raycaster()\n  rayCaster.ray.origin.setFromMatrixPosition(this.camera.matrixWorld)\n  rayCaster.ray.direction\n    .set(screenPos.x, screenPos.y, 0.5)\n    .unproject(this.camera)\n    .sub(rayCaster.ray.origin)\n    .normalize()\n\n  const clipPlane =\n    settings.now.draft.clipPlane && this.clipPlaneValue\n      ? this.clipPlaneValue\n      : Infinity\n  const fogFarPlane =\n    settings.now.fog && this.fogFarValue ? this.fogFarValue : Infinity\n  const point = rayCaster.intersectVisibleObject(\n    gfxObj,\n    this.camera,\n    clipPlane,\n    fogFarPlane\n  )\n  if (!point) {\n    this.picked = {}\n    this.dispatchEvent({ type: 'newpick', obj: {} })\n    return\n  }\n\n  let picked = {}\n  if (point.residue || point.atom) {\n    const residue = point.residue || point.atom.residue\n    if (settings.now.pick === 'chain') {\n      picked = { chain: residue.getChain() }\n    } else if (settings.now.pick === 'molecule') {\n      picked = { molecule: residue.getMolecule() }\n    } else if (point.residue || settings.now.pick === 'residue') {\n      picked = { residue }\n    } else if (point.atom) {\n      picked = { atom: point.atom }\n    }\n  }\n  this.picked = picked\n  this.dispatchEvent({ type: 'newpick', obj: picked })\n}\n\nPicker.prototype.getMouseInViewport = function (pageX, pageY) {\n  return new THREE.Vector2(\n    ((pageX - this.screen.left) / this.screen.width) * 2 - 1,\n    (-(pageY - this.screen.top) / this.screen.height) * 2 + 1\n  )\n}\n\nPicker.prototype.mousedown = function (event) {\n  event.preventDefault()\n  event.stopPropagation()\n\n  if (event.button === 0) {\n    this._lastMousePos = this.getMouseInViewport(event.pageX, event.pageY)\n    this._mouseTotalDist = 0.0\n    this._clickBeginTime = this._clock.getElapsedTime()\n  }\n}\n\nPicker.prototype.mousemove = function (event) {\n  event.preventDefault()\n  event.stopPropagation()\n\n  const pos = this.getMouseInViewport(event.pageX, event.pageY)\n  this._mouseTotalDist += pos.sub(this._lastMousePos).length()\n}\n\nPicker.prototype.mouseup = function (event) {\n  const self = this\n\n  event.preventDefault()\n  event.stopPropagation()\n\n  if (event.button === 0) {\n    if (this._mouseTotalDist < 0.01) {\n      const curTime = this._clock.getElapsedTime()\n      const curPos = this.getMouseInViewport(event.pageX, event.pageY)\n\n      const timeSinceLastClickBegin = curTime - this._lastClickBeginTime\n      if (timeSinceLastClickBegin < 0.7) {\n        const clickDist = new THREE.Vector2().subVectors(\n          curPos,\n          this._lastClickPos\n        )\n        if (clickDist.length() < 0.01) {\n          // it's a double click\n          this.dispatchEvent({ type: 'dblclick', obj: this.picked })\n\n          this._lastClickPos = curPos\n          this._lastClickBeginTime = -1000 // this click cannot serve as first click in double-click\n          return\n        }\n      }\n\n      setTimeout(() => {\n        self.pickObject(curPos)\n      }, 0)\n\n      this._lastClickPos = curPos\n      this._lastClickBeginTime = this._clickBeginTime\n    }\n  }\n}\n\nPicker.prototype.touchstart = function (event) {\n  event.preventDefault()\n  event.stopPropagation()\n\n  if (event.touches.length === 1) {\n    this._lastTouchdownPos = this.getMouseInViewport(\n      event.touches[0].pageX,\n      event.touches[0].pageY\n    )\n  }\n}\n\nPicker.prototype.touchend = function (event) {\n  const self = this\n\n  event.preventDefault()\n  event.stopPropagation()\n\n  if (event.touches.length === 0 && event.changedTouches.length === 1) {\n    const pos = this.getMouseInViewport(\n      event.changedTouches[0].pageX,\n      event.changedTouches[0].pageY\n    )\n    const dist = pos.sub(this._lastTouchdownPos).length()\n    if (dist < 0.01) {\n      setTimeout(() => {\n        self.pickObject(self._lastTouchdownPos)\n      }, 0)\n    }\n  }\n}\n\nPicker.prototype.dispose = function () {\n  for (let i = 0; i < this._listeners.length; i++) {\n    const l = this._listeners[i]\n    l.obj.removeEventListener(l.type, l.handler)\n  }\n}\n\nexport default Picker\n","import * as THREE from 'three'\n\nclass Axes {\n  constructor(target, targetCamera) {\n    this._target = target\n    this._targetCamera = targetCamera\n    this._camera = new THREE.PerspectiveCamera(\n      targetCamera.fov,\n      targetCamera.aspect,\n      1,\n      100\n    )\n    this._object = new THREE.AxesHelper(1)\n    this._scene = new THREE.Scene()\n    this._scene.add(this._object)\n    this._full = new THREE.Vector2()\n\n    this._update()\n  }\n\n  _update() {\n    const { fov } = this._targetCamera\n    const camera = this._camera\n    camera.aspect = this._targetCamera.aspect\n    camera.setMinimalFov(fov)\n    camera.setDistanceToFit(1.0, fov)\n    camera.updateProjectionMatrix()\n\n    this._object.quaternion.copy(this._target.quaternion)\n  }\n\n  render(renderer) {\n    this._update()\n\n    renderer.getSize(this._full)\n    const width = this._full.width * 0.25\n    const height = this._full.height * 0.25\n\n    const { autoClear } = renderer\n    renderer.autoClear = false\n    renderer.setViewport(0.0, 0.0, width, height)\n    renderer.clear(false, true, false)\n    renderer.render(this._scene, this._camera)\n    renderer.setViewport(0, 0, this._full.width, this._full.height)\n    renderer.autoClear = autoClear\n  }\n}\nexport default Axes\n","import * as THREE from 'three'\nimport SecondaryStructureColorer from './colorers/SecondaryStructureColorer'\n\nconst cDataOffset = 12\nconst cFirstMask = 0x0fffff00\nconst cFirstShift = 8\nconst cSecMask1 = 0x000000ff\nconst cSecShift1 = 12\nconst cSecMask2 = 0xfff00000\nconst cSecShift2 = 20\nconst cThirdMask = 0x000fffff\nconst cStrMask = 0xf0000000\nconst cStrShift = 28\nconst c219 = 1 << 19\nconst c220 = 1 << 20\n\nconst cHelixIdx = 1\nconst cSheetIdx = 2\nconst secTypes = ['helix', 'strand']\nconst cSecNames = ['fs', 'ps', 'ns', 'us']\n\nfunction _createSecondary(strArray, complex) {\n  const residues = complex._residues\n  const nRes = residues.length\n  const resid = new Uint8Array(nRes)\n\n  const atoms = complex._atoms\n  for (let i = 0, n = strArray.length; i < n; ++i) {\n    const atom = atoms[i]\n    resid[atom.residue._index] = strArray[i]\n  }\n\n  const secondary = []\n  let rIdx = 0\n  while (rIdx < nRes) {\n    if (resid[rIdx] !== 0) {\n      const start = rIdx\n      const val = resid[rIdx]\n      while (\n        rIdx < nRes - 1 &&\n        resid[rIdx + 1] === val &&\n        residues[rIdx].isConnected(residues[rIdx + 1])\n      ) {\n        ++rIdx\n      }\n      secondary.push({ start, end: rIdx, type: secTypes[val - 1] })\n    }\n    ++rIdx\n  }\n  return secondary\n}\n\nfunction fromUInt20ToInt20(uint20) {\n  return uint20 >= c219 ? uint20 - c220 : uint20\n}\n\nclass FrameInfo {\n  constructor(complex, payload, callbacks) {\n    this._complex = complex\n    this._secondary = null\n    this.isLoading = false\n    this._framesRange = {\n      start: 0,\n      end: -1\n    }\n    this.frameIsReady = false\n    this._buffer = null\n    this._frameRequest = null\n    this._callbacks = callbacks\n    if (typeof payload === 'function') {\n      this._framesRequestLength = 1\n      this._downloadDataFn = payload\n    } else {\n      this.parseBinaryData(payload, true)\n    }\n    this.reset()\n    this.setFrame(0)\n  }\n\n  _prepareBuffer(framesStart, framesEnd) {\n    if (framesStart === undefined || framesStart === null) {\n      framesStart = 0\n    }\n    if (framesEnd === undefined || framesEnd === null) {\n      framesEnd = framesStart + this._framesRequestLength\n    }\n    if (this._framesCount !== undefined) {\n      framesEnd = Math.min(this._framesCount - 1, framesEnd)\n    }\n    if (this._downloadDataFn) {\n      const self = this\n      const onDone = function (data) {\n        self.isLoading = false\n        if (\n          self._callbacks &&\n          typeof self._callbacks.onLoadStatusChanged === 'function'\n        ) {\n          self._callbacks.onLoadStatusChanged()\n        }\n        self._buffer = {\n          data,\n          state: 'ready',\n          start: framesStart,\n          end: framesEnd\n        }\n        if (self._frameRequest !== null) {\n          const idx = self._frameRequest\n          self._frameRequest = null\n          self.setFrame(idx)\n        }\n      }\n      const onFail = function () {\n        self.isLoading = false\n        if (self._callbacks && typeof self._callbacks.onError === 'function') {\n          self._callbacks.onError('Streaming failed')\n        }\n      }\n      if (!this._buffer) {\n        this._buffer = {}\n      }\n      this._buffer.state = 'downloading'\n      this.isLoading = true\n      if (\n        self._callbacks &&\n        typeof self._callbacks.onLoadStatusChanged === 'function'\n      ) {\n        self._callbacks.onLoadStatusChanged()\n      }\n      this._downloadDataFn(\n        { start: framesStart, end: framesEnd + 1 },\n        onDone,\n        onFail\n      )\n    }\n  }\n\n  _parseBuffer() {\n    if (this._buffer && this._buffer.state === 'ready') {\n      this._framesRange = {\n        start: this._buffer.start,\n        end: this._buffer.end\n      }\n      this.parseBinaryData(this._buffer.data, false)\n      let _bufferRequestStart = (this._buffer.end + 1) % this._framesCount\n      if (_bufferRequestStart >= this._framesCount) {\n        _bufferRequestStart = 0\n      }\n      this._buffer = {\n        state: 'none'\n      }\n      this._prepareBuffer(\n        _bufferRequestStart,\n        _bufferRequestStart + this._framesRequestLength\n      )\n      if (this._frameRequest !== null) {\n        const idx = this._frameRequest\n        this._frameRequest = null\n        this.setFrame(idx)\n      }\n    }\n  }\n\n  parseBinaryData(arrayBuffer) {\n    const dataView = new DataView(arrayBuffer)\n    let offset = 0\n    const atomsCount = dataView.getUint32(offset, true)\n    offset += 4\n    const framesCount = dataView.getUint32(offset, true)\n    this._framesCount = framesCount\n    this._framesRange.end =\n      this._framesRange.end > 0\n        ? Math.min(this._framesRange.end, framesCount - 1)\n        : framesCount - 1\n    offset += 4\n    this._atomsCount = atomsCount\n    const maxSize = 1024 * 1024 // 1 MB\n    this._framesRequestLength = Math.ceil(maxSize / (atomsCount * 8))\n    const chunkedFramesCount =\n      this._framesRange.end - this._framesRange.start + 1\n    if (\n      atomsCount !== this._complex._atoms.length ||\n      arrayBuffer.byteLength !==\n        cDataOffset + chunkedFramesCount * atomsCount * 8\n    ) {\n      throw new Error()\n    }\n    const complex = this._complex\n    let timeStep = dataView.getUint32(offset, true)\n    let iName = 0\n    while (timeStep > 1000 && iName < cSecNames.length - 1) {\n      timeStep /= 1000\n      ++iName\n    }\n\n    this._timeStep = `${timeStep.toString()} ${cSecNames[iName]}`\n    offset += 4\n    const secondary = []\n    const posData = new Float32Array(chunkedFramesCount * atomsCount * 3)\n    let coordIdx = 0\n    const secondaryArr = new Int8Array(atomsCount)\n    for (let j = 0; j < chunkedFramesCount; ++j) {\n      for (let i = 0; i < atomsCount; ++i) {\n        const hiWord = dataView.getUint32(offset, true)\n        offset += 4\n        const loWord = dataView.getUint32(offset, true)\n        offset += 4\n        const str = (loWord & cStrMask) >>> cStrShift\n        const x = fromUInt20ToInt20(\n          ((loWord & cFirstMask) >>> cFirstShift) >> 0\n        )\n        const y = fromUInt20ToInt20(\n          (((loWord & cSecMask1) << cSecShift1) |\n            ((hiWord & cSecMask2) >>> cSecShift2)) >>\n            0\n        )\n        const z = fromUInt20ToInt20((hiWord & cThirdMask) >> 0)\n        secondaryArr[i] = 0\n        if (str > 0 && str < 4) {\n          secondaryArr[i] = cHelixIdx\n        } else if (str === 4) {\n          secondaryArr[i] = cSheetIdx\n        }\n        posData[coordIdx++] = x / 100\n        posData[coordIdx++] = y / 100\n        posData[coordIdx++] = z / 100\n      }\n      secondary.push(_createSecondary(secondaryArr, complex))\n    }\n    this._secondaryData = secondary\n    this._data = posData\n  }\n\n  nextFrame() {\n    this.setFrame((this._currFrame + 1) % this._framesCount)\n  }\n\n  needsColorUpdate(colorer) {\n    return colorer instanceof SecondaryStructureColorer\n  }\n\n  getAtomColor(colorer, atom) {\n    return colorer.getResidueColor(\n      this._residues[atom.residue._index],\n      this._complex\n    )\n  }\n\n  getResidueColor(colorer, residue) {\n    return colorer.getResidueColor(\n      this._residues[residue._index],\n      this._complex\n    )\n  }\n\n  _updateSecondary() {\n    let i\n    const myResidues = this._residues\n    let n = myResidues.length\n    for (i = 0; i < n; ++i) {\n      myResidues[i]._secondary = null\n    }\n    const sec = this._secondaryData[this._currFrame - this._framesRange.start]\n    for (i = 0, n = sec.length; i < n; ++i) {\n      const oldSec = sec[i]\n      const { start, end } = oldSec\n      const nSec = {\n        _start: myResidues[start],\n        _end: myResidues[end],\n        type: oldSec.type,\n        generic: oldSec.generic\n      }\n      for (let j = start; j <= end; ++j) {\n        myResidues[j]._secondary = nSec\n      }\n    }\n  }\n\n  reset() {\n    const compRes = this._complex._residues\n    const n = compRes.length\n    this._residues = new Array(n)\n    const myResidues = this._residues\n    const getSec = function () {\n      return this._secondary\n    }\n    for (let i = 0; i < n; ++i) {\n      myResidues[i] = {\n        _type: compRes[i]._type,\n        _isValid: compRes[i]._isValid,\n        _controlPoint: null,\n        _wingVector: null,\n        _secondary: null,\n        getSecondary: getSec\n      }\n    }\n  }\n\n  setFrame(frameIdx) {\n    this.frameIsReady = false\n    if (\n      frameIdx >= this._framesRange.start &&\n      frameIdx <= this._framesRange.end\n    ) {\n      this._currFrame = frameIdx\n      this._cachedResidues = false\n      this._updateSecondary()\n      this.frameIsReady = true\n    } else {\n      this._frameRequest = frameIdx\n      if (!this._buffer) {\n        this._prepareBuffer(frameIdx)\n      } else {\n        const self = this\n        switch (this._buffer.state) {\n          case 'none':\n            this._prepareBuffer(frameIdx)\n            break\n          case 'ready':\n            self._parseBuffer()\n            break\n          default:\n            break\n        }\n      }\n    }\n  }\n\n  disableEvents() {\n    this._callbacks = null\n  }\n\n  /**\n   * Returns link to atom pos vector, clone it if needed\n   */\n\n  static _vec = new THREE.Vector3()\n\n  getAtomPos(atomIdx) {\n    const vec = FrameInfo._vec\n    const self = this\n    const data = self._data\n    const idx =\n      (self._atomsCount * (self._currFrame - self._framesRange.start) +\n        atomIdx) *\n      3\n    vec.set(data[idx], data[idx + 1], data[idx + 2])\n    return vec\n  }\n\n  getResidues() {\n    if (this._cachedResidues) {\n      return this._residues\n    }\n    this._complex.updateToFrame(this)\n    return this._residues\n  }\n}\nexport default FrameInfo\n","import _ from 'lodash'\nimport settings from '../../settings'\nimport utils from '../../utils'\nimport gfxutils from '../gfxutils'\n\n/**\n * Create new scene object.\n *\n * @param {array=} params - Object required params.\n * @param {object=} opts - Options to override defaults with.\n *\n *   These options are copied locally and not kept by reference, so the created instance will not reflect further\n *   changes to the `opts` object. However, changes in defaults **will** affect the colorer after its creation.\n *\n * @exports SceneObject\n * @this SceneObject\n * @abstract\n * @constructor\n * @classdesc Basic class for all scene objects that are not reps.\n */\nclass SceneObject {\n  constructor(params, opts) {\n    if (this.constructor === SceneObject) {\n      throw new Error('Can not instantiate abstract class!')\n    }\n    /**\n     * Object's options inherited (prototyped) from defaults.\n     * @type {object}\n     */\n    this.params = params\n    this.opts = _.merge(\n      utils.deriveDeep(settings.now.objects[this.type], true),\n      opts\n    )\n    this.needsRebuild = false\n    this._mesh = null\n    this.id = null\n  }\n\n  /**\n   * Get object identification, probably with options.\n   *  @returns {Object} field type contains type information, params - object's formal parameters,\n   * opts - changed options\n   * Options are returned if they were changed during or after object creation.\n   */\n  identify() {\n    const result = {\n      type: this.type,\n      params: this.params\n    }\n    const diff = utils.objectsDiff(this.opts, settings.now.modes[this.id])\n    if (!_.isEmpty(diff)) {\n      result.opts = diff\n    }\n    return result\n  }\n\n  toString() {\n    const paramsStr = `o=${this.type},${this.params.join(',')}`\n    const optsStr = utils.compareOptionsWithDefaults(\n      this.opts,\n      settings.defaults.objects[this.type]\n    )\n    return paramsStr + optsStr\n  }\n\n  getGeometry() {\n    return this._mesh\n  }\n\n  destroy() {\n    if (this._mesh) {\n      gfxutils.destroyObject(this._mesh)\n    }\n  }\n}\n\n/**\n * Scene object identifier.\n * @type {string}\n */\nSceneObject.prototype.type = '__'\n\nexport default SceneObject\n","import * as THREE from 'three'\nimport SceneObject from './SceneObject'\nimport meshutils from '../meshutils'\nimport UberMaterial from '../shaders/UberMaterial'\nimport meshes from '../meshes/meshes'\nimport settings from '../../settings'\n\nclass LinesObj extends SceneObject {\n  constructor(params, opts) {\n    super(params, opts)\n    if (params.length < 2) {\n      throw new Error('Wrong number of argumets on line object creation!')\n    }\n    ;[this._id1, this._id2] = params\n  }\n\n  _getAtomFromName(complex, atomId) {\n    const err =\n      \" - Wrong atom format it must be '#CHAIN_NAME.#RESIDUE_NUMBER.#ATOM_NAME' (e.g. 'A.38.CO1')\"\n    const atom1 = complex.getAtomByFullname(atomId)\n    if (!atom1) {\n      throw new Error(atomId + err)\n    }\n    return atom1\n  }\n\n  build(complex) {\n    const geom = new THREE.BufferGeometry()\n    this._atom1 = this._getAtomFromName(complex, this._id1)\n    this._atom2 = this._getAtomFromName(complex, this._id2)\n\n    const p1 = this._atom1.position\n    const p2 = this._atom2.position\n    const vertices = new Float32Array([p1.x, p1.y, p1.z, p2.x, p2.y, p2.z])\n\n    geom.setAttribute('position', new THREE.BufferAttribute(vertices, 3))\n    geom.computeBoundingBox()\n    const material = new UberMaterial()\n    material.setValues({\n      lights: false,\n      overrideColor: true,\n      dashedLine: true,\n      fogTransparent: settings.now.bg.transparent\n    })\n\n    this._line = new meshes.Line(geom, material)\n    this._line.computeLineDistances()\n    this._line.material.setUberOptions({\n      fixedColor: new THREE.Color(this.opts.color),\n      dashedLineSize: this.opts.dashSize,\n      dashedLinePeriod: this.opts.dashSize + this.opts.gapSize\n    })\n    this._line.material.updateUniforms()\n\n    this._line.raycast = function (_raycaster, _intersects) {}\n    this._mesh = this._line\n    const transforms = complex.getTransforms()\n    if (transforms.length > 0) {\n      this._mesh = new THREE.Group()\n      this._mesh.add(this._line)\n      meshutils.applyTransformsToMeshes(this._mesh, transforms)\n    }\n  }\n\n  updateToFrame(frameData) {\n    if (!this._atom1 || !this._atom2 || !this._line) {\n      return\n    }\n\n    const geo = this._line.geometry\n    geo.vertices[0].copy(frameData.getAtomPos(this._atom1.index))\n    geo.vertices[1].copy(frameData.getAtomPos(this._atom2.index))\n    this._line.computeLineDistances()\n    geo.computeBoundingSphere()\n\n    geo.verticesNeedUpdate = true\n  }\n}\n\nLinesObj.prototype.constructor = LinesObj\nLinesObj.prototype.type = 'line'\n\nexport default LinesObj\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three'\nimport vertexShader from './ScreenQuad.vert'\nimport fragmentShader from './Outline.frag'\n\nclass OutlineMaterial extends THREE.RawShaderMaterial {\n  constructor(params) {\n    // add depth outline\n    super(params)\n\n    const settings = {\n      uniforms: {\n        srcTex: { type: 't', value: null },\n        srcDepthTex: { type: 't', value: null },\n        srcTexSize: { type: 'v2', value: new THREE.Vector2(512, 512) },\n        color: { type: 'v3', value: null },\n        threshold: { type: 'f', value: null },\n        opacity: { type: 'f', value: 1.0 },\n        thickness: { type: 'v2', value: new THREE.Vector2(1, 1) }\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: true,\n      depthTest: false,\n      depthWrite: false\n    }\n\n    this.setValues(settings)\n  }\n\n  copy(source) {\n    super.copy(source)\n    this.depth = source.depth\n  }\n\n  setValues(values) {\n    if (typeof values === 'undefined') {\n      return\n    }\n\n    // set direct values\n    super.setValues(values)\n    const defines = {}\n\n    if (this.depth) {\n      defines.DEPTH_OUTLINE = 1\n    }\n\n    // set dependent values\n    this.defines = defines\n  }\n}\n\nOutlineMaterial.prototype.depth = false\n\nexport default OutlineMaterial\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three'\nimport vertexShader from './ScreenQuad.vert'\nimport fragmentShader from './FXAA.frag'\n\nclass FXAAMaterial extends THREE.RawShaderMaterial {\n  constructor(params) {\n    super(params)\n\n    // set default values\n    this.setValues({\n      uniforms: {\n        srcTex: { type: 't', value: null },\n        srcTexelSize: {\n          type: 'v2',\n          value: new THREE.Vector2(1.0 / 512.0, 1.0 / 512.0)\n        },\n        bgColor: { type: 'c', value: new THREE.Color(0xffffff) }\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    })\n\n    this.setValues(params)\n  }\n\n  copy(source) {\n    super.copy(source)\n    this.depth = source.depth\n  }\n\n  setValues(values) {\n    if (typeof values === 'undefined') {\n      return\n    }\n\n    // set direct values\n    super.setValues(values)\n\n    const defines = {}\n\n    if (this.bgTransparent) {\n      defines.BG_TRANSPARENT = 1\n    }\n    // set dependent values\n    this.defines = defines\n  }\n}\n\nFXAAMaterial.prototype.bgTransparent = false\n\nexport default FXAAMaterial\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three'\nimport vertexShader from './ScreenQuad.vert'\nimport fragmentShader from './AO.frag'\nimport noise from '../noiseTexture'\n\nconst _samplesKernel = [\n  // hemisphere samples adopted to sphere\n  new THREE.Vector3(0.295184, 0.077723, 0.068429),\n  new THREE.Vector3(-0.271976, -0.365221, 0.838363),\n  new THREE.Vector3(0.547713, 0.467576, 0.488515),\n  new THREE.Vector3(0.662808, -0.031733, 0.584758),\n  new THREE.Vector3(-0.025717, 0.218955, 0.657094),\n  new THREE.Vector3(-0.310153, -0.365223, 0.370701),\n  new THREE.Vector3(-0.101407, -0.006313, 0.747665),\n  new THREE.Vector3(-0.769138, 0.360399, 0.086847),\n  new THREE.Vector3(-0.271988, -0.27514, 0.905353),\n  new THREE.Vector3(0.09674, -0.566901, 0.700151),\n  new THREE.Vector3(0.562872, -0.735136, 0.094647),\n  new THREE.Vector3(0.379877, 0.359278, 0.190061),\n  new THREE.Vector3(0.519064, -0.023055, 0.405068),\n  new THREE.Vector3(-0.301036, 0.114696, 0.088885),\n  new THREE.Vector3(-0.282922, 0.598305, 0.487214),\n  new THREE.Vector3(-0.181859, 0.25167, 0.679702),\n  new THREE.Vector3(-0.191463, -0.635818, 0.512919),\n  new THREE.Vector3(-0.293655, 0.427423, 0.078921),\n  new THREE.Vector3(-0.267983, 0.680534, 0.13288),\n  new THREE.Vector3(0.139611, 0.319637, 0.477439),\n  new THREE.Vector3(-0.352086, 0.31104, 0.653913),\n  new THREE.Vector3(0.321032, 0.805279, 0.487345),\n  new THREE.Vector3(0.073516, 0.820734, 0.414183),\n  new THREE.Vector3(-0.155324, 0.589983, 0.41146),\n  new THREE.Vector3(0.335976, 0.170782, 0.527627),\n  new THREE.Vector3(0.46346, -0.355658, 0.167689),\n  new THREE.Vector3(0.222654, 0.59655, 0.769406),\n  new THREE.Vector3(0.922138, -0.04207, 0.147555),\n  new THREE.Vector3(-0.72705, -0.329192, 0.369826),\n  new THREE.Vector3(-0.090731, 0.53382, 0.463767),\n  new THREE.Vector3(-0.323457, -0.876559, 0.238524),\n  new THREE.Vector3(-0.663277, -0.372384, 0.342856)\n]\n\nclass AOMaterial extends THREE.RawShaderMaterial {\n  constructor() {\n    super()\n\n    // set default values\n    this.setValues({\n      uniforms: {\n        noiseTexture: { type: 't', value: noise.noiseTexture },\n        noiseTexelSize: {\n          type: 'v2',\n          value: new THREE.Vector2(\n            1.0 / noise.noiseWidth,\n            1.0 / noise.noiseHeight\n          )\n        },\n        diffuseTexture: { type: 't', value: null },\n        normalTexture: { type: 't', value: null },\n        depthTexture: { type: 't', value: null },\n        srcTexelSize: {\n          type: 'v2',\n          value: new THREE.Vector2(1.0 / 512.0, 1.0 / 512.0)\n        },\n        camNearFar: { type: 'v2', value: new THREE.Vector2(1.0, 10.0) },\n        projMatrix: { type: 'mat4', value: new THREE.Matrix4() },\n        aspectRatio: { type: 'f', value: 0.0 },\n        tanHalfFOV: { type: 'f', value: 0.0 },\n        samplesKernel: { type: 'v3v', value: _samplesKernel },\n        kernelRadius: { type: 'f', value: 1.0 },\n        depthThreshold: { type: 'f', value: 1.0 },\n        factor: { type: 'f', value: 1.0 }\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    })\n  }\n}\n\nexport default AOMaterial\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three'\nimport vertexShader from './ScreenQuad.vert'\nimport fragmentShader from './AOHorBlur.frag'\n\nconst _kernelOffsets = [-2.0, -1.0, 0.0, 1.0, 2.0]\n\nclass AOHorBlurMaterial extends THREE.RawShaderMaterial {\n  constructor() {\n    super()\n\n    // set default values\n    this.setValues({\n      uniforms: {\n        depthTexture: { type: 't', value: null },\n        srcTexelSize: {\n          type: 'v2',\n          value: new THREE.Vector2(1.0 / 512.0, 1.0 / 512.0)\n        },\n        aoMap: { type: 't', value: null },\n        samplesOffsets: { type: 'fv1', value: _kernelOffsets }\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    })\n  }\n}\n\nexport default AOHorBlurMaterial\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three'\nimport vertexShader from './ScreenQuad.vert'\nimport fragmentShader from './AOVertBlurWithBlend.frag'\n\nconst _kernelOffsets = [-2.0, -1.0, 0.0, 1.0, 2.0]\n\nclass AOVertBlurWithBlendMaterial extends THREE.RawShaderMaterial {\n  constructor(params) {\n    super(params)\n\n    // set default values\n    this.setValues({\n      uniforms: {\n        diffuseTexture: { type: 't', value: null },\n        depthTexture: { type: 't', value: null },\n        srcTexelSize: {\n          type: 'v2',\n          value: new THREE.Vector2(1.0 / 512.0, 1.0 / 512.0)\n        },\n        aoMap: { type: 't', value: null },\n        samplesOffsets: { type: 'fv1', value: _kernelOffsets },\n        projMatrix: { type: 'mat4', value: new THREE.Matrix4() },\n        aspectRatio: { type: 'f', value: 0.0 },\n        tanHalfFOV: { type: 'f', value: 0.0 },\n        fogNearFar: { type: 'v2', value: new THREE.Vector2(100.0, 100.0) },\n        fogColor: { type: 'v4', value: new THREE.Vector4(0.0, 0.5, 0.0, 1.0) }\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    })\n\n    this.setValues(params)\n  }\n\n  setValues(values) {\n    if (typeof values === 'undefined') {\n      return\n    }\n\n    // set direct values\n    super.setValues(values)\n\n    const defines = {}\n\n    if (this.useFog) {\n      defines.USE_FOG = 1\n    }\n    if (this.fogTransparent) {\n      defines.FOG_TRANSPARENT = 1\n    }\n    // set dependent values\n    this.defines = defines\n  }\n}\n\nAOVertBlurWithBlendMaterial.prototype.useFog = true\nAOVertBlurWithBlendMaterial.prototype.fogTransparent = false\n\nexport default AOVertBlurWithBlendMaterial\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three'\nimport vertexShader from './ScreenQuad.vert'\nimport fragmentShader from './Anaglyph.frag'\n\nclass AnaglyphMaterial extends THREE.RawShaderMaterial {\n  constructor() {\n    super()\n    const settings = {\n      uniforms: {\n        srcL: { type: 't', value: null },\n        srcR: { type: 't', value: null }\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    }\n    this.setValues(settings)\n  }\n}\n\nexport default AnaglyphMaterial\n","import * as THREE from 'three'\nimport settings from '../settings'\n\nclass View {\n  constructor() {\n    this.position = new THREE.Vector3(0, 0, 0)\n    this.scale = 1\n    this.orientation = new THREE.Quaternion(0, 0, 0, 1)\n  }\n\n  set(position, scale, orientation) {\n    this.position = position\n    this.scale = scale\n    this.orientation = orientation\n  }\n}\n\nconst _transitionTime = 1.5 // in seconds\n\nexport default class ViewInterpolator {\n  setup(startView, endView) {\n    this._startTime = undefined\n    this._endTime = undefined\n    this._isPaused = false\n\n    this._srcView = startView\n    this._dstView = endView\n    this._isMoving = false\n  }\n\n  isMoving() {\n    return this._isMoving\n  }\n\n  wasStarted() {\n    return (\n      typeof this._startTime !== 'undefined' &&\n      typeof this._endTime !== 'undefined'\n    )\n  }\n\n  start() {\n    this._startTime = Date.now()\n    const transTime = settings.now.interpolateViews ? _transitionTime * 1000 : 0\n    this._endTime = this._startTime + transTime\n    this._isMoving = true\n  }\n\n  getCurrentView() {\n    if (\n      typeof this._srcView === 'undefined' ||\n      typeof this._dstView === 'undefined' ||\n      !this._isMoving ||\n      !this.wasStarted()\n    ) {\n      return { success: false }\n    }\n\n    let view = this.createView()\n    const time = Date.now()\n    if (time > this._endTime) {\n      view = this._dstView\n      this.reset()\n      return { success: true, view }\n    }\n\n    const factor = (time - this._startTime) / (this._endTime - this._startTime)\n    view.position.copy(this._srcView.position)\n    view.position.lerp(this._dstView.position, factor)\n    view.scale =\n      (1 - factor) * this._srcView.scale + factor * this._dstView.scale\n    view.orientation.copy(this._srcView.orientation)\n    view.orientation.slerp(this._dstView.orientation, factor)\n    return { success: true, view }\n  }\n\n  reset() {\n    this._startTime = this._endTime = 0\n    this._isMoving = false\n  }\n\n  pause() {\n    if (!this._isPaused) {\n      this.setup(this.getCurrentView().view, this._dstView)\n      this._isPaused = true\n    }\n  }\n\n  resume() {\n    this._isPaused = false\n  }\n\n  createView() {\n    return new View()\n  }\n}\n","import _ from 'lodash'\nimport makeContextDependent from './makeContextDependent'\n\nconst MAX_COOKIE_LEN = 4000\nconst COUNT_SUFFIX = 'Cnt'\n\nfunction _chunkString(string, chunkLen) {\n  const l = string.length\n  const chunks = []\n  for (let c = 0, lc = 0; lc < l; c++, lc += chunkLen) {\n    chunks[c] = string.slice(lc, lc + chunkLen)\n  }\n  return chunks\n}\n\n/**\n * Create new context dependent Cookie holder object.\n * @param context\n * @param {Object} opts - options\n * @param {string} opts.path - cookie path\n * @constructor\n */\nfunction Cookies(context, opts) {\n  this.context = context\n  this._opts = _.merge(\n    {\n      path: '/'\n    },\n    opts\n  )\n}\n\nmakeContextDependent(Cookies.prototype)\n\n/**\n * Remove cookie by the name.\n * @param key\n */\nCookies.prototype.removeCookie = function (key) {\n  const cntKey = this._toCount(key)\n  let cntVal = this._getSimpleCookie(cntKey)\n  if (!cntVal) {\n    this._removeSimpleCookie(key)\n    return\n  }\n  this._removeSimpleCookie(cntKey)\n  cntVal = parseInt(cntVal, 10)\n  for (let i = 0; i < cntVal; ++i) {\n    this._removeSimpleCookie(key + i)\n  }\n}\n\n/**\n * Set new cookie value. Automatically splits\n * values that are too large into multiple cookies.\n * @param key\n * @param value\n */\nCookies.prototype.setCookie = function (key, value) {\n  this.removeCookie(key)\n  value = encodeURIComponent(value)\n  const values = _chunkString(value, MAX_COOKIE_LEN - key.length - 1)\n  const cntVal = values.length\n  if (cntVal === 1) {\n    this._setSimpleCookie(key, value)\n    return\n  }\n  const cntKey = this._toCount(key)\n  this._setSimpleCookie(cntKey, cntVal.toString())\n  for (let i = 0; i < cntVal; ++i) {\n    this._setSimpleCookie(key + i, values[i])\n  }\n}\n\n/**\n * Obtain the value of a compound cookie.\n * @param key\n */\nCookies.prototype.getCookie = function (key) {\n  const cntKey = this._toCount(key)\n  let cntVal = this._getSimpleCookie(cntKey)\n  if (!cntVal) {\n    return this._getSimpleCookie(key)\n  }\n  cntVal = parseInt(cntVal, 10)\n  const value = []\n  for (let i = 0; i < cntVal; ++i) {\n    value[i] = this._getSimpleCookie(key + i)\n  }\n  return value.join('')\n}\n\nCookies.prototype._toCount = function (key) {\n  return key + COUNT_SUFFIX\n}\n\nCookies.prototype._removeSimpleCookie = function (key) {\n  document.cookie = `${key}=; expires=Thu, 01 Jan 1970 00:00:01 GMT;`\n}\n\nCookies.prototype._getExpirationDate = function () {\n  const today = new Date()\n  const EXP_PERIOD_YEARS = 10\n  today.setFullYear(today.getFullYear() + EXP_PERIOD_YEARS)\n  return today\n}\n\nCookies.prototype._setSimpleCookie = function (key, value) {\n  document.cookie = `${key}=${value};expires=${this._getExpirationDate().toUTCString()};path=${\n    this._opts.path\n  }`\n}\n\nCookies.prototype._getSimpleCookie = function (key) {\n  const matches = document.cookie.match(new RegExp(`(?:^|; )${key}=([^;]*)`))\n  return matches ? decodeURIComponent(matches[1]) : ''\n}\n\nCookies.prototype._exists = function (key) {\n  return document.cookie.match(new RegExp(`(?:^|; )${key}=([^;]*)`))\n}\n\nexport default Cookies\n","/*\n * Toggling WebVR is done through button.click because of limitations on calling requestPresent in webVR:\n * VRDisplay::requestPresent should be called from user gesture:\n * https://developer.mozilla.org/en-US/docs/Web/API/VRDisplay/requestPresent\n */\nexport default function (webVRPoC) {\n  function showEnterVR(button) {\n    button.style.display = ''\n    button.style.cursor = 'pointer'\n    button.style.left = 'calc(50% - 50px)'\n    button.style.width = '100px'\n\n    button.textContent = 'ENTER VR'\n\n    let currentSession = null\n\n    function onSessionEnded(/* event */) {\n      currentSession.removeEventListener('end', onSessionEnded)\n      button.textContent = 'ENTER VR'\n      currentSession = null\n    }\n\n    function onSessionStarted(session) {\n      session.addEventListener('end', onSessionEnded)\n      webVRPoC._gfx.renderer.xr.setReferenceSpaceType('local')\n      webVRPoC._gfx.renderer.xr.setSession(session)\n      button.textContent = 'EXIT VR'\n      currentSession = session\n    }\n\n    button.onmouseenter = function () {\n      button.style.opacity = '1.0'\n    }\n    button.onmouseleave = function () {\n      button.style.opacity = '0.5'\n    }\n\n    button.onclick = function () {\n      if (currentSession === null) {\n        // WebXR's requestReferenceSpace only works if the corresponding feature\n        // was requested at session creation time. For simplicity, just ask for\n        // the interesting ones as optional features, but be aware that the\n        // requestReferenceSpace call will fail if it turns out to be unavailable.\n        // ('local' is always available for immersive sessions and doesn't need to\n        // be requested separately.)\n\n        const sessionInit = {\n          optionalFeatures: ['local-floor', 'bounded-floor']\n        }\n        navigator.xr\n          .requestSession('immersive-vr', sessionInit)\n          .then(onSessionStarted)\n        webVRPoC.moveSceneBehindHeadset()\n      } else {\n        currentSession.end()\n      }\n    }\n  }\n\n  function showWebXRNotFound(button) {\n    button.style.display = ''\n    button.style.cursor = 'auto'\n    button.style.left = 'calc(50% - 75px)'\n    button.style.width = '150px'\n    button.textContent = 'VR NOT FOUND'\n    button.onmouseenter = null\n    button.onmouseleave = null\n    button.onclick = null\n  }\n\n  function stylizeElement(element) {\n    element.style.position = 'absolute'\n    element.style.bottom = '20px'\n    element.style.padding = '12px 6px'\n    element.style.border = '1px solid #fff'\n    element.style.borderRadius = '4px'\n    element.style.background = 'transparent'\n    element.style.color = '#fff'\n    element.style.font = 'normal 13px sans-serif'\n    element.style.textAlign = 'center'\n    element.style.opacity = '0.5'\n    element.style.outline = 'none'\n    element.style.zIndex = '999'\n  }\n\n  if ('xr' in navigator) {\n    const button = document.createElement('button')\n    button.style.display = 'none'\n    stylizeElement(button)\n    navigator.xr\n      .isSessionSupported('immersive-vr')\n      .then((supported) =>\n        supported ? showEnterVR(button) : showWebXRNotFound(button)\n      )\n    return button\n  }\n  const message = document.createElement('a')\n  message.href = 'https://webvr.info'\n  message.innerHTML = 'WEBXR NOT SUPPORTED'\n  message.style.left = 'calc(50% - 90px)'\n  message.style.width = '180px'\n  message.style.textDecoration = 'none'\n  stylizeElement(message)\n  return message\n}\n","import * as THREE from 'three'\nimport createWebVRButton from './createWebVRButton'\nimport gfxutils from '../gfxutils'\nimport logger from '../../utils/logger'\nimport settings from '../../settings'\nimport UberMaterial from '../shaders/UberMaterial'\n\nexport default class WebVRPoC {\n  constructor(onToggle) {\n    this._mainCamera = new THREE.PerspectiveCamera()\n    this._button = null\n    this._onToggle = onToggle\n\n    this._molContainer = new gfxutils.RCGroup()\n    this._user = new gfxutils.RCGroup()\n    this._scalingPivot = new THREE.Object3D()\n    this._user.add(this._scalingPivot)\n\n    this._controller1 = null\n    this._controller2 = null\n    this._pressedGripsCounter = 0\n    this._distance = 0\n\n    this._gfx = null\n  }\n\n  startScalingByControllers() {\n    // reset scale\n    this._distance = this._controller1.position.distanceTo(\n      this._controller2.position\n    )\n    gfxutils.getMiddlePoint(\n      this._controller1.position,\n      this._controller2.position,\n      this._scalingPivot.position\n    )\n    this._scalingPivot.scale.set(1, 1, 1)\n    this._scalingPivot.updateMatrix()\n    this._scalingPivot.updateMatrixWorld()\n    // link molecule to pivot\n    this._scalingPivot.addSavingWorldTransform(this._molContainer)\n  }\n\n  stopScalingByControllers() {\n    this._gfx.scene.addSavingWorldTransform(this._molContainer)\n  }\n\n  handleGripsDown(event) {\n    this._pressedGripsCounter++\n    if (this._pressedGripsCounter === 2) {\n      this.startScalingByControllers()\n    } else if (this._pressedGripsCounter === 1) {\n      event.target.addSavingWorldTransform(this._molContainer)\n    }\n  }\n\n  handleGripsUp(event) {\n    this._pressedGripsCounter--\n    if (this._pressedGripsCounter === 1) {\n      this.stopScalingByControllers()\n      // reattach molecule to other controller\n      const anotherController =\n        event.target === this._controller1\n          ? this._controller2\n          : this._controller1\n      anotherController.addSavingWorldTransform(this._molContainer)\n    } else if (this._pressedGripsCounter === 0) {\n      this._gfx.scene.addSavingWorldTransform(this._molContainer)\n    }\n  }\n\n  enable(gfx) {\n    if (!gfx) {\n      logger.warn(\"WebVR couldn't be enabled, because gfx is not defined\")\n      return\n    }\n    this._gfx = gfx\n    const { renderer, camera } = gfx\n    if (!renderer) {\n      throw new Error('No renderer is available to toggle WebVR')\n    }\n    if (!camera) {\n      throw new Error('No camera is available to toggle WebVR')\n    }\n\n    // enable xr in renderer\n    renderer.xr.enabled = true\n    // add button for turning vr mode\n    if (!this._button) {\n      this._button = createWebVRButton(this)\n      document.body.appendChild(this._button)\n    } else {\n      this._button.style.display = 'block'\n    }\n    // store fog setting\n    this._mainFog = settings.now.fog\n    settings.set('fog', false)\n\n    this._plugVRNodesIntoScene(gfx, renderer)\n    this._setControllersListeners()\n\n    // make some Miew job\n    if (this._onToggle) {\n      this._onToggle(true)\n    }\n  }\n\n  _plugVRNodesIntoScene(gfx, renderer) {\n    // store common scene camera\n    this._mainCamera.copy(gfx.camera)\n    // add hierarchical structure for webVR into scene\n    gfx.scene.add(this._user)\n    // turn on webvr transformation\n    gfx.scene.add(this._molContainer)\n    this._molContainer.add(gfx.root)\n\n    this._controller1 = renderer.xr.getController(0)\n    this._controller2 = renderer.xr.getController(1)\n    const mesh = this._createControllerMesh()\n    this._controller1.add(mesh)\n    this._controller2.add(mesh.clone())\n    this._user.add(this._controller1)\n    this._user.add(this._controller2)\n  }\n\n  _setControllersListeners() {\n    this._controller1.addEventListener('selectstart', (event) => {\n      this.handleGripsDown(event)\n    })\n    this._controller1.addEventListener('selectend', (event) => {\n      this.handleGripsUp(event)\n    })\n    this._controller2.addEventListener('selectstart', (event) => {\n      this.handleGripsDown(event)\n    })\n    this._controller2.addEventListener('selectend', (event) => {\n      this.handleGripsUp(event)\n    })\n\n    this._controller1.addEventListener('squeezestart', (event) => {\n      this.handleGripsDown(event)\n    })\n    this._controller1.addEventListener('squeezeend', (event) => {\n      this.handleGripsUp(event)\n    })\n    this._controller2.addEventListener('squeezestart', (event) => {\n      this.handleGripsDown(event)\n    })\n    this._controller2.addEventListener('squeezeend', (event) => {\n      this.handleGripsUp(event)\n    })\n  }\n\n  disable() {\n    if (!this._gfx) {\n      return\n    }\n    const { renderer, camera } = this._gfx\n    if (!renderer) {\n      throw new Error('No renderer is available to toggle WebVR')\n    }\n\n    // nullify webxr callback for animation frame\n    renderer.setAnimationLoop(null)\n    const session = renderer.xr.getSession()\n    if (session) {\n      session.end()\n    }\n    renderer.xr.enabled = false\n    // remove button of VR entering\n    if (this._button) {\n      this._button.style.display = 'none'\n    }\n    // restore fog param\n    settings.set('fog', this._mainFog)\n\n    this._unplugVRNodesFromScene(camera)\n\n    // make some Miew job\n    if (this._onToggle) {\n      this._onToggle(false)\n    }\n  }\n\n  _unplugVRNodesFromScene(camera) {\n    // restore common camera\n    if (this._mainCamera && camera) {\n      camera.copy(this._mainCamera)\n    }\n    // turn off webvr transformation\n    const root = this._molContainer.children[0]\n    if (root) {\n      this._gfx.scene.add(root)\n    }\n    this._molContainer.parent.remove(this._molContainer)\n    if (this._user) {\n      this._gfx.scene.remove(this._user)\n    }\n    // free scene nodes\n    this._molContainer = null\n    this._user = null\n    this._scalingPivot = null\n    this._user = null\n    this._controller1 = null\n    this._controller2 = null\n  }\n\n  _createControllerMesh() {\n    // visualize controllers with cylinders\n    const geometry = new THREE.CylinderGeometry(0.04, 0.04, 0.3)\n    const material = new UberMaterial()\n    material.setValues({ lights: false, overrideColor: true })\n    material.setUberOptions({ fixedColor: new THREE.Color(0x4444ff) })\n    material.updateUniforms()\n    const cylinder = new THREE.Mesh(geometry, material)\n    cylinder.rotateX(-Math.PI / 2)\n    return cylinder\n  }\n\n  updateMoleculeScale() {\n    if (!this._controller1 || !this._controller2) {\n      return\n    }\n\n    const self = this\n    // update molecule scaling by controllers\n    if (self._pressedGripsCounter === 2) {\n      // recalc scaling pivot\n      gfxutils.getMiddlePoint(\n        self._controller1.position,\n        self._controller2.position,\n        self._scalingPivot.position\n      )\n      // recalc scaler\n      const dist = self._controller1.position.distanceTo(\n        self._controller2.position\n      )\n      const scaler = dist / self._distance\n      self._scalingPivot.scale.multiplyScalar(scaler)\n      // save cur distance for next frame\n      self._distance = dist\n    }\n  }\n\n  /**\n   * Reposition molecule right before the camera.\n   * @note The proper way is to initiate headset in the place of common Miew's camera.\n   * But threejs limitations on setting new XRReferenceSpace enforce the molecule repositioning\n   * Hope, something will change.\n   */\n  moveSceneBehindHeadset() {\n    const gfx = this._gfx\n    const { camera } = gfx\n\n    // set container position in camera space\n    const container = this._molContainer\n    container.matrix.identity()\n    container.position.set(0, 0, -4.0)\n    container.updateMatrix()\n\n    // update container world matrix\n    container.matrixWorld.multiplyMatrices(camera.matrixWorld, container.matrix)\n    // readd to scene\n    gfx.scene.addSavingWorldTransform(container)\n    if (this._onToggle) {\n      this._onToggle(true)\n    }\n  }\n\n  getCanvas() {\n    const gfx = this._gfx\n    return gfx && gfx.renderer ? gfx.renderer.domElement : null\n  }\n}\n","/* global PACKAGE_VERSION:false */\nimport _ from 'lodash'\nimport * as THREE from 'three'\nimport { Spinner } from 'spin.js'\nimport Stats from './gfx/Stats'\nimport utils from './utils'\nimport JobHandle from './utils/JobHandle'\nimport options from './options'\nimport settings from './settings'\nimport chem from './chem'\nimport Visual from './Visual'\nimport ComplexVisual from './ComplexVisual'\nimport Complex from './chem/Complex'\nimport VolumeVisual from './VolumeVisual'\nimport io from './io/io'\nimport modes from './gfx/modes'\nimport colorers from './gfx/colorers'\nimport palettes from './gfx/palettes'\nimport materials from './gfx/materials'\nimport Representation from './gfx/Representation'\nimport CSS2DRenderer from './gfx/CSS2DRenderer'\nimport ObjectControls from './ui/ObjectControls'\nimport Picker from './ui/Picker'\nimport Axes from './gfx/Axes'\nimport gfxutils from './gfx/gfxutils'\nimport meshutils from './gfx/meshutils'\nimport FrameInfo from './gfx/FrameInfo'\nimport meshes from './gfx/meshes/meshes'\nimport LinesObject from './gfx/objects/LinesObj'\nimport UberMaterial from './gfx/shaders/UberMaterial'\nimport OutlineMaterial from './gfx/shaders/OutlineMaterial'\nimport FXAAMaterial from './gfx/shaders/FXAAMaterial'\nimport AOMaterial from './gfx/shaders/AOMaterial'\nimport AOHorBlurMaterial from './gfx/shaders/AOHorBlurMaterial'\nimport AOVertBlurWithBlendMaterial from './gfx/shaders/AOVertBlurWithBlendMaterial'\nimport AnaglyphMaterial from './gfx/shaders/AnaglyphMaterial'\nimport VolumeMaterial from './gfx/shaders/VolumeMaterial'\nimport ViewInterpolator from './gfx/ViewInterpolator'\nimport EventDispatcher from './utils/EventDispatcher'\nimport logger from './utils/logger'\nimport Cookies from './utils/Cookies'\nimport capabilities from './gfx/capabilities'\nimport WebVRPoC from './gfx/vr/WebVRPoC'\nimport vertexScreenQuadShader from './gfx/shaders/ScreenQuad.vert'\nimport fragmentScreenQuadFromDistTex from './gfx/shaders/ScreenQuadFromDistortionTex.frag'\n\nconst { selectors, Atom, Residue, Chain, Molecule } = chem\n\nconst EDIT_MODE = { COMPLEX: 0, COMPONENT: 1, FRAGMENT: 2 }\n\nconst LOADER_NOT_FOUND = 'Could not find suitable loader for this source'\nconst PARSER_NOT_FOUND = 'Could not find suitable parser for this source'\n\nconst { createElement } = utils\n\nfunction updateFogRange(fog, center, radius) {\n  fog.near = center - radius * settings.now.fogNearFactor\n  fog.far = center + radius * settings.now.fogFarFactor\n}\n\nfunction removeExtension(fileName) {\n  const dot = fileName.lastIndexOf('.')\n  if (dot >= 0) {\n    fileName = fileName.substr(0, dot)\n  }\n  return fileName\n}\n\nfunction hasValidResidues(complex) {\n  let hasValidRes = false\n  complex.forEachComponent((component) => {\n    component.forEachResidue((residue) => {\n      if (residue._isValid) {\n        hasValidRes = true\n      }\n    })\n  })\n  return hasValidRes\n}\n\nfunction reportProgress(log, action, percent) {\n  const TOTAL_PERCENT = 100\n  if (percent !== undefined) {\n    log.debug(`${action}... ${Math.floor(percent * TOTAL_PERCENT)}%`)\n  } else {\n    log.debug(`${action}...`)\n  }\n}\n\nfunction chooseFogColor() {\n  return settings.now.fogColorEnable\n    ? settings.now.fogColor\n    : settings.now.bg.color\n}\n\n// ////////////////////////////////////////////////////////////////////////////\n\n/**\n * Main 3D Molecular Viewer class.\n *\n * @param {object} opts - Viewer options.\n * @param {HTMLElement=} opts.container - DOM element that serves as a viewer container.\n * @param {object=} opts.settings - An object with properties to override default settings.\n * @param {string=} opts.settingsCookie='settings' - The name of the cookie to save current settings to.\n * @param {string=} opts.cookiePath='/' - The path option for cookies. Defaults to root.\n *\n * @exports Miew\n * @constructor\n */\nfunction Miew(opts) {\n  EventDispatcher.call(this)\n  this._opts = _.merge(\n    {\n      settingsCookie: 'settings',\n      cookiePath: '/'\n    },\n    opts\n  )\n  /** @type {?object} */\n  this._gfx = null\n  /** @type {ViewInterpolator} */\n  this._interpolator = new ViewInterpolator()\n  /** @type {HTMLElement} */\n  this._container =\n    (opts && opts.container) ||\n    document.getElementById('miew-container') ||\n    _.head(document.getElementsByClassName('miew-container')) ||\n    document.body\n  /** @type {HTMLElement} */\n  this._containerRoot = this._container\n\n  /** @type {boolean} */\n  this._running = false\n  /** @type {boolean} */\n  this._halting = false\n  /** @type {boolean} */\n  this._building = false\n  /** @type {boolean} */\n  this._needRender = true\n  /** @type {boolean} */\n  this._hotKeysEnabled = true\n\n  /** @type {Settings} */\n  this.settings = settings\n  const log = logger\n  log.console = DEBUG\n  log.level = DEBUG ? 'debug' : 'info'\n  /**\n   * @type {Logger}\n   * @example\n   * miew.logger.addEventListener('message', function _onLogMessage(evt) {\n   *   console.log(evt.message);\n   * });\n   */\n  this.logger = log\n\n  this._cookies = new Cookies(this)\n  this.restoreSettings()\n  if (opts && opts.settings) {\n    this.settings.set(opts.settings)\n  }\n\n  /** @type {?Spinner} */\n  this._spinner = null\n  /** @type {JobHandle[]} */\n  this._loading = []\n  /** @type {?number}\n   * @deprecated until Animation system refactoring\n   */\n  this._animInterval = null\n\n  /** @type {object} */\n  this._visuals = {}\n  /** @type {?string} */\n  this._curVisualName = null\n\n  /** @type {array} */\n  this._objects = []\n\n  /** @type {object} */\n  this._sourceWindow = null\n\n  this.reset()\n\n  if (this._repr) {\n    log.debug(\n      `Selected ${this._repr.mode.name} mode with ${this._repr.colorer.name} colorer.`\n    )\n  }\n\n  const self = this\n  Miew.registeredPlugins.forEach((plugin) => {\n    plugin.call(self)\n  })\n\n  this._initOnSettingsChanged()\n}\n\nMiew.prototype = Object.create(EventDispatcher.prototype)\nMiew.prototype.constructor = Miew\n\nMiew.prototype.getMaxRepresentationCount = function () {\n  return ComplexVisual.NUM_REPRESENTATION_BITS\n}\n\n/**\n * Replace viewer container contents with a DOM element.\n * @param {HTMLElement} container - parent container.\n * @param {HTMLElement} element - DOM element to show.\n * @private\n */\nfunction _setContainerContents(container, element) {\n  const parent = container\n  while (parent.firstChild) {\n    parent.removeChild(parent.firstChild)\n  }\n  parent.appendChild(element)\n}\n\n/**\n * Update Shadow Camera target position and frustum.\n * @private\n */\nMiew.prototype._updateShadowCamera = (function () {\n  const shadowMatrix = new THREE.Matrix4()\n  const direction = new THREE.Vector3()\n  const OBB = { center: new THREE.Vector3(), halfSize: new THREE.Vector3() }\n\n  return function () {\n    this._gfx.scene.updateMatrixWorld()\n    for (let i = 0; i < this._gfx.scene.children.length; i++) {\n      if (this._gfx.scene.children[i].type === 'DirectionalLight') {\n        const light = this._gfx.scene.children[i]\n        shadowMatrix.copy(light.shadow.camera.matrixWorldInverse)\n        this.getOBB(shadowMatrix, OBB)\n\n        direction.subVectors(light.target.position, light.position)\n        light.position.subVectors(OBB.center, direction)\n        light.target.position.copy(OBB.center)\n\n        light.shadow.bias = 0.09\n        light.shadow.camera.bottom = -OBB.halfSize.y\n        light.shadow.camera.top = OBB.halfSize.y\n        light.shadow.camera.right = OBB.halfSize.x\n        light.shadow.camera.left = -OBB.halfSize.x\n        light.shadow.camera.near = direction.length() - OBB.halfSize.z\n        light.shadow.camera.far = direction.length() + OBB.halfSize.z\n\n        light.shadow.camera.updateProjectionMatrix()\n      }\n    }\n  }\n})()\n\n/**\n * Initialize the viewer.\n * @returns {boolean} true on success.\n * @throws Forwards exception raised during initialization.\n * @see Miew#term\n */\nMiew.prototype.init = function () {\n  const container = this._container\n  const elem = utils.createElement('div', { class: 'miew-canvas' })\n  _setContainerContents(container, elem)\n  this._container = elem\n\n  const frag = document.createDocumentFragment()\n  frag.appendChild(\n    (this._msgMode = createElement(\n      'div',\n      { class: 'mode-message overlay' },\n      createElement('p', {}, 'COMPONENT EDIT MODE')\n    ))\n  )\n  frag.appendChild(\n    (this._msgAtomInfo = createElement(\n      'div',\n      { class: 'atom-info overlay' },\n      createElement('p', {}, '')\n    ))\n  )\n  container.appendChild(frag)\n\n  if (this._gfx !== null) {\n    // block double init\n    return true\n  }\n\n  const self = this\n  this._showMessage('Viewer is being initialized...')\n  try {\n    this._initGfx()\n\n    this._initListeners()\n    this._spinner = new Spinner({\n      lines: 13,\n      length: 28,\n      width: 14,\n      radius: 42,\n      color: '#fff',\n      zIndex: 700\n    })\n\n    window.top.addEventListener('keydown', (event) => {\n      self._onKeyDown(event)\n    })\n\n    window.top.addEventListener('keyup', (event) => {\n      self._onKeyUp(event)\n    })\n\n    this._objectControls = new ObjectControls(\n      this._gfx.root,\n      this._gfx.pivot,\n      this._gfx.camera,\n      this._gfx.renderer.domElement,\n      () => self._getAltObj()\n    )\n    this._objectControls.addEventListener('change', (e) => {\n      if (settings.now.shadow.on) {\n        self._updateShadowCamera()\n      }\n      // route rotate, zoom, translate and translatePivot events to the external API\n      switch (e.action) {\n        case 'rotate':\n          self.dispatchEvent({ type: 'rotate', quaternion: e.quaternion })\n          break\n        case 'zoom':\n          self.dispatchEvent({ type: 'zoom', factor: e.factor })\n          break\n        default:\n          self.dispatchEvent({ type: e.action })\n      }\n      self.dispatchEvent({ type: 'transform' })\n      self._needRender = true\n    })\n\n    const gfx = this._gfx\n    this._picker = new Picker(gfx.root, gfx.camera, gfx.renderer.domElement)\n    this._picker.addEventListener('newpick', (event) => {\n      self._onPick(event)\n    })\n    this._picker.addEventListener('dblclick', (event) => {\n      self.center(event)\n    })\n  } catch (error) {\n    if (\n      error.name === 'TypeError' &&\n      error.message === \"Cannot read property 'getExtension' of null\"\n    ) {\n      this._showMessage('Could not create WebGL context.')\n    } else if (error.message.search(/webgl/i) > 1) {\n      this._showMessage(error.message)\n    } else {\n      this._showMessage('Viewer initialization failed.')\n      throw error\n    }\n    return false\n  }\n\n  // automatically load default file\n  const file = this._opts && this._opts.load\n  if (file) {\n    const type = this._opts && this._opts.type\n    this.load(file, { fileType: type, keepRepsInfo: true })\n  }\n\n  return true\n}\n\n/**\n * Terminate the viewer completely.\n * @see Miew#init\n */\nMiew.prototype.term = function () {\n  this._showMessage('Viewer has been terminated.')\n  this._loading.forEach((job) => {\n    job.cancel()\n  })\n  this._loading.length = 0\n  this.halt()\n  this._gfx = null\n}\n\n/**\n * Display message inside the viewer container, hiding WebGL canvas.\n * @param {string} msg - Message to show.\n * @private\n */\nMiew.prototype._showMessage = function (msg) {\n  const element = document.createElement('div')\n  element.setAttribute('class', 'miew-message')\n  element\n    .appendChild(document.createElement('p'))\n    .appendChild(document.createTextNode(msg))\n  _setContainerContents(this._container, element)\n}\n\n/**\n * Display WebGL canvas inside the viewer container, hiding any message shown.\n * @private\n */\nMiew.prototype._showCanvas = function () {\n  _setContainerContents(this._container, this._gfx.renderer.domElement)\n}\n\nMiew.prototype._requestAnimationFrame = function (callback) {\n  const { xr } = this._gfx.renderer\n  if (xr && xr.enabled) {\n    this._gfx.renderer.setAnimationLoop(callback)\n    return\n  }\n  requestAnimationFrame(callback)\n}\n\nfunction arezSpritesSupported(context) {\n  return context.getExtension('EXT_frag_depth')\n}\n\nfunction isAOSupported(context) {\n  return (\n    context.getExtension('WEBGL_depth_texture') &&\n    context.getExtension('WEBGL_draw_buffers')\n  )\n}\n\n/**\n * Initialize WebGL and set 3D scene up.\n * @private\n */\nMiew.prototype._initGfx = function () {\n  const gfx = {\n    width: this._container.clientWidth,\n    height: this._container.clientHeight\n  }\n\n  const webGLOptions = {\n    preserveDrawingBuffer: true,\n    alpha: true,\n    premultipliedAlpha: false\n  }\n  if (settings.now.antialias) {\n    webGLOptions.antialias = true\n  }\n\n  gfx.renderer2d = new CSS2DRenderer()\n\n  gfx.renderer = new THREE.WebGL1Renderer(webGLOptions)\n  gfx.renderer.shadowMap.enabled = settings.now.shadow.on\n  gfx.renderer.shadowMap.autoUpdate = false\n  gfx.renderer.shadowMap.type = THREE.PCFShadowMap\n  capabilities.init(gfx.renderer)\n\n  // z-sprites and ambient occlusion possibility\n  if (!arezSpritesSupported(gfx.renderer.getContext())) {\n    settings.set('zSprites', false)\n  }\n  if (!isAOSupported(gfx.renderer.getContext())) {\n    settings.set('ao', false)\n  }\n\n  gfx.renderer.autoClear = false\n  gfx.renderer.setPixelRatio(window.devicePixelRatio)\n  gfx.renderer.setSize(gfx.width, gfx.height)\n  gfx.renderer.setClearColor(\n    settings.now.bg.color,\n    Number(!settings.now.bg.transparent)\n  )\n  gfx.renderer.clearColor()\n\n  gfx.renderer2d.setSize(gfx.width, gfx.height)\n\n  gfx.camera = new THREE.PerspectiveCamera(\n    settings.now.camFov,\n    gfx.width / gfx.height,\n    settings.now.camNear,\n    settings.now.camFar\n  )\n  gfx.camera.setMinimalFov(settings.now.camFov)\n  gfx.camera.position.z = settings.now.camDistance\n  gfx.camera.updateProjectionMatrix()\n  gfx.camera.layers.set(gfxutils.LAYERS.DEFAULT)\n  gfx.camera.layers.enable(gfxutils.LAYERS.VOLUME)\n  gfx.camera.layers.enable(gfxutils.LAYERS.VOLUME_BFPLANE)\n\n  gfx.stereoCam = new THREE.StereoCamera()\n\n  gfx.scene = new THREE.Scene()\n\n  const color = chooseFogColor()\n  gfx.scene.fog = new THREE.Fog(\n    color,\n    settings.now.camNear,\n    settings.now.camFar\n  )\n\n  gfx.root = new gfxutils.RCGroup()\n  gfx.scene.add(gfx.root)\n\n  gfx.pivot = new gfxutils.RCGroup()\n  gfx.root.add(gfx.pivot)\n\n  gfx.selectionScene = new THREE.Scene()\n  gfx.selectionRoot = new THREE.Group()\n  gfx.selectionRoot.matrixAutoUpdate = false\n  gfx.selectionScene.add(gfx.selectionRoot)\n\n  gfx.selectionPivot = new THREE.Group()\n  gfx.selectionPivot.matrixAutoUpdate = false\n  gfx.selectionRoot.add(gfx.selectionPivot)\n\n  const light12 = new THREE.DirectionalLight(0xffffff, 0.45)\n  light12.position.set(0, 0.414, 1)\n  light12.layers.enable(gfxutils.LAYERS.TRANSPARENT)\n  light12.castShadow = true\n  light12.shadow.bias = 0.09\n  light12.shadow.radius = settings.now.shadow.radius\n  light12.shadow.camera.layers.set(gfxutils.LAYERS.SHADOWMAP)\n\n  const pixelRatio = gfx.renderer.getPixelRatio()\n  const shadowMapSize = Math.max(gfx.width, gfx.height) * pixelRatio\n  light12.shadow.mapSize.width = shadowMapSize\n  light12.shadow.mapSize.height = shadowMapSize\n  light12.target.position.set(0.0, 0.0, 0.0)\n  gfx.scene.add(light12)\n  gfx.scene.add(light12.target)\n\n  const light3 = new THREE.AmbientLight(0x666666)\n  light3.layers.enable(gfxutils.LAYERS.TRANSPARENT)\n  gfx.scene.add(light3)\n\n  // add axes\n  gfx.axes = new Axes(gfx.root, gfx.camera)\n  const deviceWidth = gfx.width * pixelRatio\n  const deviceHeight = gfx.height * pixelRatio\n\n  gfx.offscreenBuf = new THREE.WebGLRenderTarget(deviceWidth, deviceHeight, {\n    minFilter: THREE.LinearFilter,\n    magFilter: THREE.NearestFilter,\n    format: THREE.RGBAFormat,\n    depthBuffer: true\n  })\n\n  if (gfx.renderer.getContext().getExtension('WEBGL_depth_texture')) {\n    gfx.offscreenBuf.depthTexture = new THREE.DepthTexture()\n    gfx.offscreenBuf.depthTexture.type = THREE.UnsignedShortType\n  }\n\n  gfx.offscreenBuf2 = new THREE.WebGLRenderTarget(deviceWidth, deviceHeight, {\n    minFilter: THREE.LinearFilter,\n    magFilter: THREE.LinearFilter,\n    format: THREE.RGBAFormat,\n    depthBuffer: false\n  })\n\n  gfx.offscreenBuf3 = new THREE.WebGLRenderTarget(deviceWidth, deviceHeight, {\n    minFilter: THREE.LinearFilter,\n    magFilter: THREE.LinearFilter,\n    format: THREE.RGBAFormat,\n    depthBuffer: false\n  })\n\n  gfx.offscreenBuf4 = new THREE.WebGLRenderTarget(deviceWidth, deviceHeight, {\n    minFilter: THREE.LinearFilter,\n    magFilter: THREE.LinearFilter,\n    format: THREE.RGBAFormat,\n    depthBuffer: false\n  })\n\n  gfx.volBFTex = gfx.offscreenBuf3\n  gfx.volFFTex = gfx.offscreenBuf4\n  gfx.volWFFTex = gfx.offscreenBuf\n\n  // use float textures for volume rendering if possible\n  if (gfx.renderer.getContext().getExtension('OES_texture_float')) {\n    gfx.offscreenBuf5 = new THREE.WebGLRenderTarget(deviceWidth, deviceHeight, {\n      minFilter: THREE.LinearFilter,\n      magFilter: THREE.LinearFilter,\n      format: THREE.RGBAFormat,\n      type: THREE.FloatType,\n      depthBuffer: false\n    })\n\n    gfx.offscreenBuf6 = new THREE.WebGLRenderTarget(deviceWidth, deviceHeight, {\n      minFilter: THREE.LinearFilter,\n      magFilter: THREE.LinearFilter,\n      format: THREE.RGBAFormat,\n      type: THREE.FloatType,\n      depthBuffer: false\n    })\n\n    gfx.offscreenBuf7 = new THREE.WebGLRenderTarget(deviceWidth, deviceHeight, {\n      minFilter: THREE.LinearFilter,\n      magFilter: THREE.LinearFilter,\n      format: THREE.RGBAFormat,\n      type: THREE.FloatType,\n      depthBuffer: true\n    })\n\n    gfx.volBFTex = gfx.offscreenBuf5\n    gfx.volFFTex = gfx.offscreenBuf6\n    gfx.volWFFTex = gfx.offscreenBuf7\n  } else {\n    this.logger.warn(\"Device doesn't support OES_texture_float extension\")\n  }\n\n  gfx.stereoBufL = new THREE.WebGLRenderTarget(deviceWidth, deviceHeight, {\n    minFilter: THREE.LinearFilter,\n    magFilter: THREE.LinearFilter,\n    format: THREE.RGBAFormat,\n    depthBuffer: false\n  })\n\n  gfx.stereoBufR = new THREE.WebGLRenderTarget(deviceWidth, deviceHeight, {\n    minFilter: THREE.LinearFilter,\n    magFilter: THREE.LinearFilter,\n    format: THREE.RGBAFormat,\n    depthBuffer: false\n  })\n\n  this._gfx = gfx\n  this._showCanvas()\n\n  this._embedWebXR(settings.now.stereo === 'WEBVR')\n\n  this._container.appendChild(gfx.renderer2d.getElement())\n\n  // add FPS counter\n  const stats = new Stats()\n  stats.domElement.style.position = 'absolute'\n  stats.domElement.style.right = '0'\n  stats.domElement.style.bottom = '0'\n  this._container.appendChild(stats.domElement)\n  this._fps = stats\n  this._fps.show(settings.now.fps)\n}\n\n/**\n * Setup event listeners.\n * @private\n */\nMiew.prototype._initListeners = function () {\n  const self = this\n  window.addEventListener('resize', () => {\n    self._onResize()\n  })\n}\n\n/**\n * Try to add numbers to the base name to make it unique among visuals\n * @private\n */\nMiew.prototype._makeUniqueVisualName = function (baseName) {\n  if (!baseName) {\n    return Math.random().toString()\n  }\n\n  let name = baseName\n  let suffix = 1\n  while (this._visuals.hasOwnProperty(name)) {\n    name = `${baseName} (${suffix.toString()})`\n    suffix++\n  }\n\n  return name\n}\n\n/**\n * Add visual to the viewer\n * @private\n */\nMiew.prototype._addVisual = function (visual) {\n  if (!visual) {\n    return null\n  }\n\n  // change visual name in order to make it unique\n  const name = this._makeUniqueVisualName(visual.name)\n  visual.name = name\n\n  this._visuals[name] = visual\n  this._gfx.pivot.add(visual)\n  if (visual.getSelectionGeo) {\n    this._gfx.selectionPivot.add(visual.getSelectionGeo())\n  }\n\n  return name\n}\n\n/**\n * Remove visual from the viewer\n * @private\n */\nMiew.prototype._removeVisual = function (visual) {\n  let name = ''\n  let obj = null\n  if (visual instanceof Visual) {\n    ;({ name } = visual)\n    obj = visual\n  } else if (typeof visual === 'string') {\n    name = visual\n    obj = this._visuals[name]\n  }\n\n  if (\n    !obj ||\n    !this._visuals.hasOwnProperty(name) ||\n    this._visuals[name] !== obj\n  ) {\n    return\n  }\n\n  if (name === this._curVisualName) {\n    this._curVisualName = undefined\n  }\n\n  delete this._visuals[name]\n  obj.release() // removes nodes from scene\n\n  this._needRender = true\n}\n\n/**\n * Call specified function for each Visual\n * @private\n */\nMiew.prototype._forEachVisual = function (callback) {\n  for (const name in this._visuals) {\n    if (this._visuals.hasOwnProperty(name)) {\n      callback(this._visuals[name])\n    }\n  }\n}\n\n/**\n * Release (destroy) all visuals in the scene\n * @private\n */\nMiew.prototype._releaseAllVisuals = function () {\n  if (!this._gfx || !this._gfx.pivot) {\n    return\n  }\n\n  for (const name in this._visuals) {\n    if (this._visuals.hasOwnProperty(name)) {\n      this._visuals[name].release()\n    }\n  }\n\n  this._visuals = {}\n}\n\n/**\n * Call specified function for each ComplexVisual\n * @private\n */\nMiew.prototype._forEachComplexVisual = function (callback) {\n  if (!this._gfx || !this._gfx.pivot) {\n    return\n  }\n\n  for (const name in this._visuals) {\n    if (\n      this._visuals.hasOwnProperty(name) &&\n      this._visuals[name] instanceof ComplexVisual\n    ) {\n      callback(this._visuals[name])\n    }\n  }\n}\n\n/**\n * Returns ComplexVisual with specified name, or current (if not found), or any, or null\n * @private\n */\nMiew.prototype._getComplexVisual = function (name) {\n  name = name || this._curVisualName\n  let any = null\n  let named = null\n  this._forEachComplexVisual((visual) => {\n    any = visual\n    if (visual.name === name) {\n      named = visual\n    }\n  })\n  return named || any\n}\n\n/**\n * Returns first found VolumeVisual (no more than one should be present actually)\n * @private\n */\nMiew.prototype._getVolumeVisual = function () {\n  let any = null\n  this._forEachVisual((visual) => {\n    if (visual instanceof VolumeVisual) {\n      any = visual\n    }\n  })\n  return any\n}\n\n/**\n * Returns ComplexVisual corresponding to specified complex\n * @private\n */\nMiew.prototype._getVisualForComplex = function (complex) {\n  if (!complex) {\n    return null\n  }\n\n  let found = null\n  this._forEachComplexVisual((visual) => {\n    if (visual.getComplex() === complex) {\n      found = visual\n    }\n  })\n  return found\n}\n\n/*\n * Get a list of names of visuals currently shown by the viewer\n */\nMiew.prototype.getVisuals = function () {\n  return Object.keys(this._visuals)\n}\n\n/*\n * Get complex visuals count\n */\nMiew.prototype.getComplexVisualsCount = function () {\n  let count = 0\n  this._forEachComplexVisual(() => count++)\n  return count\n}\n\n/*\n * Get current visual\n */\nMiew.prototype.getCurrentVisual = function () {\n  return this._curVisualName\n}\n\n/*\n * Set current visual.\n * All further operations will be performed on this visual (complex) if not stated otherwise.\n */\nMiew.prototype.setCurrentVisual = function (name) {\n  if (!this._visuals[name]) {\n    return\n  }\n\n  this._curVisualName = name\n}\n\n/**\n * Run the viewer, start processing update/render frames periodically.\n * Has no effect if already running.\n * @see Miew#halt\n */\nMiew.prototype.run = function () {\n  if (!this._running) {\n    this._running = true\n    if (this._halting) {\n      this._halting = false\n      return\n    }\n\n    this._objectControls.enable(true)\n    this._interpolator.resume()\n\n    this._requestAnimationFrame(() => this._onTick())\n  }\n}\n\n/**\n * Request the viewer to stop.\n * Will be processed during the next frame.\n * @see Miew#run\n */\nMiew.prototype.halt = function () {\n  if (this._running) {\n    this._discardComponentEdit()\n    this._discardFragmentEdit()\n    this._objectControls.enable(false)\n    this._interpolator.pause()\n    this._halting = true\n  }\n}\n\n/**\n * Request the viewer to start / stop responsing\n * on hot keys.\n * @param enabled - start (true) or stop (false) response on hot keys.\n */\nMiew.prototype.enableHotKeys = function (enabled) {\n  this._hotKeysEnabled = enabled\n  this._objectControls.enableHotkeys(enabled)\n}\n\n/**\n * Callback which processes window resize.\n * @private\n */\nMiew.prototype._onResize = function () {\n  this._needRender = true\n\n  const gfx = this._gfx\n  gfx.width = this._container.clientWidth\n  gfx.height = this._container.clientHeight\n\n  gfx.camera.aspect = gfx.width / gfx.height\n  gfx.camera.setMinimalFov(settings.now.camFov)\n  gfx.camera.updateProjectionMatrix()\n\n  gfx.renderer.setSize(gfx.width, gfx.height)\n  gfx.renderer2d.setSize(gfx.width, gfx.height)\n\n  this.dispatchEvent({ type: 'resize' })\n}\n\nMiew.prototype._resizeOffscreenBuffers = function (width, height, stereo) {\n  const gfx = this._gfx\n  stereo = stereo || 'NONE'\n  const isAnaglyph = stereo === 'NONE' || stereo === 'ANAGLYPH'\n  const multi = isAnaglyph ? 1 : 0.5\n  gfx.offscreenBuf.setSize(multi * width, height)\n  gfx.offscreenBuf2.setSize(multi * width, height)\n  gfx.offscreenBuf3.setSize(multi * width, height)\n  gfx.offscreenBuf4.setSize(multi * width, height)\n  if (gfx.offscreenBuf5) {\n    gfx.offscreenBuf5.setSize(multi * width, height)\n  }\n  if (gfx.offscreenBuf6) {\n    gfx.offscreenBuf6.setSize(multi * width, height)\n  }\n  if (gfx.offscreenBuf7) {\n    gfx.offscreenBuf7.setSize(multi * width, height)\n  }\n  if (isAnaglyph) {\n    gfx.stereoBufL.setSize(width, height)\n    gfx.stereoBufR.setSize(width, height)\n  }\n}\n\n/**\n * Callback which processes update/render frames.\n * @private\n */\nMiew.prototype._onTick = function () {\n  if (this._halting) {\n    this._running = false\n    this._halting = false\n    return\n  }\n\n  this._fps.update()\n\n  this._requestAnimationFrame(() => this._onTick())\n\n  this._onUpdate()\n  if (this._needRender) {\n    this._onRender()\n    this._needRender =\n      !settings.now.suspendRender || settings.now.stereo === 'WEBVR'\n  }\n}\n\nMiew.prototype._getBSphereRadius = function () {\n  // calculate radius that would include all visuals\n  let radius = 0\n  this._forEachVisual((visual) => {\n    radius = Math.max(radius, visual.getBoundaries().boundingSphere.radius)\n  })\n  return radius * this._objectControls.getScale()\n}\n\n/**\n * Calculate bounding box that would include all visuals and being axis aligned in world defined by\n * transformation matrix: matrix\n * @param {Matrix4} matrix - transformation matrix.\n * @param {object}  OBB           - calculating bounding box.\n * @param {Vector3} OBB.center    - OBB center.\n * @param {Vector3} OBB.halfSize  - half magnitude of OBB sizes.\n */\nMiew.prototype.getOBB = (function () {\n  const _bSphereForOneVisual = new THREE.Sphere()\n  const _bBoxForOneVisual = new THREE.Box3()\n  const _bBox = new THREE.Box3()\n\n  const _invMatrix = new THREE.Matrix4()\n\n  const _points = [\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n    new THREE.Vector3()\n  ]\n\n  return function (matrix, OBB) {\n    _bBox.makeEmpty()\n\n    this._forEachVisual((visual) => {\n      _bSphereForOneVisual.copy(visual.getBoundaries().boundingSphere)\n      _bSphereForOneVisual.applyMatrix4(visual.matrixWorld).applyMatrix4(matrix)\n      _bSphereForOneVisual.getBoundingBox(_bBoxForOneVisual)\n      _bBox.union(_bBoxForOneVisual)\n    })\n    _bBox.getCenter(OBB.center)\n\n    _invMatrix.copy(matrix).invert()\n    OBB.center.applyMatrix4(_invMatrix)\n\n    const { min } = _bBox\n    const { max } = _bBox\n    _points[0].set(min.x, min.y, min.z) // 000\n    _points[1].set(max.x, min.y, min.z) // 100\n    _points[2].set(min.x, max.y, min.z) // 010\n    _points[3].set(min.x, min.y, max.z) // 001\n    for (let i = 0, l = _points.length; i < l; i++) {\n      _points[i].applyMatrix4(_invMatrix)\n    }\n\n    OBB.halfSize\n      .set(\n        Math.abs(_points[0].x - _points[1].x),\n        Math.abs(_points[0].y - _points[2].y),\n        Math.abs(_points[0].z - _points[3].z)\n      )\n      .multiplyScalar(0.5)\n  }\n})()\n\nMiew.prototype._updateFog = function () {\n  const gfx = this._gfx\n\n  if (settings.now.fog) {\n    if (typeof gfx.scene.fog === 'undefined' || gfx.scene.fog === null) {\n      const color = chooseFogColor()\n      gfx.scene.fog = new THREE.Fog(color)\n      this._setUberMaterialValues({ fog: settings.now.fog })\n    }\n    updateFogRange(\n      gfx.scene.fog,\n      gfx.camera.position.z,\n      this._getBSphereRadius()\n    )\n  } else if (gfx.scene.fog) {\n    gfx.scene.fog = undefined\n    this._setUberMaterialValues({ fog: settings.now.fog })\n  }\n}\n\nMiew.prototype._onUpdate = function () {\n  if (\n    this.isScriptingCommandAvailable !== undefined &&\n    this.isScriptingCommandAvailable() &&\n    !this._building\n  ) {\n    this.callNextCmd()\n  }\n\n  this._objectControls.update()\n\n  this._forEachComplexVisual((visual) => {\n    visual.getComplex().update()\n  })\n\n  if (\n    settings.now.autobuild &&\n    !this._loading.length &&\n    !this._building &&\n    this._needRebuild()\n  ) {\n    this.rebuild()\n  }\n\n  if (!this._loading.length && !this._building && !this._needRebuild()) {\n    this._updateView()\n  }\n\n  this._updateFog()\n\n  if (this._gfx.renderer.xr.enabled) {\n    this.webVR.updateMoleculeScale()\n  }\n}\n\nMiew.prototype._onRender = function () {\n  const gfx = this._gfx\n\n  // update all matrices\n  gfx.scene.updateMatrixWorld()\n  gfx.camera.updateMatrixWorld()\n\n  this._clipPlaneUpdateValue(this._getBSphereRadius())\n  this._fogFarUpdateValue()\n\n  gfx.renderer.setRenderTarget(null)\n  gfx.renderer.clear()\n\n  this._renderFrame(settings.now.stereo)\n}\n\nMiew.prototype._renderFrame = (function () {\n  const _anaglyphMat = new AnaglyphMaterial()\n  const _size = new THREE.Vector2()\n\n  return function (stereo) {\n    const gfx = this._gfx\n    const { renderer } = gfx\n\n    renderer.getSize(_size)\n\n    if (stereo !== 'NONE') {\n      gfx.camera.focus = gfx.camera.position.z // set focus to the center of the object\n      gfx.stereoCam.aspect = 1.0\n\n      // in anaglyph mode we render full-size image for each eye\n      // while in other stereo modes only half-size (two images on the screen)\n      if (stereo === 'ANAGLYPH') {\n        gfx.stereoCam.update(gfx.camera)\n      } else {\n        gfx.stereoCam.updateHalfSized(gfx.camera, settings.now.camFov)\n      }\n    }\n\n    // resize offscreen buffers to match the target\n    const pixelRatio = gfx.renderer.getPixelRatio()\n    this._resizeOffscreenBuffers(\n      _size.width * pixelRatio,\n      _size.height * pixelRatio,\n      stereo\n    )\n\n    this._renderShadowMap()\n\n    switch (stereo) {\n      case 'WEBVR':\n      case 'NONE':\n        this._renderScene(gfx.camera, false)\n        break\n      case 'SIMPLE':\n      case 'DISTORTED':\n        renderer.setScissorTest(true)\n\n        renderer.setScissor(0, 0, _size.width / 2, _size.height)\n        renderer.setViewport(0, 0, _size.width / 2, _size.height)\n        this._renderScene(this._gfx.stereoCam.cameraL, stereo === 'DISTORTED')\n\n        renderer.setScissor(_size.width / 2, 0, _size.width / 2, _size.height)\n        renderer.setViewport(_size.width / 2, 0, _size.width / 2, _size.height)\n        this._renderScene(this._gfx.stereoCam.cameraR, stereo === 'DISTORTED')\n\n        renderer.setScissorTest(false)\n        break\n      case 'ANAGLYPH':\n        this._renderScene(this._gfx.stereoCam.cameraL, false, gfx.stereoBufL)\n        this._renderScene(this._gfx.stereoCam.cameraR, false, gfx.stereoBufR)\n        renderer.setRenderTarget(null)\n        _anaglyphMat.uniforms.srcL.value = gfx.stereoBufL.texture\n        _anaglyphMat.uniforms.srcR.value = gfx.stereoBufR.texture\n        gfx.renderer.renderScreenQuad(_anaglyphMat)\n        break\n      default:\n    }\n\n    gfx.renderer2d.render(gfx.scene, gfx.camera)\n\n    if (settings.now.axes && gfx.axes && !gfx.renderer.xr.enabled) {\n      gfx.axes.render(renderer)\n    }\n  }\n})()\n\nMiew.prototype._onBgColorChanged = function () {\n  const gfx = this._gfx\n  const color = chooseFogColor()\n  if (gfx) {\n    if (gfx.scene.fog) {\n      gfx.scene.fog.color.set(color)\n    }\n    gfx.renderer.setClearColor(\n      settings.now.bg.color,\n      Number(!settings.now.bg.transparent)\n    )\n  }\n  this._needRender = true\n}\n\nMiew.prototype._onFogColorChanged = function () {\n  const gfx = this._gfx\n  const color = chooseFogColor()\n  if (gfx && gfx.scene.fog) {\n    gfx.scene.fog.color.set(color)\n  }\n  this._needRender = true\n}\n\nMiew.prototype._setUberMaterialValues = function (values) {\n  this._gfx.root.traverse((obj) => {\n    if (\n      (obj instanceof THREE.Mesh ||\n        obj instanceof THREE.LineSegments ||\n        obj instanceof THREE.Line) &&\n      obj.material instanceof UberMaterial\n    ) {\n      obj.material.setValues(values)\n      obj.material.needsUpdate = true\n    }\n  })\n}\n\nMiew.prototype._enableMRT = function (on, renderBuffer, textureBuffer) {\n  const gfx = this._gfx\n  const gl = gfx.renderer.getContext()\n  const ext = gl.getExtension('WEBGL_draw_buffers')\n  const { properties } = gfx.renderer\n\n  if (!on) {\n    ext.drawBuffersWEBGL([gl.COLOR_ATTACHMENT0, null])\n    return\n  }\n\n  // take extra texture from Texture Buffer\n  gfx.renderer.setRenderTarget(textureBuffer)\n  const tx8 = properties.get(textureBuffer.texture).__webglTexture\n  gl.bindTexture(gl.TEXTURE_2D, tx8)\n\n  // take texture and framebuffer from renderbuffer\n  gfx.renderer.setRenderTarget(renderBuffer)\n  const fb = properties.get(renderBuffer).__webglFramebuffer\n  const tx = properties.get(renderBuffer.texture).__webglTexture\n\n  // set framebuffer\n  gl.bindFramebuffer(gl.FRAMEBUFFER, fb)\n  fb.width = renderBuffer.width\n  fb.height = renderBuffer.height\n  gl.framebufferTexture2D(\n    gl.FRAMEBUFFER,\n    gl.COLOR_ATTACHMENT0,\n    gl.TEXTURE_2D,\n    tx,\n    0\n  )\n  gl.framebufferTexture2D(\n    gl.FRAMEBUFFER,\n    ext.COLOR_ATTACHMENT1_WEBGL,\n    gl.TEXTURE_2D,\n    tx8,\n    0\n  )\n\n  // mapping textures\n  ext.drawBuffersWEBGL([gl.COLOR_ATTACHMENT0, ext.COLOR_ATTACHMENT1_WEBGL])\n}\n\nMiew.prototype._renderScene = (function () {\n  return function (camera, distortion, target) {\n    distortion = distortion || false\n    target = target || null\n\n    const gfx = this._gfx\n\n    // render to offscreen buffer\n    gfx.renderer.setClearColor(\n      settings.now.bg.color,\n      Number(!settings.now.bg.transparent)\n    )\n    gfx.renderer.setRenderTarget(target)\n    gfx.renderer.clear()\n    if (gfx.renderer.xr.enabled) {\n      gfx.renderer.render(gfx.scene, camera)\n      return\n    }\n\n    // clean buffer for normals texture\n    gfx.renderer.setClearColor(0x000000, 0.0)\n    gfx.renderer.setRenderTarget(gfx.offscreenBuf4)\n    gfx.renderer.clearColor()\n\n    gfx.renderer.setClearColor(\n      settings.now.bg.color,\n      Number(!settings.now.bg.transparent)\n    )\n    gfx.renderer.setRenderTarget(gfx.offscreenBuf)\n    gfx.renderer.clear()\n\n    const bHaveComplexes = this._getComplexVisual() !== null\n    const volumeVisual = this._getVolumeVisual()\n    const ssao = bHaveComplexes && settings.now.ao\n\n    if (ssao) {\n      this._enableMRT(true, gfx.offscreenBuf, gfx.offscreenBuf4)\n    }\n\n    if (settings.now.transparency === 'prepass') {\n      this._renderWithPrepassTransparency(camera, gfx.offscreenBuf)\n    } else if (settings.now.transparency === 'standard') {\n      gfx.renderer.setRenderTarget(gfx.offscreenBuf)\n      gfx.renderer.render(gfx.scene, camera)\n    }\n\n    if (ssao) {\n      this._enableMRT(false, null, null)\n    }\n\n    // when fxaa we should get resulting image in temp off-screen buff2 for further postprocessing with fxaa filter\n    // otherwise we render to canvas\n    const outline = bHaveComplexes && settings.now.outline.on\n    const fxaa = bHaveComplexes && settings.now.fxaa\n    const volume =\n      volumeVisual !== null && volumeVisual.getMesh().material != null\n    let dstBuffer =\n      ssao || outline || volume || fxaa || distortion\n        ? gfx.offscreenBuf2\n        : target\n    let srcBuffer = gfx.offscreenBuf\n\n    if (ssao) {\n      this._performAO(\n        srcBuffer,\n        gfx.offscreenBuf4,\n        gfx.offscreenBuf.depthTexture,\n        dstBuffer,\n        gfx.offscreenBuf3,\n        gfx.offscreenBuf2\n      )\n      if (!fxaa && !distortion && !volume && !outline) {\n        srcBuffer = dstBuffer\n        dstBuffer = target\n        gfx.renderer.setRenderTarget(dstBuffer)\n        gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 1.0)\n      }\n    } else {\n      // just copy color buffer to dst buffer\n      gfx.renderer.setRenderTarget(dstBuffer)\n      gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 1.0)\n    }\n\n    // outline\n    if (outline) {\n      srcBuffer = dstBuffer\n      dstBuffer = volume || fxaa || distortion ? gfx.offscreenBuf3 : target\n      if (srcBuffer != null) {\n        this._renderOutline(camera, gfx.offscreenBuf, srcBuffer, dstBuffer)\n      }\n    }\n\n    // render selected part with outline material\n    this._renderSelection(camera, gfx.offscreenBuf, dstBuffer)\n\n    if (volume) {\n      // copy current picture to the buffer that retains depth-data of the original molecule render\n      // so that volume renderer could use depth-test\n      gfx.renderer.setRenderTarget(gfx.offscreenBuf)\n      gfx.renderer.renderScreenQuadFromTex(dstBuffer.texture, 1.0)\n      dstBuffer = gfx.offscreenBuf\n      this._renderVolume(\n        volumeVisual,\n        camera,\n        dstBuffer,\n        gfx.volBFTex,\n        gfx.volFFTex,\n        gfx.volWFFTex\n      )\n\n      // if this is the last stage -- copy image to target\n      if (!fxaa && !distortion) {\n        gfx.renderer.setRenderTarget(target)\n        gfx.renderer.renderScreenQuadFromTex(dstBuffer.texture, 1.0)\n      }\n    }\n\n    srcBuffer = dstBuffer\n\n    if (fxaa) {\n      dstBuffer = distortion ? gfx.offscreenBuf4 : target\n      this._performFXAA(srcBuffer, dstBuffer)\n      srcBuffer = dstBuffer\n    }\n\n    if (distortion) {\n      dstBuffer = target\n      this._performDistortion(srcBuffer, dstBuffer, true)\n    }\n  }\n})()\n\nMiew.prototype._performDistortion = (function () {\n  const _scene = new THREE.Scene()\n  const _camera = new THREE.OrthographicCamera(-1.0, 1.0, 1.0, -1.0, -500, 1000)\n\n  const _material = new THREE.RawShaderMaterial({\n    uniforms: {\n      srcTex: { type: 't', value: null },\n      aberration: { type: 'fv3', value: new THREE.Vector3(1.0) }\n    },\n    vertexShader: vertexScreenQuadShader,\n    fragmentShader: fragmentScreenQuadFromDistTex,\n    transparent: false,\n    depthTest: false,\n    depthWrite: false\n  })\n\n  const _geo = gfxutils.buildDistorionMesh(\n    10,\n    10,\n    settings.now.debug.stereoBarrel\n  )\n  _scene.add(new meshes.Mesh(_geo, _material))\n\n  return function (srcBuffer, targetBuffer, mesh) {\n    this._gfx.renderer.setRenderTarget(targetBuffer)\n    this._gfx.renderer.clear()\n\n    if (mesh) {\n      _material.uniforms.srcTex.value = srcBuffer.texture\n      _material.uniforms.aberration.value.set(0.995, 1.0, 1.01)\n      this._gfx.renderer.render(_scene, _camera)\n    } else {\n      this._gfx.renderer.renderScreenQuadFromTexWithDistortion(\n        srcBuffer,\n        settings.now.debug.stereoBarrel\n      )\n    }\n  }\n})()\n\nMiew.prototype._renderOutline = (function () {\n  const _outlineMaterial = new OutlineMaterial({ depth: true })\n\n  return function (camera, srcDepthBuffer, srcColorBuffer, targetBuffer) {\n    const self = this\n    const gfx = self._gfx\n\n    // apply Sobel filter -- draw outline\n    _outlineMaterial.uniforms.srcTex.value = srcColorBuffer.texture\n    _outlineMaterial.uniforms.srcDepthTex.value = srcDepthBuffer.depthTexture\n    _outlineMaterial.uniforms.srcTexSize.value.set(\n      srcDepthBuffer.width,\n      srcDepthBuffer.height\n    )\n    _outlineMaterial.uniforms.color.value = new THREE.Color(\n      settings.now.outline.color\n    )\n    _outlineMaterial.uniforms.threshold.value = settings.now.outline.threshold\n    _outlineMaterial.uniforms.thickness.value = new THREE.Vector2(\n      settings.now.outline.thickness,\n      settings.now.outline.thickness\n    )\n\n    gfx.renderer.setRenderTarget(targetBuffer)\n    gfx.renderer.renderScreenQuad(_outlineMaterial)\n  }\n})()\n\nMiew.prototype._renderShadowMap = (function () {\n  const pars = {\n    minFilter: THREE.NearestFilter,\n    magFilter: THREE.NearestFilter,\n    format: THREE.RGBAFormat\n  }\n\n  return function () {\n    if (!settings.now.shadow.on) {\n      return\n    }\n\n    const gfx = this._gfx\n    const currentRenderTarget = gfx.renderer.getRenderTarget()\n    const activeCubeFace = gfx.renderer.getActiveCubeFace()\n    const activeMipmapLevel = gfx.renderer.getActiveMipmapLevel()\n\n    const _state = gfx.renderer.state\n\n    // Set GL state for depth map.\n    _state.setBlending(THREE.NoBlending)\n    _state.buffers.color.setClear(1, 1, 1, 1)\n    _state.buffers.depth.setTest(true)\n    _state.setScissorTest(false)\n\n    for (let i = 0; i < gfx.scene.children.length; i++) {\n      if (gfx.scene.children[i].type === 'DirectionalLight') {\n        const light = gfx.scene.children[i]\n\n        if (light.shadow.map == null) {\n          light.shadow.map = new THREE.WebGLRenderTarget(\n            light.shadow.mapSize.width,\n            light.shadow.mapSize.height,\n            pars\n          )\n          light.shadow.camera.updateProjectionMatrix()\n        }\n        light.shadow.updateMatrices(light)\n\n        gfx.renderer.setRenderTarget(light.shadow.map)\n        gfx.renderer.clear()\n\n        gfx.renderer.render(gfx.scene, light.shadow.camera)\n      }\n    }\n    gfx.renderer.setRenderTarget(\n      currentRenderTarget,\n      activeCubeFace,\n      activeMipmapLevel\n    )\n  }\n})()\n\n/**\n * Check if there is selection which must be rendered or not.\n * @private\n * @returns {boolean} true on existing selection to render\n */\nMiew.prototype._hasSelectionToRender = function () {\n  const selPivot = this._gfx.selectionPivot\n\n  for (let i = 0; i < selPivot.children.length; i++) {\n    const selPivotChild = selPivot.children[i]\n    if (selPivotChild.children.length > 0) {\n      return true\n    }\n  }\n  return false\n}\n\nMiew.prototype._renderSelection = (function () {\n  const _outlineMaterial = new OutlineMaterial()\n\n  return function (camera, srcBuffer, targetBuffer) {\n    const self = this\n    const gfx = self._gfx\n\n    // clear offscreen buffer (leave z-buffer intact)\n    gfx.renderer.setClearColor('black', 0)\n\n    // render selection to offscreen buffer\n    gfx.renderer.setRenderTarget(srcBuffer)\n    gfx.renderer.clear(true, false, false)\n    if (self._hasSelectionToRender()) {\n      gfx.selectionRoot.matrix = gfx.root.matrix\n      gfx.selectionPivot.matrix = gfx.pivot.matrix\n      gfx.renderer.render(gfx.selectionScene, camera)\n    } else {\n      // just render something to force \"target clear\" operation to finish\n      gfx.renderer.renderDummyQuad()\n    }\n\n    // overlay to screen\n    gfx.renderer.setRenderTarget(targetBuffer)\n    gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 0.6)\n\n    // apply Sobel filter -- draw outline\n    _outlineMaterial.uniforms.srcTex.value = srcBuffer.texture\n    _outlineMaterial.uniforms.srcTexSize.value.set(\n      srcBuffer.width,\n      srcBuffer.height\n    )\n    gfx.renderer.renderScreenQuad(_outlineMaterial)\n  }\n})()\n\nMiew.prototype._checkVolumeRenderingSupport = function (renderTarget) {\n  if (!renderTarget) {\n    return false\n  }\n  const gfx = this._gfx\n  const oldRT = gfx.renderer.getRenderTarget()\n\n  gfx.renderer.setRenderTarget(renderTarget)\n  const context = gfx.renderer.getContext()\n  const result = context.checkFramebufferStatus(context.FRAMEBUFFER)\n  gfx.renderer.setRenderTarget(oldRT)\n  if (result !== context.FRAMEBUFFER_COMPLETE) {\n    // floatFrameBufferWarning = ;\n    this.logger.warn(\"Device doesn't support electron density rendering\")\n    return false\n  }\n  return true\n}\n\nMiew.prototype._renderVolume = (function () {\n  const volumeBFMat = new VolumeMaterial.BackFacePosMaterial()\n  const volumeFFMat = new VolumeMaterial.FrontFacePosMaterial()\n  const cubeOffsetMat = new THREE.Matrix4().makeTranslation(0.5, 0.5, 0.5)\n  const world2colorMat = new THREE.Matrix4()\n\n  let volumeRenderingSupported\n\n  return function (volumeVisual, camera, dstBuf, tmpBuf1, tmpBuf2, tmpBuf3) {\n    const gfx = this._gfx\n\n    if (typeof volumeRenderingSupported === 'undefined') {\n      volumeRenderingSupported = this._checkVolumeRenderingSupport(tmpBuf1)\n    }\n\n    if (!volumeRenderingSupported) {\n      return\n    }\n\n    const mesh = volumeVisual.getMesh()\n\n    mesh.rebuild(gfx.camera)\n\n    // use main camera to prepare special textures to be used by volumetric rendering\n    // these textures have the size of the window and are stored in offscreen buffers\n    gfx.renderer.setClearColor('black', 0)\n    gfx.renderer.setRenderTarget(tmpBuf1)\n    gfx.renderer.clear()\n    gfx.renderer.setRenderTarget(tmpBuf2)\n    gfx.renderer.clear()\n    gfx.renderer.setRenderTarget(tmpBuf3)\n    gfx.renderer.clear()\n\n    gfx.renderer.setRenderTarget(tmpBuf1)\n    // draw plane with its own material, because it differs slightly from volumeBFMat\n    camera.layers.set(gfxutils.LAYERS.VOLUME_BFPLANE)\n    gfx.renderer.render(gfx.scene, camera)\n\n    camera.layers.set(gfxutils.LAYERS.VOLUME)\n    gfx.scene.overrideMaterial = volumeBFMat\n    gfx.renderer.render(gfx.scene, camera)\n\n    gfx.renderer.setRenderTarget(tmpBuf2)\n    camera.layers.set(gfxutils.LAYERS.VOLUME)\n    gfx.scene.overrideMaterial = volumeFFMat\n    gfx.renderer.render(gfx.scene, camera)\n\n    gfx.scene.overrideMaterial = null\n    camera.layers.set(gfxutils.LAYERS.DEFAULT)\n\n    // prepare texture that contains molecule positions\n    world2colorMat.copy(mesh.matrixWorld).invert()\n    UberMaterial.prototype.uberOptions.world2colorMatrix.multiplyMatrices(\n      cubeOffsetMat,\n      world2colorMat\n    )\n    camera.layers.set(gfxutils.LAYERS.COLOR_FROM_POSITION)\n    gfx.renderer.setRenderTarget(tmpBuf3)\n    gfx.renderer.render(gfx.scene, camera)\n\n    // render volume\n    const vm = mesh.material\n    vm.uniforms._BFRight.value = tmpBuf1.texture\n    vm.uniforms._FFRight.value = tmpBuf2.texture\n    vm.uniforms._WFFRight.value = tmpBuf3.texture\n    camera.layers.set(gfxutils.LAYERS.VOLUME)\n    gfx.renderer.setRenderTarget(dstBuf)\n    gfx.renderer.render(gfx.scene, camera)\n    camera.layers.set(gfxutils.LAYERS.DEFAULT)\n  }\n})()\n\n/*  Render scene with 'ZPrepass transparency Effect'\n * Idea: transparent objects are rendered in two passes. The first one writes result only into depth buffer.\n * The second pass reads depth buffer and writes only to color buffer. The method results in\n * correct image of front part of the semi-transparent objects, but we can see only front transparent objects\n * and opaque objects inside, there is no transparent objects inside.\n * Notes: 1. Opaque objects should be rendered strictly before semi-transparent ones.\n * 2. Realization doesn't use camera layers because scene traversing is used for material changes and\n * we can use it to select needed meshes and don't complicate meshes builders with layers\n */\nMiew.prototype._renderWithPrepassTransparency = (function () {\n  return function (camera, targetBuffer) {\n    const gfx = this._gfx\n    gfx.renderer.setRenderTarget(targetBuffer)\n\n    // opaque objects\n    camera.layers.set(gfxutils.LAYERS.DEFAULT)\n    gfx.renderer.render(gfx.scene, camera)\n\n    // transparent objects z prepass\n    camera.layers.set(gfxutils.LAYERS.PREPASS_TRANSPARENT)\n    gfx.renderer.getContext().colorMask(false, false, false, false) // don't update color buffer\n    gfx.renderer.render(gfx.scene, camera)\n    gfx.renderer.getContext().colorMask(true, true, true, true) // update color buffer\n\n    // transparent objects color pass\n    camera.layers.set(gfxutils.LAYERS.TRANSPARENT)\n    gfx.renderer.render(gfx.scene, camera)\n\n    // restore default layer\n    camera.layers.set(gfxutils.LAYERS.DEFAULT)\n  }\n})()\n\nMiew.prototype._performFXAA = (function () {\n  const _fxaaMaterial = new FXAAMaterial()\n\n  return function (srcBuffer, targetBuffer) {\n    if (\n      typeof srcBuffer === 'undefined' ||\n      typeof targetBuffer === 'undefined'\n    ) {\n      return\n    }\n\n    const gfx = this._gfx\n\n    // clear canvas\n    gfx.renderer.setClearColor(\n      settings.now.bg.color,\n      Number(!settings.now.bg.transparent)\n    )\n    gfx.renderer.setRenderTarget(targetBuffer)\n    gfx.renderer.clear()\n\n    // do fxaa processing of offscreen buff2\n    _fxaaMaterial.uniforms.srcTex.value = srcBuffer.texture\n    _fxaaMaterial.uniforms.srcTexelSize.value.set(\n      1.0 / srcBuffer.width,\n      1.0 / srcBuffer.height\n    )\n    _fxaaMaterial.uniforms.bgColor.value.set(settings.now.bg.color)\n\n    if (_fxaaMaterial.bgTransparent !== settings.now.bg.transparent) {\n      _fxaaMaterial.setValues({ bgTransparent: settings.now.bg.transparent })\n      _fxaaMaterial.needsUpdate = true\n    }\n    gfx.renderer.renderScreenQuad(_fxaaMaterial)\n  }\n})()\n\nMiew.prototype._performAO = (function () {\n  const _aoMaterial = new AOMaterial()\n  const _horBlurMaterial = new AOHorBlurMaterial()\n  const _vertBlurMaterial = new AOVertBlurWithBlendMaterial()\n\n  const _scale = new THREE.Vector3()\n  return function (\n    srcColorBuffer,\n    normalBuffer,\n    srcDepthTexture,\n    targetBuffer,\n    tempBuffer,\n    tempBuffer1\n  ) {\n    if (\n      !srcColorBuffer ||\n      !normalBuffer ||\n      !srcDepthTexture ||\n      !targetBuffer ||\n      !tempBuffer ||\n      !tempBuffer1\n    ) {\n      return\n    }\n    const gfx = this._gfx\n    const tanHalfFOV = Math.tan(THREE.MathUtils.DEG2RAD * 0.5 * gfx.camera.fov)\n\n    _aoMaterial.uniforms.diffuseTexture.value = srcColorBuffer.texture\n    _aoMaterial.uniforms.depthTexture.value = srcDepthTexture\n    _aoMaterial.uniforms.normalTexture.value = normalBuffer.texture\n    _aoMaterial.uniforms.srcTexelSize.value.set(\n      1.0 / srcColorBuffer.width,\n      1.0 / srcColorBuffer.height\n    )\n    _aoMaterial.uniforms.camNearFar.value.set(gfx.camera.near, gfx.camera.far)\n    _aoMaterial.uniforms.projMatrix.value = gfx.camera.projectionMatrix\n    _aoMaterial.uniforms.aspectRatio.value = gfx.camera.aspect\n    _aoMaterial.uniforms.tanHalfFOV.value = tanHalfFOV\n    gfx.root.matrix.extractScale(_scale)\n    _aoMaterial.uniforms.kernelRadius.value =\n      settings.now.debug.ssaoKernelRadius * _scale.x\n    _aoMaterial.uniforms.depthThreshold.value = 2.0 * this._getBSphereRadius() // diameter\n    _aoMaterial.uniforms.factor.value = settings.now.debug.ssaoFactor\n    // N: should be tempBuffer1 for proper use of buffers (see buffers using outside the function)\n    gfx.renderer.setRenderTarget(tempBuffer1)\n    gfx.renderer.renderScreenQuad(_aoMaterial)\n\n    _horBlurMaterial.uniforms.aoMap.value = tempBuffer1.texture\n    _horBlurMaterial.uniforms.srcTexelSize.value.set(\n      1.0 / tempBuffer1.width,\n      1.0 / tempBuffer1.height\n    )\n    _horBlurMaterial.uniforms.depthTexture.value = srcDepthTexture\n    gfx.renderer.setRenderTarget(tempBuffer)\n    gfx.renderer.renderScreenQuad(_horBlurMaterial)\n\n    _vertBlurMaterial.uniforms.aoMap.value = tempBuffer.texture\n    _vertBlurMaterial.uniforms.diffuseTexture.value = srcColorBuffer.texture\n    _vertBlurMaterial.uniforms.srcTexelSize.value.set(\n      1.0 / tempBuffer.width,\n      1.0 / tempBuffer.height\n    )\n    _vertBlurMaterial.uniforms.depthTexture.value = srcDepthTexture\n    _vertBlurMaterial.uniforms.projMatrix.value = gfx.camera.projectionMatrix\n    _vertBlurMaterial.uniforms.aspectRatio.value = gfx.camera.aspect\n    _vertBlurMaterial.uniforms.tanHalfFOV.value = tanHalfFOV\n    const { fog } = gfx.scene\n    if (fog) {\n      _vertBlurMaterial.uniforms.fogNearFar.value.set(fog.near, fog.far)\n      _vertBlurMaterial.uniforms.fogColor.value.set(\n        fog.color.r,\n        fog.color.g,\n        fog.color.b,\n        settings.now.fogAlpha\n      )\n    }\n    if (\n      _vertBlurMaterial.useFog !== settings.now.fog ||\n      _vertBlurMaterial.fogTransparent !== settings.now.bg.transparent\n    ) {\n      _vertBlurMaterial.setValues({\n        useFog: settings.now.fog,\n        fogTransparent: settings.now.bg.transparent\n      })\n      _vertBlurMaterial.needsUpdate = true\n    }\n    gfx.renderer.setRenderTarget(targetBuffer)\n    gfx.renderer.renderScreenQuad(_vertBlurMaterial)\n  }\n})()\n\n/**\n * Reset the viewer, unload molecules.\n * @param {boolean=} keepReps - Keep representations while resetting viewer state.\n */\nMiew.prototype.reset = function (/* keepReps */) {\n  if (this._picker) {\n    this._picker.reset()\n  }\n  this._lastPick = null\n\n  this._releaseAllVisuals()\n\n  this._setEditMode(EDIT_MODE.COMPLEX)\n\n  this._resetObjects()\n\n  if (this._gfx) {\n    gfxutils.clearTree(this._gfx.pivot)\n    this._gfx.renderer2d.reset()\n  }\n\n  this.setNeedRender()\n}\n\nMiew.prototype._resetScene = function () {\n  this._objectControls.reset()\n  this._objectControls.allowTranslation(true)\n  this._objectControls.allowAltObjFreeRotation(true)\n  this.resetReps()\n  this.resetPivot()\n  this.rebuildAll()\n}\n\nMiew.prototype.resetView = function () {\n  // reset controls\n  if (this._picker) {\n    this._picker.reset()\n  }\n  this._setEditMode(EDIT_MODE.COMPLEX)\n  this._resetScene()\n\n  // reset selection\n  this._forEachComplexVisual((visual) => {\n    visual.updateSelectionMask({})\n    visual.rebuildSelectionGeometry()\n  })\n}\n\nMiew.prototype._export = function (format) {\n  const TheExporter = _.head(io.exporters.find({ format }))\n  if (!TheExporter) {\n    this.logger.error('Could not find suitable exporter for this source')\n    return Promise.reject(\n      new Error('Could not find suitable exporter for this source')\n    )\n  }\n  this.dispatchEvent({ type: 'exporting' })\n\n  if (this._visuals[this._curVisualName] instanceof ComplexVisual) {\n    let dataSource = null\n    if (TheExporter.SourceClass === ComplexVisual) {\n      dataSource = this._visuals[this._curVisualName]\n    } else if (TheExporter.SourceClass === Complex) {\n      dataSource = this._visuals[this._curVisualName]._complex\n    }\n    const exporter = new TheExporter(dataSource, { miewVersion: Miew.VERSION })\n    return exporter.export().then((data) => data)\n  }\n  if (this._visuals[this._curVisualName] instanceof VolumeVisual) {\n    return Promise.reject(\n      new Error('Sorry, exporter for volume data not implemented yet')\n    )\n  }\n  return Promise.reject(new Error('Unexpected format of data'))\n}\n\nconst rePdbId = /^(?:(pdb|cif|mmtf|ccp4|dsn6):\\s*)?(\\d[a-z\\d]{3})$/i\nconst rePubchem = /^(?:pc|pubchem):\\s*([a-z]+)$/i\nconst reUrlScheme = /^([a-z][a-z\\d\\-+.]*):/i\n\nfunction resolveSourceShortcut(source, opts) {\n  if (!_.isString(source)) {\n    return source\n  }\n\n  // e.g. \"mmtf:1CRN\"\n  const matchesPdbId = rePdbId.exec(source)\n  if (matchesPdbId) {\n    let [, format = 'pdb', id] = matchesPdbId\n\n    format = format.toLowerCase()\n    id = id.toUpperCase()\n\n    switch (format) {\n      case 'pdb':\n        source = `https://files.rcsb.org/download/${id}.pdb`\n        break\n      case 'cif':\n        source = `https://files.rcsb.org/download/${id}.cif`\n        break\n      case 'mmtf':\n        source = `https://mmtf.rcsb.org/v1.0/full/${id}`\n        break\n      case 'ccp4':\n        source = `https://www.ebi.ac.uk/pdbe/coordinates/files/${id.toLowerCase()}.ccp4`\n        break\n      case 'dsn6':\n        source = `https://edmaps.rcsb.org/maps/${id.toLowerCase()}_2fofc.dsn6`\n        break\n      default:\n        throw new Error('Unexpected data format shortcut')\n    }\n\n    opts.fileType = format\n    opts.fileName = `${id}.${format}`\n    opts.sourceType = 'url'\n    return source\n  }\n\n  // e.g. \"pc:aspirin\"\n  const matchesPubchem = rePubchem.exec(source)\n  if (matchesPubchem) {\n    const compound = matchesPubchem[1].toLowerCase()\n    source = `https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/name/${compound}/JSON?record_type=3d`\n    opts.fileType = 'pubchem'\n    opts.fileName = `${compound}.json`\n    opts.sourceType = 'url'\n    return source\n  }\n\n  // otherwise is should be an URL\n  if (opts.sourceType === 'url' || opts.sourceType === undefined) {\n    opts.sourceType = 'url'\n\n    // e.g. \"./data/1CRN.pdb\"\n    if (!reUrlScheme.test(source)) {\n      source = utils.resolveURL(source)\n    }\n  }\n\n  return source\n}\n\nfunction updateBinaryMode(opts) {\n  let { binary } = opts\n\n  // detect by format\n  if (opts.fileType !== undefined) {\n    const TheParser = _.head(io.parsers.find({ format: opts.fileType }))\n    if (TheParser) {\n      binary = TheParser.binary || false\n    } else {\n      throw new Error('Could not find suitable parser for this format')\n    }\n  }\n\n  // detect by file extension\n  if (binary === undefined && opts.fileExt !== undefined) {\n    const TheParser = _.head(io.parsers.find({ ext: opts.fileExt }))\n    if (TheParser) {\n      binary = TheParser.binary || false\n    }\n  }\n\n  // temporary workaround for animation\n  if (opts.fileExt !== undefined && opts.fileExt.toLowerCase() === '.man') {\n    opts.binary = true\n    opts.animation = true // who cares?\n  }\n\n  // update if detected\n  if (binary !== undefined) {\n    if (opts.binary !== undefined && opts.binary !== binary) {\n      opts.context.logger.warn('Overriding incorrect binary mode')\n    }\n  }\n\n  opts.binary = binary || false\n}\n\nfunction _fetchData(source, opts, job) {\n  return new Promise((resolve) => {\n    if (job.shouldCancel()) {\n      throw new Error('Operation cancelled')\n    }\n    job.notify({ type: 'fetching' })\n\n    // allow for source shortcuts\n    source = resolveSourceShortcut(source, opts)\n\n    // detect a proper loader\n    const TheLoader = _.head(io.loaders.find({ type: opts.sourceType, source }))\n    if (!TheLoader) {\n      throw new Error(LOADER_NOT_FOUND)\n    }\n\n    // split file name\n    const fileName = opts.fileName || TheLoader.extractName(source)\n    if (fileName) {\n      const [name, fileExt] = utils.splitFileName(fileName)\n      _.defaults(opts, { name, fileExt, fileName })\n    }\n\n    // should it be text or binary?\n    updateBinaryMode(opts)\n\n    // FIXME: All new settings retrieved from server are applied after the loading is complete. However, we need some\n    // flags to alter the loading process itself. Here we apply them in advance. Dirty hack. Kill the server, remove\n    // all hacks and everybody's happy.\n    let newOptions = _.get(opts, 'preset.expression')\n    if (!_.isUndefined(newOptions)) {\n      newOptions = JSON.parse(newOptions)\n      if (newOptions && newOptions.settings) {\n        const keys = ['singleUnit']\n        for (\n          let keyIndex = 0, keyCount = keys.length;\n          keyIndex < keyCount;\n          ++keyIndex\n        ) {\n          const key = keys[keyIndex]\n          const value = _.get(newOptions.settings, key)\n          if (!_.isUndefined(value)) {\n            settings.set(key, value)\n          }\n        }\n      }\n    }\n\n    // create a loader\n    const loader = new TheLoader(source, opts)\n    loader.context = opts.context\n    job.addEventListener('cancel', () => loader.abort())\n\n    loader.addEventListener('progress', (event) => {\n      if (event.lengthComputable && event.total > 0) {\n        reportProgress(loader.logger, 'Fetching', event.loaded / event.total)\n      } else {\n        reportProgress(loader.logger, 'Fetching')\n      }\n    })\n\n    console.time('fetch')\n    const promise = loader\n      .load()\n      .then((data) => {\n        console.timeEnd('fetch')\n        opts.context.logger.info('Fetching finished')\n        job.notify({ type: 'fetchingDone', data })\n        return data\n      })\n      .catch((error) => {\n        console.timeEnd('fetch')\n        opts.context.logger.debug(error.message)\n        if (error.stack) {\n          opts.context.logger.debug(error.stack)\n        }\n        opts.context.logger.error('Fetching failed')\n        job.notify({ type: 'fetchingDone', error })\n        throw error\n      })\n    resolve(promise)\n  })\n}\n\nfunction _parseData(data, opts, job) {\n  if (job.shouldCancel()) {\n    return Promise.reject(new Error('Operation cancelled'))\n  }\n\n  job.notify({ type: 'parsing' })\n\n  const TheParser = _.head(\n    io.parsers.find({ format: opts.fileType, ext: opts.fileExt, data })\n  )\n  if (!TheParser) {\n    return Promise.reject(new Error('Could not find suitable parser'))\n  }\n\n  const parser = new TheParser(data, opts)\n  parser.context = opts.context\n  job.addEventListener('cancel', () => parser.abort())\n\n  console.time('parse')\n  return parser\n    .parse()\n    .then((dataSet) => {\n      console.timeEnd('parse')\n      job.notify({ type: 'parsingDone', data: dataSet })\n      return dataSet\n    })\n    .catch((error) => {\n      console.timeEnd('parse')\n      opts.error = error\n      opts.context.logger.debug(error.message)\n      if (error.stack) {\n        opts.context.logger.debug(error.stack)\n      }\n      opts.context.logger.error('Parsing failed')\n      job.notify({ type: 'parsingDone', error })\n      throw error\n    })\n}\n\n/**\n * Load molecule asynchronously.\n * @param {string|File} source - Molecule source to load (e.g. PDB ID, URL or File object).\n * @param {object=} opts - Options.\n * @param {string=} opts.sourceType - Data source type (e.g. 'url', 'file').\n * @param {string=} opts.fileType - Data contents type (e.g. 'pdb', 'cml').\n * @param {string=} opts.mdFile - .nc file path.\n * @param {boolean=} opts.keepRepsInfo - prevent reset of object and reps information.\n * @returns {Promise} name of the visual that was added to the viewer\n */\nMiew.prototype.load = function (source, opts) {\n  opts = _.merge({}, opts, {\n    context: this\n  })\n\n  // for a single-file scenario\n  if (!this.settings.now.use.multiFile) {\n    // abort all loaders in progress\n    if (this._loading.length) {\n      this._loading.forEach((job) => {\n        job.cancel()\n      })\n      this._loading.length = 0\n    }\n\n    // reset\n    if (!opts.animation) {\n      // FIXME: sometimes it is set AFTERWARDS!\n      this.reset(true)\n    }\n  }\n\n  this._interpolator.reset()\n\n  this.dispatchEvent({ type: 'loading', options: opts, source })\n\n  const job = new JobHandle()\n  this._loading.push(job)\n  job.addEventListener('notification', (e) => {\n    this.dispatchEvent(e.slaveEvent)\n  })\n\n  this._spinner.spin(this._container)\n\n  const onLoadEnd = (anything) => {\n    const jobIndex = this._loading.indexOf(job)\n    if (jobIndex !== -1) {\n      this._loading.splice(jobIndex, 1)\n    }\n    this._spinner.stop()\n    this._refreshTitle()\n    job.notify({ type: 'loadingDone', anything })\n    return anything\n  }\n\n  return _fetchData(source, opts, job)\n    .then((data) => _parseData(data, opts, job))\n    .then((object) => {\n      const name = this._onLoad(object, opts)\n      return onLoadEnd(name)\n    })\n    .catch((err) => {\n      this.logger.error('Could not load data')\n      this.logger.debug(err)\n      throw onLoadEnd(err)\n    })\n}\n\n/**\n * Unload molecule (delete corresponding visual).\n * @param {string=} name - name of the visual\n */\nMiew.prototype.unload = function (name) {\n  this._removeVisual(name || this.getCurrentVisual())\n  this.resetPivot()\n  if (settings.now.shadow.on) {\n    this._updateShadowCamera()\n  }\n}\n\n/**\n * Start new animation. Now is broken.\n * @param fileData - new data to animate\n * @private\n * @deprecated until animation system refactoring.\n */\nMiew.prototype._startAnimation = function (fileData) {\n  this._stopAnimation()\n  const self = this\n  const visual = this._getComplexVisual()\n  if (visual === null) {\n    this.logger.error('Unable to start animation - no molecule is loaded.')\n    return\n  }\n  try {\n    this._frameInfo = new FrameInfo(visual.getComplex(), fileData, {\n      onLoadStatusChanged() {\n        self.dispatchEvent({\n          type: 'mdPlayerStateChanged',\n          state: {\n            isPlaying: self._isAnimating,\n            isLoading: self._frameInfo ? self._frameInfo.isLoading : true\n          }\n        })\n      },\n      onError(message) {\n        self._stopAnimation()\n        self.logger.error(message)\n      }\n    })\n  } catch (e) {\n    this.logger.error('Animation file does not fit to current complex!')\n    return\n  }\n  this._continueAnimation()\n}\n\n/**\n * Pause current animation. Now is broken.\n * @private\n * @deprecated until animation system refactoring.\n */\nMiew.prototype._pauseAnimation = function () {\n  if (this._animInterval === null) {\n    return\n  }\n  this._isAnimating = false\n  clearInterval(this._animInterval)\n  this._animInterval = null\n  if (this._frameInfo) {\n    this.dispatchEvent({\n      type: 'mdPlayerStateChanged',\n      state: {\n        isPlaying: this._isAnimating,\n        isLoading: this._frameInfo.isLoading\n      }\n    })\n  }\n}\n\n/**\n * Continue current animation after pausing. Now is broken.\n * @private\n * @deprecated until animation system refactoring.\n */\nMiew.prototype._continueAnimation = function () {\n  this._isAnimating = true\n  let minFrameTime = 1000 / settings.now.maxfps\n  minFrameTime = Number.isNaN(minFrameTime) ? 0 : minFrameTime\n  const self = this\n  const { pivot } = self._gfx\n  const visual = this._getComplexVisual()\n  if (visual) {\n    visual.resetSelectionMask()\n    visual.rebuildSelectionGeometry()\n    this._msgAtomInfo.style.opacity = 0.0\n  }\n  this._animInterval = setInterval(() => {\n    self.dispatchEvent({\n      type: 'mdPlayerStateChanged',\n      state: {\n        isPlaying: self._isAnimating,\n        isLoading: self._frameInfo.isLoading\n      }\n    })\n    if (self._frameInfo.frameIsReady) {\n      pivot.updateToFrame(self._frameInfo)\n      self._updateObjsToFrame(self._frameInfo)\n      self._refreshTitle(\n        ` Frame ${self._frameInfo._currFrame} of ${self._frameInfo._framesCount} time interval - ${self._frameInfo._timeStep}`\n      )\n      try {\n        self._frameInfo.nextFrame()\n      } catch (e) {\n        self.logger.error('Error during animation')\n        self._stopAnimation()\n        return\n      }\n      self._needRender = true\n    }\n  }, minFrameTime)\n}\n\n/**\n * Stop current animation. Now is broken.\n * @private\n * @deprecated until animation system refactoring.\n */\nMiew.prototype._stopAnimation = function () {\n  if (this._animInterval === null) {\n    return\n  }\n  clearInterval(this._animInterval)\n  this._frameInfo.disableEvents()\n  this._frameInfo = null\n  this._animInterval = null\n  this.dispatchEvent({\n    type: 'mdPlayerStateChanged',\n    state: null\n  })\n}\n\n/**\n * Invoked upon successful loading of some data source\n * @param {DataSource} dataSource - Data source for visualization (molecular complex or other)\n * @param {object} opts - Options.\n * @private\n */\nMiew.prototype._onLoad = function (dataSource, opts) {\n  const gfx = this._gfx\n  let visualName = null\n\n  if (opts.animation) {\n    this._refreshTitle()\n    this._startAnimation(dataSource)\n    return null\n  }\n  this._stopAnimation()\n  if (!opts || !opts.keepRepsInfo) {\n    this._opts.reps = null\n    this._opts._objects = null\n  }\n\n  if (dataSource.id === 'Complex') {\n    const complex = dataSource\n\n    // update title\n    if (opts.fileName) {\n      complex.name =\n        complex.name || removeExtension(opts.fileName).toUpperCase()\n    } else if (opts.amberFileName) {\n      complex.name =\n        complex.name || removeExtension(opts.amberFileName).toUpperCase()\n    } else {\n      complex.name = `Dynamic ${opts.fileType} molecule`\n    }\n\n    visualName = this._addVisual(new ComplexVisual(complex.name, complex))\n    this._curVisualName = visualName\n\n    const desc = this.info()\n    this.logger.info(\n      `Parsed ${opts.fileName} (${desc.atoms} atoms, ${desc.bonds} bonds, ${desc.residues} residues, ${desc.chains} chains).`\n    )\n\n    if (_.isNumber(this._opts.unit)) {\n      complex.setCurrentUnit(this._opts.unit)\n    }\n\n    if (opts.preset) {\n      // ...removed server access...\n    } else if (settings.now.autoPreset) {\n      switch (opts.fileType) {\n        case 'cml':\n          this.resetReps('small')\n          break\n        case 'pdb':\n        case 'mmtf':\n        case 'cif':\n          if (hasValidResidues(complex)) {\n            this.resetReps('macro')\n          } else {\n            this.resetReps('small')\n          }\n          break\n        default:\n          this.resetReps('default')\n          break\n      }\n    } else {\n      this.resetReps('default')\n    }\n  } else if (dataSource.id === 'Volume') {\n    this.resetEd()\n    visualName = this._onLoadEd(dataSource)\n  }\n\n  gfx.camera.updateProjectionMatrix()\n  this._updateFog()\n\n  // reset global transform\n  gfx.root.resetTransform()\n  this.resetPivot()\n\n  // set scale to fit everything on the screen\n  this._objectControls.setScale(\n    settings.now.radiusToFit / this._getBSphereRadius()\n  )\n\n  this._resetObjects()\n\n  if (settings.now.autoResolution) {\n    this._tweakResolution()\n  }\n\n  if (settings.now.shadow.on) {\n    this._updateShadowCamera()\n  }\n\n  if (this._opts.view) {\n    this.view(this._opts.view)\n    delete this._opts.view\n  }\n\n  this._refreshTitle()\n\n  return visualName\n}\n\nMiew.prototype.resetEd = function () {\n  if (this._edLoader) {\n    this._edLoader.abort()\n    this._edLoader = null\n  }\n\n  // free all resources\n  this._removeVisual(this._getVolumeVisual())\n\n  this._needRender = true\n}\n\nMiew.prototype.loadEd = function (source) {\n  this.resetEd()\n\n  const TheLoader = _.head(io.loaders.find({ source }))\n  if (!TheLoader) {\n    this.logger.error(LOADER_NOT_FOUND)\n    return Promise.reject(new Error(LOADER_NOT_FOUND))\n  }\n\n  const loader = (this._edLoader = new TheLoader(source, { binary: true }))\n  loader.context = this\n  return loader\n    .load()\n    .then((data) => {\n      const TheParser = _.head(io.parsers.find({ format: 'ccp4' }))\n      if (!TheParser) {\n        throw new Error(PARSER_NOT_FOUND)\n      }\n      const parser = new TheParser(data)\n      parser.context = this\n      return parser.parse().then((dataSource) => {\n        this._onLoadEd(dataSource)\n      })\n    })\n    .catch((error) => {\n      this.logger.error('Could not load ED data')\n      this.logger.debug(error)\n    })\n}\n\nMiew.prototype._onLoadEd = function (dataSource) {\n  dataSource.normalize()\n\n  const volumeVisual = new VolumeVisual('volume', dataSource)\n  volumeVisual.getMesh().layers.set(gfxutils.LAYERS.VOLUME) // volume mesh is not visible to common render\n  const visualName = this._addVisual(volumeVisual)\n\n  this._needRender = true\n  return visualName\n}\n\nMiew.prototype._needRebuild = function () {\n  let needsRebuild = false\n  this._forEachComplexVisual((visual) => {\n    needsRebuild = needsRebuild || visual.needsRebuild()\n  })\n  return needsRebuild\n}\n\nMiew.prototype._rebuildObjects = function () {\n  const self = this\n  const gfx = this._gfx\n  let i\n  let n\n\n  // remove old object geometry\n  const toRemove = []\n  for (i = 0; i < gfx.pivot.children.length; ++i) {\n    const child = gfx.pivot.children[i]\n    if (!(child instanceof Visual)) {\n      toRemove.push(child)\n    }\n  }\n  for (i = 0; i < toRemove.length; ++i) {\n    toRemove[i].parent.remove(toRemove[i])\n  }\n\n  setTimeout(() => {\n    const objList = self._objects\n    for (i = 0, n = objList.length; i < n; ++i) {\n      const obj = objList[i]\n      if (obj.needsRebuild) {\n        obj.build()\n      }\n      if (obj.getGeometry()) {\n        gfx.pivot.add(obj.getGeometry())\n      }\n    }\n  }, 10)\n}\n\nMiew.prototype.changeUnit = function (unitIdx, name) {\n  const visual = this._getComplexVisual(name)\n  if (!visual) {\n    throw new Error('There is no complex to change!')\n  }\n\n  function currentUnitInfo() {\n    const unit = visual ? visual.getComplex().getCurrentUnit() : 0\n    const type = unit > 0 ? `Bio molecule ${unit}` : 'Asymmetric unit'\n    return `Current unit: ${unit} (${type})`\n  }\n\n  if (unitIdx === undefined) {\n    return currentUnitInfo()\n  }\n  if (_.isString(unitIdx)) {\n    unitIdx = Math.max(parseInt(unitIdx, 10), 0)\n  }\n  if (visual.getComplex().setCurrentUnit(unitIdx)) {\n    this._resetScene()\n    this._updateInfoPanel()\n  }\n  return currentUnitInfo()\n}\n\n/**\n * Start to rebuild geometry asynchronously.\n */\nMiew.prototype.rebuild = function () {\n  if (this._building) {\n    this.logger.warn('Miew.rebuild(): already building!')\n    return\n  }\n  this._building = true\n\n  this.dispatchEvent({ type: 'rebuilding' })\n\n  this._rebuildObjects()\n\n  this._gfx.renderer2d.reset()\n\n  const rebuildActions = []\n  this._forEachComplexVisual((visual) => {\n    if (visual.needsRebuild()) {\n      rebuildActions.push(\n        visual.rebuild().then(\n          () =>\n            new Promise((resolve) => {\n              visual.rebuildSelectionGeometry()\n              resolve()\n            })\n        )\n      )\n    }\n  })\n\n  // Start asynchronous rebuild\n  const self = this\n  this._spinner.spin(this._container)\n  Promise.all(rebuildActions).then(() => {\n    self._spinner.stop()\n\n    self._needRender = true\n\n    self._refreshTitle()\n    this.dispatchEvent({ type: 'buildingDone' })\n    self._building = false\n  })\n}\n\n/** Mark all representations for rebuilding */\nMiew.prototype.rebuildAll = function () {\n  this._forEachComplexVisual((visual) => {\n    visual.setNeedsRebuild()\n  })\n}\n\nMiew.prototype._refreshTitle = function (appendix) {\n  let title\n  appendix = appendix === undefined ? '' : appendix\n  const visual = this._getComplexVisual()\n  if (visual) {\n    title = visual.getComplex().name\n    const rep = visual.repGet(visual.repCurrent())\n    title += rep ? `  ${rep.mode.name} Mode` : ''\n  } else {\n    title = Object.keys(this._visuals).length > 0 ? 'Unknown' : 'No Data'\n  }\n  title += appendix\n\n  this.dispatchEvent({ type: 'titleChanged', data: title })\n}\n\nMiew.prototype.setNeedRender = function () {\n  this._needRender = true\n}\n\nMiew.prototype._extractRepresentation = function () {\n  const changed = []\n\n  this._forEachComplexVisual((visual) => {\n    if (visual.getSelectionCount() === 0) {\n      return\n    }\n\n    const selector = visual.buildSelectorFromMask(1 << visual.getSelectionBit())\n    const defPreset = settings.now.presets.default\n    const res = visual.repAdd({\n      selector,\n      mode: defPreset[0].mode.id,\n      colorer: defPreset[0].colorer.id,\n      material: defPreset[0].material.id\n    })\n    if (!res) {\n      if (visual.repCount() === ComplexVisual.NUM_REPRESENTATION_BITS) {\n        this.logger.warn(\n          `Number of representations is limited to ${ComplexVisual.NUM_REPRESENTATION_BITS}`\n        )\n      }\n      return\n    }\n\n    this.dispatchEvent({\n      type: 'repAdded',\n      index: res.index,\n      name: visual.name\n    })\n    visual.repCurrent(res.index)\n\n    changed.push(visual.name)\n  })\n\n  if (changed.length > 0) {\n    this.logger.report(\n      `New representation from selection for complexes: ${changed.join(', ')}`\n    )\n  }\n}\n\n/**\n * Change current representation list.\n * @param {array} reps - Representation list.\n */\nMiew.prototype._setReps = function (reps) {\n  reps = reps || (this._opts && this._opts.reps) || []\n  this._forEachComplexVisual((visual) => visual.resetReps(reps))\n}\n\n/**\n * Apply existing preset to current scene.\n * @param preset\n */\nMiew.prototype.applyPreset = function (preset) {\n  const { presets } = settings.now\n  const presList = [\n    preset || settings.defaults.preset,\n    settings.defaults.preset,\n    Object.keys(presets)[0]\n  ]\n  let reps = null\n  for (let i = 0; !reps && i < presList.length; ++i) {\n    settings.set('preset', presList[i])\n    reps = presets[settings.now.preset]\n    if (!reps) {\n      this.logger.warn(`Unknown preset \"${settings.now.preset}\"`)\n    }\n  }\n  this._setReps(reps)\n}\n\n/**\n * Reset current representation list to initial values.\n * @param {string} [preset] - The source preset in case of uninitialized representation list.\n */\nMiew.prototype.resetReps = function (preset) {\n  const reps = this._opts && this._opts.reps\n  if (reps) {\n    this._setReps(reps)\n  } else {\n    this.applyPreset(preset)\n  }\n}\n\n/**\n * Get number of representations created so far.\n * @returns {number} Number of reps.\n */\nMiew.prototype.repCount = function (name) {\n  const visual = this._getComplexVisual(name)\n  return visual ? visual.repCount() : 0\n}\n\n/**\n * Get or set the current representation index.\n * @param {number=} index - Zero-based index, up to {@link Miew#repCount()}. Defaults to the current one.\n * @param {string=} [name] - Complex name. Defaults to the current one.\n * @returns {number} The current index.\n */\nMiew.prototype.repCurrent = function (index, name) {\n  const visual = this._getComplexVisual(name)\n  const newIdx = visual ? visual.repCurrent(index) : -1\n  if (index && newIdx !== index) {\n    this.logger.warn(\n      `Representation ${index} was not found. Current rep remains unchanged.`\n    )\n  }\n  return newIdx\n}\n\n/**\n * Get or set representation by index.\n * @param {number=} index - Zero-based index, up to {@link Miew#repCount}(). Defaults to the current one.\n * @param {object=} rep - Optional representation description.\n * @param {string=} rep.selector - Selector string.\n * @param {string=} rep.mode - Mode id.\n * @param {string=} rep.colorer - Colorer id.\n * @param {string=} rep.material - Material id.\n * @returns {?object} Representation description.\n */\nMiew.prototype.rep = function (index, rep) {\n  const visual = this._getComplexVisual('')\n  if (!visual) {\n    return null\n  }\n  const res = visual.rep(index, rep)\n  if (res.status === 'created') {\n    this.dispatchEvent({\n      type: 'repAdded',\n      index: res.index,\n      name: visual.name\n    })\n  } else if (res.status === 'changed') {\n    this.dispatchEvent({\n      type: 'repChanged',\n      index: res.index,\n      name: visual.name\n    })\n  }\n  return res.desc\n}\n\n/**\n * Get representation (not just description) by index.\n * @param {number=} index - Zero-based index, up to {@link Miew#repCount}(). Defaults to the current one.\n * @returns {?object} Representation.\n */\nMiew.prototype.repGet = function (index, name) {\n  const visual = this._getComplexVisual(name)\n  return visual ? visual.repGet(index) : null\n}\n\n/**\n * Add new representation.\n * @param {object=} rep - Representation description.\n * @returns {number} Index of the new representation.\n */\nMiew.prototype.repAdd = function (rep, name) {\n  const visual = this._getComplexVisual(name)\n  if (!visual) {\n    return -1\n  }\n\n  const res = visual.repAdd(rep)\n  if (res) {\n    this.dispatchEvent({ type: 'repAdded', index: res.index, name })\n    return res.index\n  }\n  return -1\n}\n\n/**\n * Remove representation.\n * @param {number=} index - Zero-based representation index.\n */\nMiew.prototype.repRemove = function (index, name) {\n  const visual = this._getComplexVisual(name)\n  if (!visual) {\n    return\n  }\n\n  visual.repRemove(index)\n  this.dispatchEvent({ type: 'repRemoved', index, name })\n}\n\n/**\n * Hide representation.\n * @param {number} index - Zero-based representation index.\n * @param {boolean=} hide - Specify false to make rep visible, true to hide (by default).\n */\nMiew.prototype.repHide = function (index, hide, name) {\n  this._needRender = true\n  const visual = this._getComplexVisual(name)\n  return visual ? visual.repHide(index, hide) : null\n}\n\nMiew.prototype._setEditMode = function (mode) {\n  this._editMode = mode\n\n  const elem = this._msgMode\n  if (elem) {\n    elem.style.opacity = mode === EDIT_MODE.COMPLEX ? 0.0 : 1.0\n\n    if (mode !== EDIT_MODE.COMPLEX) {\n      const t = elem.getElementsByTagName('p')[0]\n      t.innerHTML =\n        mode === EDIT_MODE.COMPONENT\n          ? 'COMPONENT EDIT MODE'\n          : 'FRAGMENT EDIT MODE'\n    }\n  }\n\n  this.dispatchEvent({\n    type: 'editModeChanged',\n    data: mode === EDIT_MODE.COMPLEX\n  })\n}\n\nMiew.prototype._enterComponentEditMode = function () {\n  if (this._editMode !== EDIT_MODE.COMPLEX) {\n    return\n  }\n\n  const editors = []\n  this._forEachComplexVisual((visual) => {\n    const editor = visual.beginComponentEdit()\n    if (editor) {\n      editors.push(editor)\n    }\n  })\n\n  if (editors === []) {\n    return\n  }\n\n  this._editors = editors\n\n  this.logger.info('COMPONENT EDIT MODE -- ON')\n  this._setEditMode(EDIT_MODE.COMPONENT)\n  this._objectControls.keysTranslateObj(true)\n}\n\nMiew.prototype._applyComponentEdit = function () {\n  if (this._editMode !== EDIT_MODE.COMPONENT) {\n    return\n  }\n\n  this._objectControls.stop()\n  this._objectControls.keysTranslateObj(false)\n\n  for (let i = 0; i < this._editors.length; ++i) {\n    this._editors[i].apply()\n  }\n  this._editors = []\n\n  this.logger.info('COMPONENT EDIT MODE -- OFF (applied)')\n  this._setEditMode(EDIT_MODE.COMPLEX)\n\n  this.rebuildAll()\n}\n\nMiew.prototype._discardComponentEdit = function () {\n  if (this._editMode !== EDIT_MODE.COMPONENT) {\n    return\n  }\n\n  this._objectControls.stop()\n  this._objectControls.keysTranslateObj(false)\n\n  for (let i = 0; i < this._editors.length; ++i) {\n    this._editors[i].discard()\n  }\n  this._editors = []\n\n  this.logger.info('COMPONENT EDIT MODE -- OFF (discarded)')\n  this._setEditMode(EDIT_MODE.COMPLEX)\n\n  this._needRender = true\n  this.rebuildAll()\n}\n\nMiew.prototype._enterFragmentEditMode = function () {\n  if (this._editMode !== EDIT_MODE.COMPLEX) {\n    return\n  }\n\n  const selectedVisuals = []\n  this._forEachComplexVisual((visual) => {\n    if (visual instanceof ComplexVisual && visual.getSelectionCount() > 0) {\n      selectedVisuals.push(visual)\n    }\n  })\n\n  if (selectedVisuals.length !== 1) {\n    // either we have no selection or\n    // we have selected atoms in two or more visuals -- not supported\n    return\n  }\n\n  const editor = selectedVisuals[0].beginFragmentEdit()\n  if (!editor) {\n    return\n  }\n  this._editors = [editor]\n\n  this.logger.info('FRAGMENT EDIT MODE -- ON (single bond)')\n  this._setEditMode(EDIT_MODE.FRAGMENT)\n  this._objectControls.allowTranslation(false)\n  this._objectControls.allowAltObjFreeRotation(editor.isFreeRotationAllowed())\n\n  this._needRender = true\n}\n\nMiew.prototype._applyFragmentEdit = function () {\n  if (this._editMode !== EDIT_MODE.FRAGMENT) {\n    return\n  }\n\n  this._objectControls.stop()\n\n  for (let i = 0; i < this._editors.length; ++i) {\n    this._editors[i].apply()\n  }\n  this._editors = []\n\n  this.logger.info('FRAGMENT EDIT MODE -- OFF (applied)')\n  this._setEditMode(EDIT_MODE.COMPLEX)\n  this._objectControls.allowTranslation(true)\n  this._objectControls.allowAltObjFreeRotation(true)\n\n  this.rebuildAll()\n}\n\nMiew.prototype._discardFragmentEdit = function () {\n  if (this._editMode !== EDIT_MODE.FRAGMENT) {\n    return\n  }\n\n  this._objectControls.stop()\n\n  for (let i = 0; i < this._editors.length; ++i) {\n    this._editors[i].discard()\n  }\n  this._editors = []\n\n  this.logger.info('FRAGMENT EDIT MODE -- OFF (discarded)')\n  this._setEditMode(EDIT_MODE.COMPLEX)\n  this._objectControls.allowTranslation(true)\n  this._objectControls.allowAltObjFreeRotation(true)\n\n  this._needRender = true\n}\n\nMiew.prototype._onPick = function (event) {\n  if (!settings.now.picking) {\n    // picking is disabled\n    return\n  }\n\n  if (this._animInterval !== null) {\n    // animation playback is on\n    return\n  }\n\n  if (this._editMode === EDIT_MODE.FRAGMENT) {\n    // prevent picking in fragment edit mode\n    return\n  }\n\n  if (this._objectControls.isEditingAltObj()) {\n    // prevent picking during component rotation\n    return\n  }\n\n  // update last pick & find complex\n  let complex = null\n  if (event.obj.atom) {\n    complex = event.obj.atom.residue.getChain().getComplex()\n    this._lastPick = event.obj.atom\n  } else if (event.obj.residue) {\n    complex = event.obj.residue.getChain().getComplex()\n    this._lastPick = event.obj.residue\n  } else if (event.obj.chain) {\n    complex = event.obj.chain.getComplex()\n    this._lastPick = event.obj.chain\n  } else if (event.obj.molecule) {\n    complex = event.obj.molecule.complex\n    this._lastPick = event.obj.molecule\n  } else {\n    this._lastPick = null\n  }\n\n  function _updateSelection(visual) {\n    visual.updateSelectionMask(event.obj)\n    visual.rebuildSelectionGeometry()\n  }\n\n  // update visual\n  if (complex) {\n    const visual = this._getVisualForComplex(complex)\n    if (visual) {\n      _updateSelection(visual)\n      this._needRender = true\n    }\n  } else {\n    this._forEachComplexVisual(_updateSelection)\n    this._needRender = true\n  }\n\n  this._updateInfoPanel()\n  this.dispatchEvent(event)\n}\n\nMiew.prototype._onKeyDown = function (event) {\n  if (!this._running || !this._hotKeysEnabled) {\n    return\n  }\n\n  switch (event.keyCode) {\n    case 'C'.charCodeAt(0):\n      if (settings.now.editing) {\n        this._enterComponentEditMode()\n      }\n      break\n    case 'F'.charCodeAt(0):\n      if (settings.now.editing) {\n        this._enterFragmentEditMode()\n      }\n      break\n    case 'A'.charCodeAt(0):\n      switch (this._editMode) {\n        case EDIT_MODE.COMPONENT:\n          this._applyComponentEdit()\n          break\n        case EDIT_MODE.FRAGMENT:\n          this._applyFragmentEdit()\n          break\n        default:\n          break\n      }\n      break\n    case 'D'.charCodeAt(0):\n      switch (this._editMode) {\n        case EDIT_MODE.COMPONENT:\n          this._discardComponentEdit()\n          break\n        case EDIT_MODE.FRAGMENT:\n          this._discardFragmentEdit()\n          break\n        default:\n          break\n      }\n      break\n    case 'S'.charCodeAt(0):\n      event.preventDefault()\n      event.stopPropagation()\n      settings.set('ao', !settings.now.ao)\n      this._needRender = true\n      break\n    case 107:\n      event.preventDefault()\n      event.stopPropagation()\n      this._forEachComplexVisual((visual) => {\n        visual.expandSelection()\n        visual.rebuildSelectionGeometry()\n      })\n      this._updateInfoPanel()\n      this._needRender = true\n      break\n    case 109:\n      event.preventDefault()\n      event.stopPropagation()\n      this._forEachComplexVisual((visual) => {\n        visual.shrinkSelection()\n        visual.rebuildSelectionGeometry()\n      })\n      this._updateInfoPanel()\n      this._needRender = true\n      break\n    default:\n  }\n}\n\nMiew.prototype._onKeyUp = function (event) {\n  if (!this._running || !this._hotKeysEnabled) {\n    return\n  }\n\n  if (event.keyCode === 'X'.charCodeAt(0)) {\n    this._extractRepresentation()\n  }\n}\n\nMiew.prototype._updateInfoPanel = function () {\n  const info = this._msgAtomInfo.getElementsByTagName('p')[0]\n  let atom\n  let residue\n\n  let count = 0\n  this._forEachComplexVisual((visual) => {\n    count += visual.getSelectionCount()\n  })\n\n  while (info.firstChild) {\n    info.removeChild(info.firstChild)\n  }\n\n  if (count === 0) {\n    this._msgAtomInfo.style.opacity = 0.0\n    return\n  }\n\n  let firstLine = `${String(count)} atom${count !== 1 ? 's' : ''} selected`\n  if (this._lastPick !== null) {\n    firstLine += ', the last pick:'\n  }\n  let secondLine = ''\n  let aName = ''\n  let coordLine = ''\n\n  if (this._lastPick instanceof Atom) {\n    atom = this._lastPick\n    residue = atom.residue\n\n    aName = atom.name\n    const location =\n      atom.location !== 32 ? String.fromCharCode(atom.location) : '' // 32 is code of white-space\n    secondLine = `${atom.element.fullName} #${atom.serial}${location}: \\\n      ${residue._chain._name}.${residue._type._name}${\n      residue._sequence\n    }${residue._icode.trim()}.`\n    secondLine += aName\n\n    coordLine = `Coord: (${atom.position.x.toFixed(2).toString()},\\\n     ${atom.position.y.toFixed(2).toString()},\\\n     ${atom.position.z.toFixed(2).toString()})`\n  } else if (this._lastPick instanceof Residue) {\n    residue = this._lastPick\n\n    secondLine = `${residue._type._fullName}: \\\n      ${residue._chain._name}.${residue._type._name}${\n      residue._sequence\n    }${residue._icode.trim()}`\n  } else if (this._lastPick instanceof Chain) {\n    secondLine = `chain ${this._lastPick._name}`\n  } else if (this._lastPick instanceof Molecule) {\n    secondLine = `molecule ${this._lastPick._name}`\n  }\n\n  info.appendChild(document.createTextNode(firstLine))\n\n  if (secondLine !== '') {\n    info.appendChild(document.createElement('br'))\n    info.appendChild(document.createTextNode(secondLine))\n  }\n\n  if (coordLine !== '') {\n    info.appendChild(document.createElement('br'))\n    info.appendChild(document.createTextNode(coordLine))\n  }\n\n  this._msgAtomInfo.style.opacity = 1.0\n}\n\nMiew.prototype._getAltObj = function () {\n  if (this._editors) {\n    let altObj = null\n    for (let i = 0; i < this._editors.length; ++i) {\n      const nextAltObj = this._editors[i].getAltObj()\n      if (nextAltObj.objects.length > 0) {\n        if (altObj) {\n          // we have selected atoms in two or more visuals -- not supported\n          altObj = null\n          break\n        }\n        altObj = nextAltObj\n      }\n    }\n    if (altObj) {\n      return altObj\n    }\n  }\n\n  return {\n    objects: [],\n    pivot: new THREE.Vector3(0, 0, 0)\n  }\n}\n\nMiew.prototype.resetPivot = (function () {\n  const boundingBox = new THREE.Box3()\n  const center = new THREE.Vector3()\n\n  return function () {\n    boundingBox.makeEmpty()\n    this._forEachVisual((visual) => {\n      boundingBox.union(visual.getBoundaries().boundingBox)\n    })\n\n    boundingBox.getCenter(center)\n    this._objectControls.setPivot(center.negate())\n    this.dispatchEvent({ type: 'transform' })\n  }\n})()\n\nMiew.prototype.setPivotResidue = (function () {\n  const center = new THREE.Vector3()\n\n  return function (residue) {\n    const visual = this._getVisualForComplex(residue.getChain().getComplex())\n    if (!visual) {\n      return\n    }\n\n    if (residue._controlPoint) {\n      center.copy(residue._controlPoint)\n    } else {\n      let x = 0\n      let y = 0\n      let z = 0\n      const amount = residue._atoms.length\n      for (let i = 0; i < amount; ++i) {\n        const p = residue._atoms[i].position\n        x += p.x / amount\n        y += p.y / amount\n        z += p.z / amount\n      }\n      center.set(x, y, z)\n    }\n    center.applyMatrix4(visual.matrix).negate()\n    this._objectControls.setPivot(center)\n    this.dispatchEvent({ type: 'transform' })\n  }\n})()\n\nMiew.prototype.setPivotAtom = (function () {\n  const center = new THREE.Vector3()\n\n  return function (atom) {\n    const visual = this._getVisualForComplex(\n      atom.residue.getChain().getComplex()\n    )\n    if (!visual) {\n      return\n    }\n\n    center.copy(atom.position)\n    center.applyMatrix4(visual.matrix).negate()\n    this._objectControls.setPivot(center)\n    this.dispatchEvent({ type: 'transform' })\n  }\n})()\n\nMiew.prototype.getSelectionCenter = (function () {\n  const _centerInVisual = new THREE.Vector3(0.0, 0.0, 0.0)\n\n  return function (center, includesAtom, selector) {\n    center.set(0.0, 0.0, 0.0)\n    let count = 0\n\n    this._forEachComplexVisual((visual) => {\n      if (\n        visual.getSelectionCenter(\n          _centerInVisual,\n          includesAtom,\n          selector || visual.getSelectionBit()\n        )\n      ) {\n        center.add(_centerInVisual)\n        count++\n      }\n    })\n    if (count === 0) {\n      return false\n    }\n    center.divideScalar(count)\n    center.negate()\n    return true\n  }\n})()\n\nMiew.prototype.setPivotSubset = (function () {\n  const _center = new THREE.Vector3(0.0, 0.0, 0.0)\n\n  function _includesInCurSelection(atom, selectionBit) {\n    return atom.mask & (1 << selectionBit)\n  }\n\n  function _includesInSelector(atom, selector) {\n    return selector.selector.includesAtom(atom)\n  }\n\n  return function (selector) {\n    const includesAtom = selector\n      ? _includesInSelector\n      : _includesInCurSelection\n\n    if (this.getSelectionCenter(_center, includesAtom, selector)) {\n      this._objectControls.setPivot(_center)\n      this.dispatchEvent({ type: 'transform' })\n    } else {\n      this.logger.warn('selection is empty. Center operation not performed')\n    }\n  }\n})()\n\n/**\n * Makes a screenshot.\n * @param {number} [width] - Width of an image. Defaults to the canvas width.\n * @param {number} [height] - Height of an image. Defaults to the width (square) or canvas height,\n *        if width is omitted too.\n * @returns {string} Data URL representing the image contents.\n */\nMiew.prototype.screenshot = function (width, height) {\n  const gfx = this._gfx\n  const deviceWidth = gfx.renderer.domElement.width\n  const deviceHeight = gfx.renderer.domElement.height\n\n  function fov2Tan(fov) {\n    return Math.tan(THREE.MathUtils.degToRad(0.5 * fov))\n  }\n\n  function tan2Fov(tan) {\n    return THREE.MathUtils.radToDeg(Math.atan(tan)) * 2.0\n  }\n\n  function getDataURL() {\n    let dataURL\n    const currBrowser = utils.getBrowser()\n\n    if (currBrowser === utils.browserType.SAFARI) {\n      const canvas = document.createElement('canvas')\n      const canvasContext = canvas.getContext('2d')\n\n      canvas.width = width === undefined ? deviceWidth : width\n      canvas.height = height === undefined ? deviceHeight : height\n\n      canvasContext.drawImage(\n        gfx.renderer.domElement,\n        0,\n        0,\n        canvas.width,\n        canvas.height\n      )\n      dataURL = canvas.toDataURL('image/png')\n    } else {\n      // Copy current canvas to screenshot\n      dataURL = gfx.renderer.domElement.toDataURL('image/png')\n    }\n    return dataURL\n  }\n  height = height || width\n\n  let screenshotURI\n  if (\n    (width === undefined && height === undefined) ||\n    (width === deviceWidth && height === deviceHeight)\n  ) {\n    // renderer.domElement.toDataURL('image/png') returns flipped image in Safari\n    // It hasn't been resolved yet, but getScreenshotSafari()\n    // fixes it using an extra canvas.\n    screenshotURI = getDataURL()\n  } else {\n    const originalAspect = gfx.camera.aspect\n    const originalFov = gfx.camera.fov\n    const originalTanFov2 = fov2Tan(gfx.camera.fov)\n\n    // screenshot should contain the principal area of interest (a centered square touching screen sides)\n    const areaOfInterestSize = Math.min(gfx.width, gfx.height)\n    const areaOfInterestTanFov2 =\n      (originalTanFov2 * areaOfInterestSize) / gfx.height\n\n    // set appropriate camera aspect & FOV\n    const shotAspect = width / height\n    gfx.renderer.setPixelRatio(1)\n    gfx.camera.aspect = shotAspect\n    gfx.camera.fov = tan2Fov(areaOfInterestTanFov2 / Math.min(shotAspect, 1.0))\n    gfx.camera.updateProjectionMatrix()\n\n    // resize canvas to the required size of screenshot\n    gfx.renderer.setDrawingBufferSize(width, height, 1)\n\n    // make screenshot\n    this._renderFrame(settings.now.stereo)\n    screenshotURI = getDataURL()\n\n    // restore original camera & canvas proportions\n    gfx.renderer.setPixelRatio(window.devicePixelRatio)\n    gfx.camera.aspect = originalAspect\n    gfx.camera.fov = originalFov\n    gfx.camera.updateProjectionMatrix()\n    gfx.renderer.setDrawingBufferSize(\n      gfx.width,\n      gfx.height,\n      window.devicePixelRatio\n    )\n    this._needRender = true\n  }\n\n  return screenshotURI\n}\n\n/**\n * Makes screenshot and initiates a download.\n * @param {string} [filename] - Name of a file. Default to a 'screenshot-XXXXX.png', where XXXXX is a current\n *        date/time in seconds.\n * @param {number} [width] - Width of an image. Defaults to the canvas width.\n * @param {number} [height] - Height of an image. Defaults to the width (square) or canvas height,\n *        if width is omitted too.\n */\nMiew.prototype.screenshotSave = function (filename, width, height) {\n  const uri = this.screenshot(width, height)\n  utils.shotDownload(uri, filename)\n}\n\nMiew.prototype.save = function (opts) {\n  this._export(opts.fileType)\n    .then((dataString) => {\n      const filename = this._visuals[this._curVisualName]._complex.name\n      utils.download(dataString, filename, opts.fileType)\n      this._refreshTitle()\n      this.dispatchEvent({ type: 'exportingDone' })\n    })\n    .catch((error) => {\n      this.logger.error('Could not export data')\n      this.logger.debug(error)\n      this._refreshTitle()\n      this.dispatchEvent({ type: 'exportingDone', error })\n    })\n}\n\nMiew.prototype._tweakResolution = function () {\n  const maxPerf = [\n    ['poor', 100],\n    ['low', 500],\n    ['medium', 1000],\n    ['high', 5000],\n    ['ultra', Number.MAX_VALUE]\n  ]\n\n  let atomCount = 0\n  this._forEachComplexVisual((visual) => {\n    atomCount += visual.getComplex().getAtomCount()\n  })\n\n  if (atomCount > 0) {\n    const performance = (this._gfxScore * 10e5) / atomCount\n    // set resolution based on estimated performance\n    for (let i = 0; i < maxPerf.length; ++i) {\n      if (performance < maxPerf[i][1]) {\n        this._autoChangeResolution(maxPerf[i][0])\n        break\n      }\n    }\n  }\n}\n\nMiew.prototype._autoChangeResolution = function (resolution) {\n  if (resolution !== settings.now.resolution) {\n    this.logger.report(\n      `Your rendering resolution was changed to \"${resolution}\" for best performance.`\n    )\n  }\n  settings.now.resolution = resolution\n}\n\n/**\n * Save current settings to cookies.\n */\nMiew.prototype.saveSettings = function () {\n  this._cookies.setCookie(\n    this._opts.settingsCookie,\n    JSON.stringify(this.settings.getDiffs(true))\n  )\n}\n\n/**\n * Load settings from cookies.\n */\nMiew.prototype.restoreSettings = function () {\n  try {\n    const cookie = this._cookies.getCookie(this._opts.settingsCookie)\n    const diffs = cookie ? JSON.parse(cookie) : {}\n    this.settings.applyDiffs(diffs, true)\n  } catch (e) {\n    this.logger.error(`Cookies parse error: ${e.message}`)\n  }\n}\n\n/**\n * Reset current settings to the defaults.\n */\nMiew.prototype.resetSettings = function () {\n  this.settings.reset()\n}\n\n/*\n * DANGEROUS and TEMPORARY. The method should change or disappear in future versions.\n * @param {string|object} opts - See {@link Miew} constructor.\n * @see {@link Miew#set}, {@link Miew#repAdd}, {@link Miew#rep}.\n */\nMiew.prototype.setOptions = function (opts) {\n  if (typeof opts === 'string') {\n    opts = Miew.options.fromAttr(opts)\n  }\n  if (opts.reps) {\n    this._opts.reps = null\n  }\n  _.merge(this._opts, opts)\n  if (opts.settings) {\n    this.set(opts.settings)\n  }\n\n  this._opts._objects = opts._objects\n  this._resetObjects()\n\n  if (opts.load) {\n    this.load(opts.load, { fileType: opts.type })\n  }\n\n  if (opts.preset) {\n    settings.now.preset = opts.preset\n  }\n\n  if (opts.reps) {\n    this.resetReps(opts.preset)\n  }\n\n  if (this._opts.view) {\n    this.view(this._opts.view)\n    delete this._opts.view\n  }\n\n  const visual = this._getComplexVisual()\n  if (visual) {\n    visual.getComplex().resetCurrentUnit()\n    if (_.isNumber(opts.unit)) {\n      visual.getComplex().setCurrentUnit(opts.unit)\n    }\n    this.resetView()\n    this.rebuildAll()\n  }\n}\n\nMiew.prototype.info = function (name) {\n  const visual = this._getComplexVisual(name)\n  if (!visual) {\n    return {}\n  }\n  const complex = visual.getComplex()\n  const { metadata } = complex\n  return {\n    id: metadata.id || complex.name || 'UNKNOWN',\n    title: (metadata.title && metadata.title.join(' ')) || 'UNKNOWN DATA',\n    atoms: complex.getAtomCount(),\n    bonds: complex.getBondCount(),\n    residues: complex.getResidueCount(),\n    chains: complex.getChainCount()\n  }\n}\n\n/*\n * OBJECTS SEGMENT\n */\n\nMiew.prototype.addObject = function (objData, bThrow) {\n  let Ctor = null\n\n  if (objData.type === LinesObject.prototype.type) {\n    Ctor = LinesObject\n  }\n\n  if (Ctor === null) {\n    throw new Error(`Unknown scene object type - ${objData.type}`)\n  }\n\n  try {\n    const newObj = new Ctor(objData.params, objData.opts)\n    this._addSceneObject(newObj)\n  } catch (error) {\n    if (!bThrow) {\n      this.logger.debug(`Error during scene object creation: ${error.message}`)\n    } else {\n      throw error\n    }\n  }\n  this._needRender = true\n}\n\nMiew.prototype._addSceneObject = function (sceneObject) {\n  const visual = this._getComplexVisual()\n  if (sceneObject.build && visual) {\n    sceneObject.build(visual.getComplex())\n    this._gfx.pivot.add(sceneObject.getGeometry())\n  }\n  const objects = this._objects\n  objects[objects.length] = sceneObject\n}\n\nMiew.prototype._updateObjsToFrame = function (frameData) {\n  const objs = this._objects\n  for (let i = 0, n = objs.length; i < n; ++i) {\n    if (objs[i].updateToFrame) {\n      objs[i].updateToFrame(frameData)\n    }\n  }\n}\n\nMiew.prototype._resetObjects = function () {\n  const objs = this._opts._objects\n\n  this._objects = []\n  if (objs) {\n    for (let i = 0, n = objs.length; i < n; ++i) {\n      this.addObject(objs[i], false)\n    }\n  }\n}\n\nMiew.prototype.removeObject = function (index) {\n  const obj = this._objects[index]\n  if (!obj) {\n    throw new Error(`Scene object with index ${index} does not exist`)\n  }\n  obj.destroy()\n  this._objects.splice(index, 1)\n  this._needRender = true\n}\n\n/**\n * Get a string with a URL to reproduce the current scene.\n *\n * @param {boolean} [opts.compact=true] - set this flag to false if you want to include full\n * preset information regardless of the differences with settings\n * @param {boolean} [opts.settings=false] - when this flag is true, changes in settings are included\n * @param {boolean} [opts.view=false] - when this flag is true, a view information is included\n * @returns {string} URL\n */\nMiew.prototype.getURL = function (opts) {\n  return options.toURL(\n    this.getState(\n      _.defaults(opts, {\n        compact: true,\n        settings: false,\n        view: false\n      })\n    )\n  )\n}\n\n/**\n * Get a string with a script to reproduce the current scene.\n *\n * @param {boolean} [opts.compact=true] - set this flag to false if you want to include full\n * preset information regardless of the differences with settings\n * @param {boolean} [opts.settings=true] - when this flag is true, changes in settings are included\n * @param {boolean} [opts.view=true] - when this flag is true, a view information is included\n * @returns {string} script\n */\nMiew.prototype.getScript = function (opts) {\n  return options.toScript(\n    this.getState(\n      _.defaults(opts, {\n        compact: true,\n        settings: true,\n        view: true\n      })\n    )\n  )\n}\n\n/*\n * Generates object that represents the current state of representations list\n * @param {boolean} compareWithDefaults - when this flag is true, reps list is compared (if possible)\n * to preset's defaults and only diffs are generated\n */\nMiew.prototype._compareReps = function (complexVisual, compareWithDefaults) {\n  const ans = {}\n  let repCount = 0\n\n  if (complexVisual) {\n    repCount = complexVisual.repCount()\n  }\n\n  const currPreset = settings.defaults.presets[settings.now.preset]\n  let compare = compareWithDefaults\n  if (currPreset === undefined || currPreset.length > repCount) {\n    compare = false\n    ans.preset = 'empty'\n  } else if (settings.now.preset !== settings.defaults.preset) {\n    ans.preset = settings.now.preset\n  }\n\n  const repsDiff = []\n  let emptyReps = true\n  for (let i = 0, n = repCount; i < n; ++i) {\n    repsDiff[i] = complexVisual\n      .repGet(i)\n      .compare(compare ? currPreset[i] : null)\n    if (!_.isEmpty(repsDiff[i])) {\n      emptyReps = false\n    }\n  }\n  if (!emptyReps) {\n    ans.reps = repsDiff\n  }\n  return ans\n}\n\n/*\n * Obtain object that represents current state of miew (might be used as options in constructor).\n * @param {boolean} [opts.compact=true] - set this flag to false if you want to include full\n * preset information regardless of the differences with settings\n * @param {boolean} [opts.settings=false] - when this flag is true, changes in settings are included\n * @param {boolean} [opts.view=false] - when this flag is true, a view information is included\n * @returns {Object} State object.\n */\nMiew.prototype.getState = function (opts) {\n  const state = {}\n\n  opts = _.defaults(opts, {\n    compact: true,\n    settings: false,\n    view: false\n  })\n\n  // load\n  const visual = this._getComplexVisual()\n  if (visual !== null) {\n    const complex = visual.getComplex()\n    const { metadata } = complex\n    if (metadata.id) {\n      const format = metadata.format ? `${metadata.format}:` : ''\n      state.load = format + metadata.id\n    }\n    const unit = complex.getCurrentUnit()\n    if (unit !== 1) {\n      state.unit = unit\n    }\n  }\n\n  // representations\n  const repsInfo = this._compareReps(visual, opts.compact)\n  if (repsInfo.preset) {\n    state.preset = repsInfo.preset\n  }\n\n  if (repsInfo.reps) {\n    state.reps = repsInfo.reps\n  }\n\n  // objects\n  const objects = this._objects\n  const objectsState = []\n  for (let i = 0, n = objects.length; i < n; ++i) {\n    objectsState[i] = objects[i].identify()\n  }\n  if (objects.length > 0) {\n    state._objects = objectsState\n  }\n\n  // view\n  if (opts.view) {\n    state.view = this.view()\n  }\n\n  // settings\n  if (opts.settings) {\n    const diff = this.settings.getDiffs(false)\n    if (!_.isEmpty(diff)) {\n      state.settings = diff\n    }\n  }\n\n  return state\n}\n\n/**\n * Get parameter value.\n * @param {string} param - Parameter name or path (e.g. 'modes.BS.atom').\n * @param {*=} value - Default value.\n * @returns {*} Parameter value.\n */\nMiew.prototype.get = function (param, value) {\n  return settings.get(param, value)\n}\n\nMiew.prototype._clipPlaneUpdateValue = function (radius) {\n  const clipPlaneValue = Math.max(\n    this._gfx.camera.position.z - radius * settings.now.draft.clipPlaneFactor,\n    settings.now.camNear\n  )\n\n  const opts = { clipPlaneValue }\n  this._forEachComplexVisual((visual) => {\n    visual.setUberOptions(opts)\n  })\n  for (let i = 0, n = this._objects.length; i < n; ++i) {\n    const obj = this._objects[i]\n    if (obj._line) {\n      obj._line.material.setUberOptions(opts)\n    }\n  }\n  if (this._picker !== null) {\n    this._picker.clipPlaneValue = clipPlaneValue\n  }\n}\n\nMiew.prototype._fogFarUpdateValue = function () {\n  if (this._picker !== null) {\n    if (this._gfx.scene.fog) {\n      this._picker.fogFarValue = this._gfx.scene.fog.far\n    } else {\n      this._picker.fogFarValue = undefined\n    }\n  }\n}\n\nMiew.prototype._updateShadowmapMeshes = function (process) {\n  this._forEachComplexVisual((visual) => {\n    const reprList = visual._reprList\n    for (let i = 0, n = reprList.length; i < n; ++i) {\n      const repr = reprList[i]\n      process(repr.geo, repr.material)\n    }\n  })\n}\n\nMiew.prototype._updateMaterials = function (\n  values,\n  needTraverse = false,\n  process = undefined\n) {\n  this._forEachComplexVisual((visual) =>\n    visual.setMaterialValues(values, needTraverse, process)\n  )\n  for (let i = 0, n = this._objects.length; i < n; ++i) {\n    const obj = this._objects[i]\n    if (obj._line) {\n      obj._line.material.setValues(values)\n      obj._line.material.needsUpdate = true\n    }\n  }\n}\n\nMiew.prototype._fogAlphaChanged = function () {\n  this._forEachComplexVisual((visual) => {\n    visual.setUberOptions({\n      fogAlpha: settings.now.fogAlpha\n    })\n  })\n}\n\nMiew.prototype._embedWebXR = function () {\n  // switch off\n  if (settings.now.stereo !== 'WEBVR') {\n    if (this.webVR) {\n      this.webVR.disable()\n    }\n    this.webVR = null\n    return\n  }\n  // switch on\n  if (!this.webVR) {\n    this.webVR = new WebVRPoC(() => {\n      this._requestAnimationFrame(() => this._onTick())\n      this._needRender = true\n      this._onResize()\n    })\n  }\n  this.webVR.enable(this._gfx)\n}\n\nMiew.prototype._initOnSettingsChanged = function () {\n  const on = (props, func) => {\n    props = _.isArray(props) ? props : [props]\n    props.forEach((prop) => {\n      this.settings.addEventListener(`change:${prop}`, func)\n    })\n  }\n\n  on('modes.VD.frame', () => {\n    const volume = this._getVolumeVisual()\n    if (volume === null) return\n\n    volume.showFrame(settings.now.modes.VD.frame)\n    this._needRender = true\n  })\n\n  on('modes.VD.isoMode', () => {\n    const volume = this._getVolumeVisual()\n    if (volume === null) return\n\n    volume.getMesh().material.updateDefines()\n    this._needRender = true\n  })\n\n  on('bg.color', () => {\n    this._onBgColorChanged()\n  })\n\n  on('ao', () => {\n    if (settings.now.ao && !isAOSupported(this._gfx.renderer.getContext())) {\n      this.logger.warn('Your device or browser does not support ao')\n      settings.set('ao', false)\n    } else {\n      const values = { normalsToGBuffer: settings.now.ao }\n      this._setUberMaterialValues(values)\n    }\n  })\n\n  on('zSprites', () => {\n    if (\n      settings.now.zSprites &&\n      !arezSpritesSupported(this._gfx.renderer.getContext())\n    ) {\n      this.logger.warn('Your device or browser does not support zSprites')\n      settings.set('zSprites', false)\n    }\n    this.rebuildAll()\n  })\n\n  on('fogColor', () => {\n    this._onFogColorChanged()\n  })\n\n  on('fogColorEnable', () => {\n    this._onFogColorChanged()\n  })\n\n  on('bg.transparent', (evt) => {\n    const gfx = this._gfx\n    if (gfx) {\n      gfx.renderer.setClearColor(\n        settings.now.bg.color,\n        Number(!settings.now.bg.transparent)\n      )\n    }\n    // update materials\n    this._updateMaterials({ fogTransparent: evt.value })\n    this.rebuildAll()\n  })\n\n  on('draft.clipPlane', (evt) => {\n    // update materials\n    this._updateMaterials({ clipPlane: evt.value })\n    this.rebuildAll()\n  })\n\n  on('shadow.on', (evt) => {\n    // update materials\n    const values = {\n      shadowmap: evt.value,\n      shadowmapType: settings.now.shadow.type\n    }\n    const gfx = this._gfx\n    if (gfx) {\n      gfx.renderer.shadowMap.enabled = Boolean(values.shadowmap)\n    }\n    this._updateMaterials(values, true)\n    if (values.shadowmap) {\n      this._updateShadowCamera()\n      this._updateShadowmapMeshes(meshutils.createShadowmapMaterial)\n    } else {\n      this._updateShadowmapMeshes(meshutils.removeShadowmapMaterial)\n    }\n    this._needRender = true\n  })\n\n  on('shadow.type', (evt) => {\n    // update materials if shadowmap is enable\n    if (settings.now.shadow.on) {\n      this._updateMaterials({ shadowmapType: evt.value }, true)\n      this._needRender = true\n    }\n  })\n\n  on('shadow.radius', (evt) => {\n    for (let i = 0; i < this._gfx.scene.children.length; i++) {\n      if (this._gfx.scene.children[i].shadow !== undefined) {\n        const light = this._gfx.scene.children[i]\n        light.shadow.radius = evt.value\n        this._needRender = true\n      }\n    }\n  })\n\n  on('fps', () => {\n    this._fps.show(settings.now.fps)\n  })\n\n  on(['fog', 'fogNearFactor', 'fogFarFactor'], () => {\n    this._updateFog()\n    this._needRender = true\n  })\n\n  on('fogAlpha', () => {\n    const { fogAlpha } = settings.now\n    if (fogAlpha < 0 || fogAlpha > 1) {\n      this.logger.warn('fogAlpha must belong range [0,1]')\n    }\n    this._fogAlphaChanged()\n    this._needRender = true\n  })\n\n  on('autoResolution', (evt) => {\n    if (evt.value && !this._gfxScore) {\n      this.logger.warn(\n        'Benchmarks are missed, autoresolution will not work! ' +\n          'Autoresolution should be set during miew startup.'\n      )\n    }\n  })\n\n  on('stereo', () => {\n    this._embedWebXR(settings.now.stereo === 'WEBVR')\n    this._needRender = true\n  })\n\n  on(['transparency', 'palette'], () => {\n    this.rebuildAll()\n  })\n\n  on('resolution', () => {\n    // update complex visuals\n    this.rebuildAll()\n\n    // update volume visual\n    const volume = this._getVolumeVisual()\n    if (volume) {\n      volume.getMesh().material.updateDefines()\n      this._needRender = true\n    }\n  })\n\n  on(\n    [\n      'axes',\n      'fxaa',\n      'ao',\n      'outline.on',\n      'outline.color',\n      'outline.threshold',\n      'outline.thickness'\n    ],\n    () => {\n      this._needRender = true\n    }\n  )\n}\n\n/**\n * Set parameter value.\n * @param {string|object} params - Parameter name or path (e.g. 'modes.BS.atom') or even settings object.\n * @param {*=} value - Value.\n */\nMiew.prototype.set = function (params, value) {\n  settings.set(params, value)\n}\n\n/**\n * Select atoms with selection string.\n * @param {string} expression - string expression of selection\n * @param {boolean=} append - true to append selection atoms to current selection, false to rewrite selection\n */\nMiew.prototype.select = function (expression, append) {\n  const visual = this._getComplexVisual()\n  if (!visual) {\n    return\n  }\n\n  let sel = expression\n  if (_.isString(expression)) {\n    sel = selectors.parse(expression).selector\n  }\n\n  visual.select(sel, append)\n  this._lastPick = null\n\n  this._updateInfoPanel()\n  this._needRender = true\n}\n\nconst VIEW_VERSION = '1'\n\n/**\n * Get or set view info packed into string.\n *\n * **Note:** view is stored for *left-handed* cs, euler angles are stored in radians and *ZXY-order*,\n *\n * @param {string=} expression - Optional string encoded the view\n */\nMiew.prototype.view = function (expression) {\n  const self = this\n  const { pivot } = this._gfx\n  let transform = []\n  const eulerOrder = 'ZXY'\n\n  function encode() {\n    const pos = pivot.position\n    const scale = self._objectControls.getScale() / settings.now.radiusToFit\n    const euler = new THREE.Euler()\n    euler.setFromQuaternion(self._objectControls.getOrientation(), eulerOrder)\n    transform = [pos.x, pos.y, pos.z, scale, euler.x, euler.y, euler.z]\n    return VIEW_VERSION + utils.arrayToBase64(transform, Float32Array)\n  }\n\n  function decode() {\n    // backwards compatible: old non-versioned view is the 0th version\n    if (expression.length === 40) {\n      expression = `0${expression}`\n    }\n\n    const version = expression[0]\n    transform = utils.arrayFromBase64(expression.substr(1), Float32Array)\n\n    // apply adapter for old versions\n    if (version !== VIEW_VERSION) {\n      if (version === '0') {\n        // cancel radiusToFit included in old views\n        transform[3] /= 8.0\n      } else {\n        // do nothing\n        self.logger.warn(\n          `Encoded view version mismatch, stored as ${version} vs ${VIEW_VERSION} expected`\n        )\n        return\n      }\n    }\n\n    const interpolator = self._interpolator\n    const srcView = interpolator.createView()\n    srcView.position.copy(pivot.position)\n    srcView.scale = self._objectControls.getScale()\n    srcView.orientation.copy(self._objectControls.getOrientation())\n\n    const dstView = interpolator.createView()\n    dstView.position.set(transform[0], transform[1], transform[2])\n\n    // hack to make preset views work after we moved centering offset to visual nodes\n    // FIXME should only store main pivot offset in preset\n    if (self._getComplexVisual()) {\n      dstView.position.sub(self._getComplexVisual().position)\n    }\n\n    dstView.scale = transform[3] // eslint-disable-line prefer-destructuring\n    dstView.orientation.setFromEuler(\n      new THREE.Euler(transform[4], transform[5], transform[6], eulerOrder)\n    )\n\n    interpolator.setup(srcView, dstView)\n  }\n\n  if (typeof expression === 'undefined') {\n    return encode()\n  }\n  decode()\n\n  return expression\n}\n\n/*\n * Update current view due to viewinterpolator state\n */\nMiew.prototype._updateView = function () {\n  const self = this\n  const { pivot } = this._gfx\n\n  const interpolator = this._interpolator\n  if (!interpolator.wasStarted()) {\n    interpolator.start()\n  }\n\n  if (!interpolator.isMoving()) {\n    return\n  }\n\n  const res = interpolator.getCurrentView()\n  if (res.success) {\n    const curr = res.view\n    pivot.position.copy(curr.position)\n    self._objectControls.setScale(curr.scale * settings.now.radiusToFit)\n    self._objectControls.setOrientation(curr.orientation)\n    this.dispatchEvent({ type: 'transform' })\n    self._needRender = true\n  }\n}\n\n/**\n * Translate object by vector\n * @param {number} x - translation value (Ang) along model's X axis\n * @param {number} y - translation value (Ang) along model's Y axis\n * @param {number} z - translation value (Ang) along model's Z axis\n */\nMiew.prototype.translate = function (x, y, z) {\n  this._objectControls.translatePivot(x, y, z)\n  this.dispatchEvent({ type: 'transform' })\n  this._needRender = true\n}\n\n/**\n * Rotate object by Euler angles\n * @param {number} x - rotation angle around X axis in radians\n * @param {number} y - rotation angle around Y axis in radians\n * @param {number} z - rotation angle around Z axis in radians\n */\nMiew.prototype.rotate = function (x, y, z) {\n  this._objectControls.rotate(\n    new THREE.Quaternion().setFromEuler(new THREE.Euler(x, y, z, 'XYZ'))\n  )\n  this.dispatchEvent({ type: 'transform' })\n  this._needRender = true\n}\n\n/**\n * Scale object by factor\n * @param {number} factor - scale multiplier, should greater than zero\n */\nMiew.prototype.scale = function (factor) {\n  if (factor <= 0) {\n    throw new RangeError('Scale should be greater than zero')\n  }\n  this._objectControls.scale(factor)\n  this.dispatchEvent({ type: 'transform' })\n  this._needRender = true\n}\n\n/**\n * Center view on selection\n * @param {empty | subset | string} selector - defines part of molecule which must be centered (\n * empty - center on current selection;\n * subset - center on picked atom/residue/molecule;\n * string - center on atoms correspond to selection string)\n */\nMiew.prototype.center = function (selector) {\n  // no arguments - center on current selection;\n  if (selector === undefined) {\n    this.setPivotSubset()\n    this._needRender = true\n    return\n  }\n  // subset with atom or residue - center on picked atom/residue;\n  if (\n    selector.obj !== undefined &&\n    ('atom' in selector.obj || 'residue' in selector.obj)\n  ) {\n    // from event with selection\n    if ('atom' in selector.obj) {\n      this.setPivotAtom(selector.obj.atom)\n    } else {\n      this.setPivotResidue(selector.obj.residue)\n    }\n    this._needRender = true\n    return\n  }\n  // string - center on atoms correspond to selection string\n  if (selector.obj === undefined && selector !== '') {\n    const sel = selectors.parse(selector)\n    if (sel.error === undefined) {\n      this.setPivotSubset(sel)\n      this._needRender = true\n      return\n    }\n  }\n  // empty subset or incorrect/empty string - center on all molecule;\n  this.resetPivot()\n  this._needRender = true\n}\n\n/**\n * Build selector that contains all atoms within given distance from group of atoms\n * @param {Selector} selector - selector describing source group of atoms\n * @param {number} radius - distance\n * @returns {Selector} selector describing result group of atoms\n */\nMiew.prototype.within = function (selector, radius) {\n  const visual = this._getComplexVisual()\n  if (!visual) {\n    return selectors.None()\n  }\n\n  if (selector instanceof String) {\n    selector = selectors.parse(selector)\n  }\n\n  const res = visual.within(selector, radius)\n  if (res) {\n    visual.rebuildSelectionGeometry()\n    this._needRender = true\n  }\n  return res\n}\n\n/**\n * Get atom position in 2D canvas coords\n * @param {string} fullAtomName - full atom name, like A.38.CG\n * @returns {Object} {x, y} or false if atom not found\n */\nMiew.prototype.projected = function (fullAtomName, complexName) {\n  const visual = this._getComplexVisual(complexName)\n  if (!visual) {\n    return false\n  }\n\n  const atom = visual.getComplex().getAtomByFullname(fullAtomName)\n  if (atom === null) {\n    return false\n  }\n\n  const pos = atom.position.clone()\n  // we consider atom position to be affected only by common complex transform\n  // ignoring any transformations that may add during editing\n  this._gfx.pivot.updateMatrixWorldRecursive()\n  this._gfx.camera.updateMatrixWorldRecursive()\n  this._gfx.pivot.localToWorld(pos)\n  pos.project(this._gfx.camera)\n\n  return {\n    x: (pos.x + 1.0) * 0.5 * this._gfx.width,\n    y: (1.0 - pos.y) * 0.5 * this._gfx.height\n  }\n}\n\n/**\n * Replace secondary structure with calculated one.\n *\n * DSSP algorithm implementation is used.\n *\n * Kabsch W, Sander C. 1983. Dictionary of protein secondary structure: pattern recognition of hydrogen-bonded and\n * geometrical features. Biopolymers. 22(12):2577-2637. doi:10.1002/bip.360221211.\n *\n * @param {string=} complexName - complex name\n */\nMiew.prototype.dssp = function (complexName) {\n  const visual = this._getComplexVisual(complexName)\n  if (!visual) {\n    return\n  }\n  visual.getComplex().dssp()\n\n  // rebuild dependent representations (cartoon or ss-colored)\n  visual._reprList.forEach((rep) => {\n    if (rep.mode.id === 'CA' || rep.colorer.id === 'SS') {\n      rep.needsRebuild = true\n    }\n  })\n}\n\nMiew.prototype.exportCML = function () {\n  const self = this\n\n  function extractRotation(m) {\n    const xAxis = new THREE.Vector3()\n    const yAxis = new THREE.Vector3()\n    const zAxis = new THREE.Vector3()\n    m.extractBasis(xAxis, yAxis, zAxis)\n    xAxis.normalize()\n    yAxis.normalize()\n    zAxis.normalize()\n    const retMat = new THREE.Matrix4()\n    retMat.identity()\n    retMat.makeBasis(xAxis, yAxis, zAxis)\n    return retMat\n  }\n\n  function updateCMLData(complex) {\n    const { root } = self._gfx\n    const mat = extractRotation(root.matrixWorld)\n    const v4 = new THREE.Vector4(0, 0, 0, 0)\n    const vCenter = new THREE.Vector4(0, 0, 0, 0)\n    let xml = null\n    let ap = null\n\n    // update atoms in cml\n    complex.forEachAtom((atom) => {\n      if (atom.xmlNodeRef && atom.xmlNodeRef.xmlNode) {\n        xml = atom.xmlNodeRef.xmlNode\n        ap = atom.position\n        v4.set(ap.x, ap.y, ap.z, 1.0)\n        v4.applyMatrix4(mat)\n        xml.setAttribute('x3', v4.x.toString())\n        xml.setAttribute('y3', v4.y.toString())\n        xml.setAttribute('z3', v4.z.toString())\n        xml.removeAttribute('x2')\n        xml.removeAttribute('y2')\n      }\n    })\n    // update stereo groups in cml\n    complex.forEachSGroup((sGroup) => {\n      if (sGroup.xmlNodeRef && sGroup.xmlNodeRef.xmlNode) {\n        xml = sGroup.xmlNodeRef.xmlNode\n        ap = sGroup.getPosition()\n        v4.set(ap.x, ap.y, ap.z, 1.0)\n        const cp = sGroup.getCentralPoint()\n        if (cp === null) {\n          v4.applyMatrix4(mat)\n        } else {\n          vCenter.set(cp.x, cp.y, cp.z, 0.0)\n          v4.add(vCenter)\n          v4.applyMatrix4(mat) // pos in global space\n          vCenter.set(cp.x, cp.y, cp.z, 1.0)\n          vCenter.applyMatrix4(mat)\n          v4.sub(vCenter)\n        }\n        xml.setAttribute('x', v4.x.toString())\n        xml.setAttribute('y', v4.y.toString())\n        xml.setAttribute('z', v4.z.toString())\n      }\n    })\n  }\n\n  const visual = self._getComplexVisual()\n  const complex = visual ? visual.getComplex() : null\n  if (complex && complex.originalCML) {\n    updateCMLData(complex)\n\n    // serialize xml structure to string\n    const oSerializer = new XMLSerializer()\n    return oSerializer.serializeToString(complex.originalCML)\n  }\n\n  return null\n}\n\n/**\n * Reproduce the RCSB PDB Molecule of the Month style by David S. Goodsell\n *\n * @see http://pdb101.rcsb.org/motm/motm-about\n */\nMiew.prototype.motm = function () {\n  settings.set({\n    fogColorEnable: true,\n    fogColor: 0x000000,\n    outline: { on: true, threshold: 0.01 },\n    bg: { color: 0xffffff }\n  })\n\n  this._forEachComplexVisual((visual) => {\n    const rep = []\n    const complex = visual.getComplex()\n    const palette = palettes.get(settings.now.palette)\n    for (let i = 0; i < complex.getChainCount(); i++) {\n      const curChainName = complex._chains[i]._name\n      const curChainColor = palette.getChainColor(curChainName)\n      rep[i] = {\n        selector: `chain ${curChainName}`,\n        mode: 'VW',\n        colorer: ['CB', { color: curChainColor, factor: 0.9 }],\n        material: 'FL'\n      }\n    }\n    visual.resetReps(rep)\n  })\n}\n\nMiew.prototype.VERSION =\n  (typeof PACKAGE_VERSION !== 'undefined' && PACKAGE_VERSION) || '0.0.0-dev'\n\n// Uncomment this to get debug trace:\n// Miew.prototype.debugTracer = new utils.DebugTracer(Miew.prototype);\n\n_.assign(\n  Miew,\n  /** @lends Miew */ {\n    VERSION: Miew.prototype.VERSION,\n\n    registeredPlugins: [],\n\n    // export namespaces // TODO: WIP: refactoring external interface\n    chem,\n    io,\n    modes,\n    colorers,\n    materials,\n    palettes,\n    options,\n    settings,\n    utils,\n    gfx: {\n      Representation\n    },\n\n    /**\n     * Third-party libraries packaged together with Miew.\n     *\n     * @property {object} lodash - [Lodash](https://lodash.com/), a modern JavaScript utility library delivering\n     *   modularity, performance & extras.\n     * @property {object} three - [three.js](https://threejs.org/), JavaScript 3D library.\n     *\n     * @example\n     * var _ = Miew.thirdParty.lodash;\n     * var opts = _.merge({ ... }, Miew.options.fromURL(window.location.search));\n     * var miew = new Miew(opts);\n     */\n    thirdParty: {\n      lodash: _,\n      three: THREE\n    }\n  }\n)\n\nexport default Miew\n","/* eslint-disable */\n// DO NOT EDIT! Automatically generated from .jison\n/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function () {\n  var o = function (k, v, o, l) {\n      for (o = o || {}, l = k.length; l--; o[k[l]] = v);\n      return o\n    },\n    $V0 = [1, 60],\n    $V1 = [1, 62],\n    $V2 = [1, 63],\n    $V3 = [1, 65],\n    $V4 = [1, 66],\n    $V5 = [1, 67],\n    $V6 = [1, 68],\n    $V7 = [1, 69],\n    $V8 = [1, 80],\n    $V9 = [1, 72],\n    $Va = [1, 73],\n    $Vb = [1, 74],\n    $Vc = [1, 75],\n    $Vd = [1, 99],\n    $Ve = [1, 76],\n    $Vf = [1, 100],\n    $Vg = [1, 79],\n    $Vh = [1, 51],\n    $Vi = [1, 81],\n    $Vj = [1, 82],\n    $Vk = [1, 84],\n    $Vl = [1, 83],\n    $Vm = [1, 85],\n    $Vn = [1, 96],\n    $Vo = [1, 97],\n    $Vp = [1, 98],\n    $Vq = [1, 86],\n    $Vr = [1, 87],\n    $Vs = [1, 64],\n    $Vt = [1, 70],\n    $Vu = [1, 71],\n    $Vv = [1, 77],\n    $Vw = [1, 78],\n    $Vx = [1, 53],\n    $Vy = [1, 54],\n    $Vz = [1, 55],\n    $VA = [1, 61],\n    $VB = [1, 88],\n    $VC = [1, 89],\n    $VD = [1, 90],\n    $VE = [1, 91],\n    $VF = [1, 92],\n    $VG = [1, 93],\n    $VH = [1, 94],\n    $VI = [1, 95],\n    $VJ = [1, 101],\n    $VK = [1, 102],\n    $VL = [1, 103],\n    $VM = [1, 104],\n    $VN = [1, 105],\n    $VO = [1, 56],\n    $VP = [1, 57],\n    $VQ = [1, 58],\n    $VR = [1, 59],\n    $VS = [1, 115],\n    $VT = [1, 111],\n    $VU = [1, 114],\n    $VV = [1, 112],\n    $VW = [1, 113],\n    $VX = [1, 118],\n    $VY = [1, 117],\n    $VZ = [1, 134],\n    $V_ = [1, 149],\n    $V$ = [1, 150],\n    $V01 = [1, 157],\n    $V11 = [\n      5, 6, 7, 9, 13, 14, 15, 17, 18, 19, 20, 23, 25, 26, 27, 30, 33, 34, 35,\n      37, 38, 41, 43, 45, 46, 49, 52, 54, 55, 56, 58, 59, 62, 64, 65, 66, 70,\n      72, 74, 77, 78, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95,\n      96, 97, 98, 99, 101\n    ],\n    $V21 = [\n      5, 6, 7, 9, 13, 14, 15, 17, 18, 19, 20, 23, 25, 26, 27, 30, 33, 34, 35,\n      37, 38, 41, 43, 45, 46, 49, 52, 54, 55, 56, 58, 59, 62, 64, 65, 66, 70,\n      71, 72, 74, 77, 78, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94,\n      95, 96, 97, 98, 99, 101\n    ],\n    $V31 = [\n      5, 6, 7, 9, 13, 15, 17, 18, 19, 20, 23, 25, 26, 27, 30, 33, 34, 37, 38,\n      41, 43, 45, 46, 49, 52, 54, 55, 56, 58, 59, 62, 64, 65, 66, 70, 72, 82,\n      83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95\n    ],\n    $V41 = [5, 70, 72],\n    $V51 = [5, 74],\n    $V61 = [71, 101]\n  var parser = {\n    trace: function trace() {},\n    yy: {},\n    symbols_: {\n      error: 2,\n      Program: 3,\n      Command: 4,\n      EOF: 5,\n      RESET: 6,\n      BUILD: 7,\n      ALL: 8,\n      HELP: 9,\n      Path: 10,\n      MOTM: 11,\n      OneArgCommand: 12,\n      GET: 13,\n      STRING: 14,\n      SET: 15,\n      Value: 16,\n      SET_SAVE: 17,\n      SET_RESTORE: 18,\n      SET_RESET: 19,\n      PRESET: 20,\n      AddRepresentation: 21,\n      EditRepresentation: 22,\n      REMOVE: 23,\n      RepresentationReference: 24,\n      HIDE: 25,\n      SHOW: 26,\n      LIST: 27,\n      EXPAND_KEY: 28,\n      SELECTOR_KEY: 29,\n      SELECT: 30,\n      AS: 31,\n      WordAll: 32,\n      SELECTOR: 33,\n      WITHIN: 34,\n      NUMBER: 35,\n      OF: 36,\n      MATERIAL: 37,\n      IDENTIFIER: 38,\n      ModeCMD: 39,\n      ColorCMD: 40,\n      VIEW: 41,\n      BASE_64: 42,\n      UNIT: 43,\n      DSSP: 44,\n      SCALE: 45,\n      ROTATE: 46,\n      AxesList: 47,\n      TRANSLATE: 48,\n      CENTER: 49,\n      GetURLBranch: 50,\n      Screenshot: 51,\n      LINE: 52,\n      ArgList: 53,\n      LISTOBJ: 54,\n      REMOVEOBJ: 55,\n      URL: 56,\n      VIEW_KEY: 57,\n      SCREENSHOT: 58,\n      LOAD: 59,\n      Url: 60,\n      FILE_KEY: 61,\n      ADD: 62,\n      Description: 63,\n      REP: 64,\n      MODE: 65,\n      COLOR: 66,\n      Descriptor: 67,\n      RepresentationOwnProperty: 68,\n      RepresentationOwnPropertyOpts: 69,\n      DESC_KEY: 70,\n      '=': 71,\n      DESC_KEY_OPTS: 72,\n      AxesArg: 73,\n      DESC_KEY_AXES: 74,\n      Arg: 75,\n      PathWoDescKey: 76,\n      HEX: 77,\n      BOOL: 78,\n      Word: 79,\n      CommandSetWoDESC_KEY: 80,\n      DescKeys: 81,\n      CLEAR: 82,\n      FILE_LIST: 83,\n      FILE_REGISTER: 84,\n      FILE_DELETE: 85,\n      PRESET_ADD: 86,\n      PRESET_DELETE: 87,\n      PRESET_UPDATE: 88,\n      PRESET_RENAME: 89,\n      PRESET_OPEN: 90,\n      CREATE_SCENARIO: 91,\n      RESET_SCENARIO: 92,\n      DELETE_SCENARIO: 93,\n      ADD_SCENARIO_ITEM: 94,\n      LIST_SCENARIO: 95,\n      PDB_KEY: 96,\n      DELAY_KEY: 97,\n      PRST_KEY: 98,\n      DESCRIPTION_KEY: 99,\n      CommandSet: 100,\n      '.': 101,\n      PresetPath: 102,\n      '/': 103,\n      HexOrNumber: 104,\n      $accept: 0,\n      $end: 1\n    },\n    terminals_: {\n      2: 'error',\n      5: 'EOF',\n      6: 'RESET',\n      7: 'BUILD',\n      8: 'ALL',\n      9: 'HELP',\n      11: 'MOTM',\n      13: 'GET',\n      14: 'STRING',\n      15: 'SET',\n      17: 'SET_SAVE',\n      18: 'SET_RESTORE',\n      19: 'SET_RESET',\n      20: 'PRESET',\n      23: 'REMOVE',\n      25: 'HIDE',\n      26: 'SHOW',\n      27: 'LIST',\n      28: 'EXPAND_KEY',\n      29: 'SELECTOR_KEY',\n      30: 'SELECT',\n      31: 'AS',\n      33: 'SELECTOR',\n      34: 'WITHIN',\n      35: 'NUMBER',\n      36: 'OF',\n      37: 'MATERIAL',\n      38: 'IDENTIFIER',\n      41: 'VIEW',\n      42: 'BASE_64',\n      43: 'UNIT',\n      44: 'DSSP',\n      45: 'SCALE',\n      46: 'ROTATE',\n      48: 'TRANSLATE',\n      49: 'CENTER',\n      52: 'LINE',\n      54: 'LISTOBJ',\n      55: 'REMOVEOBJ',\n      56: 'URL',\n      57: 'VIEW_KEY',\n      58: 'SCREENSHOT',\n      59: 'LOAD',\n      61: 'FILE_KEY',\n      62: 'ADD',\n      64: 'REP',\n      65: 'MODE',\n      66: 'COLOR',\n      70: 'DESC_KEY',\n      71: '=',\n      72: 'DESC_KEY_OPTS',\n      74: 'DESC_KEY_AXES',\n      77: 'HEX',\n      78: 'BOOL',\n      82: 'CLEAR',\n      83: 'FILE_LIST',\n      84: 'FILE_REGISTER',\n      85: 'FILE_DELETE',\n      86: 'PRESET_ADD',\n      87: 'PRESET_DELETE',\n      88: 'PRESET_UPDATE',\n      89: 'PRESET_RENAME',\n      90: 'PRESET_OPEN',\n      91: 'CREATE_SCENARIO',\n      92: 'RESET_SCENARIO',\n      93: 'DELETE_SCENARIO',\n      94: 'ADD_SCENARIO_ITEM',\n      95: 'LIST_SCENARIO',\n      96: 'PDB_KEY',\n      97: 'DELAY_KEY',\n      98: 'PRST_KEY',\n      99: 'DESCRIPTION_KEY',\n      101: '.',\n      103: '/'\n    },\n    productions_: [\n      0,\n      [3, 2],\n      [3, 1],\n      [4, 1],\n      [4, 1],\n      [4, 2],\n      [4, 1],\n      [4, 2],\n      [4, 1],\n      [4, 1],\n      [4, 2],\n      [4, 2],\n      [4, 3],\n      [4, 3],\n      [4, 1],\n      [4, 1],\n      [4, 1],\n      [4, 1],\n      [4, 2],\n      [4, 1],\n      [4, 1],\n      [4, 2],\n      [4, 2],\n      [4, 2],\n      [4, 2],\n      [4, 1],\n      [4, 2],\n      [4, 2],\n      [4, 2],\n      [4, 4],\n      [4, 2],\n      [4, 6],\n      [4, 2],\n      [4, 1],\n      [4, 1],\n      [4, 1],\n      [4, 2],\n      [4, 2],\n      [4, 1],\n      [4, 2],\n      [4, 1],\n      [4, 2],\n      [4, 2],\n      [4, 2],\n      [4, 1],\n      [4, 2],\n      [4, 1],\n      [4, 1],\n      [4, 3],\n      [4, 3],\n      [4, 4],\n      [4, 4],\n      [4, 1],\n      [4, 2],\n      [50, 1],\n      [50, 2],\n      [50, 2],\n      [50, 3],\n      [50, 3],\n      [51, 1],\n      [51, 2],\n      [51, 3],\n      [12, 2],\n      [12, 2],\n      [12, 2],\n      [21, 1],\n      [21, 2],\n      [21, 2],\n      [21, 3],\n      [22, 2],\n      [22, 3],\n      [39, 2],\n      [39, 3],\n      [40, 2],\n      [40, 3],\n      [24, 1],\n      [24, 1],\n      [63, 1],\n      [63, 2],\n      [63, 3],\n      [63, 4],\n      [67, 1],\n      [67, 1],\n      [67, 2],\n      [68, 3],\n      [69, 3],\n      [47, 1],\n      [47, 2],\n      [73, 2],\n      [53, 1],\n      [53, 2],\n      [75, 3],\n      [16, 1],\n      [16, 1],\n      [16, 1],\n      [16, 1],\n      [16, 1],\n      [79, 1],\n      [79, 1],\n      [32, 1],\n      [32, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [80, 1],\n      [81, 1],\n      [81, 1],\n      [81, 1],\n      [81, 1],\n      [81, 1],\n      [81, 1],\n      [81, 1],\n      [100, 1],\n      [100, 1],\n      [76, 1],\n      [76, 3],\n      [76, 3],\n      [10, 1],\n      [10, 1],\n      [10, 3],\n      [10, 3],\n      [10, 3],\n      [60, 1],\n      [102, 1],\n      [102, 3],\n      [104, 1],\n      [104, 1]\n    ],\n    performAction: function anonymous(\n      yytext,\n      yyleng,\n      yylineno,\n      yy,\n      yystate /* action[1] */,\n      $$ /* vstack */,\n      _$ /* lstack */\n    ) {\n      /* this == yyval */\n\n      var $0 = $$.length - 1\n      switch (yystate) {\n        case 1:\n          return $$[$0 - 1]\n          break\n        case 3:\n          this.$ = yy.miew.reset(false)\n          yy.ClearContext()\n          yy.miew.resetReps('empty')\n          break\n        case 4:\n          this.$ = yy.miew.rebuild()\n          break\n        case 5:\n          this.$ = yy.miew.rebuildAll()\n          yy.miew.rebuild()\n          break\n        case 6:\n          this.$ = yy.echo(yy.utils.help().toString())\n          break\n        case 7:\n          this.$ = yy.echo(yy.utils.help($$[$0]).toString())\n          break\n        case 8:\n          this.$ = yy.miew.motm()\n          break\n        case 10:\n        case 11:\n          this.$ = yy.utils.propagateProp($$[$0])\n          yy.echo(yy.miew.get($$[$0]).toString())\n          break\n        case 12:\n        case 13:\n          this.$ = yy.miew.set(\n            $$[$0 - 1],\n            yy.utils.propagateProp($$[$0 - 1], $$[$0])\n          )\n          break\n        case 14:\n          this.$ = yy.miew.saveSettings()\n          break\n        case 15:\n          this.$ = yy.miew.restoreSettings()\n          break\n        case 16:\n          this.$ = yy.miew.resetSettings()\n          break\n        case 17:\n          this.$ = yy.miew.resetReps()\n          break\n        case 18:\n          this.$ = yy.miew.applyPreset($$[$0])\n          break\n        case 21:\n          this.$ = yy.miew.repRemove($$[$0])\n          yy.representations.remove($$[$0])\n          break\n        case 22:\n          this.$ = yy.miew.repHide($$[$0])\n          break\n        case 23:\n          this.$ = yy.miew.repHide($$[$0], false)\n          break\n        case 24:\n          this.$ = yy.echo(\n            yy.utils.listRep(yy.miew, yy.representations, $$[$0], '-e')\n          )\n          break\n        case 25:\n          this.$ = yy.echo(yy.utils.list(yy.miew, yy.representations))\n          break\n        case 26:\n          this.$ = yy.echo(yy.utils.list(yy.miew, yy.representations, $$[$0]))\n          break\n        case 27:\n          this.$ = yy.echo(yy.utils.listSelector(yy.miew, yy.Context))\n          break\n        case 28:\n          this.$ = yy.miew.select(\n            yy.utils.checkArg($$[$0 - 1].toLowerCase(), $$[$0], true)\n          )\n          break\n        case 29:\n          this.$ = yy.Context[$$[$0].toLowerCase()] = yy.utils.checkArg(\n            $$[$0 - 3].toLowerCase(),\n            $$[$0 - 2],\n            true\n          )\n          yy.miew.select(yy.Context[$$[$0].toLowerCase()])\n          break\n        case 30:\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\n            selector: yy.utils.checkArg($$[$0 - 1].toLowerCase(), $$[$0])\n          })\n          break\n        case 31:\n          this.$ = yy.Context[$$[$0].toLowerCase()] = yy.miew.within(\n            yy.utils.checkArg('select', $$[$0 - 2], true),\n            Number($$[$0 - 4])\n          )\n          break\n        case 32:\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\n            material: yy.utils.checkArg(\n              $$[$0 - 1].toLowerCase(),\n              $$[$0].toUpperCase()\n            )\n          })\n          break\n        case 35:\n          this.$ = yy.echo(yy.miew.view())\n          break\n        case 36:\n        case 37:\n          this.$ = yy.miew.view($$[$0])\n          break\n        case 38:\n          this.$ = yy.echo(yy.miew.changeUnit())\n          break\n        case 39:\n          this.$ = yy.echo(yy.miew.changeUnit($$[$0]))\n          break\n        case 40:\n          this.$ = yy.miew.dssp()\n          break\n        case 41:\n          this.$ = yy.miew.scale($$[$0])\n          break\n        case 42:\n          for (var i = 0, n = $$[$0].length; i < n; i++) {\n            yy.miew.rotate(\n              ($$[$0][i]['x'] * Math.PI) / 180.0,\n              ($$[$0][i]['y'] * Math.PI) / 180.0,\n              ($$[$0][i]['z'] * Math.PI) / 180.0\n            )\n          }\n          break\n        case 43:\n          for (var i = 0, n = $$[$0].length; i < n; i++) {\n            yy.miew.translate(\n              $$[$0][i]['x'] || 0,\n              $$[$0][i]['y'] || 0,\n              $$[$0][i]['z'] || 0\n            )\n          }\n          break\n        case 44:\n          this.$ = yy.miew.center()\n          break\n        case 45:\n          this.$ = yy.miew.center($$[$0])\n          break\n        case 48:\n        case 49:\n          this.$ = yy.miew.addObject(\n            { type: 'line', params: [$$[$0 - 1], $$[$0]] },\n            true\n          )\n          break\n        case 50:\n        case 51:\n          this.$ = yy.miew.addObject(\n            {\n              type: 'line',\n              params: [$$[$0 - 2], $$[$0 - 1]],\n              opts: $$[$0].toJSO(yy.utils, 'objects', 'line')\n            },\n            true\n          )\n          break\n        case 52:\n          this.$ = yy.echo(yy.utils.listObjs(yy.miew))\n          break\n        case 53:\n          this.$ = yy.miew.removeObject($$[$0])\n          break\n        case 54:\n          this.$ = yy.echo(yy.miew.getURL({ view: false, settings: false }))\n          break\n        case 55:\n          this.$ = yy.echo(yy.miew.getURL({ view: false, settings: true }))\n          break\n        case 56:\n          this.$ = yy.echo(yy.miew.getURL({ view: true, settings: false }))\n          break\n        case 57:\n        case 58:\n          this.$ = yy.echo(yy.miew.getURL({ view: true, settings: true }))\n          break\n        case 59:\n          this.$ = yy.miew.screenshotSave()\n          break\n        case 60:\n          this.$ = yy.miew.screenshotSave('', Number($$[$0]))\n          break\n        case 61:\n          this.$ = yy.miew.screenshotSave(\n            '',\n            Number($$[$0 - 1]),\n            Number($$[$0])\n          )\n          break\n        case 62:\n        case 63:\n        case 64:\n          this.$ = yy.utils.load(yy.miew, $$[$0])\n          yy.representations.clear()\n          break\n        case 65:\n          this.$ = yy.echo(yy.representations.add(yy.miew.repAdd()))\n          break\n        case 66:\n          this.$ = yy.echo(yy.representations.add($$[$0], yy.miew.repAdd()))\n          break\n        case 67:\n          this.$ = yy.echo(yy.representations.add(yy.miew.repAdd($$[$0])))\n          break\n        case 68:\n          this.$ = yy.echo(\n            yy.representations.add($$[$0 - 1], yy.miew.repAdd($$[$0]))\n          )\n          break\n        case 69:\n          this.$ = yy.miew.rep($$[$0])\n          yy.miew.repCurrent($$[$0])\n          break\n        case 70:\n          this.$ = yy.miew.rep($$[$0 - 1], $$[$0])\n          yy.miew.repCurrent($$[$0 - 1])\n          break\n        case 71:\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\n            mode: yy.utils.checkArg(\n              $$[$0 - 1].toLowerCase(),\n              $$[$0].toUpperCase()\n            )\n          })\n          break\n        case 72:\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\n            mode: new Array(\n              yy.utils.checkArg(\n                $$[$0 - 2].toLowerCase(),\n                $$[$0 - 1].toUpperCase()\n              ),\n              $$[$0].toJSO(yy.utils, $$[$0 - 2], $$[$0 - 1].toUpperCase())\n            )\n          })\n          break\n        case 73:\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\n            colorer: yy.utils.checkArg(\n              $$[$0 - 1].toLowerCase(),\n              $$[$0].toUpperCase()\n            )\n          })\n          break\n        case 74:\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\n            colorer: new Array(\n              yy.utils.checkArg(\n                $$[$0 - 2].toLowerCase(),\n                $$[$0 - 1].toUpperCase()\n              ),\n              $$[$0].toJSO(yy.utils, $$[$0 - 2], $$[$0 - 1].toUpperCase())\n            )\n          })\n          break\n        case 75:\n          this.$ = Number(yy.representations.get($$[$0]))\n          break\n        case 76:\n        case 92:\n          this.$ = Number($$[$0])\n          break\n        case 77:\n          this.$ = $$[$0]\n          break\n        case 78:\n          this.$ = yy._.assign($$[$0 - 1], $$[$0])\n          break\n        case 79:\n          this.$ = yy._.assign($$[$0 - 2], $$[$0 - 1], $$[$0])\n          break\n        case 80:\n          this.$ = yy._.assign($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0])\n          break\n        case 81:\n        case 82:\n          this.$ = yy.CreateObjectPair($$[$0].key, $$[$0].val)\n          break\n        case 83:\n          this.$ = yy.CreateObjectPair(\n            $$[$0 - 1].key,\n            new Array(\n              $$[$0 - 1].val,\n              $$[$0].toJSO(yy.utils, $$[$0 - 1].key, $$[$0 - 1].val)\n            )\n          )\n          break\n        case 84:\n        case 85:\n          this.$ = Object.create({\n            key: yy.keyRemap($$[$0 - 2]),\n            val: yy.utils.checkArg($$[$0 - 2], $$[$0])\n          })\n          break\n        case 86:\n          this.$ = [$$[$0]]\n          break\n        case 87:\n          this.$ = $$[$0 - 1].concat($$[$0])\n          break\n        case 88:\n          this.$ = yy.CreateObjectPair($$[$0 - 1].toLowerCase(), Number($$[$0]))\n          break\n        case 89:\n          this.$ = new yy.ArgList($$[$0])\n          break\n        case 90:\n          this.$ = $$[$0 - 1].append($$[$0])\n          break\n        case 91:\n          this.$ = new yy.Arg($$[$0 - 2], $$[$0])\n          break\n        case 93:\n          this.$ = parseInt($$[$0])\n          break\n        case 94:\n          this.$ = JSON.parse($$[$0])\n          break\n        case 95:\n        case 96:\n          this.$ = String($$[$0])\n          break\n        case 157:\n        case 158:\n        case 161:\n        case 162:\n        case 163:\n          this.$ = $$[$0 - 2] + $$[$0 - 1] + $$[$0] //cause of could be color word in path;\n          break\n        case 166:\n          this.$ = $$[$0 - 2] = $$[$0 - 2] + $$[$0 - 1] + $$[$0]\n          break\n      }\n    },\n    table: [\n      {\n        3: 1,\n        4: 2,\n        5: [1, 3],\n        6: [1, 4],\n        7: [1, 5],\n        9: [1, 6],\n        11: [1, 7],\n        12: 8,\n        13: [1, 9],\n        15: [1, 10],\n        17: [1, 11],\n        18: [1, 12],\n        19: [1, 13],\n        20: [1, 14],\n        21: 15,\n        22: 16,\n        23: [1, 17],\n        25: [1, 18],\n        26: [1, 19],\n        27: [1, 20],\n        30: [1, 21],\n        33: [1, 22],\n        34: [1, 23],\n        37: [1, 24],\n        39: 25,\n        40: 26,\n        41: [1, 27],\n        43: [1, 28],\n        44: [1, 29],\n        45: [1, 30],\n        46: [1, 31],\n        48: [1, 32],\n        49: [1, 33],\n        50: 34,\n        51: 35,\n        52: [1, 36],\n        54: [1, 37],\n        55: [1, 38],\n        56: [1, 44],\n        58: [1, 45],\n        59: [1, 39],\n        62: [1, 40],\n        64: [1, 41],\n        65: [1, 42],\n        66: [1, 43]\n      },\n      { 1: [3] },\n      { 5: [1, 46] },\n      { 1: [2, 2] },\n      { 5: [2, 3] },\n      { 5: [2, 4], 8: [1, 47] },\n      {\n        5: [2, 6],\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        10: 48,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        70: $Vx,\n        72: $Vy,\n        74: $Vz,\n        79: 49,\n        80: 52,\n        81: 50,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN,\n        96: $VO,\n        97: $VP,\n        98: $VQ,\n        99: $VR\n      },\n      { 5: [2, 8] },\n      { 5: [2, 9] },\n      {\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        10: 106,\n        13: $V3,\n        14: [1, 107],\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        70: $Vx,\n        72: $Vy,\n        74: $Vz,\n        79: 49,\n        80: 52,\n        81: 50,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN,\n        96: $VO,\n        97: $VP,\n        98: $VQ,\n        99: $VR\n      },\n      {\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        10: 108,\n        13: $V3,\n        14: [1, 109],\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        70: $Vx,\n        72: $Vy,\n        74: $Vz,\n        79: 49,\n        80: 52,\n        81: 50,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN,\n        96: $VO,\n        97: $VP,\n        98: $VQ,\n        99: $VR\n      },\n      { 5: [2, 14] },\n      { 5: [2, 15] },\n      { 5: [2, 16] },\n      { 5: [2, 17], 14: $VS, 16: 110, 35: $VT, 38: $VU, 77: $VV, 78: $VW },\n      { 5: [2, 19] },\n      { 5: [2, 20] },\n      { 24: 116, 35: $VX, 38: $VY },\n      { 24: 119, 35: $VX, 38: $VY },\n      { 24: 120, 35: $VX, 38: $VY },\n      { 5: [2, 25], 24: 121, 28: [1, 122], 29: [1, 123], 35: $VX, 38: $VY },\n      { 14: [1, 124] },\n      { 14: [1, 125] },\n      { 35: [1, 126] },\n      { 38: [1, 127] },\n      { 5: [2, 33] },\n      { 5: [2, 34] },\n      { 5: [2, 35], 14: [1, 128], 42: [1, 129] },\n      { 5: [2, 38], 35: [1, 130] },\n      { 5: [2, 40] },\n      { 35: [1, 131] },\n      { 47: 132, 73: 133, 74: $VZ },\n      { 47: 135, 73: 133, 74: $VZ },\n      { 5: [2, 44], 14: [1, 136] },\n      { 5: [2, 46] },\n      { 5: [2, 47] },\n      {\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        10: 138,\n        13: $V3,\n        14: [1, 137],\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        70: $Vx,\n        72: $Vy,\n        74: $Vz,\n        79: 49,\n        80: 52,\n        81: 50,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN,\n        96: $VO,\n        97: $VP,\n        98: $VQ,\n        99: $VR\n      },\n      { 5: [2, 52] },\n      { 35: [1, 139] },\n      { 14: [1, 143], 38: [1, 141], 60: 140, 61: [1, 142] },\n      {\n        5: [2, 65],\n        38: [1, 144],\n        63: 145,\n        67: 146,\n        68: 147,\n        69: 148,\n        70: $V_,\n        72: $V$\n      },\n      { 24: 151, 35: $VX, 38: $VY },\n      { 38: [1, 152] },\n      { 38: [1, 153] },\n      { 5: [2, 54], 29: [1, 154], 57: [1, 155] },\n      { 5: [2, 59], 35: [1, 156] },\n      { 1: [2, 1] },\n      { 5: [2, 5] },\n      { 5: [2, 7], 101: $V01 },\n      o($V11, [2, 159]),\n      o($V11, [2, 160]),\n      o($V21, [2, 97]),\n      o($V21, [2, 98]),\n      o($V11, [2, 147]),\n      o($V11, [2, 148]),\n      o($V11, [2, 149]),\n      o($V11, [2, 150]),\n      o($V11, [2, 151]),\n      o($V11, [2, 152]),\n      o($V11, [2, 153]),\n      o($V21, [2, 101]),\n      o($V21, [2, 102]),\n      o($V21, [2, 103]),\n      o($V21, [2, 104]),\n      o($V21, [2, 105]),\n      o($V21, [2, 106]),\n      o($V21, [2, 107]),\n      o($V21, [2, 108]),\n      o($V21, [2, 109]),\n      o($V21, [2, 110]),\n      o($V21, [2, 111]),\n      o($V21, [2, 112]),\n      o($V21, [2, 113]),\n      o($V21, [2, 114]),\n      o($V21, [2, 115]),\n      o($V21, [2, 116]),\n      o($V21, [2, 117]),\n      o($V21, [2, 118]),\n      o($V21, [2, 119]),\n      o($V21, [2, 120]),\n      o($V21, [2, 121]),\n      o($V21, [2, 122]),\n      o($V21, [2, 123]),\n      o($V21, [2, 124]),\n      o($V21, [2, 125]),\n      o($V21, [2, 126]),\n      o($V21, [2, 127]),\n      o($V21, [2, 128]),\n      o($V21, [2, 129]),\n      o($V21, [2, 130]),\n      o($V21, [2, 131]),\n      o($V21, [2, 132]),\n      o($V21, [2, 133]),\n      o($V21, [2, 134]),\n      o($V21, [2, 135]),\n      o($V21, [2, 136]),\n      o($V21, [2, 137]),\n      o($V21, [2, 138]),\n      o($V21, [2, 139]),\n      o($V21, [2, 140]),\n      o($V21, [2, 141]),\n      o($V21, [2, 142]),\n      o($V21, [2, 143]),\n      o($V21, [2, 144]),\n      o($V21, [2, 145]),\n      o($V21, [2, 146]),\n      { 5: [2, 10], 101: $V01 },\n      { 5: [2, 11] },\n      { 14: $VS, 16: 158, 35: $VT, 38: $VU, 77: $VV, 78: $VW, 101: $V01 },\n      { 14: $VS, 16: 159, 35: $VT, 38: $VU, 77: $VV, 78: $VW },\n      { 5: [2, 18] },\n      o($V31, [2, 92]),\n      o($V31, [2, 93]),\n      o($V31, [2, 94]),\n      o($V31, [2, 95]),\n      o($V31, [2, 96]),\n      { 5: [2, 21] },\n      o($V41, [2, 75]),\n      o($V41, [2, 76]),\n      { 5: [2, 22] },\n      { 5: [2, 23] },\n      { 5: [2, 24] },\n      { 5: [2, 26] },\n      { 5: [2, 27] },\n      { 5: [2, 28], 31: [1, 160] },\n      { 5: [2, 30] },\n      { 36: [1, 161] },\n      { 5: [2, 32] },\n      { 5: [2, 36] },\n      { 5: [2, 37] },\n      { 5: [2, 39] },\n      { 5: [2, 41] },\n      { 5: [2, 42], 73: 162, 74: $VZ },\n      o($V51, [2, 86]),\n      { 35: [1, 163] },\n      { 5: [2, 43], 73: 162, 74: $VZ },\n      { 5: [2, 45] },\n      { 14: [1, 164] },\n      {\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        10: 165,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        70: $Vx,\n        72: $Vy,\n        74: $Vz,\n        79: 49,\n        80: 52,\n        81: 50,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN,\n        96: $VO,\n        97: $VP,\n        98: $VQ,\n        99: $VR,\n        101: $V01\n      },\n      { 5: [2, 53] },\n      { 5: [2, 62] },\n      { 5: [2, 63] },\n      { 5: [2, 64] },\n      { 5: [2, 164] },\n      { 5: [2, 66], 63: 166, 67: 146, 68: 147, 69: 148, 70: $V_, 72: $V$ },\n      { 5: [2, 67] },\n      { 5: [2, 77], 67: 167, 68: 147, 69: 148, 70: $V_, 72: $V$ },\n      o($V41, [2, 81]),\n      o($V41, [2, 82], {\n        80: 52,\n        53: 168,\n        75: 169,\n        76: 170,\n        79: 171,\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN\n      }),\n      { 71: [1, 172] },\n      { 71: [1, 173] },\n      { 5: [2, 69], 63: 174, 67: 146, 68: 147, 69: 148, 70: $V_, 72: $V$ },\n      {\n        5: [2, 71],\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        53: 175,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        75: 169,\n        76: 170,\n        79: 171,\n        80: 52,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN\n      },\n      {\n        5: [2, 73],\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        53: 176,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        75: 169,\n        76: 170,\n        79: 171,\n        80: 52,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN\n      },\n      { 5: [2, 55], 57: [1, 177] },\n      { 5: [2, 56], 29: [1, 178] },\n      { 5: [2, 60], 35: [1, 179] },\n      {\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        35: [1, 181],\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        70: $Vx,\n        72: $Vy,\n        74: $Vz,\n        79: 180,\n        80: 52,\n        81: 182,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN,\n        96: $VO,\n        97: $VP,\n        98: $VQ,\n        99: $VR\n      },\n      { 5: [2, 12] },\n      { 5: [2, 13] },\n      {\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        32: 183,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        70: $Vx,\n        72: $Vy,\n        74: $Vz,\n        79: 184,\n        80: 52,\n        81: 185,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN,\n        96: $VO,\n        97: $VP,\n        98: $VQ,\n        99: $VR\n      },\n      { 14: [1, 186] },\n      o($V51, [2, 87]),\n      o($V51, [2, 88]),\n      {\n        5: [2, 48],\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        53: 187,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        75: 169,\n        76: 170,\n        79: 171,\n        80: 52,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN\n      },\n      {\n        5: [2, 49],\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        53: 188,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        75: 169,\n        76: 170,\n        79: 171,\n        80: 52,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN,\n        101: $V01\n      },\n      { 5: [2, 68] },\n      { 5: [2, 78], 67: 189, 68: 147, 69: 148, 70: $V_, 72: $V$ },\n      o($V41, [2, 83], {\n        80: 52,\n        76: 170,\n        79: 171,\n        75: 190,\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN\n      }),\n      o($V31, [2, 89]),\n      { 71: [1, 191], 101: [1, 192] },\n      o($V61, [2, 156]),\n      { 14: $VS, 16: 193, 35: $VT, 38: $VU, 77: $VV, 78: $VW },\n      { 14: $VS, 16: 194, 35: $VT, 38: $VU, 77: $VV, 78: $VW },\n      { 5: [2, 70] },\n      {\n        5: [2, 72],\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        75: 190,\n        76: 170,\n        79: 171,\n        80: 52,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN\n      },\n      {\n        5: [2, 74],\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        75: 190,\n        76: 170,\n        79: 171,\n        80: 52,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN\n      },\n      { 5: [2, 57] },\n      { 5: [2, 58] },\n      { 5: [2, 61] },\n      o($V11, [2, 161]),\n      o($V11, [2, 162]),\n      o($V11, [2, 163]),\n      { 5: [2, 29] },\n      { 5: [2, 99] },\n      { 5: [2, 100] },\n      { 31: [1, 195] },\n      {\n        5: [2, 50],\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        75: 190,\n        76: 170,\n        79: 171,\n        80: 52,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN\n      },\n      {\n        5: [2, 51],\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        75: 190,\n        76: 170,\n        79: 171,\n        80: 52,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN\n      },\n      { 5: [2, 79], 67: 196, 68: 147, 69: 148, 70: $V_, 72: $V$ },\n      o($V31, [2, 90]),\n      { 14: $VS, 16: 197, 35: $VT, 38: $VU, 77: $VV, 78: $VW },\n      {\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        33: $Ve,\n        34: $Vf,\n        35: [1, 199],\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        79: 198,\n        80: 52,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN\n      },\n      o($V41, [2, 84]),\n      o($V31, [2, 85]),\n      {\n        6: $V0,\n        7: $V1,\n        9: $V2,\n        13: $V3,\n        15: $V4,\n        17: $V5,\n        18: $V6,\n        19: $V7,\n        20: $V8,\n        23: $V9,\n        25: $Va,\n        26: $Vb,\n        27: $Vc,\n        30: $Vd,\n        32: 200,\n        33: $Ve,\n        34: $Vf,\n        37: $Vg,\n        38: $Vh,\n        41: $Vi,\n        43: $Vj,\n        45: $Vk,\n        46: $Vl,\n        49: $Vm,\n        52: $Vn,\n        54: $Vo,\n        55: $Vp,\n        56: $Vq,\n        58: $Vr,\n        59: $Vs,\n        62: $Vt,\n        64: $Vu,\n        65: $Vv,\n        66: $Vw,\n        70: $Vx,\n        72: $Vy,\n        74: $Vz,\n        79: 184,\n        80: 52,\n        81: 185,\n        82: $VA,\n        83: $VB,\n        84: $VC,\n        85: $VD,\n        86: $VE,\n        87: $VF,\n        88: $VG,\n        89: $VH,\n        90: $VI,\n        91: $VJ,\n        92: $VK,\n        93: $VL,\n        94: $VM,\n        95: $VN,\n        96: $VO,\n        97: $VP,\n        98: $VQ,\n        99: $VR\n      },\n      { 5: [2, 80] },\n      o($V31, [2, 91]),\n      o($V61, [2, 157]),\n      o($V61, [2, 158]),\n      { 5: [2, 31] }\n    ],\n    defaultActions: {\n      3: [2, 2],\n      4: [2, 3],\n      7: [2, 8],\n      8: [2, 9],\n      11: [2, 14],\n      12: [2, 15],\n      13: [2, 16],\n      15: [2, 19],\n      16: [2, 20],\n      25: [2, 33],\n      26: [2, 34],\n      29: [2, 40],\n      34: [2, 46],\n      35: [2, 47],\n      37: [2, 52],\n      46: [2, 1],\n      47: [2, 5],\n      107: [2, 11],\n      110: [2, 18],\n      116: [2, 21],\n      119: [2, 22],\n      120: [2, 23],\n      121: [2, 24],\n      122: [2, 26],\n      123: [2, 27],\n      125: [2, 30],\n      127: [2, 32],\n      128: [2, 36],\n      129: [2, 37],\n      130: [2, 39],\n      131: [2, 41],\n      136: [2, 45],\n      139: [2, 53],\n      140: [2, 62],\n      141: [2, 63],\n      142: [2, 64],\n      143: [2, 164],\n      145: [2, 67],\n      158: [2, 12],\n      159: [2, 13],\n      166: [2, 68],\n      174: [2, 70],\n      177: [2, 57],\n      178: [2, 58],\n      179: [2, 61],\n      183: [2, 29],\n      184: [2, 99],\n      185: [2, 100],\n      196: [2, 80],\n      200: [2, 31]\n    },\n    parseError: function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str)\n      } else {\n        var error = new Error(str)\n        error.hash = hash\n        throw error\n      }\n    },\n    parse: function parse(input) {\n      var self = this,\n        stack = [0],\n        tstack = [],\n        vstack = [null],\n        lstack = [],\n        table = this.table,\n        yytext = '',\n        yylineno = 0,\n        yyleng = 0,\n        recovering = 0,\n        TERROR = 2,\n        EOF = 1\n      var args = lstack.slice.call(arguments, 1)\n      var lexer = Object.create(this.lexer)\n      var sharedState = { yy: {} }\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k]\n        }\n      }\n      lexer.setInput(input, sharedState.yy)\n      sharedState.yy.lexer = lexer\n      sharedState.yy.parser = this\n      if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {}\n      }\n      var yyloc = lexer.yylloc\n      lstack.push(yyloc)\n      var ranges = lexer.options && lexer.options.ranges\n      if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n\n        vstack.length = vstack.length - n\n        lstack.length = lstack.length - n\n      }\n      function lex() {\n        var token\n        token = tstack.pop() || lexer.lex() || EOF\n        if (typeof token !== 'number') {\n          if (token instanceof Array) {\n            tstack = token\n            token = tstack.pop()\n          }\n          token = self.symbols_[token] || token\n        }\n        return token\n      }\n      var symbol,\n        preErrorSymbol,\n        state,\n        action,\n        a,\n        r,\n        yyval = {},\n        p,\n        len,\n        newState,\n        expected\n      while (true) {\n        state = stack[stack.length - 1]\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state]\n        } else {\n          if (symbol === null || typeof symbol == 'undefined') {\n            symbol = lex()\n          }\n          action = table[state] && table[state][symbol]\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n          var errStr = ''\n          expected = []\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push(\"'\" + this.terminals_[p] + \"'\")\n            }\n          }\n          if (lexer.showPosition) {\n            errStr =\n              'Parse error on line ' +\n              (yylineno + 1) +\n              ':\\n' +\n              lexer.showPosition() +\n              '\\nExpecting ' +\n              expected.join(', ') +\n              \", got '\" +\n              (this.terminals_[symbol] || symbol) +\n              \"'\"\n          } else {\n            errStr =\n              'Parse error on line ' +\n              (yylineno + 1) +\n              ': Unexpected ' +\n              (symbol == EOF\n                ? 'end of input'\n                : \"'\" + (this.terminals_[symbol] || symbol) + \"'\")\n          }\n          this.parseError(errStr, {\n            text: lexer.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer.yylineno,\n            loc: yyloc,\n            expected: expected\n          })\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error(\n            'Parse Error: multiple actions possible at state: ' +\n              state +\n              ', token: ' +\n              symbol\n          )\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol)\n            vstack.push(lexer.yytext)\n            lstack.push(lexer.yylloc)\n            stack.push(action[1])\n            symbol = null\n            if (!preErrorSymbol) {\n              yyleng = lexer.yyleng\n              yytext = lexer.yytext\n              yylineno = lexer.yylineno\n              yyloc = lexer.yylloc\n              if (recovering > 0) {\n                recovering--\n              }\n            } else {\n              symbol = preErrorSymbol\n              preErrorSymbol = null\n            }\n            break\n          case 2:\n            len = this.productions_[action[1]][1]\n            yyval.$ = vstack[vstack.length - len]\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            }\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ]\n            }\n            r = this.performAction.apply(\n              yyval,\n              [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n              ].concat(args)\n            )\n            if (typeof r !== 'undefined') {\n              return r\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2)\n              vstack = vstack.slice(0, -1 * len)\n              lstack = lstack.slice(0, -1 * len)\n            }\n            stack.push(this.productions_[action[1]][0])\n            vstack.push(yyval.$)\n            lstack.push(yyval._$)\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]]\n            stack.push(newState)\n            break\n          case 3:\n            return true\n        }\n      }\n      return true\n    }\n  }\n\n  /* generated by jison-lex 0.3.4 */\n  var lexer = (function () {\n    var lexer = {\n      EOF: 1,\n\n      parseError: function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash)\n        } else {\n          throw new Error(str)\n        }\n      },\n\n      // resets the lexer, sets new input\n      setInput: function (input, yy) {\n        this.yy = yy || this.yy || {}\n        this._input = input\n        this._more = this._backtrack = this.done = false\n        this.yylineno = this.yyleng = 0\n        this.yytext = this.matched = this.match = ''\n        this.conditionStack = ['INITIAL']\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        }\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0]\n        }\n        this.offset = 0\n        return this\n      },\n\n      // consumes and returns one char from the input\n      input: function () {\n        var ch = this._input[0]\n        this.yytext += ch\n        this.yyleng++\n        this.offset++\n        this.match += ch\n        this.matched += ch\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g)\n        if (lines) {\n          this.yylineno++\n          this.yylloc.last_line++\n        } else {\n          this.yylloc.last_column++\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++\n        }\n\n        this._input = this._input.slice(1)\n        return ch\n      },\n\n      // unshifts one char (or a string) into the input\n      unput: function (ch) {\n        var len = ch.length\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g)\n\n        this._input = ch + this._input\n        this.yytext = this.yytext.substr(0, this.yytext.length - len)\n        //this.yyleng -= len;\n        this.offset -= len\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g)\n        this.match = this.match.substr(0, this.match.length - 1)\n        this.matched = this.matched.substr(0, this.matched.length - 1)\n\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1\n        }\n        var r = this.yylloc.range\n\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines\n            ? (lines.length === oldLines.length\n                ? this.yylloc.first_column\n                : 0) +\n              oldLines[oldLines.length - lines.length].length -\n              lines[0].length\n            : this.yylloc.first_column - len\n        }\n\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len]\n        }\n        this.yyleng = this.yytext.length\n        return this\n      },\n\n      // When called from action, caches matched text and appends it on next action\n      more: function () {\n        this._more = true\n        return this\n      },\n\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: function () {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true\n        } else {\n          return this.parseError(\n            'Lexical error on line ' +\n              (this.yylineno + 1) +\n              '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' +\n              this.showPosition(),\n            {\n              text: '',\n              token: null,\n              line: this.yylineno\n            }\n          )\n        }\n        return this\n      },\n\n      // retain first n characters of the match\n      less: function (n) {\n        this.unput(this.match.slice(n))\n      },\n\n      // displays already matched input, i.e. for error messages\n      pastInput: function () {\n        var past = this.matched.substr(\n          0,\n          this.matched.length - this.match.length\n        )\n        return (\n          (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, '')\n        )\n      },\n\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: function () {\n        var next = this.match\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length)\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(\n          /\\n/g,\n          ''\n        )\n      },\n\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: function () {\n        var pre = this.pastInput()\n        var c = new Array(pre.length + 1).join('-')\n        return pre + this.upcomingInput() + '\\n' + c + '^'\n      },\n\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: function (match, indexed_rule) {\n        var token, lines, backup\n\n        if (this.options.backtrack_lexer) {\n          // save context\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          }\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0)\n          }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g)\n        if (lines) {\n          this.yylineno += lines.length\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines\n            ? lines[lines.length - 1].length -\n              lines[lines.length - 1].match(/\\r?\\n?/)[0].length\n            : this.yylloc.last_column + match[0].length\n        }\n        this.yytext += match[0]\n        this.match += match[0]\n        this.matches = match\n        this.yyleng = this.yytext.length\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, (this.offset += this.yyleng)]\n        }\n        this._more = false\n        this._backtrack = false\n        this._input = this._input.slice(match[0].length)\n        this.matched += match[0]\n        token = this.performAction.call(\n          this,\n          this.yy,\n          this,\n          indexed_rule,\n          this.conditionStack[this.conditionStack.length - 1]\n        )\n        if (this.done && this._input) {\n          this.done = false\n        }\n        if (token) {\n          return token\n        } else if (this._backtrack) {\n          // recover context\n          for (var k in backup) {\n            this[k] = backup[k]\n          }\n          return false // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false\n      },\n\n      // return next match in input\n      next: function () {\n        if (this.done) {\n          return this.EOF\n        }\n        if (!this._input) {\n          this.done = true\n        }\n\n        var token, match, tempMatch, index\n        if (!this._more) {\n          this.yytext = ''\n          this.match = ''\n        }\n        var rules = this._currentRules()\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]])\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch\n            index = i\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i])\n              if (token !== false) {\n                return token\n              } else if (this._backtrack) {\n                match = false\n                continue // rule action called reject() implying a rule MISmatch.\n              } else {\n                // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                return false\n              }\n            } else if (!this.options.flex) {\n              break\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index])\n          if (token !== false) {\n            return token\n          }\n          // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n          return false\n        }\n        if (this._input === '') {\n          return this.EOF\n        } else {\n          return this.parseError(\n            'Lexical error on line ' +\n              (this.yylineno + 1) +\n              '. Unrecognized text.\\n' +\n              this.showPosition(),\n            {\n              text: '',\n              token: null,\n              line: this.yylineno\n            }\n          )\n        }\n      },\n\n      // return next match that has a token\n      lex: function lex() {\n        var r = this.next()\n        if (r) {\n          return r\n        } else {\n          return this.lex()\n        }\n      },\n\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: function begin(condition) {\n        this.conditionStack.push(condition)\n      },\n\n      // pop the previously active lexer condition state off the condition stack\n      popState: function popState() {\n        var n = this.conditionStack.length - 1\n        if (n > 0) {\n          return this.conditionStack.pop()\n        } else {\n          return this.conditionStack[0]\n        }\n      },\n\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: function _currentRules() {\n        if (\n          this.conditionStack.length &&\n          this.conditionStack[this.conditionStack.length - 1]\n        ) {\n          return this.conditions[\n            this.conditionStack[this.conditionStack.length - 1]\n          ].rules\n        } else {\n          return this.conditions['INITIAL'].rules\n        }\n      },\n\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0)\n        if (n >= 0) {\n          return this.conditionStack[n]\n        } else {\n          return 'INITIAL'\n        }\n      },\n\n      // alias for begin(condition)\n      pushState: function pushState(condition) {\n        this.begin(condition)\n      },\n\n      // return the number of states currently on the stack\n      stateStackSize: function stateStackSize() {\n        return this.conditionStack.length\n      },\n      options: { 'case-insensitive': true },\n      performAction: function anonymous(\n        yy,\n        yy_,\n        $avoiding_name_collisions,\n        YY_START\n      ) {\n        var YYSTATE = YY_START\n        switch ($avoiding_name_collisions) {\n          case 0 /* ignore whitespace */:\n            break\n          case 1:\n            return ''\n            break\n          case 2:\n            return ''\n            break\n          case 3:\n            return 42\n            break\n          case 4:\n            return 35\n            break\n          case 5:\n            return 77\n            break\n          case 6:\n            return 78\n            break\n          case 7:\n            return 78\n            break\n          case 8:\n            return 8\n            break\n          case 9:\n            return 6\n            break\n          case 10:\n            return 82\n            break\n          case 11:\n            return 7\n            break\n          case 12:\n            return 9\n            break\n          case 13:\n            return 59\n            break\n          case 14:\n            return 13\n            break\n          case 15:\n            return 15\n            break\n          case 16:\n            return 17\n            break\n          case 17:\n            return 18\n            break\n          case 18:\n            return 19\n            break\n          case 19:\n            return 20\n            break\n          case 20:\n            return 11\n            break\n          case 21:\n            return 62\n            break\n          case 22:\n            return 64\n            break\n          case 23:\n            return 23\n            break\n          case 24:\n            return 25\n            break\n          case 25:\n            return 26\n            break\n          case 26:\n            return 27\n            break\n          case 27:\n            return 30\n            break\n          case 28:\n            return 34\n            break\n          case 29:\n            return 33\n            break\n          case 30:\n            return 65\n            break\n          case 31:\n            return 66\n            break\n          case 32:\n            return 37\n            break\n          case 33:\n            return 41\n            break\n          case 34:\n            return 43\n            break\n          case 35:\n            return 52\n            break\n          case 36:\n            return 54\n            break\n          case 37:\n            return 55\n            break\n          case 38:\n            return 46\n            break\n          case 39:\n            return 48\n            break\n          case 40:\n            return 45\n            break\n          case 41:\n            return 49\n            break\n          case 42:\n            return 56\n            break\n          case 43:\n            return 58\n            break\n          case 44:\n            return 44\n            break\n          case 45:\n            return 83\n            break\n          case 46:\n            return 84\n            break\n          case 47:\n            return 85\n            break\n          case 48:\n            return 86\n            break\n          case 49:\n            return 87\n            break\n          case 50:\n            return 88\n            break\n          case 51:\n            return 89\n            break\n          case 52:\n            return 90\n            break\n          case 53:\n            return 91\n            break\n          case 54:\n            return 92\n            break\n          case 55:\n            return 93\n            break\n          case 56:\n            return 94\n            break\n          case 57:\n            return 95\n            break\n          case 58:\n            return 70\n            break\n          case 59:\n            return 70\n            break\n          case 60:\n            return 72\n            break\n          case 61:\n            return 72\n            break\n          case 62:\n            return 74\n            break\n          case 63:\n            return 74\n            break\n          case 64:\n            return 74\n            break\n          case 65:\n            return 31\n            break\n          case 66:\n            return 36\n            break\n          case 67:\n            return 96\n            break\n          case 68:\n            return 97\n            break\n          case 69:\n            return 98\n            break\n          case 70:\n            return 99\n            break\n          case 71:\n            yy_.yytext = yy.utils.unquoteString(yy_.yytext)\n            return 14\n            break\n          case 72:\n            return 38\n            break\n          case 73:\n            return 5\n            break\n          case 74:\n            return 101\n            break\n          case 75:\n            return 103\n            break\n          case 76:\n            return '\\\\'\n            break\n          case 77:\n            return 28\n            break\n          case 78:\n            return 61\n            break\n          case 79:\n            return 29\n            break\n          case 80:\n            return 57\n            break\n          case 81:\n            return 71\n            break\n        }\n      },\n      rules: [\n        /^(?:\\s+)/i,\n        /^(?:[#].*)/i,\n        /^(?:\\/\\/.*)/i,\n        /^(?:([_A-Z0-9\\/\\+]+==))/i,\n        /^(?:-?[0-9]+(\\.[0-9]+)?\\b)/i,\n        /^(?:0[xX][0-9A-F]+\\b)/i,\n        /^(?:false\\b)/i,\n        /^(?:true\\b)/i,\n        /^(?:all\\b)/i,\n        /^(?:reset\\b)/i,\n        /^(?:clear\\b)/i,\n        /^(?:build\\b)/i,\n        /^(?:help\\b)/i,\n        /^(?:load\\b)/i,\n        /^(?:get\\b)/i,\n        /^(?:set\\b)/i,\n        /^(?:set_save\\b)/i,\n        /^(?:set_restore\\b)/i,\n        /^(?:set_reset\\b)/i,\n        /^(?:preset\\b)/i,\n        /^(?:motm\\b)/i,\n        /^(?:add\\b)/i,\n        /^(?:rep\\b)/i,\n        /^(?:remove\\b)/i,\n        /^(?:hide\\b)/i,\n        /^(?:show\\b)/i,\n        /^(?:list\\b)/i,\n        /^(?:select\\b)/i,\n        /^(?:within\\b)/i,\n        /^(?:selector\\b)/i,\n        /^(?:mode\\b)/i,\n        /^(?:color\\b)/i,\n        /^(?:material\\b)/i,\n        /^(?:view\\b)/i,\n        /^(?:unit\\b)/i,\n        /^(?:line\\b)/i,\n        /^(?:listobj\\b)/i,\n        /^(?:removeobj\\b)/i,\n        /^(?:rotate\\b)/i,\n        /^(?:translate\\b)/i,\n        /^(?:scale\\b)/i,\n        /^(?:center\\b)/i,\n        /^(?:url\\b)/i,\n        /^(?:screenshot\\b)/i,\n        /^(?:dssp\\b)/i,\n        /^(?:file_list\\b)/i,\n        /^(?:file_register\\b)/i,\n        /^(?:file_delete\\b)/i,\n        /^(?:preset_add\\b)/i,\n        /^(?:preset_delete\\b)/i,\n        /^(?:preset_update\\b)/i,\n        /^(?:preset_rename\\b)/i,\n        /^(?:preset_open\\b)/i,\n        /^(?:create_scenario\\b)/i,\n        /^(?:reset_scenario\\b)/i,\n        /^(?:delete_scenario\\b)/i,\n        /^(?:add_scenario_item\\b)/i,\n        /^(?:list_scenario\\b)/i,\n        /^(?:s\\b)/i,\n        /^(?:mt\\b)/i,\n        /^(?:m\\b)/i,\n        /^(?:c\\b)/i,\n        /^(?:x\\b)/i,\n        /^(?:y\\b)/i,\n        /^(?:z\\b)/i,\n        /^(?:as\\b)/i,\n        /^(?:of\\b)/i,\n        /^(?:pdb\\b)/i,\n        /^(?:delay\\b)/i,\n        /^(?:prst\\b)/i,\n        /^(?:desc\\b)/i,\n        /^(?:((?:\"(?:\\\\.|[^\\\\\"])*\"|'(?:\\\\.|[^\\\\'])*')))/i,\n        /^(?:([_A-Z0-9]+))/i,\n        /^(?:$)/i,\n        /^(?:\\.)/i,\n        /^(?:\\/)/i,\n        /^(?:\\\\)/i,\n        /^(?:-e\\b)/i,\n        /^(?:-f\\b)/i,\n        /^(?:-s\\b)/i,\n        /^(?:-v\\b)/i,\n        /^(?:=)/i\n      ],\n      conditions: {\n        INITIAL: {\n          rules: [\n            0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,\n            19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\n            36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52,\n            53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69,\n            70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81\n          ],\n          inclusive: true\n        }\n      }\n    }\n    return lexer\n  })()\n  parser.lexer = lexer\n  function Parser() {\n    this.yy = {}\n  }\n  Parser.prototype = parser\n  parser.Parser = Parser\n  return new Parser()\n})()\n\nmodule.exports = { parser: parser }\n","import palettes from '../gfx/palettes'\nimport settings from '../settings'\n\nconst modeIdDesc = {\n  $help: [\n    'Rendering mode shortcut',\n    '    BS - balls and sticks mode',\n    '    LN - lines mode',\n    '    LC - licorice mode',\n    '    VW - van der waals mode',\n    '    TR - trace mode',\n    '    TU - tube mode',\n    '    CA - cartoon mode',\n    '    SA - isosurface mode',\n    '    QS - quick surface mode',\n    '    SE - solvent excluded mode',\n    '    TX - text mode'\n  ],\n  BS: {\n    $help: [\n      '   Balls and sticks',\n      '      aromrad = <number> #aromatic radius',\n      '      atom = <number>    #atom radius',\n      '      bond = <number>    #bond radius',\n      '      multibond = <bool> #use multibond',\n      '      showarom = <bool>  #show aromatic',\n      '      space = <number>   #space value\\n'\n    ]\n  },\n  CA: {\n    $help: [\n      '   Cartoon',\n      '      arrow = <number>   #arrow size',\n      '      depth = <number>   #depth of surface',\n      '      heightSegmentsRatio = <number>',\n      '      radius = <number>  #tube radius',\n      '      tension = <number> #',\n      '      width = <number>  #secondary width\\n'\n    ]\n  },\n  LN: {\n    $help: [\n      '   Lines',\n      '      atom = <number>    #atom radius',\n      '      chunkarom = <number>',\n      '      multibond = <bool> #use multibond',\n      '      showarom = <bool>  #show aromatic',\n      '      offsarom = <number>\\n'\n    ]\n  },\n  LC: {\n    $help: [\n      '   Licorice',\n      '      aromrad = <number> #aromatic radius',\n      '      bond = <number>    #bond radius',\n      '      multibond = <bool> #use multibond',\n      '      showarom = <bool>  #show aromatic',\n      '      space = <number>   #space value\\n'\n    ]\n  },\n  VW: {\n    $help: ['   Van der Waals', '      nothing\\n']\n  },\n  TR: {\n    $help: ['   Trace', '      radius = <number>  #tube radius\\n']\n  },\n  TU: {\n    $help: [\n      '   Tube',\n      '      heightSegmentsRatio = <number>',\n      '      radius = <number>  #tube radius',\n      '      tension = <number> \\n'\n    ]\n  },\n  SA: {\n    $help: ['   Surface', '      zClip = <bool> #clip z plane\\n']\n  },\n  QS: {\n    $help: [\n      '   Quick surface',\n      '      isoValue = <number>',\n      '      scale = <number>',\n      '      wireframe = <bool>',\n      '      zClip = <bool> #clip z plane\\n'\n    ]\n  },\n  SE: {\n    $help: [\n      '   Solvent excluded surface',\n      '      zClip = <bool> #clip z plane\\n'\n    ]\n  },\n  TX: {\n    $help: [\n      '   Text mode',\n      '      template = <format string> string that can include \"{{ id }}\"',\n      '          it will be replaced by value, id can be one of next:',\n      '          serial, name, type, sequence, residue, chain, hetatm, water\\n',\n      '      horizontalAlign = <string> {\"left\", \"right\", \"center\"}',\n      '      verticalAlign = <string> {\"top\", \"bottom\", \"middle\"}',\n      '      dx = <number> #offset along x',\n      '      dy = <number> #offset along y',\n      '      dz = <number> #offset along z',\n      '      fg = <string> #text color modificator',\n      '           could be keyword, named color or hex',\n      '      fg = <string> #back color modificator',\n      '           could be keyword, named color or hex',\n      '      showBg = <bool> #if set show background',\n      '           plate under text'\n    ]\n  }\n}\n\nconst colorDesc = {\n  $help: [\n    'Coloring mode shortcut',\n    '    EL - color by element',\n    '    CH - color by chain',\n    '    SQ - color by sequence',\n    '    RT - color by residue type',\n    '    SS - color by secondary structure',\n    '    UN - uniform'\n  ],\n  UN: {\n    $help: [\n      'Parameters of coloring modes customization',\n      '   Uniform',\n      '      color = <number|color> #RGB->HEX->dec\\n'\n    ],\n    color: {\n      $help: Object.keys(palettes.get(settings.now.palette).namedColors)\n        .sort()\n        .join('\\n')\n    }\n  }\n}\n\nconst materialDesc = {\n  $help: [\n    'Material shortcut',\n    '    DF - diffuse',\n    '    TR - transparent',\n    '    SF - soft plastic',\n    '    PL - glossy plastic',\n    '    ME - metal',\n    '    GL - glass'\n  ]\n}\n\nconst addRepDesc = {\n  $help: [\n    'Short (packed) representation description as a set of variables',\n    '    s=<EXPRESSION>',\n    '        selector property',\n    '    m=<MODE_ID>[!<PARAMETER>:<VALUE>[,...]]',\n    '        render mode property',\n    '    c=<COLORER_ID>[!<PARAMETER>:<VALUE>[,...]]',\n    '        color mode property',\n    '    mt=<MATERIAL_ID>',\n    '        material property'\n  ],\n  s: {\n    $help:\n      'Selection expression string as it is in menu->representations->selection'\n  },\n  m: modeIdDesc,\n  c: colorDesc,\n  mt: materialDesc\n}\n\nconst setGetParameterDesc = {\n  $help: [\n    'Parameters of rendering modes customization: modes',\n    'Parameters of colorer customization: colorers',\n    'Autobuild: autobuild = (<number>|<bool>)'\n  ],\n  modes: modeIdDesc,\n  colorers: colorDesc\n}\n\nconst help = {\n  $help: [\n    'help (<cmd name>| <path to property>)',\n    'You can get detailed information about command options',\n    '   using \"help cmd.opt.opt.[...]\"\\n',\n    '   you can use one line comments',\n    '   everything started from (#|//) will be skipped',\n    '   Example: >build //some comment\\n',\n    'List of available commands:'\n  ],\n  reset: {\n    $help: [\n      'Reload current object, delete all representations',\n      '    Nothing will work until load new object'\n    ]\n  },\n  load: {\n    $help: [\n      'load (<PDBID>|<URL>|-f [<*.NC FILE URL STRING>])',\n      '    Load new pdb object from selected source'\n    ],\n    PDBID: {\n      $help: 'pdb id in remote molecule database'\n    },\n    URL: {\n      $help: 'url to source file'\n    },\n    f: {\n      $help: [\n        'open file system dialog to fetch local file',\n        'optionally you can determine trajectory file',\n        'via URL for *.top model'\n      ]\n    }\n  },\n  clear: {\n    $help: 'No args. Clear terminal'\n  },\n  add: {\n    $help: [\n      'add [<REP_NAME>] [<DESCRIPTION>]',\n      '    Add new item to representation set with',\n      '    default or <DESCRIPTION> params'\n    ],\n    REP_NAME: {\n      $help: 'Identifier string [_,a-z,A-Z,0-9] can not start from digit'\n    },\n    DESCRIPTION: addRepDesc\n  },\n  rep: {\n    $help: [\n      'rep [<REP_NAME>|<REP_INDEX>] [<DESCRIPTION>]',\n      '    set current representation by name or index',\n      '    edit current representation by <DESCRIPTION>'\n    ],\n    REP_NAME: {\n      $help: [\n        'Identifier string [_,a-z,A-Z,0-9] can not start from digit',\n        'Must be declared before'\n      ]\n    },\n    REP_INDEX: {\n      $help: 'Index of available representation'\n    },\n    DESCRIPTION: addRepDesc\n  },\n  remove: {\n    $help: [\n      'remove (<REP_NAME>|<REP_INDEX>)',\n      'Remove representation by name or index'\n    ],\n    REP_NAME: {\n      $help: [\n        'Identifier string [_,a-z,A-Z,0-9] can not start from digit',\n        'Must be declared before'\n      ]\n    },\n    REP_INDEX: {\n      $help: 'Index of available representation'\n    }\n  },\n  selector: {\n    $help: [\n      'selector <EXPRESSION>',\n      '   set selector from EXPRESSION to current representation'\n    ],\n    EXPRESSION: {\n      $help:\n        'Selection expression string as it is in menu->representations->selection'\n    }\n  },\n  mode: {\n    $help: [\n      'mode <MODE_ID> [<PARAMETER>=<VALUE>...]',\n      '   set rendering mode and apply parameters to current representation'\n    ],\n    MODE_ID: modeIdDesc\n  },\n  color: {\n    $help: [\n      'color <COLORER_ID> [<PARAMETER>=<VALUE>...]',\n      '   set colorer and apply parameters to current representation'\n    ],\n    COLORER_ID: colorDesc\n  },\n  material: {\n    $help: [\n      'material <MATERIAL_ID>',\n      '   set material to current representation'\n    ],\n    MATERIAL_ID: materialDesc\n  },\n  build: {\n    $help: 'build help str',\n    add: {\n      $help: 'build.add',\n      new: {\n        $help: [\n          'add.new',\n          'add.new new line 1',\n          'add.new new line 2',\n          'add.new new line 3'\n        ]\n      }\n    },\n    del: {\n      $help: 'build.del'\n    }\n  },\n  list: {\n    $help: [\n      'list [-e|-s|<REP_NAME>|<REP_INDEX>]',\n      'Print representations if no args print list of representations',\n      '    -e expand list and show all representations',\n      '    -s show all user-registered selectors',\n      '    <REP_NAME>|<REP_INDEX> show only current representation'\n    ]\n  },\n  hide: {\n    $help: [\n      'hide (<REP_NAME>|<REP_INDEX>)',\n      'Hide representation referenced in args'\n    ]\n  },\n  show: {\n    $help: [\n      'show (<REP_NAME>|<REP_INDEX>)',\n      'Show representation referenced in args'\n    ]\n  },\n  get: {\n    $help: [\n      'get <PARAMETER>',\n      'Print <PARAMETER> value',\n      '    <PARAMETER> - path to option use get.PARAMETER to get more info'\n    ],\n    PARAMETER: setGetParameterDesc\n  },\n  set: {\n    $help: [\n      'set <PARAMETER> <VALUE>',\n      'Set <PARAMETER> with <VALUE>',\n      '    <PARAMETER> - path to option use set.PARAMETER to get more info'\n    ],\n    PARAMETER: setGetParameterDesc\n  },\n  set_save: {\n    $help: ['set_save', 'Save current settings to cookie']\n  },\n  set_restore: {\n    $help: ['set_restore', 'Load and apply settings from cookie']\n  },\n  set_reset: {\n    $help: ['set_reset', 'Reset current settings to the defaults']\n  },\n  preset: {\n    $help: [\n      'preset [<PRESET>]',\n      'Reset current representation or set preset to <PRESET>'\n    ],\n    PRESET: {\n      $help: ['default', 'wire', 'small', 'macro']\n    }\n  },\n  unit: {\n    $help: [\n      'unit [<unit_id>]',\n      'Change current biological structure view. Zero <unit_id> value means asymmetric unit,',\n      'positive values set an assembly with corresponding number.',\n      'Being called with no parameters command prints current unit information.'\n    ]\n  },\n  view: {\n    $help: [\n      'view [<ENCODED_VIEW>]',\n      'Get current encoded view or set if ENCODED_VIEW placed as argument'\n    ],\n    ENCODED_VIEW: {\n      $help: ['encoded view matrix string (binary code)']\n    }\n  },\n  rotate: {\n    $help: [\n      'rotate (x|y|z) [<DEGREES>] [(x|y|z) [<DEGREES>]]...',\n      'Rotate scene'\n    ]\n  },\n  scale: {\n    $help: ['scale <SCALE>', 'Scale scene']\n  },\n  select: {\n    $help: [\n      'select <SELECTOR_STRING> [as <SELECTOR_NAME>]',\n      'Select atoms using selector defined in SELECTOR_STRING',\n      '    and if SELECTOR_NAME is defined register it in viewer',\n      '    you can use it later as a complex selector'\n    ]\n  },\n  within: {\n    $help: [\n      'within <DISTANCE> of <SELECTOR_STRING> as <SELECTOR_NAME>',\n      'Build within named selector',\n      '    DISTANCE        <number>',\n      '    SELECTOR_STRING <string(selection language)>',\n      '    SELECTOR_NAME   <identifier>'\n    ]\n  },\n  url: {\n    $help: [\n      'url [-s] [-v]',\n      'Report URL encoded scene',\n      '    if -s set that include settings in the URL',\n      '    if -v set that include view in the URL'\n    ]\n  },\n  screenshot: {\n    $help: [\n      'screenshot [<WIDTH> [<HEIGHT>]]',\n      'Make a screenshot of the scene',\n      '    WIDTH  <number> in pixels',\n      '    HEIGHT <number> in pixels, equal to WIDTH by default'\n    ]\n  },\n  line: {\n    $help: [\n      'line <first_atom_path> <second_atom_path> [<PARAMETER>=<VALUE>]',\n      'Draw dashed line between two specified atoms'\n    ]\n  },\n  removeobj: {\n    $help: [\n      'removeobj <id>',\n      'Remove scene object by its index. Indices could be obtained by <listobj> command'\n    ]\n  },\n  listobj: {\n    $help: ['listobj', 'Display the list of all existing scene objects']\n  }\n}\n\nexport default help\n","import _ from 'lodash'\nimport Miew from './Miew'\nimport { parser as parsercli } from './utils/MiewCLIParser'\nimport clihelp from './utils/MiewCLIHelp'\nimport logger from './utils/logger'\nimport utils from './utils'\n\nconst {\n  chem: { selectors },\n  modes,\n  colorers,\n  materials,\n  palettes,\n  options,\n  settings\n} = Miew\n\nfunction None() {}\n\nconst NULL = (function () {\n  const obj = new None()\n  return function () {\n    return obj\n  }\n})()\n\nclass RepresentationMap {\n  constructor() {\n    this.representationMap = {}\n    this.representationID = {}\n  }\n\n  get(strId) {\n    return (\n      this.representationMap[strId] ||\n      this.representationID[strId] ||\n      '<no name>'\n    )\n  }\n\n  add(strId, index) {\n    if (strId === -1) {\n      return 'Can not create representation: there is no data'\n    }\n\n    if (index !== undefined) {\n      if (!this.representationMap.hasOwnProperty(strId)) {\n        this.representationMap[strId.toString()] = index\n        this.representationID[index] = strId.toString()\n      } else {\n        return 'This name has already existed, registered without name'\n      }\n    }\n    return `Representation ${strId} successfully added`\n  }\n\n  remove(index) {\n    if (index && this.representationID.hasOwnProperty(index)) {\n      delete this.representationMap[this.representationID[index]]\n      delete this.representationID[index]\n    }\n\n    const sortedKeys = Object.keys(this.representationID).sort()\n    for (const i in sortedKeys) {\n      if (sortedKeys.hasOwnProperty(i)) {\n        const id = sortedKeys[i]\n        if (id > index) {\n          this.representationID[id - 1] = this.representationID[id]\n          this.representationMap[this.representationID[id]] -= 1\n          delete this.representationID[id]\n        }\n      }\n    }\n  }\n\n  clear() {\n    this.representationMap = {}\n    this.representationID = {}\n  }\n}\n\nconst representationsStorage = new RepresentationMap()\n\nfunction keyRemap(key) {\n  const keys = {\n    s: 'selector',\n    m: 'mode',\n    c: 'colorer',\n    mt: 'material',\n    mode: 'modes',\n    color: 'colorers',\n    colorer: 'colorers',\n    select: 'selector',\n    material: 'materials',\n    selector: 'selector'\n  }\n  const ans = keys[key]\n  return ans === undefined ? key : ans\n}\n\nclass CLIUtils {\n  list(miew, repMap, key) {\n    let ret = ''\n    if (miew && repMap !== undefined) {\n      if (key === undefined || key === '-e') {\n        const count = miew.repCount()\n\n        for (let i = 0; i < count; i++) {\n          ret += this.listRep(miew, repMap, i, key)\n        }\n      }\n    }\n    return ret\n  }\n\n  listRep(miew, repMap, repIndex, key) {\n    let ret = ''\n    const rep = miew.repGet(repIndex)\n    if (!rep) {\n      logger.warn(`Rep ${repIndex} does not exist!`)\n      return ret\n    }\n    const index = repIndex\n    const repName = repMap.get(index)\n\n    const { mode, colorer } = rep\n    const selectionStr = rep.selectorString\n    const material = rep.materialPreset\n\n    ret += `#${index} : ${mode.name}${\n      repName === '<no name>' ? '' : `, ${repName}`\n    }\\n`\n\n    if (key !== undefined) {\n      ret += `    selection : \"${selectionStr}\"\\n`\n      ret += `    mode      : (${mode.id}), ${mode.name}\\n`\n      ret += `    colorer   : (${colorer.id}), ${colorer.name}\\n`\n      ret += `    material  : (${material.id}), ${material.name}\\n`\n    }\n\n    return ret\n  }\n\n  listSelector(miew, context) {\n    let ret = ''\n\n    for (const k in context) {\n      if (context.hasOwnProperty(k)) {\n        ret += `${k} : \"${context[k]}\"\\n`\n      }\n    }\n\n    return ret\n  }\n\n  listObjs(miew) {\n    const objs = miew._objects\n\n    if (!objs || !Array.isArray(objs) || objs.length === 0) {\n      return 'There are no objects on the scene'\n    }\n\n    const strList = []\n    for (let i = 0, n = objs.length; i < n; ++i) {\n      strList[i] = `${i}: ${objs[i].toString()}`\n    }\n\n    return strList.join('\\n')\n  }\n\n  joinHelpStr(helpData) {\n    if (helpData instanceof Array) {\n      return helpData.join('\\n')\n    }\n    return helpData\n  }\n\n  help(path) {\n    if (_.isUndefined(path)) {\n      return `${this.joinHelpStr(clihelp.$help)}\\n${_.slice(\n        _.sortBy(_.keys(clihelp)),\n        1\n      ).join(', ')}\\n`\n    }\n\n    const helpItem = _.get(clihelp, path)\n    return _.isUndefined(helpItem)\n      ? this.help()\n      : `${this.joinHelpStr(helpItem.$help)}\\n`\n  }\n\n  load(miew, arg) {\n    if (miew === undefined || arg === undefined || arg === '-f') {\n      return\n    }\n    miew.awaitWhileCMDisInProcess()\n    const finish = () => miew.finishAwaitingCMDInProcess()\n    miew.load(arg).then(finish, finish)\n  }\n\n  checkArg(key, arg, modificate) {\n    if (key !== undefined && arg !== undefined) {\n      if (keyRemap(key) === 'selector') {\n        const res = selectors.parse(arg)\n\n        if (res.error !== undefined) {\n          const selExc = { message: res.error }\n          throw selExc\n        }\n\n        if (modificate !== undefined && modificate) {\n          return res.selector\n        }\n        return arg\n      }\n\n      const modificators = {\n        colorers,\n        modes,\n        materials\n      }\n\n      let modificator = key\n      let temp\n      while (modificator !== temp) {\n        temp = modificator\n        modificator = keyRemap(temp)\n      }\n\n      if (modificators[modificator].get(arg) === undefined) {\n        const exc = { message: `${arg} is not existed in ${modificator}` }\n        throw exc\n      }\n      return arg\n    }\n    return NULL\n  }\n\n  propagateProp(path, arg) {\n    if (path !== undefined) {\n      let argExc = {}\n      const adapter = options.adapters[typeof _.get(settings.defaults, path)]\n      if (adapter === undefined) {\n        const pathExc = { message: `${path} is not existed` }\n        throw pathExc\n      }\n\n      if (\n        (path.endsWith('.color') ||\n          path.endsWith('.baseColor') ||\n          path.endsWith('.EL.carbon')) &&\n        typeof arg !== 'number'\n      ) {\n        arg = palettes.get(settings.now.palette).getNamedColor(arg)\n      }\n\n      if (path.endsWith('.fg') || path.endsWith('.bg')) {\n        if (typeof arg !== 'number') {\n          const val = palettes\n            .get(settings.now.palette)\n            .getNamedColor(arg, true)\n          if (val !== undefined) {\n            arg = `0x${val.toString(16)}`\n          }\n        } else {\n          arg = `0x${arg.toString(16)}`\n        }\n      }\n\n      if (path.endsWith('.template')) {\n        arg = arg.replace(/\\\\n/g, '\\n') // NOSONAR\n      }\n\n      if (\n        arg !== undefined &&\n        adapter(arg) !== arg &&\n        adapter(arg) !== arg > 0\n      ) {\n        argExc = {\n          message: `${path} must be a \"${typeof _.get(\n            settings.defaults,\n            path\n          )}\"`\n        }\n        throw argExc\n      }\n    }\n    return arg\n  }\n\n  unquoteString(value) {\n    return utils.unquoteString(value)\n  }\n}\n// repIndexOrRepMap could be RepresentationMap or index\n\nconst utilFunctions = new CLIUtils()\n\nfunction CreateObjectPair(a, b) {\n  const obj = {}\n  obj[a] = b\n  return obj\n}\n\nfunction ArgList(arg) {\n  if (arg instanceof this.constructor) {\n    return arg\n  }\n  if (arg instanceof Array) {\n    this._values = arg.slice(0)\n  } else if (arg) {\n    this._values = [arg]\n  } else {\n    this._values = []\n  }\n}\n\nArgList.prototype.append = function (value) {\n  const values = this._values\n  values[values.length] = value\n  return this\n}\n\nArgList.prototype.remove = function (value) {\n  const values = this._values\n  const index = values.indexOf(value)\n  if (index >= 0) {\n    values.splice(index, 1)\n  }\n  return this\n}\n\nArgList.prototype.toJSO = function (cliUtils, cmd, arg) {\n  const res = {}\n\n  const list = this._values\n  for (let i = 0, n = list.length; i < n; ++i) {\n    _.set(\n      res,\n      list[i].id,\n      cliUtils.propagateProp(\n        `${keyRemap(cmd)}.${arg}.${list[i].id}`,\n        list[i].val\n      )\n    )\n  }\n\n  return res\n}\n\nfunction Arg(_id, _val) {\n  this.id = _id\n  this.val = _val\n}\n\nconst cliutils = Object.create({})\n\ncliutils.Arg = Arg\ncliutils.ArgList = ArgList\n\ncliutils.miew = null\ncliutils.echo = null\ncliutils.representations = representationsStorage\ncliutils.utils = utilFunctions\n\ncliutils._ = _\ncliutils.CreateObjectPair = CreateObjectPair\ncliutils.keyRemap = keyRemap\ncliutils.Context = selectors.Context\ncliutils.ClearContext = selectors.ClearContext\n\ncliutils.NULL = NULL\n\ncliutils.notimplemented = function () {\n  return this.NULL\n}\n\nMiew.prototype.script = function (script, _printCallback, _errorCallback) {\n  parsercli.yy.miew = this\n  parsercli.yy.echo = _printCallback\n  parsercli.yy.error = _errorCallback\n  if (this.cmdQueue === undefined) {\n    this.cmdQueue = []\n  }\n\n  if (this.commandInAction === undefined) {\n    this.commandInAction = false\n  }\n\n  this.cmdQueue = this.cmdQueue.concat(script.split('\\n'))\n}\n\nMiew.prototype.awaitWhileCMDisInProcess = function () {\n  this.commandInAction = true\n}\n\nMiew.prototype.finishAwaitingCMDInProcess = function () {\n  this.commandInAction = false\n}\n\nMiew.prototype.isScriptingCommandAvailable = function () {\n  return (\n    this.commandInAction !== undefined &&\n    !this.commandInAction &&\n    this.cmdQueue !== undefined &&\n    this.cmdQueue.length > 0\n  )\n}\n\nMiew.prototype.callNextCmd = function () {\n  if (this.isScriptingCommandAvailable()) {\n    const cmd = this.cmdQueue.shift()\n\n    const res = {}\n    res.success = false\n    try {\n      parsercli.parse(cmd)\n      res.success = true\n    } catch (e) {\n      res.error = e.message\n      parsercli.yy.error(res.error)\n      this.finishAwaitingCMDInProcess()\n    }\n    return res\n  }\n  return ''\n}\n\nparsercli.yy = cliutils\n// workaround for incorrect JISON parser generator for AMD module\nparsercli.yy.parseError = parsercli.parseError\n"],"names":["_arrayLikeToArray","_unsupportedIterableToArray","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","this","defaults","Timer","startTime","oldTime","elapsedTime","running","now","getElapsedTime","update","delta","newTime","p","window","performance","bind","Date","createElement","tag","id","css","element","document","style","cssText","Stats","domElement","_text","appendChild","_startTime","_prevTime","_deltas","Array","_index","_total","_count","time","length","ms","fps","textContent","toPrecision","end","on","undefined","display","setPrototypeOf","assertThisInitialized","_isNativeReflectConstruct","isNativeReflectConstruct","isNativeFunction","construct","getPrototypeOf","isUndefOrEqual","param","value","EventDispatcher","_handlers","prototype","addEventListener","type","callback","context","handlers","params","_checkPar","par","_","find","push","removeEventListener","self","forEach","handler","ev","remove","values","omitBy","dispatchEvent","event","apply","priorities","debug","info","report","warn","error","Logger","call","console","_priority","Object","create","constructor","instantiate","verify","number","isNumber","Error","defineProperty","get","findKey","set","level","levels","keys","message","priority","_message","String","output","log","browserType","DEFAULT","SAFARI","encodeQueryComponent","text","excludeExp","encode","code","fromCharCode","parseInt","substr","encodeURIComponent","replace","decodeQueryComponent","decodeURIComponent","getUrlParameters","url","location","search","query","substring","indexOf","result","match","exec","getUrlParametersAsDict","a","i","key","resolveURL","str","URL","href","anchor","generateRegExp","symbolStr","symbolList","n","charCodeAt","toString","listStr","join","RegExp","attrs","content","setAttribute","child","createTextNode","HTMLElement","deriveClass","cls","base","members","statics","assign","deriveDeep","obj","needZeroOwnProperties","res","copy","hexColor","color","hex","DebugTracer","namespace","enabled","enable","indent","methods","wrap","method_","name_","spaces","logger","args","name","method","Function","OutOfMemoryError","allocateTyped","TypedArrayName","size","e","RangeError","bytesToBase64","buffer","bytes","Uint8Array","binary","byteLength","btoa","bytesFromBase64","atob","arrayToBase64","array","TypedArrayClass","arrayFromBase64","slice","compareOptionsWithDefaults","opts","defOpts","optsStr","isAlmostPlainObject","o","isPlainObject","proto","hasOwnProperty","objectsDiff","src","dst","diff","forIn","srcValue","dstValue","deepDiff","isEmpty","isEqual","forInRecursive","object","iterateThrough","prefix","newPref","enquoteString","isString","unquoteString","SyntaxError","getFileExtension","fileName","Math","max","lastIndexOf","Infinity","splitFileName","ext","dataUrlToBlob","parts","split","partsCount","Blob","getBrowser","navigator","vendor","userAgent","shotOpen","open","write","shotDownload","dataUrl","filename","msSaveBlob","link","download","innerHTML","createObjectURL","body","click","removeChild","data","blobData","copySubArrays","indices","itemSize","j","shallowCloneNode","node","newNode","cloneNode","worldPos","unquotedStringRE","enquoteHelper","correctSelectorIdentifier","test","concatTypedArraysUnsafe","first","second","mergeTypedArraysUnsafe","reduce","acc","cur","start","count","JobHandle","_shouldCancel","slaveEvent","VERSION","modes","BS","atom","bond","space","multibond","aromrad","showarom","polyComplexity","poor","low","medium","high","ultra","VW","LN","offsarom","chunkarom","lineWidth","LC","SA","zClip","probeRadius","subset","wireframe","SE","QS","isoValue","gaussLim","scale","gridSpacing","CS","probePositions","TR","radius","TU","heightSegmentsRatio","tension","CA","depth","ss","helix","width","arrow","strand","TX","template","horizontalAlign","verticalAlign","dx","dy","dz","fg","bg","showBg","VD","kSigma","kSigmaMed","kSigmaMax","frame","isoMode","colorers","EL","carbon","UN","CO","baseColor","CB","factor","SQ","gradient","TM","min","OC","HY","MO","antialias","camFov","camNear","camFar","camDistance","radiusToFit","fogNearFactor","fogFarFactor","fogAlpha","fogColor","fogColorEnable","palette","resolution","autoResolution","autoPreset","preset","presets","default","mode","colorer","selector","material","empty","wire","small","macro","objects","line","dashSize","gapSize","transparent","draft","clipPlane","clipPlaneFactor","clipPlaneSpeed","plugins","axes","fog","zSprites","isoSurfaceFakeOpacity","suspendRender","nowater","autobuild","fxaa","outline","threshold","thickness","ao","shadow","autoRotation","maxfps","fbxprec","autoRotationAxisFixed","zooming","picking","pick","editing","aromatic","singleUnit","stereo","interpolateViews","transparency","translationSpeed","example","good","ssaoKernelRadius","ssaoFactor","stereoBarrel","use","multiFile","Settings","old","_changed","reset","utils","path","oldValue","_notifyChange","merge","_notifyChanges","defaultValue","cloneDeep","checkpoint","deepValue","deepPath","changed","filter","applyDiffs","diffs","getDiffs","versioned","setPluginOpts","plugin","repIndex","asBoolean","toLowerCase","adapters","string","Number","boolean","cL1Ass","cOptsSep","cL2Ass","cLSep","cCommonIgnoreSymbols","getLevel1ExcludedExpr","cLevel1Ignores","getLevel2ExcludedExpr","cLevel2Ignores","cL1ExclExpr","encodeQueryComponentL1","cL2ExclExpr","encodeQueryComponentL2","ensureRepList","reps","settings","ensureRepAssign","prop","rep","addObject","options","_objects","newOpts","newObj","parseParams","sep","extractArgs","input","defaultsDict","bang","inputVal","arg","pair","adapter","actions","l","load","t","v","view","u","unit","menu","isArray","r","s","select","m","c","mt","materials","dup","ar","_fromArray","entries","entry","action","fromAttr","attr","fromURL","_processOptsForURL","_processArgsForURL","_processObjForURL","objOpts","toURL","stringList","idx","checkAndAdd","addReps","repList","addObjects","objList","protocol","host","pathname","_processOptsForScript","_processArgsForScript","_processObjForScript","map","_processRepsForScript","index","repString","strIdx","localAdd","toScript","commandsList","command","saveQuotes","quote","trim","Atom","residue","position","role","het","serial","occupancy","temperature","charge","mask","hydrogenCount","radicalCount","valence","bonds","flags","Flags","HYDROGEN","CARBON","process","_chain","getName","_sequence","NONPOLARH","Element","fullName","weight","radiusBonding","hValency","hydrogenValency","U1","Lead","U2","Wing","U18","N","Constants","C","O","SG","D","T","byAtomicNumber","ByAtomicNumber","byName","ByName","getByName","cBondTypes","UNKNOWN","COVALENT","AROMATIC","getAtomPos","Bond","left","right","order","fixed","_left","_right","_fixed","_order","_type","distanceTo","currAtom","_forEachNeighbour","l2Atom","refPoint","currDir","posGetter","rightCount","leftCount","tmpVec","clone","checkDir","sub","dotProd","dot","checkCarbon","stages","forEachLevelOne","forEachLevelTwo","stageId","multiplyScalar","third","maxNeibs","another","secondPos","firstV","secondV","crossVectors","lengthSq","normalize","_fixDir","BondType","cNucleicControlNames","cNucleicWing1Names","cNucleicWing2Names","cCylinderSource","cCylinderTarget","types","atoms","Residue","chain","sequence","icode","_component","_icode","_mask","_atoms","_secondary","_firstAtom","_leadAtom","_wingAtom","_lastAtom","_controlPoint","_midPoint","_wingVector","_cylinders","_isValid","_het","_molecule","xyz","altLoc","tempFactor","complex","getComplex","addAtom","forEachAtom","names","_findAtomByName","_name","next","getAtomPosition","leadAtom","_findFirstAtomInList","wingStart","wingEnd","cylSource","targetList","getCylinderTargetList","cylTarget","prevLeadPos","currLeadPos","prevWingPos","prevWing","vectorA","vectorB","needToNegate","abs","angleTo","PI","negate","prevRes","prev","nextRes","chainAsNucleic","bFirstInChain","lp","THREE","Vector3","x","y","z","_detectLeadWing","lerp","calcWing","asNucleic","_innerFinalize","anotherResidue","tempCount","occupCount","ResidueType","letterCode","_fullName","ALA","ARG","ASN","ASP","CYS","GLN","GLU","GLY","HIS","ILE","LEU","LYS","MET","PHE","PRO","PYL","SEC","SER","THR","TRP","TYR","VAL","A","G","I","U","DA","DC","DG","DI","DT","DU","WAT","H2O","HOH","DOD","UNK","UNL","PROTEIN","BASIC","ACIDIC","POLAR","NONPOLAR","NUCLEIC","PURINE","PYRIMIDINE","DNA","RNA","WATER","_addFlag","flag","list","StandardTypes","hydro","_addParam","ChainType","Chain","_complex","_residues","minSequence","POSITIVE_INFINITY","maxSequence","NEGATIVE_INFINITY","residues","seqNum","iCode","_determineType","curr","_finalize2","frameData","prevData","frameRes","currData","getResidueType","addResidueType","addResidue","StructuralElement","init","term","generic","genericByType","serialAtomMap","residueHash","splitUnifiedSerial","chainId","serialId","hashCode","getUnifiedSerial","Type","STRAND","BRIDGE","HELIX_310","HELIX_ALPHA","HELIX_PI","HELIX","TURN_310","TURN_ALPHA","TURN_PI","TURN","BEND","COIL","Generic","LOOP","StructuralElementType","StructuralElementGeneric","typeByPDBHelixClass","Helix","helixClass","comment","superPropBase","Strand","sheet","sense","atomCur","atomPrev","as","isNaN","Sheet","_width","_strands","_finalize","SGroup","saveNode","_id","_position","_charge","_repeat","_center","xmlNodeRef","nLimon","bLow","bHight","aPos","addVectors","parser","k","$V0","$V1","$V2","$V3","$V4","$V5","$V6","$V7","$V8","$V9","$Va","$Vb","$Vc","$Vd","trace","yy","symbols_","Program","Expression","EOF","Selector","OR","AND","NOT","SELECTOR","NAMED_SELECTOR","SELECTOR_RANGED","RangeList","SELECTOR_NAMED","NameList","Range","NUMBER","Name","IDENTIFIER","STRING","$accept","$end","terminals_","productions_","performAction","anonymous","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","keyword","GetSelector","append","ValueList","table","defaultActions","parseError","hash","recoverable","parse","stack","tstack","vstack","lstack","TERROR","arguments","lexer","sharedState","setInput","yylloc","yyloc","ranges","lex","token","pop","symbol","state","yyval","len","newState","expected","errStr","showPosition","loc","first_line","last_line","first_column","last_column","range","concat","_input","_more","_backtrack","done","matched","conditionStack","offset","ch","lines","unput","oldLines","more","reject","backtrack_lexer","less","pastInput","past","upcomingInput","pre","test_match","indexed_rule","backup","matches","tempMatch","rules","_currentRules","flex","begin","condition","popState","conditions","topState","pushState","stateStackSize","yy_","$avoiding_name_collisions","YY_START","INITIAL","inclusive","Parser","SelectionParser","List","_values","splice","toJSON","includes","valuesArray","upperOnly","toUpperCase","_validate","ListSelector","RangeListSelector","ValueListSelector","caseSensitive","NoneSelector","_atom","AllSelector","none","PrefixOperator","rhs","InfixOperator","lhs","keywords","defineSelector","SelectorClass","factory","NULL_SELECTOR","defineOperator","OperatorClass","includesAtom","byResidueTypeFlag","selectors","Context","exc","ClearContext","BiologicalUnit","_selector","_boundaries","boundingBox","Box3","boundingSphere","Sphere","makeEmpty","expandByPoint","bbc","getCenter","setFromCenterAndSize","radiusSquared","center","pos","lengthSquared","distanceToSquared","sqrt","Assembly","chains","matrices","oldCenter","oldRad","applyMatrix4","newRad","addScalar","subScalar","matrix","Component","_residueIndices","_cycles","_subDivs","_residueCount","resIdc","idIdc","idCount","last","subDivs","resCnt","_bonds","forEachCycle","cycle","forEachResidue","cycles","subs","currRes","endRes","_forEachSubChain","_subIdx","currIdx","lastSubIdx","subIdx","arr","boundaries","cMaxPairsForHashCode","cHashTableSize","cNumbersPerPair","cMaxNeighbours","cInvalidVal","cBigPrime","AtomPairs","maxPairsEstimate","numPairs","numMaxPairs","intBuffer","Int32Array","hashBuffer","indexA","indexB","ia","ib","codeToAdd","apI","cEstBondsMultiplier","cSpaceCode","cBondTolerance","cEpsilon","_getBondingRadius","_isAtomEligible","isHet","AutoBond","_maxRad","bBox","getDefaultBoundaries","_vBoxMin","_vBoxMax","_pairCollection","getAtoms","numAtoms","aInd","collection","numBondsForAtom","bInd","indTo","addPair","vw","getVoxelWorld","atomsNum","rA","isHydrogenA","posA","locationA","atomA","processAtom","atomB","isHydrogen","locationB","dist2","rB","maxAcceptable","forEachAtomWithinRadius","iA","iB","_addPair","bondsA","numBonds","newBond","addBond","_buildInner","_calcBoundingBox","_addExistingPairs","_findPairs","_addPairs","nAtoms","maxRad","destroy","cCrossThresh","cAromaticType","cAromaticAtoms","_coDirVectors","v1Tmp","v2Tmp","cp","v1","v2","_insertAscending","val","_anotherAtom","_cosBetween","theta","MathUtils","clamp","_markAromatic","Cycle","atomsList","nA","add","nextAtom","checkBond","forEachBond","_isAromatic","_isPossibleAromatic","rightIdx","leftIdx","_checkCycleSimple","_checkCycleComplex","assert","AromaticLoopsMarker","bondsData","bondMarks","_bondsData","_bondMarks","_resetCycles","_currIdx","bond1","bond2","arr1","arr2","n1","n2","i1","i2","prevBond","currRight","bondsOrder","currLeft","currVec","startAtomRef","_currStart","checkAromatic","_checkBond","_haveSameCycle","anotherAtom","anotherVec","newDir","cross","dir","newRight","_tryBond","checkCycle","forEachComponent","component","_startCycle","newCycle","addCycle","_findLoops","_getSphereSliceRadiusRange","zMin","zMax","dzMin","dzMax","rzMin","rzMax","rMin","rMax","_getCircleSliceRadiusRange","yMin","yMax","dyMin","dyMax","ryMin","ryMax","VoxelWorld","box","vCellSizeHint","_box","getSize","divide","floor","_last","_cellSize","_cellInnerR","_cellOuterR","numVoxels","_voxels","getAtomCount","voxelIdx","_findVoxel","point","zero","_zero","voxel","_voxel","xRange","_xRange","yRange","_yRange","zRange","_zRange","_forEachVoxelWithinRadiusSimple","rRangeXY","rRangeX","xVal","yVal","zVal","isInsideX","isInsideY","isInsideZ","divideScalar","clampScalar","vCenter","_vCenter","distTouch2","distInside2","d2","r2","_forEachVoxelWithinRadius","isInside","_forEachAtomInVoxel","dist","_forEachAtomWithinDistFromGroup","atomProc","voxels","processIfWithin","Vector2","MINIMAL_DISTANCE","MIN_HBOND_ENERGY","MAX_HBOND_ENERGY","COUPLING_CONSTANT","MAX_COUPLING_DISTANCE","MAX_RESIDUES_THRESHOLD","HBondInfo","_hbonds","_buildVW","_build","from","to","acceptor","acc0","acc1","energy","ri","getType","preri","rj","prerj","_calcHBondEnergy","pairs","PairCollection","_residueGetCAlpha","_residueGetCO","h","predonor","donor","_residueGetNH","distanceHO","distanceHC","distanceNC","distanceNO","round","donorInfo","accInfo","BridgeType","freeze","NO_BRIDGE","PARALLEL","ANTI_PARALLEL","HelixFlag","START","MIDDLE","END","START_AND_END","StructureType","SecondaryStructureMap","_ss","_sheet","_betaPartners","_bend","getResidues","_helixFlags","_chainLengths","_chains","_buildBetaSheets","_buildAlphaHelices","inResidues","chainLength","inPreferPiHelices","stride","isBond","kappa","_kappa","_isHelixStart","isTurn","p1","p2","p3","p4","v12","v34","prevPrev","nextNext","curCA","ppCA","nnCA","ckap","_cosinusAngle","skap","atan2","bridges","lenA","chainA","b","lenB","chainB","_testBridge","found","bridge","unshift","chainI","getChain","chainJ","sort","ibi","iei","jbi","jei","ibj","iej","jbj","jej","_hasChainBreak","bulge","ladderset","Set","ladder","delete","sheetset","toMove","_areBridgesLinked","betai","betaj","parallel","d","f","ai","aj","has","VOXEL_SIZE","helixClassMap","loopMap","Complex","_components","_helices","_sheets","structures","_residueTypes","_sgroups","_molecules","_maskNeedsUpdate","metadata","symmetry","units","_currentUnit","forEachChain","updateToFrame","resName","rt","chainName","resId","atomName","localeCompare","molecules","groups","components","maxSerial","chainShift","uniSerial","remnant","insCode","ser","addComp","comp","resCount","currStart","isConnected","setSubDivs","currSubDivs","enableEditing","_fillCmpEdit","_fillCmpNoedit","getBoundaries","getTransforms","getSelector","setCurrentUnit","newUnit","computeBoundaries","_computeBounds","_finalizeBonds","forEachSGroup","_rebuildSGroupOnAtomChange","updateStructuresMask","getBonds","finalize","getSequence","getICode","helices","sheets","needAutoBonding","autoConnector","build","other","_fillComponents","marker","markCycles","detectAromaticLoops","detectCycles","_finalizeMolecules","molecule","updater","structure","collectMask","forEachMolecule","setMask","clearMask","totalSelector","reseter","_atomNames","dict","_elements","_residueNames","_chainNames","_altlocNames","_voxelWorld","addAtoms","srcArray","dstArray","functor","elem","complexes","atomBias","bondBias","residueBias","chainBias","componentBias","bias","processBond","processResidue","processChain","processComponent","doNothing","addElement","ssMap","getSheet","item","lastCode","lastSheetIndex","lastHelixIndex","curStructure","curCode","curResidue","curSheetIndex","loopType","curSheet","addStrand","pow2ceil","Volume","dimensions","vecSize","volumeInfo","_dimVec","_volumeInfo","_dimX","_dimY","_dimZ","_rowElements","_planeElements","_totalElements","_data","getValue","setValue","addValue","boxSize","Float32Array","vl","getCellSize","vs","xSize","ySize","zSize","volMap","_voxelValue","zi","zm","zp","yi","ym","yp","xi","xm","xp","tilesX","ceil","tilesY","height","tileRow","row","texture","DataTexture","LuminanceFormat","UnsignedByteType","UVMapping","ClampToEdgeWrapping","LinearFilter","needsUpdate","Molecule","CSS2DObject","_element","parentNode","transp","el","getElement","op","top","op100","opacity","Object3D","RCGroup","raycaster","intersects","visible","children","raycast","innerOnly","enableSubset","disableSubset","totalSubset","getSubset","Group","LAYERS","VOLUME","TRANSPARENT","PREPASS_TRANSPARENT","VOLUME_BFPLANE","COLOR_FROM_POSITION","SHADOWMAP","SELECTION_LAYERS","resetTransform","quaternion","updateMatrixWorldRecursive","parent","updateMatrixWorld","addSavingWorldTransform","_worldMatrixInverse","Matrix4","matrixWorld","invert","multiply","decompose","WebGLRenderer","renderDummyQuad","_material","MeshBasicMaterial","depthWrite","_scene","Scene","_quad","Mesh","PlaneBufferGeometry","_camera","OrthographicCamera","render","renderScreenQuad","isIdentity","identity","equals","applyToPointsArray","w","elements","persp","ScreenQuadMaterial","uniforms","srcTex","vertexShader","vertexScreenQuadShader","depthTest","RawShaderMaterial","renderScreenQuadFromTex","fragmentShader","fragmentScreenQuadFromTex","renderScreenQuadFromTexWithDistortion","coef","fragmentScreenQuadFromTexWithDistortion","PerspectiveCamera","setMinimalFov","angle","aspect","fov","radToDeg","atan","tan","degToRad","StereoCamera","updateHalfSized","camera","originalAspect","originalFov","updateProjectionMatrix","setDistanceToFit","sin","Raycaster","intersectVisibleObject","gfxObj","fogFarPlane","intersectObject","nearPlane","near","matrixWorldInverse","farPlane","far","extractScale","_v","te","det","determinant","_calcCylinderMatrix","posBegin","posEnd","posCenter","matScale","makeScale","matRotHalf","makeRotationX","matRotLook","vUp","lookAt","setPosition","_calcChunkMatrix","eye","target","up","rad","_groupHasGeometryToRender","group","hasGeoms","traverse","_buildDistorionMesh","widthSegments","heightSegements","calcInverseBarrel","epsilon","prevR2","curR2","dr","geo","getAttribute","setXY","BufferAttribute","copyAtList","attribute","indexList","fillArray","startIndex","endIndex","removeChildren","clearTree","LineSegments","Line","geometry","dispose","destroyObject","belongToSelectLayers","layers","processObjRenderOrder","root","idMaterial","renderOrder","isGroup","applySelectionMaterial","setValues","depthFunc","LessEqualDepth","overrideColor","lights","shadowmap","setUberOptions","fixedColor","Color","zOffset","getMiddlePoint","point1","point2","optionalTarget","addScaledVector","_oldInstancedBufferGeometryCopy","InstancedBufferGeometry","source","instanceCount","calcCylinderMatrix","calcChunkMatrix","groupHasGeometryToRender","buildDistorionMesh","_defaultBoundaries","Visual","dataSource","_dataSource","gfxutils","arrayWithoutHoles","iterableToArray","nonIterableSpread","_ensureArray","EntityList","entities","_list","_dict","_indices","entity","register","registerInList","registerInDict","unregisterFromList","unregisterFromDict","makeContextDependent","defineProperties","CollisionSphere","_radius","sphere","_sphere","ray","intersectSphere","distance","origin","SphereCollisionGeo","inters","chunkIdx","computeBoundingBox","tmpColor","OFFSET_SIZE","COLOR_SIZE","setArrayXYZ","setArrayXYZW","InstancedSpheresGeometry","spheresCount","sphereComplexity","useZSprites","_sphGeometry","SphereBufferGeometry","_init","itemIdx","itemPos","itemRad","_offsets","setSphere","colorVal","_colors","g","finishUpdate","computeBoundingSphere","chunkIndices","alphaArr","_alpha","geom","sphereGeo","alpha","fill","InstancedBufferAttribute","MAX_IDC_16BIT","VEC_SIZE","ChunkedObjectsGeometry","chunkGeo","chunksCount","_chunkGeo","colors","chunkSize","_chunkSize","mesh","facesPerChunk","faceIndex","BufferGeometry","srcPos","_positions","srcNorm","_normals","srcColor","dstPos","dstNorm","dstColor","dstPtOffset","ptIdxBegin","ptIdxEnd","subarray","attributes","chunkIndex","chunkIndexSize","pointsCount","use32bitIndex","indexSize","Uint32Array","Uint16Array","posOffset","setIndex","SimpleSpheresGeometry","sphGeometry","normals","geoNormals","normal","_chunkPos","_tmpPositions","tmpPos","geoPos","centerPos","tmpVector","normMtx","Matrix3","Simple2CCylindersGeometry","cylGeometry","CylinderBufferGeometry","_chunkNorms","_tmpVector","botPos","topPos","firstOffset","secondOffset","tmpArray","geoNorm","lerpVectors","mtx1","getNormalMatrix","fromArray","toArray","applyMatrix3","colorVal1","colorVal2","MAX_POINTS_COUNT_16BIT","PTS_PER_TRIANGLE","radiusTop","radiusBottom","radialSegments","heightSegments","openEnded","thetaStart","thetaLength","parameters","hasTop","hasBottom","vertexCount","facesCount","heightHalf","positions","Uint16BufferAttribute","uvs","currVtxIdx","currFaceIdx","tanTheta","v3","v4","setXYZ","vx","vy","vz","cos","startTIdx","lastIdx","fTIdx","currSrcIdx","getX","getY","getZ","nextTVtx","startBIdx","lastBIdx","fBIdx","currSrcBIdx","nextBVtx","invMatrix","sortNumber","_prepareCylinderInfo","chunksIdx","cylinderInfo","even","newPar","_assignOpacity","color1","color2","Instanced2CCylindersGeometry","_useZSprites","_cylGeometry","_collisionGeo","me","mtxOffset","setItem","_matVector1","_matVector2","_matVector3","_invmatVector1","_invmatVector2","_invmatVector3","colorIdx","_color1","_color2","cylinderIndices","cylinderGeo","TRI_SIZE","tmpPrev","tmpNext","tmpRes","simpleNormal","normalOnCut","nearRingPt","_createExtrudedChunkGeometry","shape","ringsCount","ptsCount","totalPts","ExtrudedObjectsGeometry","_ringsCount","tmpShape","_tmpShape","hasSlope","hasCut","chunkStartIdx","_setPoints","_setSlopeNormals","_setBaseNormals","_addCut","vtxIdx","mtx","nPtsInRing","_countNormalsInRing","isSlope","shiftToExtraPt","subVectors","VERTEX_PER_SEGMENT","POS_SIZE","DIR_SIZE","COL_SIZE","direction","startSegmentIdx","segmentsCount","elemSize","ThickLinesGeometry","_initVertices","segmentIdx","pos1","pos2","directions","_directions","dirIdx","startSegIdx","endSegIdx","startPos","startDir","_buffersSize","indexOffset","pointOffset","LinesGeometry","posSize","getPositionSize","BaseLinesGeometry","CylinderCollisionGeo","itemOffset","COLLISION_RAD","ChunkedLinesGeometry","enableCollision","collisionGeo","segCount","segIdx","setSegments","getSubsetSegments","setColors","getSubsetColors","TwoColorLinesGeometry","segmentIndices","_segCounts","vectors","vecCount","tempPos1","tempPos2","CrossGeometry","setSegment","POS_RAD_SIZE","IsoSurfaceGeometry","_opts","_posRad","posRad","IsoSurfaceMarchCube","pointsValuesLinear","hasIntersection","bitsInside","numCellsPerSide","vx7000000","n3","striIndicesMarchCube","edgeTable","_voxelGradientFast","grad","GridCell","_arrSize","cubeIndex","Triangle","createArray","arrSize","IsoSurface","_numTriangles","_numVertices","_volumetricData","_xAxis","_yAxis","_zAxis","_xDir","_yDir","_zDir","volData","cellSize","xAxis","yAxis","zAxis","xDir","yDir","zDir","tmp","notZero","axe","EPSILON","isoLevel","grid","ind1","ind2","vertex","valP1","valP2","isoDiffP1","diffValP2P1","mu","triangles","firstIndices","_firstIndices","secondIndices","_secondIndices","vertexList","_vertexList","normalList","_normalList","_vertexInterp","triCount","triTblIdx","triTable","_triTable","step","appendSimple","vol","getData","dim","getDimensions","stepX","getStrideX","stepY","getStrideY","stepZ","getStrideZ","gc","gcVal","gcValSize","additions","tmpTriCount","appendVertex","axis","triVertex","_origin","posMtx","globTriCount","getDirectIdx","_gradient","_polygonize","computeGradient","_doGridPosNorms","_prepareAxesAndDirs","vertexMap","idcCount","newIndices","vertices","newPositions","newNormals","norm","faceVer","oldVerCount","vMap","newVer","matchedIndex","_remapIndices","_remapVertices","colorMap","atomMap","atomWeightMap","visibilitySelector","numVerts","xs","ys","zs","colorData","strideX","strideY","strideZ","atomWeightData","atomStrideX","atomStrideY","atomStrideZ","xInv","yInv","zInv","atomLookup","atomWeights","interp","idx1","idx2","collectWeight","coefX","coefY","coefZ","newVerCount","ind","mux","muy","muz","maxWeight","dominantIdx","atomIdx","c0","c1","c2","c3","cz0","cz1","numTriangles","newTriCount","i0","VolumeSurfaceGeometry","_visibilitySelector","_calcSurface","posRadArray","itemsCount","maxPosRad","minPosRad","tmpVal","minMaxValues","_findMinMax","minCoordRad","maxCoordRad","gridPadding","radScale","padRad","bbox","surface","isoSurf","compute","vertexFusion","setColorVolTex","volTexMap","packedArrays","_findNumVoxels","_computeSurface","_makeSurface","chem","QuickSurfGeometry","_shiftByOrigin","gaussdensity","atomicNum","invIsoValue","invGridSpacing","maxVoxelX","maxVoxelY","maxVoxelZ","volTexData","texStrideX","scaledRad","atomicNumFactor","radInv","radLim","radLim2","xMin","xMax","dy2dz2","addr","texAddr","expVal","density","exp","colInd","originX","originY","originZ","AVHash","maxDistance","minX","minY","minZ","maxX","maxY","maxZ","hashFunc","minW","iDim","jDim","kDim","nCells","jkDim","cellID","preHash","cid","iIdx","cellOffsets","cellLengths","maxCellLength","subArray","cellLength","neighbourListLength","withinRadii","rExtra","out","outIdx","nearI","nearJ","nearK","loI","loJ","loK","hiI","hiJ","hiK","iOffset","jOffset","cellStart","cellEnd","dataIndex","atomIndex","baseIndex","rSum","ContactSurface","_indexList","maxRadius","scaleFactor","lastClip","volTex","weights","weightsMap","gridx","gridy","gridz","sinTable","cosTable","neighbours","mid","ngTorus","uniformArray","TypeName","innI","fillGridDim","initializeGrid","gridSize","initializeAngleTables","initializeHash","rExt","singleAtomObscures","innX","innY","innZ","innCI","ra2","obscured","ni","projectPoints","sigma","sigma2Inv","ax","ay","az","ar2","ng","iax","iay","iaz","minx","miny","minz","maxx","maxy","maxz","colIdx","cr","cg","cb","iz","iy","dzy2","zyOffset","ix","cIdx","ap","spx","spy","spz","dd","normalToLine","projectTorus","aIdx","bIdx","xa","ya","za","r1","innR2","cosA","dmp","rInt","cost","sint","px","py","pz","current","projectTorii","innIdx","fixNegatives","innInnI","getVolume","timeEnd","ContactSurfaceGeometry","contactSurface","IsoSurfaceAtomColored","radiusAt","coord","colorX","colorY","colorZ","atomType","srcAtom","IsosurfaceBuildNormals","vBoxMin","vBoxMax","_numAtoms","_probeRadius","_atomsList","_voxelList","numAtomsRefs","ATOM_VOXEL_REF_SCALE","aveRad","numCells","_numCells","_aveRad","side","side2","side3","xScale","_xScale","yScale","_yScale","zScale","_zScale","maxAtomsRefs","xNumVoxMult","yNumVoxMult","zNumVoxMult","radAffect","diaAffect","numVoxX","numVoxY","numVoxZ","xIndMin","yIndMin","zIndMin","xIndMax","yIndMax","zIndMax","indVoxel","indexNext","_vertices","xInd","yInd","zInd","ref","indexAtom","closest","minDist2","MAX_VALUE","forEachRelatedAtom","numVertices","numCloseAtoms","vNormalX","vNormalY","vNormalZ","koef","r25","r01","maxRadAffect","maxRadAffect2","expScale","gatherNormals","radiusColorSmoothness","KOEF_ADD","colorsClose","weightsSum","gatherColors","weightNormalized","IsoSurfaceGeo","maxNumVertices","maxNumTriangles","needVertexColors","_maxNumVertices","_maxNumTriangles","HASH_SIZE","SSIsosurfaceGeometry","_innerBuild","geoOut","getGeo","_fromGeo","numTri3","atomsColored","nm","hashLines","hashEntries","bigNum","probeRadius2","atomRadiusScale","radMax","num","numPoints","vOut","invNP","tx","ty","tz","sign","cube","indexPointValue","cTwentyFour","xb","yb","zb","v0","a0","voxelWorld","getClosestAtom","a1","a2","isTriangleVisible","indInGeo0","addVertexToGeo","indInGeo1","indInGeo2","itr","meshRes","corners","vCellStep","cNumVerts","vaEdges","vCorner","indCell","indY","indZ","getCornerCoord","indPointValues","indValues","buildEdgePoint","offs","numTri","indTri","addTriangle","numIntersectedCells","cubeValuesIndex","indCorner","letter","atomT","probeRad","vDif","aLot","fx","fy","fz","indXMin","indYMin","indZMin","indXMax","indYMax","indZMax","distToSphere","numHashEtriesAllocated","numHashEntryIndex","vAdd","oneHynberes","n815851","n37633","n2453543","r106","hashResolution","marCubeResoultion","iHash","hLineIndex","dot2","iVertAdd","getNewHashEntry","entryFirst","probeSphereRadius","distToBorder","r11","innerBlockWorkAround","probeSpRad2","sideInv","radEst","xCorner","yCorner","zCorner","ok","expandFactor","meshResolution","colorMode","useVertexColors","excludeProbe","convertToAtomsColored","getBoundingBox","rProbeRadius","calculateGridCorners","numIntersectedCellsEstim","getNumIntersectedCells","createVertexHash","probeRadForNormalsColors","createVoxels","buildGeoFromCorners","modifyExcludedFromGeo","buildNormals","buildColors","destroyVoxels","createLabel","fieldTxt","className","spanText","fontSize","strings","spanNodeP","spanNodeText","LabelsGeometry","items","xTranslation","yTranslation","deltaPos","userData","translation","textAlign","fColor","bColor","background","precision","renderer","capabilities","getMaxPrecision","noiseWidth","noiseHeight","_noiseData","_noiseWrapS","RepeatWrapping","_noiseWrapT","_noiseMinFilter","NearestFilter","_noiseMagFilter","_noiseMapping","noiseTexture","RGBFormat","_samplesKernel","defaultUniforms","UniformsUtils","UniformsLib","diffuse","specular","shininess","zClipValue","clipPlaneValue","nearPlaneValue","invModelViewMatrix","world2colorMatrix","dashedLineSize","dashedLinePeriod","projMatrixInv","viewport","samplesKernel","noiseTex","noiseTexelSize","srcTexelSize","uberOptionNames","uberOptions","zClipCoef","noise","toonShading","UberMaterial","instancedPos","instancedMatrix","attrColor","attrColor2","attrAlphaColor","sphereSprite","cylinderSprite","fakeOpacity","prepassTransparancy","colorFromPos","shadowmapType","colorFromDepth","orthoCam","dashedLine","thickLine","fogTransparent","normalsToGBuffer","precisionString","DoubleSide","defines","extensions","inst","USE_FOG","INSTANCED_POS","INSTANCED_MATRIX","ATTR_COLOR","ATTR_COLOR2","ATTR_ALPHA_COLOR","OVERRIDE_COLOR","SPHERE_SPRITE","fragDepth","CYLINDER_SPRITE","ZCLIP","CLIP_PLANE","FAKE_OPACITY","USE_LIGHTS","COLOR_FROM_POS","SHADOWMAP_PCF_SHARP","SHADOWMAP_PCF_RAND","SHADOWMAP_BASIC","COLOR_FROM_DEPTH","ORTHOGRAPHIC_CAMERA","PREPASS_TRANSP","DASHED_LINE","THICK_LINE","FOG_TRANSPARENT","drawBuffers","NORMALS_TO_G_BUFFER","TOON_SHADING","shallow","Material","createInstance","SuperClass","NewObjectType","rest","onBeforeRender","scene","_onBeforeRender","_update","updateUniforms","UberObject","ZSpriteMesh","castShadow","receiveShadow","_geometry","_group","modelViewMatrix","multiplyMatrices","uniformsNeedUpdate","ZClippedMesh","modelView","_modelView","mvLength","_mvLength","setFromMatrixColumn","localToWorld","TextMesh","initialized","srcItem","label","visibility","SimpleMesh","_viewport","ThickLineMesh","projectionMatrix","InstancedMesh","ZClipped","ZSprite","Text","Instanced","setMatParams","_createInstancedCylinders","Geometry","geometries","meshes","initMaterial","_createLineSegmentsGeoTriplet","renderParams","thickLines","_createSimpleGeoTriplet","geoClass","_createIsoSurfaceGeoTriplet","caps","surfaceOpts","MeshCreator","_caps","_settings","TransformGroup","geoParams","transforms","_geoParams","mat","_transforms","_createMeshes","_ray","inverseMatrix","_inverseMatrix","childIntersects","ciCount","geos","meshCnt","Ray","wrapper","ChemGroup","selection","_selection","_mode","_colorer","_chunksIdc","chunks","_polyComplexity","_geo","_makeGeoArgs","_mesh","chunksList","_calcChunksList","setOpacity","_changeSubsetOpacity","AtomsGroup","atomsIdc","AtomsSphereGroup","calcAtomRadius","setColor","getAtomColor","updateColor","needsColorUpdate","AtomsSurfaceGroup","selectedAtoms","getSurfaceOpts","AtomsSASSESGroupStub","adjustColor","inverseColor","getAtomText","getNode","getVisualName","colorMappings","adjust","inverse","propagateColor","rule","startsWith","templateMappings","hetatm","water","parseTemplate","AtomsTextGroup","getLabelOpts","fgColor","bgColor","_slerp","omega","oSin","AromaticGroup","radOffset","addChunk","chunksToIdx","prevVector","currVector","segmentsHeight","_segmentsHeight","leprStep","currAtomIdx","cCount","cycAtoms","chunkPoints","tmpDir","cycleRad","prevPos","currPos","upDir","currAngle","_createShape","pts","AromaticTorusGroup","torusRad","getAromRadius","radiusV","calcStickRadius","lookAtVector","mtc","points","currPoint","AromaticLinesGroup","getAromaticOffset","prevPt","getAromaticArcChunks","ResiduesGroup","chunksIdc","resIdx","NucleicItemGroup","stickRad","getResidueColor","_processItem","NucleicCylindersGroup","cyl1","cyl2","NucleicSpheresGroup","calcMatrix","_buildStructureInterpolator","Smooth","METHOD_CUBIC","clip","CLIP_CLAMP","cubicTension","scaleTo","argTrans","transformT","tt","newt","ans","_addPoints","centerPoints","topPoints","tp","_addPointsForLoneResidue","nucleic","nameFrom","nameTo","posFrom","posTo","shift","wing","cpPrev","tpPrev","cpNext","tpNext","_calcPoints","firstIdx","_prevIdx","_nextIdx","arrIdx","_extrapolate2","otherIdx","prevIdx","nextIdx","CartoonHelper","startIdx","endIdx","pointsArrays","_topInterp","_centerInterp","_shift","_valueStep","_segmentsCount","firstRad","secondRad","mtcCount","outMtc","currRad","topInterp","cenInterp","currentValue","mtxIdx","lerpVal","currTop","currCenter","nextCenter","_loopThrough","subDiv","subDivI","subDivN","idc","matrixHelper","prevLast","prevSecondRad","getResidueRadius","prepareMatrices","ResiduesSubseqGroup","cmpMultiplier","getHeightSegmentsRatio","getTension","chunkIdc","subdivs","ResiduesTraceGroup","chunk","getCylinderCount","bondOrder","BondsGroup","drawMultiple","drawMultiorderBonds","showAromatic","showAromaticLoops","bondsIdc","bondsCount","getBondOrder","bondIdx","BondsCylinderGroup","emptyOffset","calcSpaceFraction","normDir","leftPos","rightPos","currBondIdx","atom1","atom2","a1Pos","a2Pos","calcNormalDir","minRad","currStickRad","STEP_SIZE","BondsLinesGroup","bondDir","a1Hangs","a2Hangs","AtomsProcessor","atomCount","_checkAtom","atomsGroup","meshIdx","chSubset","subsetEl","OrphanAtomsProcessor","ResiduesProcessor","ResidueGroup","_checkResidue","residuesGroup","NucleicProcessor","ResidueProcessor","SubseqsProcessor","getMaskedSubdivSequences","jEnd","BondsProcessor","bondsGroup","AromaticProcessor","cycleIdx","perCycle","Atoms","OrphanAtoms","Residues","Nucleic","Subseqs","Bonds","Aromatic","_bakeGroup","triplet","Processor","GroupsFactory","gfxTriplet","createSpheres","processors","createCrosses","create2CCylinders","create2CLines","createExtrudedChains","create2CClosedCylinders","createChunkedLines","createQuickSurface","createContactSurface","createSASSES","createLabels","Mode","groupList","depGroups","groupCount","currGroup","newGroup","getRenderParams","LinesMode","shortName","LicoriceMode","BallsAndSticksMode","VanDerWaalsMode","TraceMode","TubeMode","_residue","TUBE_RADIUS","buildGeometry","CartoonMode","secCache","getSecondary","secOpts","ARROW_END","startRad","getResidueStartRadius","endRad","getResidueEndRadius","_res","tubeRad","secHeight","secData","SurfaceMode","surfaces","surfaceNames","isSurface","QuickSurfaceMode","useBeads","getVisibilitySelector","IsoSurfaceMode","_excludeProbe","_radScale","IsoSurfaceSASMode","IsoSurfaceSESMode","ContactSurfaceMode","TextMode","lerpColor","beta","g1","b1","g2","b2","Palette","asIs","elementColors","defaultElementColor","residueColors","defaultResidueColor","chainColors","secondaryColors","defaultSecondaryColor","gradientName","gradients","defaultNamedColor","namedColors","minRangeColor","midRangeColor","maxRangeColor","defaultGradientColor","namedColorsArray","rainbow","temp","hot","cold","reds","blues","H","F","P","S","CL","FE","NI","CU","BR","HE","LI","BE","B","NE","NA","MG","AL","SI","AR","K","SC","TI","V","CR","MN","ZN","GA","GE","AS","KR","RB","SR","Y","ZR","NB","TC","RU","RH","PD","AG","CD","IN","SN","SB","TE","XE","BA","LA","CE","PR","ND","PM","SM","EU","GD","TB","DY","HO","ER","YB","LU","HF","TA","W","RE","OS","IR","PT","AU","HG","TL","PB","BI","PO","AT","RN","FR","RA","AC","TH","PA","NP","PU","AM","CM","BK","CF","ES","FM","MD","NO","LR","RF","DB","BH","HS","MT","palettes","cpkPalette","jmolPalette","vmdPalette","Colorer","ElementColorer","getElementColor","ResidueTypeColorer","SequenceColorer","getGradientColor","ChainColorer","getChainColor","SecondaryStructureColorer","getSecondaryColor","secondary","UniformColorer","ConditionalColorer","parsed","_subsetCached","ConformationColorer","TemperatureColorer","OccupancyColorer","_getColorByOccupancy","HydrophobicityColorer","hydrophobicity","MoleculeColorer","getMoleculeCount","scaleColor","CarbonColorer","colorCarbon","colorNotCarbon","neutralColor","intensity","materialList","_gatherObjects","meshTypes","createDerivativeMesh","layer","newMesh","traverseMeshes","func","applyTransformsToMeshes","processTransparentMaterial","matValues","prepassTranspMesh","processColFromPosMaterial","colFromPosMesh","createShadowmapMaterial","shadowmapMesh","isShadowmapMesh","removeShadowmapMaterial","forEachMeshInGroup","processObj","_countMeshTriangles","attribs","property","currAttr","faces","countTriangles","totalCount","Representation","startMaterialValues","selectorString","materialPreset","needsRebuild","setMode","markAtoms","clearAtomBits","selectionGeo","meshutils","sg","matrixAutoUpdate","repSettings","selStr","valueOf","modeDiff","identify","colorerDiff","newSelectorObject","newSelector","newMode","newColorer","newMaterial","setMaterialPreset","_traverseComponentGroups","ComplexEditor","ComplexComponentEditor","complexVisual","_complexVisual","_inProgress","_componentTransforms","_bakeComponentTransform","onAtomPositionChanged","_resetComponentTransform","finalizeEdit","pivot","visual","getSelectedComponent","getSelectionGeo","selectionMask","getSelectionBit","reprNode","bbmin","bbmax","updateMatrix","ComplexFragmentEditor","_getSelectionBorderAtoms","_fragmentBoundAtoms","pivotPos","_fragmentGeo","_fragmentSelectionGeo","vg","smeshes","sm","selectionBit","makeTranslation","_bakeAtomTransform","boundAtoms","transformDirection","atomHash","ComponentEditor","FragmentEditor","lookupAndCreate","entityList","specs","Entity","ComplexVisual","_reprList","_repr","_reprListChanged","_selectionBit","_reprUsedBits","_selectionCount","_selectionGeometry","release","_editor","repCurrent","repAdd","desc","status","change","bits","NUM_REPRESENTATION_BITS","newSelectionBit","_getFreeReprIdx","originalSelection","buildSelectorFromMask","def","unmarkAtoms","hide","show","markAtomsAdditionally","rebuildSelectionGeometry","pickedObj","otherObj","getMolecule","resetSelectionMask","tmpMask","deselectionMask","multiple","selRule","reprList","repr","Promise","resolve","errorOccured","setTimeout","hasGeometry","buildSelectionGeometry","optimizeList","NaN","expression","all","or","and","residx","_buildSelectorFromSortedLists","editor","ComplexVisualEdit","needTraverse","forEachAtomWithinDistFromMasked","countAtomsByMask","volumeUniforms","volumeDim","tileTex","tileTexSize","tileStride","boxAngles","_isoLevel0","_flipV","_BFLeft","_BFRight","_FFLeft","_FFRight","_WFFLeft","_WFFRight","overrideUniforms","defUniforms","facesPosMaterialParams","sideType","vertexVolumeFaces","fragmentVolumeFaces","BackFacePosMaterial","backFaceParams","BackSide","ShaderMaterial","ShaderParams","FrontSide","BackFacePosMaterialFarPlane","matUniforms","aspectRatio","farZ","tanHalfFOV","matWorld2Volume","shaderParams","vertexFarPlane","fragmentFarPlane","FrontFacePosMaterial","frontFaceParams","VolumeMaterial","vertexVolume","fragmentVolume","updateDefines","ISO_MODE","STEPS_COUNT","VolumeMesh","Plane","cullFlag","_corners","edges","_edges","edgeIntersections","_edgeIntersections","constant","vert","cornerMark","edgeMark","curEdge","curEdgeInter","CheckX","CheckY","CheckZ","curEdgeIdx","curEdgeSource","face","nextVertex","coplanarPoint","faceIdx","_collectVertices","vRight","vDir","rightProj","_sortIndices","numIndices","vm","getTiledTextureStride","buildTiledTexture","getBox","image","getVolumeInfo","volInfo","obtuseAngle","mean","dmean","dmin","span","dmax","sd","nearClipPlaneOffset","_nearClipPlaneOffset","_pos","_norm","norm4D","_norm4D","matrixWorldToLocal","_matrixWorldToLocal","_clipPlane","_updateIsoLevel","getWorldDirection","getWorldPosition","setFromNormalAndCoplanarPoint","_updateVertices","_updateIndices","Vector4","_flattenArray","VolumeBounds","bSize","offsetVert","_getBaseVertices","flatVertices","_lines","LineBasicMaterial","projTable","_projectionTable","proj","inv","currDelta","angleValue","XY","XZ","YZ","VolumeFarPlane","volume","planeGeo","_initPlaneGeo","_plane","frustumCulled","doubleSided","matWorldToVolume","_renderer","planeCamPos","normalMatrix","volumeMatrix","DEG2RAD","VolumeVisual","setDataSource","_frame","getMesh","showFrame","_farPlane","getBoundingSphere","needShow","LoaderList","someLoaders","SomeLoader","canProbablyLoad","Loader","_source","_options","_abort","_agent","abort","FileLoader","_binary","blob","reader","FileReader","readAsArrayBuffer","readAsText","File","urlStartRegexp","XHRLoader","request","XMLHttpRequest","response","responseType","send","ImmediateLoader","ParserList","someParsers","format","formats","SomeParser","canProbablyParse","parseSync","model","_parseHeader","Remark290","_matrix","_matrixIndex","stream","readString","matrixRow","readCharCode","matrixData","matrixIndex","parseFloat","Remark350","assemblies","_assembly","assembly","addMatrix","addChain","PDBStream","_start","_nextCR","_nextLF","_next","_end","TAG_LENGTH","nameToElement","veryLong","pdbStartRegexp","remarkParsers","PDBParser","_serialAtomMap","_modelId","_compaundFound","_biomoleculeFound","_allowedChainsIDs","_lastMolId","_remarks","_remark","_compndCurrToken","fileType","_fixBondsArray","_fixChains","remark290","isUndefined","remark350","chainDict","chainObj","idChainMap","nj","readInt","readChar","chainID","resSeq","readFloat","Role","serial0","serial1","serial2","serial3","serial4","tokenIdx","chainStr","lastChar","remarkNum","remark","RemarkParser","fields","_parseSTRUCTURE","addHelix","addSheet","pars","adder","startId","endId","codeOfS","serialNumber","structureName","helLength","shWidth","shCur","shPrev","startChainID","endChainID","startSequenceNumber","iCodeStr","startICode","endSequenceNumber","endICode","cs","classification","date","title","tagParsers","HEADER","_parseHEADER","_parseTITLE","_parseATOM","HETATM","ENDMDL","_parseENDMDL","CONECT","_parseCONECT","COMPND","_parseCOMPND","REMARK","_parseREMARK","_parseHELIX","_parseSHEET","cOrderCharCodes","cmlStartRegexp","CMLParser","_readOnlyOneMolecule","atomId","countBonds","idxs","atomRefs2","moleculeArr","fieldData","atomRefs","placement","fieldName","_extractSGroup","_createSGroup","firstAtomRef","sgroupRef","mapEntry","cycleFuncInner","cycleFunc","x2","x3","y2","y3","z3","atomsRef","dom","parseNode","xmlNode","nodeName","nodeValue","jsonNode","existing","childNodes","molSet","atomArray","_findSuitableMolecule","DOMParser","doc","parseFromString","traversedData","_traverseData","rawData","prepareComponentCompound","ret","atomLabels","labelsCount","_extractSGroups","localBond","bondArray","_rebuidBondIndexes","addCurrBond","orderAttr","tc","labels","_breadWidthSearch","retStruct","originalCML","cml","retData","filteredData","rd","compId","molId","molID","_packLabel","breadthQueue","componentID","labeledAtoms","startID","_unpackLabel","eAtom","mainAtom","varData","currentLabel","addFunc","complexAtom","reorder","atomCharge","lLabel","atomFullNameStruct","elementType","countRef","currAtomComp","strLabel","JSON","stringify","atomSerial","added","mrvValence","_parseBond","getSGroupCount","sGrp","getSGroups","moleculaSet","_selectComponents","_parseSet","totalAtomsParsed","joinedComplex","joinComplexes","ArrayComparator","original","_original","_sum","candidate","sum","sorted","secStructToType","getFirstByte","buf","MMTFParser","_modelData","chainData","modelIndex","chainIndex","groupData","groupName","groupId","groupIndex","_updateSecStructure","atomData","xCoord","yCoord","zCoord","bFactor","formalCharge","bondData","atomIndex1","atomIndex2","helixClasses","secStruct","_ssType","_ssStruct","_ssStart","struct","mmtfData","chainsInModel0","chainsPerModel","chainIndexList","description","structureId","releaseDate","eventCallbacks","onModel","modelData","_onModel","onChain","_onChain","onGroup","_onGroup","onAtom","_onAtom","onBond","_onBond","MMTF","_updateMolecules","named","bioAssemblyList","baInfo","transformList","chainListCheck","chainNames","allChains","_chainsByName","compare","transpose","transform","primaryChainsArray","primaryChainsHash","primary","decode","_traverse","_linkAtomsToResidues","_markHeteroAtoms","_findSynonymousChains","_parseAssemblyInfo","_joinSynonymousChains","isArrayBuffer","ParsingError","column","captureStackTrace","parseLine","parseColumn","_isWhitespace","_inlineIndexOf","ch0","readCIF","newline","block","keysCount","valuesCount","_parseValue","_storeKey","_storeValue","keyIndex","cRequiredAtomFields","cSecondaryCoding","helx","turn","strn","getTypeFromId","typeId","arrize","arrayLikeObject","AtomDataError","_getOperations","operList","vector","ops","_extractOperations","assemblyGen","opsDict","groupStr","gps","grIdx","grCount","gr","gp","es","cnt","ii","nn","newMtx","CIFParser","asymDict","_toComplex","cifData","complexData","_extractAtoms","_extractSecondary","_extractAssemblies","_extractMolecules","_extractMetadata","struct_keywords","pdbx_keywords","databaserev","database_PDB_rev","date_original","molData","pdbx_description","getMolecules","atom_site","auth_seq_id","Cartn_x","Cartn_y","Cartn_z","label_atom_id","group_PDB","chainIdc","auth_asym_id","chainLabelIdc","label_asym_id","serials","iCodes","pdbx_PDB_ins_code","resNames","label_comp_id","type_symbol","tempFactors","B_iso_or_equiv","occupancies","charges","pdbx_formal_charge","altLocs","label_alt_id","models","pdbx_PDB_model_num","label_entity_id","moleculeIdx","struct_conf","_extractConfs","struct_sheet_range","_extractSheets","sheetData","sheet_id","beg_label_seq_id","end_label_seq_id","beg_label_asym_id","sheetNames","strandNames","starts","beg_auth_seq_id","ends","end_auth_seq_id","stICodes","pdbx_beg_PDB_ins_code","endICodes","pdbx_end_PDB_ins_code","findResidue","helicesData","conf_type_id","comments","details","lengths","pdbx_PDB_helix_length","pdbx_PDB_helix_class","asmGen","pdbx_struct_assembly_gen","asmIdx","assembly_id","asmOper","oper_expression","asmList","asym_id_list","pdbx_struct_oper_list","asm","assemblyOps","valueType","singular","VolumeModel","_header","_boxSize","_boxStart","extent","nstart","crs2xyz","cellDims","angles","isTypedArray","_buff","TypeError","headerFormat","arrays","_parseArray","_parseVector","_buffer","header","gamma","z1","z2","xaxis","yaxis","zaxis","_xyz2crs","shiftX","shiftY","_setOrigins","_getXYZdim","_getXYZbox","_toXYZData","_getVolumeInfo","CCP4Header","ispg","nsymbt","lksflg","customData","machine","nlabel","Ccp4Model","_typedCheck","u32","i32","f32","_fillHeader","xyz2crs","_getAxis","_setAxisIndices","_setBoxParams","xyzData","crsIdx","CCP4Parser","XYZParser","_atomsInf","_fileName","endnAtoms","endComment","startAtomsInf","words","_parseToAtomsInf","_parseAtomsInf","PubChemParser","jsonData","PC_Compounds","aids","aid","fromPairs","zip","coords","conformers","aids1","aid1","aids2","aid2","orders","SDFStream","_strings","_currentStart","_currentStringIndx","numb","curStr","getNextString","getCurrentString","setStart","probablyHaveDataToParse","chargeMap","orderMap","typeMap","sdfAndMolRegexp","sdfRegExp","fileFormat","SDF","MOL","possibleNameTags","possibleIDTags","possibleTitleTags","tagsNames","tags","buildChainID","codes","trunc","reverse","SDFParser","_format","_metadata","_currentMolProps","_compoundIndx","_assemblies","_atomsParsed","_atomsIndexes","getStringFromStart","bondsNum","bondType","countsLine","_parseAtoms","_parseBonds","_parseMOL","findNextDataItem","_parseDataItem","props","_tryToUpdateMoleculeData","tagsList","_searchTag","tagPossibleNames","_tryToFind","properties","_finalizeMetadata","_buildAssemblies","_buildMolecules","defineFormat","_parseCompound","findNextCompoundStart","DSN6Header","div","DSN6Model","i16","Int16Array","byteBuffer","counter","zBlock","yBlock","xBlock","inRange","_pointCalculate","blocks","_blockCalculate","_calculateInfoParams","dispersion","minDensity","maxDensity","DSN6Parser","ArrayBuffer","checkDataTypeOptions","GROReader","GROParser","_time","_residueNumber","_residueName","_atomName","_atomNumber","_atomPosition","_atomVelocity","filetype","readLine","getNext","positionX","positionY","positionZ","_parseTitle","_parseNumberOfAtoms","_parseAtom","un","am","nc","du","resNumberRegex","spacesRegex","splitToFields","MOL2Parser","_currPosIdx","_currStartIdx","MOL2Data","newPosIdx","_toStringFromStart","_toHeaderString","_setStart","_probablyHaveDataToParse","parsedStr","_setResidue","originAtomId","targetAtomId","currMolecule","molResidues","_fixSerialAtoms","_parseMolecule","_toStringFromHeader","_parseRawStrings","_findNextCompoundStart","ExporterList","someExporters","Exporter","exportSync","PDBResult","_resultArray","_currentStr","_tag","_fixedNumeration","_numeration","_tagStrNum","writeString","numeration","isBoolean","maxStrPos","_currentStrLength","newString","curStrLength","finish","repeat","cStr","bondsArrays","_getSubArrays","subArraySize","subArrays","matrixIndx","toFixed","writeMatrix","PDBExporter","_tags","_result","_tagExtractors","_extractHEADER","TITLE","_extractTITLE","_extractATOM","_extractCONECT","_extractCOMPND","_extractREMARK","_extractHELIX","SHEET","_extractSHEET","_stringForRemark350","_stringForRemark290","getResult","newTag","fixedBonds","writeBondsArray","strands","startIndx","_getMoleculeChains","chainsString","writeEntireString","_Remark290","_Remark350","writeMatrices","biomolIndx","getChainName","SourceClass","FBX_POS_SIZE","FBX_NORM_SIZE","FBX_COL_SIZE","copyFbxPoint3","srcIdx","dstIdx","copyFbxPoint4","vector4","copyTransformedPoint3","setSubArray","copyFunctor","functorOpts","arridx","FBXModel","lastPos","lastNorm","lastCol","vertsCount","indsCount","shifted","setIndices","currentCount","getVerticesNumber","setShiftedIndices","setTransformedPositions","setTransformedNormals","FBXGeometry","_info","FBX1CGeometry","cl","FBX2CCylinder","_cutRawStart","_cutRawEnd","_facesPerSlice","addPerCylinder","_extendVertices","_extendIndices","getGeoParams","cutRaw","indicesPerQuad","startToShift","colorSize","part1End","part2End","_setColorRange","capSize","cap1End","cap2End","FBXInfoExtractor","_materials","_models","_extractModelsAndMaterials","_flattenModels","layersOfInterest","Layers","checkExportAbility","_collectInstancedGeoInfo","_collectGeoInfo","faceSize","overallVertsCount","combined","_reworkIndices","verticesCount","vertCount","setPositions","setNormals","_collectMaterialInfo","_addToPool","instCount","instMatrix","objMatrix","sphereColor","instanceIndex","_getSphereInstanceMatrix","addInstance","oneCCylinder","splittingInfo","_gatherCylindersColoringInfo","twoCCylinder","needToSplit","additionalVertsCount","colorStart","colorEnd","is2Colored","_getCylinderInstanceMatrix","materialIdx","_checkExistingMaterial","findIndex","differs","_collectSpheresInfo","_collectCylindersInfo","instIdx","matVector1","matVector2","matVector3","idxOffset","defaultDefinitions","defaultProperties","defaultMaterialLayer","defaultLayerBlock","globalSettings","FBXResult","_writeHeader","_writeDefinitions","_writeObjects","_writeRelations","_writeConnections","FBXHeaderVersion","FBXVersion","timeStampVersion","creator","version","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","modelVersion","allModels","_verticesIndices","_normalLayer","_colorLayer","materialVersion","allMaterials","_materialProperties","modelsList","colorArray","layerElementColorNumber","layerElementColorVersion","layerElementColorName","colorsStr","_floatArrayToString","colorIndices","normalArray","layerElementNormalNumber","layerElementNormalVersion","layerElementNormalName","normalsStr","multiLayer","multiTake","shading","culling","geometryVersion","vertStr","FBXExporter","_version","miewVersion","_extractor","loaders","parsers","exporters","tempColor","CSS2DRenderer","_height","_widthHalf","_heightHalf","_vector","_viewMatrix","_projectionMatrix","_domElement","overflow","zIndex","pointerEvents","myNode","firstChild","lerpColorAsHex","setHex","getHexString","colorAsHex","setFromMatrixPosition","localOffset","getMaxScaleOnAxis","fogFactor","smoothstep","WebkitTransform","MozTransform","oTransform","_renderObject","VK_LEFT","VK_UP","VK_RIGHT","VK_DOWN","STATE","NONE","ROTATE","TRANSLATE","SCALE","TRANSLATE_PIVOT","FULL_STOP_THRESHOLD","Quaternion","matrix4","ObjectHandler","lastRotation","_rotate","q","quat","zeroPivot","makeRotationFromQuaternion","setObjects","rotate","rot","mousePrevPos","mouseCurPos","aboutAxis","mouse2rotation","setFromAxisAngle","translate","translateOnAxis","timeSinceLastUpdate","timeSinceMove","intertia","dynamicDampingFactor","intertiaThreshold","stop","eyeDirection","cameraUpDirection","cameraSidewaysDirection","moveDirection","mouseDelta","mousePrev","mouseCur","axisRotateFactor","setLength","rotateFactor","ObjectControls","objectPivot","getAltObj","hotkeysEnabled","screen","_state","_mousePrevPos","_mouseCurPos","_mainObj","_altObj","_affectedObj","_isAltObjFreeRotationAllowed","_isTranslationAllowed","_isKeysTranslatingObj","_pressedKeys","_clock","_lastUpdateTime","_listeners","mousedown","mouseup","mousemove","mousewheel","touchstartend","touchmove","getKeyBindObject","keydownup","handleResize","resetKeys","contextmenu","stopPropagation","preventDefault","innerWidth","innerHeight","getBoundingClientRect","ownerDocument","documentElement","pageXOffset","clientLeft","pageYOffset","clientTop","enableHotkeys","allowTranslation","allow","allowAltObjFreeRotation","keysTranslateObj","isEditingAltObj","convertMouseToOnCircle","pageX","pageY","screenSize","convertMouseToViewport","rotateByMouse","aboutZAxis","getOrientation","setOrientation","getScale","setScale","curTime","_lastMouseMoveTime","speedX","speedY","altObj","button","workWithAltObj","altKey","ctrlKey","shiftKey","translatePivotByMouse","wheelDelta","detail","touches","_touchDistanceCur","_touchDistanceStart","_scaleStart","newScale","keyCode","translatePivotInWorld","setX","setY","setZ","translatePivot","setPivot","newPivot","Picker","_lastMousePos","_mouseTotalDist","_lastClickBeginTime","_lastClickPos","_clickBeginTime","touchstart","touchend","picked","pickObject","screenPos","rayCaster","unproject","fogFarValue","getMouseInViewport","curPos","timeSinceLastClickBegin","clickDist","_lastTouchdownPos","changedTouches","Axes","targetCamera","_target","_targetCamera","_object","AxesHelper","_full","autoClear","setViewport","clear","cDataOffset","cFirstMask","cFirstShift","cSecMask1","cSecShift1","cSecMask2","cSecShift2","cThirdMask","cStrMask","cStrShift","c219","c220","cHelixIdx","cSheetIdx","secTypes","cSecNames","_createSecondary","strArray","nRes","resid","rIdx","fromUInt20ToInt20","uint20","FrameInfo","payload","callbacks","isLoading","_framesRange","frameIsReady","_frameRequest","_callbacks","_framesRequestLength","_downloadDataFn","parseBinaryData","setFrame","framesStart","framesEnd","_framesCount","onDone","onLoadStatusChanged","onFail","onError","_bufferRequestStart","_prepareBuffer","arrayBuffer","dataView","DataView","atomsCount","getUint32","framesCount","_atomsCount","maxSize","chunkedFramesCount","timeStep","iName","_timeStep","posData","coordIdx","secondaryArr","Int8Array","hiWord","loWord","_secondaryData","_currFrame","myResidues","sec","oldSec","nSec","compRes","getSec","frameIdx","_cachedResidues","_updateSecondary","_parseBuffer","vec","_vec","SceneObject","paramsStr","LinesObj","_id1","_id2","err","getAtomByFullname","_atom1","_getAtomFromName","_atom2","_line","computeLineDistances","_raycaster","_intersects","verticesNeedUpdate","OutlineMaterial","srcDepthTex","srcTexSize","DEPTH_OUTLINE","FXAAMaterial","bgTransparent","BG_TRANSPARENT","AOMaterial","diffuseTexture","normalTexture","depthTexture","camNearFar","projMatrix","kernelRadius","depthThreshold","_kernelOffsets","AOHorBlurMaterial","aoMap","samplesOffsets","AOVertBlurWithBlendMaterial","fogNearFar","useFog","AnaglyphMaterial","srcL","srcR","View","orientation","_transitionTime","ViewInterpolator","startView","endView","_endTime","_isPaused","_srcView","_dstView","_isMoving","transTime","wasStarted","success","createView","slerp","setup","getCurrentView","MAX_COOKIE_LEN","COUNT_SUFFIX","_chunkString","chunkLen","lc","Cookies","removeCookie","cntKey","_toCount","cntVal","_getSimpleCookie","_removeSimpleCookie","setCookie","_setSimpleCookie","getCookie","cookie","_getExpirationDate","today","EXP_PERIOD_YEARS","setFullYear","toUTCString","_exists","webVRPoC","showEnterVR","cursor","currentSession","onSessionEnded","onSessionStarted","session","_gfx","xr","setReferenceSpaceType","setSession","onmouseenter","onmouseleave","onclick","sessionInit","optionalFeatures","requestSession","then","moveSceneBehindHeadset","showWebXRNotFound","stylizeElement","bottom","padding","border","borderRadius","font","isSessionSupported","supported","textDecoration","WebVRPoC","onToggle","_mainCamera","_button","_onToggle","_molContainer","_user","_scalingPivot","_controller1","_controller2","_pressedGripsCounter","_distance","startScalingByControllers","stopScalingByControllers","anotherController","gfx","createWebVRButton","_mainFog","_plugVRNodesIntoScene","_setControllersListeners","getController","_createControllerMesh","handleGripsDown","handleGripsUp","setAnimationLoop","getSession","_unplugVRNodesFromScene","CylinderGeometry","cylinder","rotateX","scaler","container","EDIT_MODE","COMPLEX","COMPONENT","FRAGMENT","LOADER_NOT_FOUND","PARSER_NOT_FOUND","updateFogRange","removeExtension","hasValidResidues","hasValidRes","reportProgress","percent","TOTAL_PERCENT","chooseFogColor","Miew","settingsCookie","cookiePath","_interpolator","_container","getElementById","head","getElementsByClassName","_containerRoot","_running","_halting","_building","_needRender","_hotKeysEnabled","_cookies","restoreSettings","_spinner","_loading","_animInterval","_visuals","_curVisualName","_sourceWindow","registeredPlugins","_initOnSettingsChanged","getMaxRepresentationCount","_setContainerContents","_updateShadowCamera","shadowMatrix","OBB","halfSize","light","getOBB","class","frag","createDocumentFragment","_msgMode","_msgAtomInfo","_showMessage","_initGfx","_initListeners","Spinner","_onKeyDown","_onKeyUp","_objectControls","_getAltObj","_picker","_onPick","file","keepRepsInfo","job","cancel","halt","msg","_showCanvas","_requestAnimationFrame","requestAnimationFrame","arezSpritesSupported","getExtension","isAOSupported","clientWidth","clientHeight","webGLOptions","preserveDrawingBuffer","premultipliedAlpha","renderer2d","WebGL1Renderer","shadowMap","autoUpdate","PCFShadowMap","getContext","setPixelRatio","devicePixelRatio","setSize","setClearColor","clearColor","stereoCam","Fog","selectionScene","selectionRoot","selectionPivot","light12","DirectionalLight","pixelRatio","getPixelRatio","shadowMapSize","mapSize","light3","AmbientLight","deviceWidth","deviceHeight","offscreenBuf","WebGLRenderTarget","minFilter","magFilter","RGBAFormat","depthBuffer","DepthTexture","UnsignedShortType","offscreenBuf2","offscreenBuf3","offscreenBuf4","volBFTex","volFFTex","volWFFTex","offscreenBuf5","FloatType","offscreenBuf6","offscreenBuf7","stereoBufL","stereoBufR","_embedWebXR","stats","_fps","_onResize","_makeUniqueVisualName","baseName","random","suffix","_addVisual","_removeVisual","_forEachVisual","_releaseAllVisuals","_forEachComplexVisual","_getComplexVisual","any","_getVolumeVisual","_getVisualForComplex","getVisuals","getComplexVisualsCount","getCurrentVisual","setCurrentVisual","run","resume","_onTick","_discardComponentEdit","_discardFragmentEdit","pause","enableHotKeys","_resizeOffscreenBuffers","isAnaglyph","multi","_onUpdate","_onRender","_getBSphereRadius","_bSphereForOneVisual","_bBoxForOneVisual","_bBox","_invMatrix","_points","union","_updateFog","_setUberMaterialValues","isScriptingCommandAvailable","callNextCmd","_needRebuild","rebuild","_updateView","webVR","updateMoleculeScale","_clipPlaneUpdateValue","_fogFarUpdateValue","setRenderTarget","_renderFrame","_anaglyphMat","_size","focus","_renderShadowMap","_renderScene","setScissorTest","setScissor","cameraL","cameraR","_onBgColorChanged","_onFogColorChanged","_enableMRT","renderBuffer","textureBuffer","gl","drawBuffersWEBGL","COLOR_ATTACHMENT0","tx8","__webglTexture","bindTexture","TEXTURE_2D","fb","__webglFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT1_WEBGL","distortion","bHaveComplexes","volumeVisual","ssao","_renderWithPrepassTransparency","dstBuffer","srcBuffer","_performAO","_renderOutline","_renderSelection","_renderVolume","_performFXAA","_performDistortion","aberration","fragmentScreenQuadFromDistTex","targetBuffer","_outlineMaterial","srcDepthBuffer","srcColorBuffer","currentRenderTarget","getRenderTarget","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","setBlending","NoBlending","buffers","setClear","setTest","updateMatrices","_hasSelectionToRender","selPivot","selPivotChild","_checkVolumeRenderingSupport","renderTarget","oldRT","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","volumeBFMat","volumeFFMat","cubeOffsetMat","world2colorMat","volumeRenderingSupported","dstBuf","tmpBuf1","tmpBuf2","tmpBuf3","overrideMaterial","colorMask","_fxaaMaterial","_aoMaterial","_horBlurMaterial","_vertBlurMaterial","_scale","normalBuffer","srcDepthTexture","tempBuffer","tempBuffer1","_lastPick","_setEditMode","_resetObjects","setNeedRender","_resetScene","resetReps","resetPivot","rebuildAll","resetView","updateSelectionMask","_export","TheExporter","io","exporter","export","rePdbId","rePubchem","reUrlScheme","resolveSourceShortcut","matchesPdbId","sourceType","matchesPubchem","compound","updateBinaryMode","TheParser","fileExt","animation","_fetchData","shouldCancel","notify","TheLoader","extractName","newOptions","keyCount","loader","lengthComputable","total","loaded","promise","catch","_parseData","dataSet","spin","onLoadEnd","anything","jobIndex","_refreshTitle","_onLoad","unload","_startAnimation","fileData","_stopAnimation","_frameInfo","isPlaying","_isAnimating","_continueAnimation","_pauseAnimation","clearInterval","minFrameTime","setInterval","_updateObjsToFrame","nextFrame","disableEvents","visualName","amberFileName","resetEd","_onLoadEd","_tweakResolution","_edLoader","loadEd","_rebuildObjects","toRemove","getGeometry","changeUnit","unitIdx","currentUnitInfo","getCurrentUnit","_updateInfoPanel","rebuildActions","setNeedsRebuild","appendix","repGet","_extractRepresentation","getSelectionCount","defPreset","repCount","_setReps","applyPreset","presList","newIdx","repRemove","repHide","_editMode","getElementsByTagName","_enterComponentEditMode","editors","beginComponentEdit","_editors","_applyComponentEdit","discard","_enterFragmentEditMode","selectedVisuals","beginFragmentEdit","isFreeRotationAllowed","_applyFragmentEdit","_updateSelection","expandSelection","shrinkSelection","firstLine","secondLine","aName","coordLine","nextAltObj","setPivotResidue","amount","setPivotAtom","getSelectionCenter","_centerInVisual","setPivotSubset","_includesInCurSelection","_includesInSelector","screenshot","fov2Tan","tan2Fov","getDataURL","dataURL","currBrowser","canvas","canvasContext","drawImage","toDataURL","screenshotURI","originalTanFov2","areaOfInterestSize","areaOfInterestTanFov2","shotAspect","setDrawingBufferSize","screenshotSave","uri","save","dataString","maxPerf","_gfxScore","_autoChangeResolution","saveSettings","resetSettings","setOptions","resetCurrentUnit","getBondCount","getResidueCount","getChainCount","objData","bThrow","Ctor","LinesObject","_addSceneObject","sceneObject","objs","removeObject","getURL","getState","compact","getScript","_compareReps","compareWithDefaults","currPreset","repsDiff","emptyReps","repsInfo","objectsState","_updateShadowmapMeshes","_updateMaterials","setMaterialValues","_fogAlphaChanged","disable","evt","Boolean","sel","VIEW_VERSION","eulerOrder","euler","Euler","setFromQuaternion","interpolator","srcView","dstView","setFromEuler","isMoving","within","None","projected","fullAtomName","complexName","project","dssp","exportCML","extractRotation","extractBasis","retMat","makeBasis","updateCMLData","xml","removeAttribute","sGroup","getPosition","getCentralPoint","oSerializer","XMLSerializer","serializeToString","motm","curChainName","curChainColor","thirdParty","lodash","three","modeIdDesc","$help","colorDesc","materialDesc","addRepDesc","setGetParameterDesc","help","PDBID","REP_NAME","DESCRIPTION","REP_INDEX","EXPRESSION","MODE_ID","COLORER_ID","MATERIAL_ID","new","del","PARAMETER","set_save","set_restore","set_reset","PRESET","ENCODED_VIEW","removeobj","listobj","NULL","RepresentationMap","representationMap","representationID","strId","sortedKeys","representationsStorage","keyRemap","CLIUtils","miew","repMap","listRep","repName","selectionStr","strList","helpData","joinHelpStr","clihelp","sortBy","helpItem","awaitWhileCMDisInProcess","finishAwaitingCMDInProcess","modificate","selExc","modificators","modificator","argExc","pathExc","endsWith","getNamedColor","utilFunctions","CreateObjectPair","ArgList","toJSO","cliUtils","cmd","propagateProp","Arg","_val","cliutils","echo","representations","notimplemented","script","_printCallback","_errorCallback","parsercli","cmdQueue","commandInAction"],"mappings":"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AC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CA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AC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CA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AAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,O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I,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC;AAClB,IAAI,GA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,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACZ,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;AACd,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;AACd,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACb,MAAM,CAAC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QAAQ,CAAC,EAAE,CAAC;AACZ,QAAQ,CAAC,EAAE,CAAC;AACZ,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AACjB,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AACjB,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AACjB,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AACjB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AAClB,QAAQ,EAAE,EAAE,CAAC;AACb,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AAClB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACnB,OAAO;AACP,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;AAChB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;AACnB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;AACnB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AAC/B,MAAM;AACN,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AACjB,QAAQ,CAAC,EAAE,GAAG;AACd,QAAQ,CAAC,EAAE,GAAG;AACd,QAAQ,CAAC,EAAE,GAAG;AACd,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAA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AAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE;AAC/B,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE;AACzE,MAAM,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE;AAC9D,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACtB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACtB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACtB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACtB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACtB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACtB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACtB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;AAClC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;AACtB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE;AACtC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACtB,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AG;AACd,QAAQ,CAAC,EAAE,GAAG;AACd,QAAQ,CAAC,EAAE,GAAG;AACd,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;AACpB,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;A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AE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,OAAO;AACP,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACvB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;AACpB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;AACrB,MAAM,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;AACtB,MAAM;AACN,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,QAAQ,CAAC,EAAE,GAAG;AACd,QAAQ,CAAC,EAAE,GAAG;AACd,QAAQ,CAAC,EAAE,GAAG;AACd,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,OAAO;AACP,MAAM;AACN,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,QAAQ,CAAC,EAAE,GAAG;AACd,QAAQ,CAAC,EAAE,GAAG;AACd,QAAQ,CAAC,EAAE,GAAG;AACd,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,OAAO;AACP,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE;AACjE,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACtB,MAAM,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE;AAC9D,MAAM;AACN,QAAQ,CAAC,EAAE,GAAG;AACd,QAAQ,CAAC,EAAE,GAAG;AACd,QAAQ,CAAC,EAAE,GAAG;AACd,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;AACpB,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,EAAE;AACd,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,EAAE,GAAG;AACf,QAAQ,EAAE,E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B,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AACjB,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AAChB,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AAChB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB,MA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AE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;AACjB,YAAY,OAAO,EAAE;AAErB,UAAU,KAAK,EAAE;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"}